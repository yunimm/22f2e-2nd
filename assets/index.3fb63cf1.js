var C1=Object.defineProperty;var E1=(St,e,_e)=>e in St?C1(St,e,{enumerable:!0,configurable:!0,writable:!0,value:_e}):St[e]=_e;var Js=(St,e,_e)=>(E1(St,typeof e!="symbol"?e+"":e,_e),_e),Pm=(St,e,_e)=>{if(!e.has(St))throw TypeError("Cannot "+_e)};var yn=(St,e,_e)=>(Pm(St,e,"read from private field"),_e?_e.call(St):e.get(St)),Vn=(St,e,_e)=>{if(e.has(St))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(St):e.set(St,_e)},is=(St,e,_e,_i)=>(Pm(St,e,"write to private field"),_i?_i.call(St,_e):e.set(St,_e),_e),Tm=(St,e,_e,_i)=>({set _(ir){is(St,e,ir,_e)},get _(){return yn(St,e,_i)}}),Yn=(St,e,_e)=>(Pm(St,e,"access private method"),_e);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const ir of document.querySelectorAll('link[rel="modulepreload"]'))_i(ir);new MutationObserver(ir=>{for(const rr of ir)if(rr.type==="childList")for(const gr of rr.addedNodes)gr.tagName==="LINK"&&gr.rel==="modulepreload"&&_i(gr)}).observe(document,{childList:!0,subtree:!0});function _e(ir){const rr={};return ir.integrity&&(rr.integrity=ir.integrity),ir.referrerpolicy&&(rr.referrerPolicy=ir.referrerpolicy),ir.crossorigin==="use-credentials"?rr.credentials="include":ir.crossorigin==="anonymous"?rr.credentials="omit":rr.credentials="same-origin",rr}function _i(ir){if(ir.ep)return;ir.ep=!0;const rr=_e(ir);fetch(ir.href,rr)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(St){return St&&St.__esModule&&Object.prototype.hasOwnProperty.call(St,"default")?St.default:St}function getAugmentedNamespace(St){var e=St.default;if(typeof e=="function"){var _e=function(){return e.apply(this,arguments)};_e.prototype=e.prototype}else _e={};return Object.defineProperty(_e,"__esModule",{value:!0}),Object.keys(St).forEach(function(_i){var ir=Object.getOwnPropertyDescriptor(St,_i);Object.defineProperty(_e,_i,ir.get?ir:{enumerable:!0,get:function(){return St[_i]}})}),_e}var react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=Symbol.for("react.element"),n$2=Symbol.for("react.portal"),p$3=Symbol.for("react.fragment"),q$2=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u$1=Symbol.for("react.context"),v$3=Symbol.for("react.forward_ref"),w$2=Symbol.for("react.suspense"),x$2=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$2(St){return St===null||typeof St!="object"?null:(St=z$2&&St[z$2]||St["@@iterator"],typeof St=="function"?St:null)}var B$2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$2={};function E$2(St,e,_e){this.props=St,this.context=e,this.refs=D$2,this.updater=_e||B$2}E$2.prototype.isReactComponent={};E$2.prototype.setState=function(St,e){if(typeof St!="object"&&typeof St!="function"&&St!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,St,e,"setState")};E$2.prototype.forceUpdate=function(St){this.updater.enqueueForceUpdate(this,St,"forceUpdate")};function F$1(){}F$1.prototype=E$2.prototype;function G$2(St,e,_e){this.props=St,this.context=e,this.refs=D$2,this.updater=_e||B$2}var H$2=G$2.prototype=new F$1;H$2.constructor=G$2;C$2(H$2,E$2.prototype);H$2.isPureReactComponent=!0;var I$2=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$2={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$2(St,e,_e){var _i,ir={},rr=null,gr=null;if(e!=null)for(_i in e.ref!==void 0&&(gr=e.ref),e.key!==void 0&&(rr=""+e.key),e)J$1.call(e,_i)&&!L$2.hasOwnProperty(_i)&&(ir[_i]=e[_i]);var cr=arguments.length-2;if(cr===1)ir.children=_e;else if(1<cr){for(var tr=Array(cr),hr=0;hr<cr;hr++)tr[hr]=arguments[hr+2];ir.children=tr}if(St&&St.defaultProps)for(_i in cr=St.defaultProps,cr)ir[_i]===void 0&&(ir[_i]=cr[_i]);return{$$typeof:l$2,type:St,key:rr,ref:gr,props:ir,_owner:K$2.current}}function N$2(St,e){return{$$typeof:l$2,type:St.type,key:e,ref:St.ref,props:St.props,_owner:St._owner}}function O$2(St){return typeof St=="object"&&St!==null&&St.$$typeof===l$2}function escape$1(St){var e={"=":"=0",":":"=2"};return"$"+St.replace(/[=:]/g,function(_e){return e[_e]})}var P$2=/\/+/g;function Q$2(St,e){return typeof St=="object"&&St!==null&&St.key!=null?escape$1(""+St.key):e.toString(36)}function R$2(St,e,_e,_i,ir){var rr=typeof St;(rr==="undefined"||rr==="boolean")&&(St=null);var gr=!1;if(St===null)gr=!0;else switch(rr){case"string":case"number":gr=!0;break;case"object":switch(St.$$typeof){case l$2:case n$2:gr=!0}}if(gr)return gr=St,ir=ir(gr),St=_i===""?"."+Q$2(gr,0):_i,I$2(ir)?(_e="",St!=null&&(_e=St.replace(P$2,"$&/")+"/"),R$2(ir,e,_e,"",function(hr){return hr})):ir!=null&&(O$2(ir)&&(ir=N$2(ir,_e+(!ir.key||gr&&gr.key===ir.key?"":(""+ir.key).replace(P$2,"$&/")+"/")+St)),e.push(ir)),1;if(gr=0,_i=_i===""?".":_i+":",I$2(St))for(var cr=0;cr<St.length;cr++){rr=St[cr];var tr=_i+Q$2(rr,cr);gr+=R$2(rr,e,_e,tr,ir)}else if(tr=A$2(St),typeof tr=="function")for(St=tr.call(St),cr=0;!(rr=St.next()).done;)rr=rr.value,tr=_i+Q$2(rr,cr++),gr+=R$2(rr,e,_e,tr,ir);else if(rr==="object")throw e=String(St),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(St).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return gr}function S$2(St,e,_e){if(St==null)return St;var _i=[],ir=0;return R$2(St,_i,"","",function(rr){return e.call(_e,rr,ir++)}),_i}function T$2(St){if(St._status===-1){var e=St._result;e=e(),e.then(function(_e){(St._status===0||St._status===-1)&&(St._status=1,St._result=_e)},function(_e){(St._status===0||St._status===-1)&&(St._status=2,St._result=_e)}),St._status===-1&&(St._status=0,St._result=e)}if(St._status===1)return St._result.default;throw St._result}var U$2={current:null},V$2={transition:null},W$2={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$2};react_production_min.Children={map:S$2,forEach:function(St,e,_e){S$2(St,function(){e.apply(this,arguments)},_e)},count:function(St){var e=0;return S$2(St,function(){e++}),e},toArray:function(St){return S$2(St,function(e){return e})||[]},only:function(St){if(!O$2(St))throw Error("React.Children.only expected to receive a single React element child.");return St}};react_production_min.Component=E$2;react_production_min.Fragment=p$3;react_production_min.Profiler=r;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$2;react_production_min.Suspense=w$2;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$2;react_production_min.cloneElement=function(St,e,_e){if(St==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+St+".");var _i=C$2({},St.props),ir=St.key,rr=St.ref,gr=St._owner;if(e!=null){if(e.ref!==void 0&&(rr=e.ref,gr=K$2.current),e.key!==void 0&&(ir=""+e.key),St.type&&St.type.defaultProps)var cr=St.type.defaultProps;for(tr in e)J$1.call(e,tr)&&!L$2.hasOwnProperty(tr)&&(_i[tr]=e[tr]===void 0&&cr!==void 0?cr[tr]:e[tr])}var tr=arguments.length-2;if(tr===1)_i.children=_e;else if(1<tr){cr=Array(tr);for(var hr=0;hr<tr;hr++)cr[hr]=arguments[hr+2];_i.children=cr}return{$$typeof:l$2,type:St.type,key:ir,ref:rr,props:_i,_owner:gr}};react_production_min.createContext=function(St){return St={$$typeof:u$1,_currentValue:St,_currentValue2:St,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},St.Provider={$$typeof:t,_context:St},St.Consumer=St};react_production_min.createElement=M$2;react_production_min.createFactory=function(St){var e=M$2.bind(null,St);return e.type=St,e};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(St){return{$$typeof:v$3,render:St}};react_production_min.isValidElement=O$2;react_production_min.lazy=function(St){return{$$typeof:y$1,_payload:{_status:-1,_result:St},_init:T$2}};react_production_min.memo=function(St,e){return{$$typeof:x$2,type:St,compare:e===void 0?null:e}};react_production_min.startTransition=function(St){var e=V$2.transition;V$2.transition={};try{St()}finally{V$2.transition=e}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(St,e){return U$2.current.useCallback(St,e)};react_production_min.useContext=function(St){return U$2.current.useContext(St)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(St){return U$2.current.useDeferredValue(St)};react_production_min.useEffect=function(St,e){return U$2.current.useEffect(St,e)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(St,e,_e){return U$2.current.useImperativeHandle(St,e,_e)};react_production_min.useInsertionEffect=function(St,e){return U$2.current.useInsertionEffect(St,e)};react_production_min.useLayoutEffect=function(St,e){return U$2.current.useLayoutEffect(St,e)};react_production_min.useMemo=function(St,e){return U$2.current.useMemo(St,e)};react_production_min.useReducer=function(St,e,_e){return U$2.current.useReducer(St,e,_e)};react_production_min.useRef=function(St){return U$2.current.useRef(St)};react_production_min.useState=function(St){return U$2.current.useState(St)};react_production_min.useSyncExternalStore=function(St,e,_e){return U$2.current.useSyncExternalStore(St,e,_e)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.2.0";(function(St){St.exports=react_production_min})(react);const React=getDefaultExportFromCjs(react.exports);var client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(St){function e(Lr,Er){var Hr=Lr.length;Lr.push(Er);t:for(;0<Hr;){var Gr=Hr-1>>>1,Cr=Lr[Gr];if(0<ir(Cr,Er))Lr[Gr]=Er,Lr[Hr]=Cr,Hr=Gr;else break t}}function _e(Lr){return Lr.length===0?null:Lr[0]}function _i(Lr){if(Lr.length===0)return null;var Er=Lr[0],Hr=Lr.pop();if(Hr!==Er){Lr[0]=Hr;t:for(var Gr=0,Cr=Lr.length,kr=Cr>>>1;Gr<kr;){var Sr=2*(Gr+1)-1,Pr=Lr[Sr],jr=Sr+1,Wr=Lr[jr];if(0>ir(Pr,Hr))jr<Cr&&0>ir(Wr,Pr)?(Lr[Gr]=Wr,Lr[jr]=Hr,Gr=jr):(Lr[Gr]=Pr,Lr[Sr]=Hr,Gr=Sr);else if(jr<Cr&&0>ir(Wr,Hr))Lr[Gr]=Wr,Lr[jr]=Hr,Gr=jr;else break t}}return Er}function ir(Lr,Er){var Hr=Lr.sortIndex-Er.sortIndex;return Hr!==0?Hr:Lr.id-Er.id}if(typeof performance=="object"&&typeof performance.now=="function"){var rr=performance;St.unstable_now=function(){return rr.now()}}else{var gr=Date,cr=gr.now();St.unstable_now=function(){return gr.now()-cr}}var tr=[],hr=[],ur=1,or=null,nr=3,er=!1,ar=!1,dr=!1,lr=typeof setTimeout=="function"?setTimeout:null,sr=typeof clearTimeout=="function"?clearTimeout:null,pr=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function mr(Lr){for(var Er=_e(hr);Er!==null;){if(Er.callback===null)_i(hr);else if(Er.startTime<=Lr)_i(hr),Er.sortIndex=Er.expirationTime,e(tr,Er);else break;Er=_e(hr)}}function vr(Lr){if(dr=!1,mr(Lr),!ar)if(_e(tr)!==null)ar=!0,Vr(yr);else{var Er=_e(hr);Er!==null&&$r(vr,Er.startTime-Lr)}}function yr(Lr,Er){ar=!1,dr&&(dr=!1,sr(xr),xr=-1),er=!0;var Hr=nr;try{for(mr(Er),or=_e(tr);or!==null&&(!(or.expirationTime>Er)||Lr&&!Tr());){var Gr=or.callback;if(typeof Gr=="function"){or.callback=null,nr=or.priorityLevel;var Cr=Gr(or.expirationTime<=Er);Er=St.unstable_now(),typeof Cr=="function"?or.callback=Cr:or===_e(tr)&&_i(tr),mr(Er)}else _i(tr);or=_e(tr)}if(or!==null)var kr=!0;else{var Sr=_e(hr);Sr!==null&&$r(vr,Sr.startTime-Er),kr=!1}return kr}finally{or=null,nr=Hr,er=!1}}var br=!1,_r=null,xr=-1,Nr=5,zr=-1;function Tr(){return!(St.unstable_now()-zr<Nr)}function Br(){if(_r!==null){var Lr=St.unstable_now();zr=Lr;var Er=!0;try{Er=_r(!0,Lr)}finally{Er?Jr():(br=!1,_r=null)}}else br=!1}var Jr;if(typeof pr=="function")Jr=function(){pr(Br)};else if(typeof MessageChannel<"u"){var Yr=new MessageChannel,Xr=Yr.port2;Yr.port1.onmessage=Br,Jr=function(){Xr.postMessage(null)}}else Jr=function(){lr(Br,0)};function Vr(Lr){_r=Lr,br||(br=!0,Jr())}function $r(Lr,Er){xr=lr(function(){Lr(St.unstable_now())},Er)}St.unstable_IdlePriority=5,St.unstable_ImmediatePriority=1,St.unstable_LowPriority=4,St.unstable_NormalPriority=3,St.unstable_Profiling=null,St.unstable_UserBlockingPriority=2,St.unstable_cancelCallback=function(Lr){Lr.callback=null},St.unstable_continueExecution=function(){ar||er||(ar=!0,Vr(yr))},St.unstable_forceFrameRate=function(Lr){0>Lr||125<Lr?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Nr=0<Lr?Math.floor(1e3/Lr):5},St.unstable_getCurrentPriorityLevel=function(){return nr},St.unstable_getFirstCallbackNode=function(){return _e(tr)},St.unstable_next=function(Lr){switch(nr){case 1:case 2:case 3:var Er=3;break;default:Er=nr}var Hr=nr;nr=Er;try{return Lr()}finally{nr=Hr}},St.unstable_pauseExecution=function(){},St.unstable_requestPaint=function(){},St.unstable_runWithPriority=function(Lr,Er){switch(Lr){case 1:case 2:case 3:case 4:case 5:break;default:Lr=3}var Hr=nr;nr=Lr;try{return Er()}finally{nr=Hr}},St.unstable_scheduleCallback=function(Lr,Er,Hr){var Gr=St.unstable_now();switch(typeof Hr=="object"&&Hr!==null?(Hr=Hr.delay,Hr=typeof Hr=="number"&&0<Hr?Gr+Hr:Gr):Hr=Gr,Lr){case 1:var Cr=-1;break;case 2:Cr=250;break;case 5:Cr=1073741823;break;case 4:Cr=1e4;break;default:Cr=5e3}return Cr=Hr+Cr,Lr={id:ur++,callback:Er,priorityLevel:Lr,startTime:Hr,expirationTime:Cr,sortIndex:-1},Hr>Gr?(Lr.sortIndex=Hr,e(hr,Lr),_e(tr)===null&&Lr===_e(hr)&&(dr?(sr(xr),xr=-1):dr=!0,$r(vr,Hr-Gr))):(Lr.sortIndex=Cr,e(tr,Lr),ar||er||(ar=!0,Vr(yr))),Lr},St.unstable_shouldYield=Tr,St.unstable_wrapCallback=function(Lr){var Er=nr;return function(){var Hr=nr;nr=Er;try{return Lr.apply(this,arguments)}finally{nr=Hr}}}})(scheduler_production_min);(function(St){St.exports=scheduler_production_min})(scheduler);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=react.exports,ca=scheduler.exports;function p$2(St){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+St,_e=1;_e<arguments.length;_e++)e+="&args[]="+encodeURIComponent(arguments[_e]);return"Minified React error #"+St+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(St,e){ha(St,e),ha(St+"Capture",e)}function ha(St,e){for(ea[St]=e,St=0;St<e.length;St++)da.add(e[St])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(St){return ja.call(ma,St)?!0:ja.call(la,St)?!1:ka.test(St)?ma[St]=!0:(la[St]=!0,!1)}function pa(St,e,_e,_i){if(_e!==null&&_e.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return _i?!1:_e!==null?!_e.acceptsBooleans:(St=St.toLowerCase().slice(0,5),St!=="data-"&&St!=="aria-");default:return!1}}function qa(St,e,_e,_i){if(e===null||typeof e>"u"||pa(St,e,_e,_i))return!0;if(_i)return!1;if(_e!==null)switch(_e.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function v$2(St,e,_e,_i,ir,rr,gr){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=_i,this.attributeNamespace=ir,this.mustUseProperty=_e,this.propertyName=St,this.type=e,this.sanitizeURL=rr,this.removeEmptyString=gr}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(St){z$1[St]=new v$2(St,0,!1,St,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(St){var e=St[0];z$1[e]=new v$2(e,1,!1,St[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(St){z$1[St]=new v$2(St,2,!1,St.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(St){z$1[St]=new v$2(St,2,!1,St,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(St){z$1[St]=new v$2(St,3,!1,St.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(St){z$1[St]=new v$2(St,3,!0,St,null,!1,!1)});["capture","download"].forEach(function(St){z$1[St]=new v$2(St,4,!1,St,null,!1,!1)});["cols","rows","size","span"].forEach(function(St){z$1[St]=new v$2(St,6,!1,St,null,!1,!1)});["rowSpan","start"].forEach(function(St){z$1[St]=new v$2(St,5,!1,St.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(St){return St[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(St){var e=St.replace(ra,sa);z$1[e]=new v$2(e,1,!1,St,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(St){var e=St.replace(ra,sa);z$1[e]=new v$2(e,1,!1,St,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(St){var e=St.replace(ra,sa);z$1[e]=new v$2(e,1,!1,St,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(St){z$1[St]=new v$2(St,1,!1,St.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$2("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(St){z$1[St]=new v$2(St,1,!1,St.toLowerCase(),null,!0,!0)});function ta(St,e,_e,_i){var ir=z$1.hasOwnProperty(e)?z$1[e]:null;(ir!==null?ir.type!==0:_i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qa(e,_e,ir,_i)&&(_e=null),_i||ir===null?oa(e)&&(_e===null?St.removeAttribute(e):St.setAttribute(e,""+_e)):ir.mustUseProperty?St[ir.propertyName]=_e===null?ir.type===3?!1:"":_e:(e=ir.attributeName,_i=ir.attributeNamespace,_e===null?St.removeAttribute(e):(ir=ir.type,_e=ir===3||ir===4&&_e===!0?"":""+_e,_i?St.setAttributeNS(_i,e,_e):St.setAttribute(e,_e))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(St){return St===null||typeof St!="object"?null:(St=Ja&&St[Ja]||St["@@iterator"],typeof St=="function"?St:null)}var A$1=Object.assign,La;function Ma(St){if(La===void 0)try{throw Error()}catch(_e){var e=_e.stack.trim().match(/\n( *(at )?)/);La=e&&e[1]||""}return`
`+La+St}var Na=!1;function Oa(St,e){if(!St||Na)return"";Na=!0;var _e=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(hr){var _i=hr}Reflect.construct(St,[],e)}else{try{e.call()}catch(hr){_i=hr}St.call(e.prototype)}else{try{throw Error()}catch(hr){_i=hr}St()}}catch(hr){if(hr&&_i&&typeof hr.stack=="string"){for(var ir=hr.stack.split(`
`),rr=_i.stack.split(`
`),gr=ir.length-1,cr=rr.length-1;1<=gr&&0<=cr&&ir[gr]!==rr[cr];)cr--;for(;1<=gr&&0<=cr;gr--,cr--)if(ir[gr]!==rr[cr]){if(gr!==1||cr!==1)do if(gr--,cr--,0>cr||ir[gr]!==rr[cr]){var tr=`
`+ir[gr].replace(" at new "," at ");return St.displayName&&tr.includes("<anonymous>")&&(tr=tr.replace("<anonymous>",St.displayName)),tr}while(1<=gr&&0<=cr);break}}}finally{Na=!1,Error.prepareStackTrace=_e}return(St=St?St.displayName||St.name:"")?Ma(St):""}function Pa(St){switch(St.tag){case 5:return Ma(St.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return St=Oa(St.type,!1),St;case 11:return St=Oa(St.type.render,!1),St;case 1:return St=Oa(St.type,!0),St;default:return""}}function Qa(St){if(St==null)return null;if(typeof St=="function")return St.displayName||St.name||null;if(typeof St=="string")return St;switch(St){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof St=="object")switch(St.$$typeof){case Ca:return(St.displayName||"Context")+".Consumer";case Ba:return(St._context.displayName||"Context")+".Provider";case Da:var e=St.render;return St=St.displayName,St||(St=e.displayName||e.name||"",St=St!==""?"ForwardRef("+St+")":"ForwardRef"),St;case Ga:return e=St.displayName||null,e!==null?e:Qa(St.type)||"Memo";case Ha:e=St._payload,St=St._init;try{return Qa(St(e))}catch{}}return null}function Ra(St){var e=St.type;switch(St.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return St=e.render,St=St.displayName||St.name||"",e.displayName||(St!==""?"ForwardRef("+St+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(e);case 8:return e===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Sa(St){switch(typeof St){case"boolean":case"number":case"string":case"undefined":return St;case"object":return St;default:return""}}function Ta(St){var e=St.type;return(St=St.nodeName)&&St.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ua(St){var e=Ta(St)?"checked":"value",_e=Object.getOwnPropertyDescriptor(St.constructor.prototype,e),_i=""+St[e];if(!St.hasOwnProperty(e)&&typeof _e<"u"&&typeof _e.get=="function"&&typeof _e.set=="function"){var ir=_e.get,rr=_e.set;return Object.defineProperty(St,e,{configurable:!0,get:function(){return ir.call(this)},set:function(gr){_i=""+gr,rr.call(this,gr)}}),Object.defineProperty(St,e,{enumerable:_e.enumerable}),{getValue:function(){return _i},setValue:function(gr){_i=""+gr},stopTracking:function(){St._valueTracker=null,delete St[e]}}}}function Va(St){St._valueTracker||(St._valueTracker=Ua(St))}function Wa(St){if(!St)return!1;var e=St._valueTracker;if(!e)return!0;var _e=e.getValue(),_i="";return St&&(_i=Ta(St)?St.checked?"true":"false":St.value),St=_i,St!==_e?(e.setValue(St),!0):!1}function Xa(St){if(St=St||(typeof document<"u"?document:void 0),typeof St>"u")return null;try{return St.activeElement||St.body}catch{return St.body}}function Ya(St,e){var _e=e.checked;return A$1({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:_e!=null?_e:St._wrapperState.initialChecked})}function Za(St,e){var _e=e.defaultValue==null?"":e.defaultValue,_i=e.checked!=null?e.checked:e.defaultChecked;_e=Sa(e.value!=null?e.value:_e),St._wrapperState={initialChecked:_i,initialValue:_e,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ab(St,e){e=e.checked,e!=null&&ta(St,"checked",e,!1)}function bb(St,e){ab(St,e);var _e=Sa(e.value),_i=e.type;if(_e!=null)_i==="number"?(_e===0&&St.value===""||St.value!=_e)&&(St.value=""+_e):St.value!==""+_e&&(St.value=""+_e);else if(_i==="submit"||_i==="reset"){St.removeAttribute("value");return}e.hasOwnProperty("value")?cb(St,e.type,_e):e.hasOwnProperty("defaultValue")&&cb(St,e.type,Sa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(St.defaultChecked=!!e.defaultChecked)}function db(St,e,_e){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var _i=e.type;if(!(_i!=="submit"&&_i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+St._wrapperState.initialValue,_e||e===St.value||(St.value=e),St.defaultValue=e}_e=St.name,_e!==""&&(St.name=""),St.defaultChecked=!!St._wrapperState.initialChecked,_e!==""&&(St.name=_e)}function cb(St,e,_e){(e!=="number"||Xa(St.ownerDocument)!==St)&&(_e==null?St.defaultValue=""+St._wrapperState.initialValue:St.defaultValue!==""+_e&&(St.defaultValue=""+_e))}var eb=Array.isArray;function fb(St,e,_e,_i){if(St=St.options,e){e={};for(var ir=0;ir<_e.length;ir++)e["$"+_e[ir]]=!0;for(_e=0;_e<St.length;_e++)ir=e.hasOwnProperty("$"+St[_e].value),St[_e].selected!==ir&&(St[_e].selected=ir),ir&&_i&&(St[_e].defaultSelected=!0)}else{for(_e=""+Sa(_e),e=null,ir=0;ir<St.length;ir++){if(St[ir].value===_e){St[ir].selected=!0,_i&&(St[ir].defaultSelected=!0);return}e!==null||St[ir].disabled||(e=St[ir])}e!==null&&(e.selected=!0)}}function gb(St,e){if(e.dangerouslySetInnerHTML!=null)throw Error(p$2(91));return A$1({},e,{value:void 0,defaultValue:void 0,children:""+St._wrapperState.initialValue})}function hb(St,e){var _e=e.value;if(_e==null){if(_e=e.children,e=e.defaultValue,_e!=null){if(e!=null)throw Error(p$2(92));if(eb(_e)){if(1<_e.length)throw Error(p$2(93));_e=_e[0]}e=_e}e==null&&(e=""),_e=e}St._wrapperState={initialValue:Sa(_e)}}function ib(St,e){var _e=Sa(e.value),_i=Sa(e.defaultValue);_e!=null&&(_e=""+_e,_e!==St.value&&(St.value=_e),e.defaultValue==null&&St.defaultValue!==_e&&(St.defaultValue=_e)),_i!=null&&(St.defaultValue=""+_i)}function jb(St){var e=St.textContent;e===St._wrapperState.initialValue&&e!==""&&e!==null&&(St.value=e)}function kb(St){switch(St){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(St,e){return St==null||St==="http://www.w3.org/1999/xhtml"?kb(e):St==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":St}var mb,nb=function(St){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,_e,_i,ir){MSApp.execUnsafeLocalFunction(function(){return St(e,_e,_i,ir)})}:St}(function(St,e){if(St.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in St)St.innerHTML=e;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=mb.firstChild;St.firstChild;)St.removeChild(St.firstChild);for(;e.firstChild;)St.appendChild(e.firstChild)}});function ob(St,e){if(e){var _e=St.firstChild;if(_e&&_e===St.lastChild&&_e.nodeType===3){_e.nodeValue=e;return}}St.textContent=e}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(St){qb.forEach(function(e){e=e+St.charAt(0).toUpperCase()+St.substring(1),pb[e]=pb[St]})});function rb(St,e,_e){return e==null||typeof e=="boolean"||e===""?"":_e||typeof e!="number"||e===0||pb.hasOwnProperty(St)&&pb[St]?(""+e).trim():e+"px"}function sb(St,e){St=St.style;for(var _e in e)if(e.hasOwnProperty(_e)){var _i=_e.indexOf("--")===0,ir=rb(_e,e[_e],_i);_e==="float"&&(_e="cssFloat"),_i?St.setProperty(_e,ir):St[_e]=ir}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(St,e){if(e){if(tb[St]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(p$2(137,St));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(p$2(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(p$2(61))}if(e.style!=null&&typeof e.style!="object")throw Error(p$2(62))}}function vb(St,e){if(St.indexOf("-")===-1)return typeof e.is=="string";switch(St){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(St){return St=St.target||St.srcElement||window,St.correspondingUseElement&&(St=St.correspondingUseElement),St.nodeType===3?St.parentNode:St}var yb=null,zb=null,Ab=null;function Bb(St){if(St=Cb(St)){if(typeof yb!="function")throw Error(p$2(280));var e=St.stateNode;e&&(e=Db(e),yb(St.stateNode,St.type,e))}}function Eb(St){zb?Ab?Ab.push(St):Ab=[St]:zb=St}function Fb(){if(zb){var St=zb,e=Ab;if(Ab=zb=null,Bb(St),e)for(St=0;St<e.length;St++)Bb(e[St])}}function Gb(St,e){return St(e)}function Hb(){}var Ib=!1;function Jb(St,e,_e){if(Ib)return St(e,_e);Ib=!0;try{return Gb(St,e,_e)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(St,e){var _e=St.stateNode;if(_e===null)return null;var _i=Db(_e);if(_i===null)return null;_e=_i[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_i=!_i.disabled)||(St=St.type,_i=!(St==="button"||St==="input"||St==="select"||St==="textarea")),St=!_i;break t;default:St=!1}if(St)return null;if(_e&&typeof _e!="function")throw Error(p$2(231,e,typeof _e));return _e}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(St,e,_e,_i,ir,rr,gr,cr,tr){var hr=Array.prototype.slice.call(arguments,3);try{e.apply(_e,hr)}catch(ur){this.onError(ur)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(St){Ob=!0,Pb=St}};function Tb(St,e,_e,_i,ir,rr,gr,cr,tr){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(St,e,_e,_i,ir,rr,gr,cr,tr){if(Tb.apply(this,arguments),Ob){if(Ob){var hr=Pb;Ob=!1,Pb=null}else throw Error(p$2(198));Qb||(Qb=!0,Rb=hr)}}function Vb(St){var e=St,_e=St;if(St.alternate)for(;e.return;)e=e.return;else{St=e;do e=St,(e.flags&4098)!==0&&(_e=e.return),St=e.return;while(St)}return e.tag===3?_e:null}function Wb(St){if(St.tag===13){var e=St.memoizedState;if(e===null&&(St=St.alternate,St!==null&&(e=St.memoizedState)),e!==null)return e.dehydrated}return null}function Xb(St){if(Vb(St)!==St)throw Error(p$2(188))}function Yb(St){var e=St.alternate;if(!e){if(e=Vb(St),e===null)throw Error(p$2(188));return e!==St?null:St}for(var _e=St,_i=e;;){var ir=_e.return;if(ir===null)break;var rr=ir.alternate;if(rr===null){if(_i=ir.return,_i!==null){_e=_i;continue}break}if(ir.child===rr.child){for(rr=ir.child;rr;){if(rr===_e)return Xb(ir),St;if(rr===_i)return Xb(ir),e;rr=rr.sibling}throw Error(p$2(188))}if(_e.return!==_i.return)_e=ir,_i=rr;else{for(var gr=!1,cr=ir.child;cr;){if(cr===_e){gr=!0,_e=ir,_i=rr;break}if(cr===_i){gr=!0,_i=ir,_e=rr;break}cr=cr.sibling}if(!gr){for(cr=rr.child;cr;){if(cr===_e){gr=!0,_e=rr,_i=ir;break}if(cr===_i){gr=!0,_i=rr,_e=ir;break}cr=cr.sibling}if(!gr)throw Error(p$2(189))}}if(_e.alternate!==_i)throw Error(p$2(190))}if(_e.tag!==3)throw Error(p$2(188));return _e.stateNode.current===_e?St:e}function Zb(St){return St=Yb(St),St!==null?$b(St):null}function $b(St){if(St.tag===5||St.tag===6)return St;for(St=St.child;St!==null;){var e=$b(St);if(e!==null)return e;St=St.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$1=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc$1=null;function mc(St){if(lc$1&&typeof lc$1.onCommitFiberRoot=="function")try{lc$1.onCommitFiberRoot(kc,St,void 0,(St.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(St){return St>>>=0,St===0?32:31-(pc(St)/qc|0)|0}var rc=64,sc=4194304;function tc(St){switch(St&-St){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return St&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return St&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return St}}function uc(St,e){var _e=St.pendingLanes;if(_e===0)return 0;var _i=0,ir=St.suspendedLanes,rr=St.pingedLanes,gr=_e&268435455;if(gr!==0){var cr=gr&~ir;cr!==0?_i=tc(cr):(rr&=gr,rr!==0&&(_i=tc(rr)))}else gr=_e&~ir,gr!==0?_i=tc(gr):rr!==0&&(_i=tc(rr));if(_i===0)return 0;if(e!==0&&e!==_i&&(e&ir)===0&&(ir=_i&-_i,rr=e&-e,ir>=rr||ir===16&&(rr&4194240)!==0))return e;if((_i&4)!==0&&(_i|=_e&16),e=St.entangledLanes,e!==0)for(St=St.entanglements,e&=_i;0<e;)_e=31-oc(e),ir=1<<_e,_i|=St[_e],e&=~ir;return _i}function vc(St,e){switch(St){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(St,e){for(var _e=St.suspendedLanes,_i=St.pingedLanes,ir=St.expirationTimes,rr=St.pendingLanes;0<rr;){var gr=31-oc(rr),cr=1<<gr,tr=ir[gr];tr===-1?((cr&_e)===0||(cr&_i)!==0)&&(ir[gr]=vc(cr,e)):tr<=e&&(St.expiredLanes|=cr),rr&=~cr}}function xc(St){return St=St.pendingLanes&-1073741825,St!==0?St:St&1073741824?1073741824:0}function yc(){var St=rc;return rc<<=1,(rc&4194240)===0&&(rc=64),St}function zc(St){for(var e=[],_e=0;31>_e;_e++)e.push(St);return e}function Ac(St,e,_e){St.pendingLanes|=e,e!==536870912&&(St.suspendedLanes=0,St.pingedLanes=0),St=St.eventTimes,e=31-oc(e),St[e]=_e}function Bc(St,e){var _e=St.pendingLanes&~e;St.pendingLanes=e,St.suspendedLanes=0,St.pingedLanes=0,St.expiredLanes&=e,St.mutableReadLanes&=e,St.entangledLanes&=e,e=St.entanglements;var _i=St.eventTimes;for(St=St.expirationTimes;0<_e;){var ir=31-oc(_e),rr=1<<ir;e[ir]=0,_i[ir]=-1,St[ir]=-1,_e&=~rr}}function Cc(St,e){var _e=St.entangledLanes|=e;for(St=St.entanglements;_e;){var _i=31-oc(_e),ir=1<<_i;ir&e|St[_i]&e&&(St[_i]|=e),_e&=~ir}}var C$1=0;function Dc(St){return St&=-St,1<St?4<St?(St&268435455)!==0?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(St,e){switch(St){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(e.pointerId)}}function Tc(St,e,_e,_i,ir,rr){return St===null||St.nativeEvent!==rr?(St={blockedOn:e,domEventName:_e,eventSystemFlags:_i,nativeEvent:rr,targetContainers:[ir]},e!==null&&(e=Cb(e),e!==null&&Fc(e)),St):(St.eventSystemFlags|=_i,e=St.targetContainers,ir!==null&&e.indexOf(ir)===-1&&e.push(ir),St)}function Uc(St,e,_e,_i,ir){switch(e){case"focusin":return Lc=Tc(Lc,St,e,_e,_i,ir),!0;case"dragenter":return Mc=Tc(Mc,St,e,_e,_i,ir),!0;case"mouseover":return Nc=Tc(Nc,St,e,_e,_i,ir),!0;case"pointerover":var rr=ir.pointerId;return Oc.set(rr,Tc(Oc.get(rr)||null,St,e,_e,_i,ir)),!0;case"gotpointercapture":return rr=ir.pointerId,Pc.set(rr,Tc(Pc.get(rr)||null,St,e,_e,_i,ir)),!0}return!1}function Vc(St){var e=Wc(St.target);if(e!==null){var _e=Vb(e);if(_e!==null){if(e=_e.tag,e===13){if(e=Wb(_e),e!==null){St.blockedOn=e,Ic(St.priority,function(){Gc(_e)});return}}else if(e===3&&_e.stateNode.current.memoizedState.isDehydrated){St.blockedOn=_e.tag===3?_e.stateNode.containerInfo:null;return}}}St.blockedOn=null}function Xc(St){if(St.blockedOn!==null)return!1;for(var e=St.targetContainers;0<e.length;){var _e=Yc(St.domEventName,St.eventSystemFlags,e[0],St.nativeEvent);if(_e===null){_e=St.nativeEvent;var _i=new _e.constructor(_e.type,_e);wb=_i,_e.target.dispatchEvent(_i),wb=null}else return e=Cb(_e),e!==null&&Fc(e),St.blockedOn=_e,!1;e.shift()}return!0}function Zc(St,e,_e){Xc(St)&&_e.delete(e)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(St,e){St.blockedOn===e&&(St.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(St){function e(ir){return ad(ir,St)}if(0<Kc.length){ad(Kc[0],St);for(var _e=1;_e<Kc.length;_e++){var _i=Kc[_e];_i.blockedOn===St&&(_i.blockedOn=null)}}for(Lc!==null&&ad(Lc,St),Mc!==null&&ad(Mc,St),Nc!==null&&ad(Nc,St),Oc.forEach(e),Pc.forEach(e),_e=0;_e<Qc.length;_e++)_i=Qc[_e],_i.blockedOn===St&&(_i.blockedOn=null);for(;0<Qc.length&&(_e=Qc[0],_e.blockedOn===null);)Vc(_e),_e.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(St,e,_e,_i){var ir=C$1,rr=cd.transition;cd.transition=null;try{C$1=1,fd$1(St,e,_e,_i)}finally{C$1=ir,cd.transition=rr}}function gd(St,e,_e,_i){var ir=C$1,rr=cd.transition;cd.transition=null;try{C$1=4,fd$1(St,e,_e,_i)}finally{C$1=ir,cd.transition=rr}}function fd$1(St,e,_e,_i){if(dd){var ir=Yc(St,e,_e,_i);if(ir===null)hd(St,e,_i,id,_e),Sc(St,_i);else if(Uc(ir,St,e,_e,_i))_i.stopPropagation();else if(Sc(St,_i),e&4&&-1<Rc.indexOf(St)){for(;ir!==null;){var rr=Cb(ir);if(rr!==null&&Ec(rr),rr=Yc(St,e,_e,_i),rr===null&&hd(St,e,_i,id,_e),rr===ir)break;ir=rr}ir!==null&&_i.stopPropagation()}else hd(St,e,_i,null,_e)}}var id=null;function Yc(St,e,_e,_i){if(id=null,St=xb(_i),St=Wc(St),St!==null)if(e=Vb(St),e===null)St=null;else if(_e=e.tag,_e===13){if(St=Wb(e),St!==null)return St;St=null}else if(_e===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;St=null}else e!==St&&(St=null);return id=St,null}function jd(St){switch(St){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var St,e=ld,_e=e.length,_i,ir="value"in kd?kd.value:kd.textContent,rr=ir.length;for(St=0;St<_e&&e[St]===ir[St];St++);var gr=_e-St;for(_i=1;_i<=gr&&e[_e-_i]===ir[rr-_i];_i++);return md=ir.slice(St,1<_i?1-_i:void 0)}function od(St){var e=St.keyCode;return"charCode"in St?(St=St.charCode,St===0&&e===13&&(St=13)):St=e,St===10&&(St=13),32<=St||St===13?St:0}function pd(){return!0}function qd(){return!1}function rd(St){function e(_e,_i,ir,rr,gr){this._reactName=_e,this._targetInst=ir,this.type=_i,this.nativeEvent=rr,this.target=gr,this.currentTarget=null;for(var cr in St)St.hasOwnProperty(cr)&&(_e=St[cr],this[cr]=_e?_e(rr):rr[cr]);return this.isDefaultPrevented=(rr.defaultPrevented!=null?rr.defaultPrevented:rr.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var _e=this.nativeEvent;_e&&(_e.preventDefault?_e.preventDefault():typeof _e.returnValue!="unknown"&&(_e.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var _e=this.nativeEvent;_e&&(_e.stopPropagation?_e.stopPropagation():typeof _e.cancelBubble!="unknown"&&(_e.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),e}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(St){return St.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(St){return St.relatedTarget===void 0?St.fromElement===St.srcElement?St.toElement:St.fromElement:St.relatedTarget},movementX:function(St){return"movementX"in St?St.movementX:(St!==yd&&(yd&&St.type==="mousemove"?(wd=St.screenX-yd.screenX,xd=St.screenY-yd.screenY):xd=wd=0,yd=St),wd)},movementY:function(St){return"movementY"in St?St.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$1({},sd,{clipboardData:function(St){return"clipboardData"in St?St.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(St){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(St):(St=Od[St])?!!e[St]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function(St){if(St.key){var e=Md[St.key]||St.key;if(e!=="Unidentified")return e}return St.type==="keypress"?(St=od(St),St===13?"Enter":String.fromCharCode(St)):St.type==="keydown"||St.type==="keyup"?Nd[St.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(St){return St.type==="keypress"?od(St):0},keyCode:function(St){return St.type==="keydown"||St.type==="keyup"?St.keyCode:0},which:function(St){return St.type==="keypress"?od(St):St.type==="keydown"||St.type==="keyup"?St.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function(St){return"deltaX"in St?St.deltaX:"wheelDeltaX"in St?-St.wheelDeltaX:0},deltaY:function(St){return"deltaY"in St?St.deltaY:"wheelDeltaY"in St?-St.wheelDeltaY:"wheelDelta"in St?-St.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$1=ia&&"CompositionEvent"in window,be$1=null;ia&&"documentMode"in document&&(be$1=document.documentMode);var ce$1=ia&&"TextEvent"in window&&!be$1,de$1=ia&&(!ae$1||be$1&&8<be$1&&11>=be$1),ee$1=String.fromCharCode(32),fe$1=!1;function ge$1(St,e){switch(St){case"keyup":return $d.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(St){return St=St.detail,typeof St=="object"&&"data"in St?St.data:null}var ie$1=!1;function je(St,e){switch(St){case"compositionend":return he$1(e);case"keypress":return e.which!==32?null:(fe$1=!0,ee$1);case"textInput":return St=e.data,St===ee$1&&fe$1?null:St;default:return null}}function ke(St,e){if(ie$1)return St==="compositionend"||!ae$1&&ge$1(St,e)?(St=nd(),md=ld=kd=null,ie$1=!1,St):null;switch(St){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return de$1&&e.locale!=="ko"?null:e.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$1(St){var e=St&&St.nodeName&&St.nodeName.toLowerCase();return e==="input"?!!le$1[St.type]:e==="textarea"}function ne$1(St,e,_e,_i){Eb(_i),e=oe$1(e,"onChange"),0<e.length&&(_e=new td("onChange","change",null,_e,_i),St.push({event:_e,listeners:e}))}var pe$1=null,qe=null;function re$1(St){se$1(St,0)}function te$1(St){var e=ue$1(St);if(Wa(e))return St}function ve$1(St,e){if(St==="change")return e}var we$1=!1;if(ia){var xe;if(ia){var ye$1="oninput"in document;if(!ye$1){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye$1=typeof ze.oninput=="function"}xe=ye$1}else xe=!1;we$1=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe$1&&(pe$1.detachEvent("onpropertychange",Be),qe=pe$1=null)}function Be(St){if(St.propertyName==="value"&&te$1(qe)){var e=[];ne$1(e,qe,St,xb(St)),Jb(re$1,e)}}function Ce(St,e,_e){St==="focusin"?(Ae(),pe$1=e,qe=_e,pe$1.attachEvent("onpropertychange",Be)):St==="focusout"&&Ae()}function De(St){if(St==="selectionchange"||St==="keyup"||St==="keydown")return te$1(qe)}function Ee(St,e){if(St==="click")return te$1(e)}function Fe(St,e){if(St==="input"||St==="change")return te$1(e)}function Ge(St,e){return St===e&&(St!==0||1/St===1/e)||St!==St&&e!==e}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(St,e){if(He(St,e))return!0;if(typeof St!="object"||St===null||typeof e!="object"||e===null)return!1;var _e=Object.keys(St),_i=Object.keys(e);if(_e.length!==_i.length)return!1;for(_i=0;_i<_e.length;_i++){var ir=_e[_i];if(!ja.call(e,ir)||!He(St[ir],e[ir]))return!1}return!0}function Je(St){for(;St&&St.firstChild;)St=St.firstChild;return St}function Ke(St,e){var _e=Je(St);St=0;for(var _i;_e;){if(_e.nodeType===3){if(_i=St+_e.textContent.length,St<=e&&_i>=e)return{node:_e,offset:e-St};St=_i}t:{for(;_e;){if(_e.nextSibling){_e=_e.nextSibling;break t}_e=_e.parentNode}_e=void 0}_e=Je(_e)}}function Le$1(St,e){return St&&e?St===e?!0:St&&St.nodeType===3?!1:e&&e.nodeType===3?Le$1(St,e.parentNode):"contains"in St?St.contains(e):St.compareDocumentPosition?!!(St.compareDocumentPosition(e)&16):!1:!1}function Me(){for(var St=window,e=Xa();e instanceof St.HTMLIFrameElement;){try{var _e=typeof e.contentWindow.location.href=="string"}catch{_e=!1}if(_e)St=e.contentWindow;else break;e=Xa(St.document)}return e}function Ne$1(St){var e=St&&St.nodeName&&St.nodeName.toLowerCase();return e&&(e==="input"&&(St.type==="text"||St.type==="search"||St.type==="tel"||St.type==="url"||St.type==="password")||e==="textarea"||St.contentEditable==="true")}function Oe(St){var e=Me(),_e=St.focusedElem,_i=St.selectionRange;if(e!==_e&&_e&&_e.ownerDocument&&Le$1(_e.ownerDocument.documentElement,_e)){if(_i!==null&&Ne$1(_e)){if(e=_i.start,St=_i.end,St===void 0&&(St=e),"selectionStart"in _e)_e.selectionStart=e,_e.selectionEnd=Math.min(St,_e.value.length);else if(St=(e=_e.ownerDocument||document)&&e.defaultView||window,St.getSelection){St=St.getSelection();var ir=_e.textContent.length,rr=Math.min(_i.start,ir);_i=_i.end===void 0?rr:Math.min(_i.end,ir),!St.extend&&rr>_i&&(ir=_i,_i=rr,rr=ir),ir=Ke(_e,rr);var gr=Ke(_e,_i);ir&&gr&&(St.rangeCount!==1||St.anchorNode!==ir.node||St.anchorOffset!==ir.offset||St.focusNode!==gr.node||St.focusOffset!==gr.offset)&&(e=e.createRange(),e.setStart(ir.node,ir.offset),St.removeAllRanges(),rr>_i?(St.addRange(e),St.extend(gr.node,gr.offset)):(e.setEnd(gr.node,gr.offset),St.addRange(e)))}}for(e=[],St=_e;St=St.parentNode;)St.nodeType===1&&e.push({element:St,left:St.scrollLeft,top:St.scrollTop});for(typeof _e.focus=="function"&&_e.focus(),_e=0;_e<e.length;_e++)St=e[_e],St.element.scrollLeft=St.left,St.element.scrollTop=St.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(St,e,_e){var _i=_e.window===_e?_e.document:_e.nodeType===9?_e:_e.ownerDocument;Te||Qe==null||Qe!==Xa(_i)||(_i=Qe,"selectionStart"in _i&&Ne$1(_i)?_i={start:_i.selectionStart,end:_i.selectionEnd}:(_i=(_i.ownerDocument&&_i.ownerDocument.defaultView||window).getSelection(),_i={anchorNode:_i.anchorNode,anchorOffset:_i.anchorOffset,focusNode:_i.focusNode,focusOffset:_i.focusOffset}),Se&&Ie(Se,_i)||(Se=_i,_i=oe$1(Re,"onSelect"),0<_i.length&&(e=new td("onSelect","select",null,e,_e),St.push({event:e,listeners:_i}),e.target=Qe)))}function Ve(St,e){var _e={};return _e[St.toLowerCase()]=e.toLowerCase(),_e["Webkit"+St]="webkit"+e,_e["Moz"+St]="moz"+e,_e}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(St){if(Xe[St])return Xe[St];if(!We[St])return St;var e=We[St],_e;for(_e in e)if(e.hasOwnProperty(_e)&&_e in Ye)return Xe[St]=e[_e];return St}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(St,e){df.set(St,e),fa(e,[St])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(St,e,_e){var _i=St.type||"unknown-event";St.currentTarget=_e,Ub(_i,e,void 0,St),St.currentTarget=null}function se$1(St,e){e=(e&4)!==0;for(var _e=0;_e<St.length;_e++){var _i=St[_e],ir=_i.event;_i=_i.listeners;t:{var rr=void 0;if(e)for(var gr=_i.length-1;0<=gr;gr--){var cr=_i[gr],tr=cr.instance,hr=cr.currentTarget;if(cr=cr.listener,tr!==rr&&ir.isPropagationStopped())break t;nf(ir,cr,hr),rr=tr}else for(gr=0;gr<_i.length;gr++){if(cr=_i[gr],tr=cr.instance,hr=cr.currentTarget,cr=cr.listener,tr!==rr&&ir.isPropagationStopped())break t;nf(ir,cr,hr),rr=tr}}}if(Qb)throw St=Rb,Qb=!1,Rb=null,St}function D$1(St,e){var _e=e[of];_e===void 0&&(_e=e[of]=new Set);var _i=St+"__bubble";_e.has(_i)||(pf(e,St,2,!1),_e.add(_i))}function qf(St,e,_e){var _i=0;e&&(_i|=4),pf(_e,St,_i,e)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(St){if(!St[rf]){St[rf]=!0,da.forEach(function(_e){_e!=="selectionchange"&&(mf.has(_e)||qf(_e,!1,St),qf(_e,!0,St))});var e=St.nodeType===9?St:St.ownerDocument;e===null||e[rf]||(e[rf]=!0,qf("selectionchange",!1,e))}}function pf(St,e,_e,_i){switch(jd(e)){case 1:var ir=ed;break;case 4:ir=gd;break;default:ir=fd$1}_e=ir.bind(null,e,_e,St),ir=void 0,!Lb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(ir=!0),_i?ir!==void 0?St.addEventListener(e,_e,{capture:!0,passive:ir}):St.addEventListener(e,_e,!0):ir!==void 0?St.addEventListener(e,_e,{passive:ir}):St.addEventListener(e,_e,!1)}function hd(St,e,_e,_i,ir){var rr=_i;if((e&1)===0&&(e&2)===0&&_i!==null)t:for(;;){if(_i===null)return;var gr=_i.tag;if(gr===3||gr===4){var cr=_i.stateNode.containerInfo;if(cr===ir||cr.nodeType===8&&cr.parentNode===ir)break;if(gr===4)for(gr=_i.return;gr!==null;){var tr=gr.tag;if((tr===3||tr===4)&&(tr=gr.stateNode.containerInfo,tr===ir||tr.nodeType===8&&tr.parentNode===ir))return;gr=gr.return}for(;cr!==null;){if(gr=Wc(cr),gr===null)return;if(tr=gr.tag,tr===5||tr===6){_i=rr=gr;continue t}cr=cr.parentNode}}_i=_i.return}Jb(function(){var hr=rr,ur=xb(_e),or=[];t:{var nr=df.get(St);if(nr!==void 0){var er=td,ar=St;switch(St){case"keypress":if(od(_e)===0)break t;case"keydown":case"keyup":er=Rd;break;case"focusin":ar="focus",er=Fd;break;case"focusout":ar="blur",er=Fd;break;case"beforeblur":case"afterblur":er=Fd;break;case"click":if(_e.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":er=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":er=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":er=Vd;break;case $e:case af:case bf:er=Hd;break;case cf:er=Xd;break;case"scroll":er=vd;break;case"wheel":er=Zd;break;case"copy":case"cut":case"paste":er=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":er=Td}var dr=(e&4)!==0,lr=!dr&&St==="scroll",sr=dr?nr!==null?nr+"Capture":null:nr;dr=[];for(var pr=hr,mr;pr!==null;){mr=pr;var vr=mr.stateNode;if(mr.tag===5&&vr!==null&&(mr=vr,sr!==null&&(vr=Kb(pr,sr),vr!=null&&dr.push(tf(pr,vr,mr)))),lr)break;pr=pr.return}0<dr.length&&(nr=new er(nr,ar,null,_e,ur),or.push({event:nr,listeners:dr}))}}if((e&7)===0){t:{if(nr=St==="mouseover"||St==="pointerover",er=St==="mouseout"||St==="pointerout",nr&&_e!==wb&&(ar=_e.relatedTarget||_e.fromElement)&&(Wc(ar)||ar[uf]))break t;if((er||nr)&&(nr=ur.window===ur?ur:(nr=ur.ownerDocument)?nr.defaultView||nr.parentWindow:window,er?(ar=_e.relatedTarget||_e.toElement,er=hr,ar=ar?Wc(ar):null,ar!==null&&(lr=Vb(ar),ar!==lr||ar.tag!==5&&ar.tag!==6)&&(ar=null)):(er=null,ar=hr),er!==ar)){if(dr=Bd,vr="onMouseLeave",sr="onMouseEnter",pr="mouse",(St==="pointerout"||St==="pointerover")&&(dr=Td,vr="onPointerLeave",sr="onPointerEnter",pr="pointer"),lr=er==null?nr:ue$1(er),mr=ar==null?nr:ue$1(ar),nr=new dr(vr,pr+"leave",er,_e,ur),nr.target=lr,nr.relatedTarget=mr,vr=null,Wc(ur)===hr&&(dr=new dr(sr,pr+"enter",ar,_e,ur),dr.target=mr,dr.relatedTarget=lr,vr=dr),lr=vr,er&&ar)e:{for(dr=er,sr=ar,pr=0,mr=dr;mr;mr=vf(mr))pr++;for(mr=0,vr=sr;vr;vr=vf(vr))mr++;for(;0<pr-mr;)dr=vf(dr),pr--;for(;0<mr-pr;)sr=vf(sr),mr--;for(;pr--;){if(dr===sr||sr!==null&&dr===sr.alternate)break e;dr=vf(dr),sr=vf(sr)}dr=null}else dr=null;er!==null&&wf(or,nr,er,dr,!1),ar!==null&&lr!==null&&wf(or,lr,ar,dr,!0)}}t:{if(nr=hr?ue$1(hr):window,er=nr.nodeName&&nr.nodeName.toLowerCase(),er==="select"||er==="input"&&nr.type==="file")var yr=ve$1;else if(me$1(nr))if(we$1)yr=Fe;else{yr=De;var br=Ce}else(er=nr.nodeName)&&er.toLowerCase()==="input"&&(nr.type==="checkbox"||nr.type==="radio")&&(yr=Ee);if(yr&&(yr=yr(St,hr))){ne$1(or,yr,_e,ur);break t}br&&br(St,nr,hr),St==="focusout"&&(br=nr._wrapperState)&&br.controlled&&nr.type==="number"&&cb(nr,"number",nr.value)}switch(br=hr?ue$1(hr):window,St){case"focusin":(me$1(br)||br.contentEditable==="true")&&(Qe=br,Re=hr,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(or,_e,ur);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(or,_e,ur)}var _r;if(ae$1)t:{switch(St){case"compositionstart":var xr="onCompositionStart";break t;case"compositionend":xr="onCompositionEnd";break t;case"compositionupdate":xr="onCompositionUpdate";break t}xr=void 0}else ie$1?ge$1(St,_e)&&(xr="onCompositionEnd"):St==="keydown"&&_e.keyCode===229&&(xr="onCompositionStart");xr&&(de$1&&_e.locale!=="ko"&&(ie$1||xr!=="onCompositionStart"?xr==="onCompositionEnd"&&ie$1&&(_r=nd()):(kd=ur,ld="value"in kd?kd.value:kd.textContent,ie$1=!0)),br=oe$1(hr,xr),0<br.length&&(xr=new Ld(xr,St,null,_e,ur),or.push({event:xr,listeners:br}),_r?xr.data=_r:(_r=he$1(_e),_r!==null&&(xr.data=_r)))),(_r=ce$1?je(St,_e):ke(St,_e))&&(hr=oe$1(hr,"onBeforeInput"),0<hr.length&&(ur=new Ld("onBeforeInput","beforeinput",null,_e,ur),or.push({event:ur,listeners:hr}),ur.data=_r))}se$1(or,e)})}function tf(St,e,_e){return{instance:St,listener:e,currentTarget:_e}}function oe$1(St,e){for(var _e=e+"Capture",_i=[];St!==null;){var ir=St,rr=ir.stateNode;ir.tag===5&&rr!==null&&(ir=rr,rr=Kb(St,_e),rr!=null&&_i.unshift(tf(St,rr,ir)),rr=Kb(St,e),rr!=null&&_i.push(tf(St,rr,ir))),St=St.return}return _i}function vf(St){if(St===null)return null;do St=St.return;while(St&&St.tag!==5);return St||null}function wf(St,e,_e,_i,ir){for(var rr=e._reactName,gr=[];_e!==null&&_e!==_i;){var cr=_e,tr=cr.alternate,hr=cr.stateNode;if(tr!==null&&tr===_i)break;cr.tag===5&&hr!==null&&(cr=hr,ir?(tr=Kb(_e,rr),tr!=null&&gr.unshift(tf(_e,tr,cr))):ir||(tr=Kb(_e,rr),tr!=null&&gr.push(tf(_e,tr,cr)))),_e=_e.return}gr.length!==0&&St.push({event:e,listeners:gr})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(St){return(typeof St=="string"?St:""+St).replace(xf,`
`).replace(yf,"")}function Af(St,e,_e){if(e=zf(e),zf(St)!==e&&_e)throw Error(p$2(425))}function Bf(){}var Cf=null,Df=null;function Ef(St,e){return St==="textarea"||St==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(St){return Hf.resolve(null).then(St).catch(If)}:Ff;function If(St){setTimeout(function(){throw St})}function Kf(St,e){var _e=e,_i=0;do{var ir=_e.nextSibling;if(St.removeChild(_e),ir&&ir.nodeType===8)if(_e=ir.data,_e==="/$"){if(_i===0){St.removeChild(ir),bd(e);return}_i--}else _e!=="$"&&_e!=="$?"&&_e!=="$!"||_i++;_e=ir}while(_e);bd(e)}function Lf(St){for(;St!=null;St=St.nextSibling){var e=St.nodeType;if(e===1||e===3)break;if(e===8){if(e=St.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return St}function Mf(St){St=St.previousSibling;for(var e=0;St;){if(St.nodeType===8){var _e=St.data;if(_e==="$"||_e==="$!"||_e==="$?"){if(e===0)return St;e--}else _e==="/$"&&e++}St=St.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(St){var e=St[Of];if(e)return e;for(var _e=St.parentNode;_e;){if(e=_e[uf]||_e[Of]){if(_e=e.alternate,e.child!==null||_e!==null&&_e.child!==null)for(St=Mf(St);St!==null;){if(_e=St[Of])return _e;St=Mf(St)}return e}St=_e,_e=St.parentNode}return null}function Cb(St){return St=St[Of]||St[uf],!St||St.tag!==5&&St.tag!==6&&St.tag!==13&&St.tag!==3?null:St}function ue$1(St){if(St.tag===5||St.tag===6)return St.stateNode;throw Error(p$2(33))}function Db(St){return St[Pf]||null}var Sf=[],Tf=-1;function Uf(St){return{current:St}}function E$1(St){0>Tf||(St.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1(St,e){Tf++,Sf[Tf]=St.current,St.current=e}var Vf={},H$1=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(St,e){var _e=St.type.contextTypes;if(!_e)return Vf;var _i=St.stateNode;if(_i&&_i.__reactInternalMemoizedUnmaskedChildContext===e)return _i.__reactInternalMemoizedMaskedChildContext;var ir={},rr;for(rr in _e)ir[rr]=e[rr];return _i&&(St=St.stateNode,St.__reactInternalMemoizedUnmaskedChildContext=e,St.__reactInternalMemoizedMaskedChildContext=ir),ir}function Zf(St){return St=St.childContextTypes,St!=null}function $f(){E$1(Wf),E$1(H$1)}function ag(St,e,_e){if(H$1.current!==Vf)throw Error(p$2(168));G$1(H$1,e),G$1(Wf,_e)}function bg(St,e,_e){var _i=St.stateNode;if(e=e.childContextTypes,typeof _i.getChildContext!="function")return _e;_i=_i.getChildContext();for(var ir in _i)if(!(ir in e))throw Error(p$2(108,Ra(St)||"Unknown",ir));return A$1({},_e,_i)}function cg(St){return St=(St=St.stateNode)&&St.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$1.current,G$1(H$1,St),G$1(Wf,Wf.current),!0}function dg(St,e,_e){var _i=St.stateNode;if(!_i)throw Error(p$2(169));_e?(St=bg(St,e,Xf),_i.__reactInternalMemoizedMergedChildContext=St,E$1(Wf),E$1(H$1),G$1(H$1,St)):E$1(Wf),G$1(Wf,_e)}var eg=null,fg=!1,gg=!1;function hg(St){eg===null?eg=[St]:eg.push(St)}function ig(St){fg=!0,hg(St)}function jg(){if(!gg&&eg!==null){gg=!0;var St=0,e=C$1;try{var _e=eg;for(C$1=1;St<_e.length;St++){var _i=_e[St];do _i=_i(!0);while(_i!==null)}eg=null,fg=!1}catch(ir){throw eg!==null&&(eg=eg.slice(St+1)),ac(fc,jg),ir}finally{C$1=e,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(St,e){kg[lg++]=ng,kg[lg++]=mg,mg=St,ng=e}function ug(St,e,_e){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=St;var _i=rg;St=sg;var ir=32-oc(_i)-1;_i&=~(1<<ir),_e+=1;var rr=32-oc(e)+ir;if(30<rr){var gr=ir-ir%5;rr=(_i&(1<<gr)-1).toString(32),_i>>=gr,ir-=gr,rg=1<<32-oc(e)+ir|_e<<ir|_i,sg=rr+St}else rg=1<<rr|_e<<ir|_i,sg=St}function vg(St){St.return!==null&&(tg(St,1),ug(St,1,0))}function wg(St){for(;St===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;St===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$1=!1,zg=null;function Ag(St,e){var _e=Bg(5,null,null,0);_e.elementType="DELETED",_e.stateNode=e,_e.return=St,e=St.deletions,e===null?(St.deletions=[_e],St.flags|=16):e.push(_e)}function Cg(St,e){switch(St.tag){case 5:var _e=St.type;return e=e.nodeType!==1||_e.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(St.stateNode=e,xg=St,yg=Lf(e.firstChild),!0):!1;case 6:return e=St.pendingProps===""||e.nodeType!==3?null:e,e!==null?(St.stateNode=e,xg=St,yg=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(_e=qg!==null?{id:rg,overflow:sg}:null,St.memoizedState={dehydrated:e,treeContext:_e,retryLane:1073741824},_e=Bg(18,null,null,0),_e.stateNode=e,_e.return=St,St.child=_e,xg=St,yg=null,!0):!1;default:return!1}}function Dg(St){return(St.mode&1)!==0&&(St.flags&128)===0}function Eg(St){if(I$1){var e=yg;if(e){var _e=e;if(!Cg(St,e)){if(Dg(St))throw Error(p$2(418));e=Lf(_e.nextSibling);var _i=xg;e&&Cg(St,e)?Ag(_i,_e):(St.flags=St.flags&-4097|2,I$1=!1,xg=St)}}else{if(Dg(St))throw Error(p$2(418));St.flags=St.flags&-4097|2,I$1=!1,xg=St}}}function Fg(St){for(St=St.return;St!==null&&St.tag!==5&&St.tag!==3&&St.tag!==13;)St=St.return;xg=St}function Gg(St){if(St!==xg)return!1;if(!I$1)return Fg(St),I$1=!0,!1;var e;if((e=St.tag!==3)&&!(e=St.tag!==5)&&(e=St.type,e=e!=="head"&&e!=="body"&&!Ef(St.type,St.memoizedProps)),e&&(e=yg)){if(Dg(St))throw Hg(),Error(p$2(418));for(;e;)Ag(St,e),e=Lf(e.nextSibling)}if(Fg(St),St.tag===13){if(St=St.memoizedState,St=St!==null?St.dehydrated:null,!St)throw Error(p$2(317));t:{for(St=St.nextSibling,e=0;St;){if(St.nodeType===8){var _e=St.data;if(_e==="/$"){if(e===0){yg=Lf(St.nextSibling);break t}e--}else _e!=="$"&&_e!=="$!"&&_e!=="$?"||e++}St=St.nextSibling}yg=null}}else yg=xg?Lf(St.stateNode.nextSibling):null;return!0}function Hg(){for(var St=yg;St;)St=Lf(St.nextSibling)}function Ig(){yg=xg=null,I$1=!1}function Jg(St){zg===null?zg=[St]:zg.push(St)}var Kg=ua.ReactCurrentBatchConfig;function Lg(St,e){if(St&&St.defaultProps){e=A$1({},e),St=St.defaultProps;for(var _e in St)e[_e]===void 0&&(e[_e]=St[_e]);return e}return e}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(St){var e=Mg.current;E$1(Mg),St._currentValue=e}function Sg(St,e,_e){for(;St!==null;){var _i=St.alternate;if((St.childLanes&e)!==e?(St.childLanes|=e,_i!==null&&(_i.childLanes|=e)):_i!==null&&(_i.childLanes&e)!==e&&(_i.childLanes|=e),St===_e)break;St=St.return}}function Tg(St,e){Ng=St,Pg=Og=null,St=St.dependencies,St!==null&&St.firstContext!==null&&((St.lanes&e)!==0&&(Ug=!0),St.firstContext=null)}function Vg(St){var e=St._currentValue;if(Pg!==St)if(St={context:St,memoizedValue:e,next:null},Og===null){if(Ng===null)throw Error(p$2(308));Og=St,Ng.dependencies={lanes:0,firstContext:St}}else Og=Og.next=St;return e}var Wg=null;function Xg(St){Wg===null?Wg=[St]:Wg.push(St)}function Yg(St,e,_e,_i){var ir=e.interleaved;return ir===null?(_e.next=_e,Xg(e)):(_e.next=ir.next,ir.next=_e),e.interleaved=_e,Zg(St,_i)}function Zg(St,e){St.lanes|=e;var _e=St.alternate;for(_e!==null&&(_e.lanes|=e),_e=St,St=St.return;St!==null;)St.childLanes|=e,_e=St.alternate,_e!==null&&(_e.childLanes|=e),_e=St,St=St.return;return _e.tag===3?_e.stateNode:null}var $g=!1;function ah(St){St.updateQueue={baseState:St.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(St,e){St=St.updateQueue,e.updateQueue===St&&(e.updateQueue={baseState:St.baseState,firstBaseUpdate:St.firstBaseUpdate,lastBaseUpdate:St.lastBaseUpdate,shared:St.shared,effects:St.effects})}function ch(St,e){return{eventTime:St,lane:e,tag:0,payload:null,callback:null,next:null}}function dh(St,e,_e){var _i=St.updateQueue;if(_i===null)return null;if(_i=_i.shared,(K$1&2)!==0){var ir=_i.pending;return ir===null?e.next=e:(e.next=ir.next,ir.next=e),_i.pending=e,Zg(St,_e)}return ir=_i.interleaved,ir===null?(e.next=e,Xg(_i)):(e.next=ir.next,ir.next=e),_i.interleaved=e,Zg(St,_e)}function eh(St,e,_e){if(e=e.updateQueue,e!==null&&(e=e.shared,(_e&4194240)!==0)){var _i=e.lanes;_i&=St.pendingLanes,_e|=_i,e.lanes=_e,Cc(St,_e)}}function fh(St,e){var _e=St.updateQueue,_i=St.alternate;if(_i!==null&&(_i=_i.updateQueue,_e===_i)){var ir=null,rr=null;if(_e=_e.firstBaseUpdate,_e!==null){do{var gr={eventTime:_e.eventTime,lane:_e.lane,tag:_e.tag,payload:_e.payload,callback:_e.callback,next:null};rr===null?ir=rr=gr:rr=rr.next=gr,_e=_e.next}while(_e!==null);rr===null?ir=rr=e:rr=rr.next=e}else ir=rr=e;_e={baseState:_i.baseState,firstBaseUpdate:ir,lastBaseUpdate:rr,shared:_i.shared,effects:_i.effects},St.updateQueue=_e;return}St=_e.lastBaseUpdate,St===null?_e.firstBaseUpdate=e:St.next=e,_e.lastBaseUpdate=e}function gh(St,e,_e,_i){var ir=St.updateQueue;$g=!1;var rr=ir.firstBaseUpdate,gr=ir.lastBaseUpdate,cr=ir.shared.pending;if(cr!==null){ir.shared.pending=null;var tr=cr,hr=tr.next;tr.next=null,gr===null?rr=hr:gr.next=hr,gr=tr;var ur=St.alternate;ur!==null&&(ur=ur.updateQueue,cr=ur.lastBaseUpdate,cr!==gr&&(cr===null?ur.firstBaseUpdate=hr:cr.next=hr,ur.lastBaseUpdate=tr))}if(rr!==null){var or=ir.baseState;gr=0,ur=hr=tr=null,cr=rr;do{var nr=cr.lane,er=cr.eventTime;if((_i&nr)===nr){ur!==null&&(ur=ur.next={eventTime:er,lane:0,tag:cr.tag,payload:cr.payload,callback:cr.callback,next:null});t:{var ar=St,dr=cr;switch(nr=e,er=_e,dr.tag){case 1:if(ar=dr.payload,typeof ar=="function"){or=ar.call(er,or,nr);break t}or=ar;break t;case 3:ar.flags=ar.flags&-65537|128;case 0:if(ar=dr.payload,nr=typeof ar=="function"?ar.call(er,or,nr):ar,nr==null)break t;or=A$1({},or,nr);break t;case 2:$g=!0}}cr.callback!==null&&cr.lane!==0&&(St.flags|=64,nr=ir.effects,nr===null?ir.effects=[cr]:nr.push(cr))}else er={eventTime:er,lane:nr,tag:cr.tag,payload:cr.payload,callback:cr.callback,next:null},ur===null?(hr=ur=er,tr=or):ur=ur.next=er,gr|=nr;if(cr=cr.next,cr===null){if(cr=ir.shared.pending,cr===null)break;nr=cr,cr=nr.next,nr.next=null,ir.lastBaseUpdate=nr,ir.shared.pending=null}}while(1);if(ur===null&&(tr=or),ir.baseState=tr,ir.firstBaseUpdate=hr,ir.lastBaseUpdate=ur,e=ir.shared.interleaved,e!==null){ir=e;do gr|=ir.lane,ir=ir.next;while(ir!==e)}else rr===null&&(ir.shared.lanes=0);hh|=gr,St.lanes=gr,St.memoizedState=or}}function ih(St,e,_e){if(St=e.effects,e.effects=null,St!==null)for(e=0;e<St.length;e++){var _i=St[e],ir=_i.callback;if(ir!==null){if(_i.callback=null,_i=_e,typeof ir!="function")throw Error(p$2(191,ir));ir.call(_i)}}}var jh=new aa.Component().refs;function kh(St,e,_e,_i){e=St.memoizedState,_e=_e(_i,e),_e=_e==null?e:A$1({},e,_e),St.memoizedState=_e,St.lanes===0&&(St.updateQueue.baseState=_e)}var nh={isMounted:function(St){return(St=St._reactInternals)?Vb(St)===St:!1},enqueueSetState:function(St,e,_e){St=St._reactInternals;var _i=L$1(),ir=lh(St),rr=ch(_i,ir);rr.payload=e,_e!=null&&(rr.callback=_e),e=dh(St,rr,ir),e!==null&&(mh(e,St,ir,_i),eh(e,St,ir))},enqueueReplaceState:function(St,e,_e){St=St._reactInternals;var _i=L$1(),ir=lh(St),rr=ch(_i,ir);rr.tag=1,rr.payload=e,_e!=null&&(rr.callback=_e),e=dh(St,rr,ir),e!==null&&(mh(e,St,ir,_i),eh(e,St,ir))},enqueueForceUpdate:function(St,e){St=St._reactInternals;var _e=L$1(),_i=lh(St),ir=ch(_e,_i);ir.tag=2,e!=null&&(ir.callback=e),e=dh(St,ir,_i),e!==null&&(mh(e,St,_i,_e),eh(e,St,_i))}};function oh(St,e,_e,_i,ir,rr,gr){return St=St.stateNode,typeof St.shouldComponentUpdate=="function"?St.shouldComponentUpdate(_i,rr,gr):e.prototype&&e.prototype.isPureReactComponent?!Ie(_e,_i)||!Ie(ir,rr):!0}function ph(St,e,_e){var _i=!1,ir=Vf,rr=e.contextType;return typeof rr=="object"&&rr!==null?rr=Vg(rr):(ir=Zf(e)?Xf:H$1.current,_i=e.contextTypes,rr=(_i=_i!=null)?Yf(St,ir):Vf),e=new e(_e,rr),St.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nh,St.stateNode=e,e._reactInternals=St,_i&&(St=St.stateNode,St.__reactInternalMemoizedUnmaskedChildContext=ir,St.__reactInternalMemoizedMaskedChildContext=rr),e}function qh(St,e,_e,_i){St=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(_e,_i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(_e,_i),e.state!==St&&nh.enqueueReplaceState(e,e.state,null)}function rh(St,e,_e,_i){var ir=St.stateNode;ir.props=_e,ir.state=St.memoizedState,ir.refs=jh,ah(St);var rr=e.contextType;typeof rr=="object"&&rr!==null?ir.context=Vg(rr):(rr=Zf(e)?Xf:H$1.current,ir.context=Yf(St,rr)),ir.state=St.memoizedState,rr=e.getDerivedStateFromProps,typeof rr=="function"&&(kh(St,e,rr,_e),ir.state=St.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof ir.getSnapshotBeforeUpdate=="function"||typeof ir.UNSAFE_componentWillMount!="function"&&typeof ir.componentWillMount!="function"||(e=ir.state,typeof ir.componentWillMount=="function"&&ir.componentWillMount(),typeof ir.UNSAFE_componentWillMount=="function"&&ir.UNSAFE_componentWillMount(),e!==ir.state&&nh.enqueueReplaceState(ir,ir.state,null),gh(St,_e,ir,_i),ir.state=St.memoizedState),typeof ir.componentDidMount=="function"&&(St.flags|=4194308)}function sh(St,e,_e){if(St=_e.ref,St!==null&&typeof St!="function"&&typeof St!="object"){if(_e._owner){if(_e=_e._owner,_e){if(_e.tag!==1)throw Error(p$2(309));var _i=_e.stateNode}if(!_i)throw Error(p$2(147,St));var ir=_i,rr=""+St;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===rr?e.ref:(e=function(gr){var cr=ir.refs;cr===jh&&(cr=ir.refs={}),gr===null?delete cr[rr]:cr[rr]=gr},e._stringRef=rr,e)}if(typeof St!="string")throw Error(p$2(284));if(!_e._owner)throw Error(p$2(290,St))}return St}function th(St,e){throw St=Object.prototype.toString.call(e),Error(p$2(31,St==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":St))}function uh(St){var e=St._init;return e(St._payload)}function vh(St){function e(sr,pr){if(St){var mr=sr.deletions;mr===null?(sr.deletions=[pr],sr.flags|=16):mr.push(pr)}}function _e(sr,pr){if(!St)return null;for(;pr!==null;)e(sr,pr),pr=pr.sibling;return null}function _i(sr,pr){for(sr=new Map;pr!==null;)pr.key!==null?sr.set(pr.key,pr):sr.set(pr.index,pr),pr=pr.sibling;return sr}function ir(sr,pr){return sr=wh(sr,pr),sr.index=0,sr.sibling=null,sr}function rr(sr,pr,mr){return sr.index=mr,St?(mr=sr.alternate,mr!==null?(mr=mr.index,mr<pr?(sr.flags|=2,pr):mr):(sr.flags|=2,pr)):(sr.flags|=1048576,pr)}function gr(sr){return St&&sr.alternate===null&&(sr.flags|=2),sr}function cr(sr,pr,mr,vr){return pr===null||pr.tag!==6?(pr=xh(mr,sr.mode,vr),pr.return=sr,pr):(pr=ir(pr,mr),pr.return=sr,pr)}function tr(sr,pr,mr,vr){var yr=mr.type;return yr===ya?ur(sr,pr,mr.props.children,vr,mr.key):pr!==null&&(pr.elementType===yr||typeof yr=="object"&&yr!==null&&yr.$$typeof===Ha&&uh(yr)===pr.type)?(vr=ir(pr,mr.props),vr.ref=sh(sr,pr,mr),vr.return=sr,vr):(vr=yh(mr.type,mr.key,mr.props,null,sr.mode,vr),vr.ref=sh(sr,pr,mr),vr.return=sr,vr)}function hr(sr,pr,mr,vr){return pr===null||pr.tag!==4||pr.stateNode.containerInfo!==mr.containerInfo||pr.stateNode.implementation!==mr.implementation?(pr=zh(mr,sr.mode,vr),pr.return=sr,pr):(pr=ir(pr,mr.children||[]),pr.return=sr,pr)}function ur(sr,pr,mr,vr,yr){return pr===null||pr.tag!==7?(pr=Ah(mr,sr.mode,vr,yr),pr.return=sr,pr):(pr=ir(pr,mr),pr.return=sr,pr)}function or(sr,pr,mr){if(typeof pr=="string"&&pr!==""||typeof pr=="number")return pr=xh(""+pr,sr.mode,mr),pr.return=sr,pr;if(typeof pr=="object"&&pr!==null){switch(pr.$$typeof){case va:return mr=yh(pr.type,pr.key,pr.props,null,sr.mode,mr),mr.ref=sh(sr,null,pr),mr.return=sr,mr;case wa:return pr=zh(pr,sr.mode,mr),pr.return=sr,pr;case Ha:var vr=pr._init;return or(sr,vr(pr._payload),mr)}if(eb(pr)||Ka(pr))return pr=Ah(pr,sr.mode,mr,null),pr.return=sr,pr;th(sr,pr)}return null}function nr(sr,pr,mr,vr){var yr=pr!==null?pr.key:null;if(typeof mr=="string"&&mr!==""||typeof mr=="number")return yr!==null?null:cr(sr,pr,""+mr,vr);if(typeof mr=="object"&&mr!==null){switch(mr.$$typeof){case va:return mr.key===yr?tr(sr,pr,mr,vr):null;case wa:return mr.key===yr?hr(sr,pr,mr,vr):null;case Ha:return yr=mr._init,nr(sr,pr,yr(mr._payload),vr)}if(eb(mr)||Ka(mr))return yr!==null?null:ur(sr,pr,mr,vr,null);th(sr,mr)}return null}function er(sr,pr,mr,vr,yr){if(typeof vr=="string"&&vr!==""||typeof vr=="number")return sr=sr.get(mr)||null,cr(pr,sr,""+vr,yr);if(typeof vr=="object"&&vr!==null){switch(vr.$$typeof){case va:return sr=sr.get(vr.key===null?mr:vr.key)||null,tr(pr,sr,vr,yr);case wa:return sr=sr.get(vr.key===null?mr:vr.key)||null,hr(pr,sr,vr,yr);case Ha:var br=vr._init;return er(sr,pr,mr,br(vr._payload),yr)}if(eb(vr)||Ka(vr))return sr=sr.get(mr)||null,ur(pr,sr,vr,yr,null);th(pr,vr)}return null}function ar(sr,pr,mr,vr){for(var yr=null,br=null,_r=pr,xr=pr=0,Nr=null;_r!==null&&xr<mr.length;xr++){_r.index>xr?(Nr=_r,_r=null):Nr=_r.sibling;var zr=nr(sr,_r,mr[xr],vr);if(zr===null){_r===null&&(_r=Nr);break}St&&_r&&zr.alternate===null&&e(sr,_r),pr=rr(zr,pr,xr),br===null?yr=zr:br.sibling=zr,br=zr,_r=Nr}if(xr===mr.length)return _e(sr,_r),I$1&&tg(sr,xr),yr;if(_r===null){for(;xr<mr.length;xr++)_r=or(sr,mr[xr],vr),_r!==null&&(pr=rr(_r,pr,xr),br===null?yr=_r:br.sibling=_r,br=_r);return I$1&&tg(sr,xr),yr}for(_r=_i(sr,_r);xr<mr.length;xr++)Nr=er(_r,sr,xr,mr[xr],vr),Nr!==null&&(St&&Nr.alternate!==null&&_r.delete(Nr.key===null?xr:Nr.key),pr=rr(Nr,pr,xr),br===null?yr=Nr:br.sibling=Nr,br=Nr);return St&&_r.forEach(function(Tr){return e(sr,Tr)}),I$1&&tg(sr,xr),yr}function dr(sr,pr,mr,vr){var yr=Ka(mr);if(typeof yr!="function")throw Error(p$2(150));if(mr=yr.call(mr),mr==null)throw Error(p$2(151));for(var br=yr=null,_r=pr,xr=pr=0,Nr=null,zr=mr.next();_r!==null&&!zr.done;xr++,zr=mr.next()){_r.index>xr?(Nr=_r,_r=null):Nr=_r.sibling;var Tr=nr(sr,_r,zr.value,vr);if(Tr===null){_r===null&&(_r=Nr);break}St&&_r&&Tr.alternate===null&&e(sr,_r),pr=rr(Tr,pr,xr),br===null?yr=Tr:br.sibling=Tr,br=Tr,_r=Nr}if(zr.done)return _e(sr,_r),I$1&&tg(sr,xr),yr;if(_r===null){for(;!zr.done;xr++,zr=mr.next())zr=or(sr,zr.value,vr),zr!==null&&(pr=rr(zr,pr,xr),br===null?yr=zr:br.sibling=zr,br=zr);return I$1&&tg(sr,xr),yr}for(_r=_i(sr,_r);!zr.done;xr++,zr=mr.next())zr=er(_r,sr,xr,zr.value,vr),zr!==null&&(St&&zr.alternate!==null&&_r.delete(zr.key===null?xr:zr.key),pr=rr(zr,pr,xr),br===null?yr=zr:br.sibling=zr,br=zr);return St&&_r.forEach(function(Br){return e(sr,Br)}),I$1&&tg(sr,xr),yr}function lr(sr,pr,mr,vr){if(typeof mr=="object"&&mr!==null&&mr.type===ya&&mr.key===null&&(mr=mr.props.children),typeof mr=="object"&&mr!==null){switch(mr.$$typeof){case va:t:{for(var yr=mr.key,br=pr;br!==null;){if(br.key===yr){if(yr=mr.type,yr===ya){if(br.tag===7){_e(sr,br.sibling),pr=ir(br,mr.props.children),pr.return=sr,sr=pr;break t}}else if(br.elementType===yr||typeof yr=="object"&&yr!==null&&yr.$$typeof===Ha&&uh(yr)===br.type){_e(sr,br.sibling),pr=ir(br,mr.props),pr.ref=sh(sr,br,mr),pr.return=sr,sr=pr;break t}_e(sr,br);break}else e(sr,br);br=br.sibling}mr.type===ya?(pr=Ah(mr.props.children,sr.mode,vr,mr.key),pr.return=sr,sr=pr):(vr=yh(mr.type,mr.key,mr.props,null,sr.mode,vr),vr.ref=sh(sr,pr,mr),vr.return=sr,sr=vr)}return gr(sr);case wa:t:{for(br=mr.key;pr!==null;){if(pr.key===br)if(pr.tag===4&&pr.stateNode.containerInfo===mr.containerInfo&&pr.stateNode.implementation===mr.implementation){_e(sr,pr.sibling),pr=ir(pr,mr.children||[]),pr.return=sr,sr=pr;break t}else{_e(sr,pr);break}else e(sr,pr);pr=pr.sibling}pr=zh(mr,sr.mode,vr),pr.return=sr,sr=pr}return gr(sr);case Ha:return br=mr._init,lr(sr,pr,br(mr._payload),vr)}if(eb(mr))return ar(sr,pr,mr,vr);if(Ka(mr))return dr(sr,pr,mr,vr);th(sr,mr)}return typeof mr=="string"&&mr!==""||typeof mr=="number"?(mr=""+mr,pr!==null&&pr.tag===6?(_e(sr,pr.sibling),pr=ir(pr,mr),pr.return=sr,sr=pr):(_e(sr,pr),pr=xh(mr,sr.mode,vr),pr.return=sr,sr=pr),gr(sr)):_e(sr,pr)}return lr}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(St){if(St===Dh)throw Error(p$2(174));return St}function Ih(St,e){switch(G$1(Gh,e),G$1(Fh,St),G$1(Eh,Dh),St=e.nodeType,St){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lb(null,"");break;default:St=St===8?e.parentNode:e,e=St.namespaceURI||null,St=St.tagName,e=lb(e,St)}E$1(Eh),G$1(Eh,e)}function Jh(){E$1(Eh),E$1(Fh),E$1(Gh)}function Kh(St){Hh(Gh.current);var e=Hh(Eh.current),_e=lb(e,St.type);e!==_e&&(G$1(Fh,St),G$1(Eh,_e))}function Lh(St){Fh.current===St&&(E$1(Eh),E$1(Fh))}var M$1=Uf(0);function Mh(St){for(var e=St;e!==null;){if(e.tag===13){var _e=e.memoizedState;if(_e!==null&&(_e=_e.dehydrated,_e===null||_e.data==="$?"||_e.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===St)break;for(;e.sibling===null;){if(e.return===null||e.return===St)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Nh=[];function Oh(){for(var St=0;St<Nh.length;St++)Nh[St]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N$1=null,O$1=null,P$1=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q$1(){throw Error(p$2(321))}function Wh(St,e){if(e===null)return!1;for(var _e=0;_e<e.length&&_e<St.length;_e++)if(!He(St[_e],e[_e]))return!1;return!0}function Xh(St,e,_e,_i,ir,rr){if(Rh=rr,N$1=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ph.current=St===null||St.memoizedState===null?Yh:Zh,St=_e(_i,ir),Th){rr=0;do{if(Th=!1,Uh=0,25<=rr)throw Error(p$2(301));rr+=1,P$1=O$1=null,e.updateQueue=null,Ph.current=$h,St=_e(_i,ir)}while(Th)}if(Ph.current=ai,e=O$1!==null&&O$1.next!==null,Rh=0,P$1=O$1=N$1=null,Sh=!1,e)throw Error(p$2(300));return St}function bi(){var St=Uh!==0;return Uh=0,St}function ci(){var St={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P$1===null?N$1.memoizedState=P$1=St:P$1=P$1.next=St,P$1}function di(){if(O$1===null){var St=N$1.alternate;St=St!==null?St.memoizedState:null}else St=O$1.next;var e=P$1===null?N$1.memoizedState:P$1.next;if(e!==null)P$1=e,O$1=St;else{if(St===null)throw Error(p$2(310));O$1=St,St={memoizedState:O$1.memoizedState,baseState:O$1.baseState,baseQueue:O$1.baseQueue,queue:O$1.queue,next:null},P$1===null?N$1.memoizedState=P$1=St:P$1=P$1.next=St}return P$1}function ei(St,e){return typeof e=="function"?e(St):e}function fi(St){var e=di(),_e=e.queue;if(_e===null)throw Error(p$2(311));_e.lastRenderedReducer=St;var _i=O$1,ir=_i.baseQueue,rr=_e.pending;if(rr!==null){if(ir!==null){var gr=ir.next;ir.next=rr.next,rr.next=gr}_i.baseQueue=ir=rr,_e.pending=null}if(ir!==null){rr=ir.next,_i=_i.baseState;var cr=gr=null,tr=null,hr=rr;do{var ur=hr.lane;if((Rh&ur)===ur)tr!==null&&(tr=tr.next={lane:0,action:hr.action,hasEagerState:hr.hasEagerState,eagerState:hr.eagerState,next:null}),_i=hr.hasEagerState?hr.eagerState:St(_i,hr.action);else{var or={lane:ur,action:hr.action,hasEagerState:hr.hasEagerState,eagerState:hr.eagerState,next:null};tr===null?(cr=tr=or,gr=_i):tr=tr.next=or,N$1.lanes|=ur,hh|=ur}hr=hr.next}while(hr!==null&&hr!==rr);tr===null?gr=_i:tr.next=cr,He(_i,e.memoizedState)||(Ug=!0),e.memoizedState=_i,e.baseState=gr,e.baseQueue=tr,_e.lastRenderedState=_i}if(St=_e.interleaved,St!==null){ir=St;do rr=ir.lane,N$1.lanes|=rr,hh|=rr,ir=ir.next;while(ir!==St)}else ir===null&&(_e.lanes=0);return[e.memoizedState,_e.dispatch]}function gi(St){var e=di(),_e=e.queue;if(_e===null)throw Error(p$2(311));_e.lastRenderedReducer=St;var _i=_e.dispatch,ir=_e.pending,rr=e.memoizedState;if(ir!==null){_e.pending=null;var gr=ir=ir.next;do rr=St(rr,gr.action),gr=gr.next;while(gr!==ir);He(rr,e.memoizedState)||(Ug=!0),e.memoizedState=rr,e.baseQueue===null&&(e.baseState=rr),_e.lastRenderedState=rr}return[rr,_i]}function hi(){}function ii(St,e){var _e=N$1,_i=di(),ir=e(),rr=!He(_i.memoizedState,ir);if(rr&&(_i.memoizedState=ir,Ug=!0),_i=_i.queue,ji(ki.bind(null,_e,_i,St),[St]),_i.getSnapshot!==e||rr||P$1!==null&&P$1.memoizedState.tag&1){if(_e.flags|=2048,li(9,mi.bind(null,_e,_i,ir,e),void 0,null),R$1===null)throw Error(p$2(349));(Rh&30)!==0||ni(_e,e,ir)}return ir}function ni(St,e,_e){St.flags|=16384,St={getSnapshot:e,value:_e},e=N$1.updateQueue,e===null?(e={lastEffect:null,stores:null},N$1.updateQueue=e,e.stores=[St]):(_e=e.stores,_e===null?e.stores=[St]:_e.push(St))}function mi(St,e,_e,_i){e.value=_e,e.getSnapshot=_i,oi(e)&&pi(St)}function ki(St,e,_e){return _e(function(){oi(e)&&pi(St)})}function oi(St){var e=St.getSnapshot;St=St.value;try{var _e=e();return!He(St,_e)}catch{return!0}}function pi(St){var e=Zg(St,1);e!==null&&mh(e,St,1,-1)}function qi(St){var e=ci();return typeof St=="function"&&(St=St()),e.memoizedState=e.baseState=St,St={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:St},e.queue=St,St=St.dispatch=ri.bind(null,N$1,St),[e.memoizedState,St]}function li(St,e,_e,_i){return St={tag:St,create:e,destroy:_e,deps:_i,next:null},e=N$1.updateQueue,e===null?(e={lastEffect:null,stores:null},N$1.updateQueue=e,e.lastEffect=St.next=St):(_e=e.lastEffect,_e===null?e.lastEffect=St.next=St:(_i=_e.next,_e.next=St,St.next=_i,e.lastEffect=St)),St}function si(){return di().memoizedState}function ti(St,e,_e,_i){var ir=ci();N$1.flags|=St,ir.memoizedState=li(1|e,_e,void 0,_i===void 0?null:_i)}function ui(St,e,_e,_i){var ir=di();_i=_i===void 0?null:_i;var rr=void 0;if(O$1!==null){var gr=O$1.memoizedState;if(rr=gr.destroy,_i!==null&&Wh(_i,gr.deps)){ir.memoizedState=li(e,_e,rr,_i);return}}N$1.flags|=St,ir.memoizedState=li(1|e,_e,rr,_i)}function vi(St,e){return ti(8390656,8,St,e)}function ji(St,e){return ui(2048,8,St,e)}function wi(St,e){return ui(4,2,St,e)}function xi(St,e){return ui(4,4,St,e)}function yi(St,e){if(typeof e=="function")return St=St(),e(St),function(){e(null)};if(e!=null)return St=St(),e.current=St,function(){e.current=null}}function zi(St,e,_e){return _e=_e!=null?_e.concat([St]):null,ui(4,4,yi.bind(null,e,St),_e)}function Ai(){}function Bi(St,e){var _e=di();e=e===void 0?null:e;var _i=_e.memoizedState;return _i!==null&&e!==null&&Wh(e,_i[1])?_i[0]:(_e.memoizedState=[St,e],St)}function Ci(St,e){var _e=di();e=e===void 0?null:e;var _i=_e.memoizedState;return _i!==null&&e!==null&&Wh(e,_i[1])?_i[0]:(St=St(),_e.memoizedState=[St,e],St)}function Di(St,e,_e){return(Rh&21)===0?(St.baseState&&(St.baseState=!1,Ug=!0),St.memoizedState=_e):(He(_e,e)||(_e=yc(),N$1.lanes|=_e,hh|=_e,St.baseState=!0),e)}function Ei(St,e){var _e=C$1;C$1=_e!==0&&4>_e?_e:4,St(!0);var _i=Qh.transition;Qh.transition={};try{St(!1),e()}finally{C$1=_e,Qh.transition=_i}}function Fi(){return di().memoizedState}function Gi(St,e,_e){var _i=lh(St);if(_e={lane:_i,action:_e,hasEagerState:!1,eagerState:null,next:null},Hi(St))Ii(e,_e);else if(_e=Yg(St,e,_e,_i),_e!==null){var ir=L$1();mh(_e,St,_i,ir),Ji(_e,e,_i)}}function ri(St,e,_e){var _i=lh(St),ir={lane:_i,action:_e,hasEagerState:!1,eagerState:null,next:null};if(Hi(St))Ii(e,ir);else{var rr=St.alternate;if(St.lanes===0&&(rr===null||rr.lanes===0)&&(rr=e.lastRenderedReducer,rr!==null))try{var gr=e.lastRenderedState,cr=rr(gr,_e);if(ir.hasEagerState=!0,ir.eagerState=cr,He(cr,gr)){var tr=e.interleaved;tr===null?(ir.next=ir,Xg(e)):(ir.next=tr.next,tr.next=ir),e.interleaved=ir;return}}catch{}finally{}_e=Yg(St,e,ir,_i),_e!==null&&(ir=L$1(),mh(_e,St,_i,ir),Ji(_e,e,_i))}}function Hi(St){var e=St.alternate;return St===N$1||e!==null&&e===N$1}function Ii(St,e){Th=Sh=!0;var _e=St.pending;_e===null?e.next=e:(e.next=_e.next,_e.next=e),St.pending=e}function Ji(St,e,_e){if((_e&4194240)!==0){var _i=e.lanes;_i&=St.pendingLanes,_e|=_i,e.lanes=_e,Cc(St,_e)}}var ai={readContext:Vg,useCallback:Q$1,useContext:Q$1,useEffect:Q$1,useImperativeHandle:Q$1,useInsertionEffect:Q$1,useLayoutEffect:Q$1,useMemo:Q$1,useReducer:Q$1,useRef:Q$1,useState:Q$1,useDebugValue:Q$1,useDeferredValue:Q$1,useTransition:Q$1,useMutableSource:Q$1,useSyncExternalStore:Q$1,useId:Q$1,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(St,e){return ci().memoizedState=[St,e===void 0?null:e],St},useContext:Vg,useEffect:vi,useImperativeHandle:function(St,e,_e){return _e=_e!=null?_e.concat([St]):null,ti(4194308,4,yi.bind(null,e,St),_e)},useLayoutEffect:function(St,e){return ti(4194308,4,St,e)},useInsertionEffect:function(St,e){return ti(4,2,St,e)},useMemo:function(St,e){var _e=ci();return e=e===void 0?null:e,St=St(),_e.memoizedState=[St,e],St},useReducer:function(St,e,_e){var _i=ci();return e=_e!==void 0?_e(e):e,_i.memoizedState=_i.baseState=e,St={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:St,lastRenderedState:e},_i.queue=St,St=St.dispatch=Gi.bind(null,N$1,St),[_i.memoizedState,St]},useRef:function(St){var e=ci();return St={current:St},e.memoizedState=St},useState:qi,useDebugValue:Ai,useDeferredValue:function(St){return ci().memoizedState=St},useTransition:function(){var St=qi(!1),e=St[0];return St=Ei.bind(null,St[1]),ci().memoizedState=St,[e,St]},useMutableSource:function(){},useSyncExternalStore:function(St,e,_e){var _i=N$1,ir=ci();if(I$1){if(_e===void 0)throw Error(p$2(407));_e=_e()}else{if(_e=e(),R$1===null)throw Error(p$2(349));(Rh&30)!==0||ni(_i,e,_e)}ir.memoizedState=_e;var rr={value:_e,getSnapshot:e};return ir.queue=rr,vi(ki.bind(null,_i,rr,St),[St]),_i.flags|=2048,li(9,mi.bind(null,_i,rr,_e,e),void 0,null),_e},useId:function(){var St=ci(),e=R$1.identifierPrefix;if(I$1){var _e=sg,_i=rg;_e=(_i&~(1<<32-oc(_i)-1)).toString(32)+_e,e=":"+e+"R"+_e,_e=Uh++,0<_e&&(e+="H"+_e.toString(32)),e+=":"}else _e=Vh++,e=":"+e+"r"+_e.toString(32)+":";return St.memoizedState=e},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(St){var e=di();return Di(e,O$1.memoizedState,St)},useTransition:function(){var St=fi(ei)[0],e=di().memoizedState;return[St,e]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(St){var e=di();return O$1===null?e.memoizedState=St:Di(e,O$1.memoizedState,St)},useTransition:function(){var St=gi(ei)[0],e=di().memoizedState;return[St,e]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(St,e){try{var _e="",_i=e;do _e+=Pa(_i),_i=_i.return;while(_i);var ir=_e}catch(rr){ir=`
Error generating stack: `+rr.message+`
`+rr.stack}return{value:St,source:e,stack:ir,digest:null}}function Li(St,e,_e){return{value:St,source:null,stack:_e!=null?_e:null,digest:e!=null?e:null}}function Mi(St,e){try{console.error(e.value)}catch(_e){setTimeout(function(){throw _e})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(St,e,_e){_e=ch(-1,_e),_e.tag=3,_e.payload={element:null};var _i=e.value;return _e.callback=function(){Pi||(Pi=!0,Qi=_i),Mi(St,e)},_e}function Ri(St,e,_e){_e=ch(-1,_e),_e.tag=3;var _i=St.type.getDerivedStateFromError;if(typeof _i=="function"){var ir=e.value;_e.payload=function(){return _i(ir)},_e.callback=function(){Mi(St,e)}}var rr=St.stateNode;return rr!==null&&typeof rr.componentDidCatch=="function"&&(_e.callback=function(){Mi(St,e),typeof _i!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var gr=e.stack;this.componentDidCatch(e.value,{componentStack:gr!==null?gr:""})}),_e}function Ti(St,e,_e){var _i=St.pingCache;if(_i===null){_i=St.pingCache=new Ni;var ir=new Set;_i.set(e,ir)}else ir=_i.get(e),ir===void 0&&(ir=new Set,_i.set(e,ir));ir.has(_e)||(ir.add(_e),St=Ui.bind(null,St,e,_e),e.then(St,St))}function Vi(St){do{var e;if((e=St.tag===13)&&(e=St.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return St;St=St.return}while(St!==null);return null}function Wi(St,e,_e,_i,ir){return(St.mode&1)===0?(St===e?St.flags|=65536:(St.flags|=128,_e.flags|=131072,_e.flags&=-52805,_e.tag===1&&(_e.alternate===null?_e.tag=17:(e=ch(-1,1),e.tag=2,dh(_e,e,1))),_e.lanes|=1),St):(St.flags|=65536,St.lanes=ir,St)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(St,e,_e,_i){e.child=St===null?Ch(e,null,_e,_i):Bh(e,St.child,_e,_i)}function Zi(St,e,_e,_i,ir){_e=_e.render;var rr=e.ref;return Tg(e,ir),_i=Xh(St,e,_e,_i,rr,ir),_e=bi(),St!==null&&!Ug?(e.updateQueue=St.updateQueue,e.flags&=-2053,St.lanes&=~ir,$i(St,e,ir)):(I$1&&_e&&vg(e),e.flags|=1,Yi(St,e,_i,ir),e.child)}function aj(St,e,_e,_i,ir){if(St===null){var rr=_e.type;return typeof rr=="function"&&!bj(rr)&&rr.defaultProps===void 0&&_e.compare===null&&_e.defaultProps===void 0?(e.tag=15,e.type=rr,cj(St,e,rr,_i,ir)):(St=yh(_e.type,null,_i,e,e.mode,ir),St.ref=e.ref,St.return=e,e.child=St)}if(rr=St.child,(St.lanes&ir)===0){var gr=rr.memoizedProps;if(_e=_e.compare,_e=_e!==null?_e:Ie,_e(gr,_i)&&St.ref===e.ref)return $i(St,e,ir)}return e.flags|=1,St=wh(rr,_i),St.ref=e.ref,St.return=e,e.child=St}function cj(St,e,_e,_i,ir){if(St!==null){var rr=St.memoizedProps;if(Ie(rr,_i)&&St.ref===e.ref)if(Ug=!1,e.pendingProps=_i=rr,(St.lanes&ir)!==0)(St.flags&131072)!==0&&(Ug=!0);else return e.lanes=St.lanes,$i(St,e,ir)}return dj(St,e,_e,_i,ir)}function ej(St,e,_e){var _i=e.pendingProps,ir=_i.children,rr=St!==null?St.memoizedState:null;if(_i.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(fj,gj),gj|=_e;else{if((_e&1073741824)===0)return St=rr!==null?rr.baseLanes|_e:_e,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:St,cachePool:null,transitions:null},e.updateQueue=null,G$1(fj,gj),gj|=St,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},_i=rr!==null?rr.baseLanes:_e,G$1(fj,gj),gj|=_i}else rr!==null?(_i=rr.baseLanes|_e,e.memoizedState=null):_i=_e,G$1(fj,gj),gj|=_i;return Yi(St,e,ir,_e),e.child}function hj(St,e){var _e=e.ref;(St===null&&_e!==null||St!==null&&St.ref!==_e)&&(e.flags|=512,e.flags|=2097152)}function dj(St,e,_e,_i,ir){var rr=Zf(_e)?Xf:H$1.current;return rr=Yf(e,rr),Tg(e,ir),_e=Xh(St,e,_e,_i,rr,ir),_i=bi(),St!==null&&!Ug?(e.updateQueue=St.updateQueue,e.flags&=-2053,St.lanes&=~ir,$i(St,e,ir)):(I$1&&_i&&vg(e),e.flags|=1,Yi(St,e,_e,ir),e.child)}function ij(St,e,_e,_i,ir){if(Zf(_e)){var rr=!0;cg(e)}else rr=!1;if(Tg(e,ir),e.stateNode===null)jj(St,e),ph(e,_e,_i),rh(e,_e,_i,ir),_i=!0;else if(St===null){var gr=e.stateNode,cr=e.memoizedProps;gr.props=cr;var tr=gr.context,hr=_e.contextType;typeof hr=="object"&&hr!==null?hr=Vg(hr):(hr=Zf(_e)?Xf:H$1.current,hr=Yf(e,hr));var ur=_e.getDerivedStateFromProps,or=typeof ur=="function"||typeof gr.getSnapshotBeforeUpdate=="function";or||typeof gr.UNSAFE_componentWillReceiveProps!="function"&&typeof gr.componentWillReceiveProps!="function"||(cr!==_i||tr!==hr)&&qh(e,gr,_i,hr),$g=!1;var nr=e.memoizedState;gr.state=nr,gh(e,_i,gr,ir),tr=e.memoizedState,cr!==_i||nr!==tr||Wf.current||$g?(typeof ur=="function"&&(kh(e,_e,ur,_i),tr=e.memoizedState),(cr=$g||oh(e,_e,cr,_i,nr,tr,hr))?(or||typeof gr.UNSAFE_componentWillMount!="function"&&typeof gr.componentWillMount!="function"||(typeof gr.componentWillMount=="function"&&gr.componentWillMount(),typeof gr.UNSAFE_componentWillMount=="function"&&gr.UNSAFE_componentWillMount()),typeof gr.componentDidMount=="function"&&(e.flags|=4194308)):(typeof gr.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=_i,e.memoizedState=tr),gr.props=_i,gr.state=tr,gr.context=hr,_i=cr):(typeof gr.componentDidMount=="function"&&(e.flags|=4194308),_i=!1)}else{gr=e.stateNode,bh(St,e),cr=e.memoizedProps,hr=e.type===e.elementType?cr:Lg(e.type,cr),gr.props=hr,or=e.pendingProps,nr=gr.context,tr=_e.contextType,typeof tr=="object"&&tr!==null?tr=Vg(tr):(tr=Zf(_e)?Xf:H$1.current,tr=Yf(e,tr));var er=_e.getDerivedStateFromProps;(ur=typeof er=="function"||typeof gr.getSnapshotBeforeUpdate=="function")||typeof gr.UNSAFE_componentWillReceiveProps!="function"&&typeof gr.componentWillReceiveProps!="function"||(cr!==or||nr!==tr)&&qh(e,gr,_i,tr),$g=!1,nr=e.memoizedState,gr.state=nr,gh(e,_i,gr,ir);var ar=e.memoizedState;cr!==or||nr!==ar||Wf.current||$g?(typeof er=="function"&&(kh(e,_e,er,_i),ar=e.memoizedState),(hr=$g||oh(e,_e,hr,_i,nr,ar,tr)||!1)?(ur||typeof gr.UNSAFE_componentWillUpdate!="function"&&typeof gr.componentWillUpdate!="function"||(typeof gr.componentWillUpdate=="function"&&gr.componentWillUpdate(_i,ar,tr),typeof gr.UNSAFE_componentWillUpdate=="function"&&gr.UNSAFE_componentWillUpdate(_i,ar,tr)),typeof gr.componentDidUpdate=="function"&&(e.flags|=4),typeof gr.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof gr.componentDidUpdate!="function"||cr===St.memoizedProps&&nr===St.memoizedState||(e.flags|=4),typeof gr.getSnapshotBeforeUpdate!="function"||cr===St.memoizedProps&&nr===St.memoizedState||(e.flags|=1024),e.memoizedProps=_i,e.memoizedState=ar),gr.props=_i,gr.state=ar,gr.context=tr,_i=hr):(typeof gr.componentDidUpdate!="function"||cr===St.memoizedProps&&nr===St.memoizedState||(e.flags|=4),typeof gr.getSnapshotBeforeUpdate!="function"||cr===St.memoizedProps&&nr===St.memoizedState||(e.flags|=1024),_i=!1)}return kj(St,e,_e,_i,rr,ir)}function kj(St,e,_e,_i,ir,rr){hj(St,e);var gr=(e.flags&128)!==0;if(!_i&&!gr)return ir&&dg(e,_e,!1),$i(St,e,rr);_i=e.stateNode,Xi.current=e;var cr=gr&&typeof _e.getDerivedStateFromError!="function"?null:_i.render();return e.flags|=1,St!==null&&gr?(e.child=Bh(e,St.child,null,rr),e.child=Bh(e,null,cr,rr)):Yi(St,e,cr,rr),e.memoizedState=_i.state,ir&&dg(e,_e,!0),e.child}function lj(St){var e=St.stateNode;e.pendingContext?ag(St,e.pendingContext,e.pendingContext!==e.context):e.context&&ag(St,e.context,!1),Ih(St,e.containerInfo)}function mj(St,e,_e,_i,ir){return Ig(),Jg(ir),e.flags|=256,Yi(St,e,_e,_i),e.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(St){return{baseLanes:St,cachePool:null,transitions:null}}function pj(St,e,_e){var _i=e.pendingProps,ir=M$1.current,rr=!1,gr=(e.flags&128)!==0,cr;if((cr=gr)||(cr=St!==null&&St.memoizedState===null?!1:(ir&2)!==0),cr?(rr=!0,e.flags&=-129):(St===null||St.memoizedState!==null)&&(ir|=1),G$1(M$1,ir&1),St===null)return Eg(e),St=e.memoizedState,St!==null&&(St=St.dehydrated,St!==null)?((e.mode&1)===0?e.lanes=1:St.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(gr=_i.children,St=_i.fallback,rr?(_i=e.mode,rr=e.child,gr={mode:"hidden",children:gr},(_i&1)===0&&rr!==null?(rr.childLanes=0,rr.pendingProps=gr):rr=qj(gr,_i,0,null),St=Ah(St,_i,_e,null),rr.return=e,St.return=e,rr.sibling=St,e.child=rr,e.child.memoizedState=oj(_e),e.memoizedState=nj,St):rj(e,gr));if(ir=St.memoizedState,ir!==null&&(cr=ir.dehydrated,cr!==null))return sj(St,e,gr,_i,cr,ir,_e);if(rr){rr=_i.fallback,gr=e.mode,ir=St.child,cr=ir.sibling;var tr={mode:"hidden",children:_i.children};return(gr&1)===0&&e.child!==ir?(_i=e.child,_i.childLanes=0,_i.pendingProps=tr,e.deletions=null):(_i=wh(ir,tr),_i.subtreeFlags=ir.subtreeFlags&14680064),cr!==null?rr=wh(cr,rr):(rr=Ah(rr,gr,_e,null),rr.flags|=2),rr.return=e,_i.return=e,_i.sibling=rr,e.child=_i,_i=rr,rr=e.child,gr=St.child.memoizedState,gr=gr===null?oj(_e):{baseLanes:gr.baseLanes|_e,cachePool:null,transitions:gr.transitions},rr.memoizedState=gr,rr.childLanes=St.childLanes&~_e,e.memoizedState=nj,_i}return rr=St.child,St=rr.sibling,_i=wh(rr,{mode:"visible",children:_i.children}),(e.mode&1)===0&&(_i.lanes=_e),_i.return=e,_i.sibling=null,St!==null&&(_e=e.deletions,_e===null?(e.deletions=[St],e.flags|=16):_e.push(St)),e.child=_i,e.memoizedState=null,_i}function rj(St,e){return e=qj({mode:"visible",children:e},St.mode,0,null),e.return=St,St.child=e}function tj(St,e,_e,_i){return _i!==null&&Jg(_i),Bh(e,St.child,null,_e),St=rj(e,e.pendingProps.children),St.flags|=2,e.memoizedState=null,St}function sj(St,e,_e,_i,ir,rr,gr){if(_e)return e.flags&256?(e.flags&=-257,_i=Li(Error(p$2(422))),tj(St,e,gr,_i)):e.memoizedState!==null?(e.child=St.child,e.flags|=128,null):(rr=_i.fallback,ir=e.mode,_i=qj({mode:"visible",children:_i.children},ir,0,null),rr=Ah(rr,ir,gr,null),rr.flags|=2,_i.return=e,rr.return=e,_i.sibling=rr,e.child=_i,(e.mode&1)!==0&&Bh(e,St.child,null,gr),e.child.memoizedState=oj(gr),e.memoizedState=nj,rr);if((e.mode&1)===0)return tj(St,e,gr,null);if(ir.data==="$!"){if(_i=ir.nextSibling&&ir.nextSibling.dataset,_i)var cr=_i.dgst;return _i=cr,rr=Error(p$2(419)),_i=Li(rr,_i,void 0),tj(St,e,gr,_i)}if(cr=(gr&St.childLanes)!==0,Ug||cr){if(_i=R$1,_i!==null){switch(gr&-gr){case 4:ir=2;break;case 16:ir=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:ir=32;break;case 536870912:ir=268435456;break;default:ir=0}ir=(ir&(_i.suspendedLanes|gr))!==0?0:ir,ir!==0&&ir!==rr.retryLane&&(rr.retryLane=ir,Zg(St,ir),mh(_i,St,ir,-1))}return uj(),_i=Li(Error(p$2(421))),tj(St,e,gr,_i)}return ir.data==="$?"?(e.flags|=128,e.child=St.child,e=vj.bind(null,St),ir._reactRetry=e,null):(St=rr.treeContext,yg=Lf(ir.nextSibling),xg=e,I$1=!0,zg=null,St!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=St.id,sg=St.overflow,qg=e),e=rj(e,_i.children),e.flags|=4096,e)}function wj(St,e,_e){St.lanes|=e;var _i=St.alternate;_i!==null&&(_i.lanes|=e),Sg(St.return,e,_e)}function xj(St,e,_e,_i,ir){var rr=St.memoizedState;rr===null?St.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:_i,tail:_e,tailMode:ir}:(rr.isBackwards=e,rr.rendering=null,rr.renderingStartTime=0,rr.last=_i,rr.tail=_e,rr.tailMode=ir)}function yj(St,e,_e){var _i=e.pendingProps,ir=_i.revealOrder,rr=_i.tail;if(Yi(St,e,_i.children,_e),_i=M$1.current,(_i&2)!==0)_i=_i&1|2,e.flags|=128;else{if(St!==null&&(St.flags&128)!==0)t:for(St=e.child;St!==null;){if(St.tag===13)St.memoizedState!==null&&wj(St,_e,e);else if(St.tag===19)wj(St,_e,e);else if(St.child!==null){St.child.return=St,St=St.child;continue}if(St===e)break t;for(;St.sibling===null;){if(St.return===null||St.return===e)break t;St=St.return}St.sibling.return=St.return,St=St.sibling}_i&=1}if(G$1(M$1,_i),(e.mode&1)===0)e.memoizedState=null;else switch(ir){case"forwards":for(_e=e.child,ir=null;_e!==null;)St=_e.alternate,St!==null&&Mh(St)===null&&(ir=_e),_e=_e.sibling;_e=ir,_e===null?(ir=e.child,e.child=null):(ir=_e.sibling,_e.sibling=null),xj(e,!1,ir,_e,rr);break;case"backwards":for(_e=null,ir=e.child,e.child=null;ir!==null;){if(St=ir.alternate,St!==null&&Mh(St)===null){e.child=ir;break}St=ir.sibling,ir.sibling=_e,_e=ir,ir=St}xj(e,!0,_e,null,rr);break;case"together":xj(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function jj(St,e){(e.mode&1)===0&&St!==null&&(St.alternate=null,e.alternate=null,e.flags|=2)}function $i(St,e,_e){if(St!==null&&(e.dependencies=St.dependencies),hh|=e.lanes,(_e&e.childLanes)===0)return null;if(St!==null&&e.child!==St.child)throw Error(p$2(153));if(e.child!==null){for(St=e.child,_e=wh(St,St.pendingProps),e.child=_e,_e.return=e;St.sibling!==null;)St=St.sibling,_e=_e.sibling=wh(St,St.pendingProps),_e.return=e;_e.sibling=null}return e.child}function zj(St,e,_e){switch(e.tag){case 3:lj(e),Ig();break;case 5:Kh(e);break;case 1:Zf(e.type)&&cg(e);break;case 4:Ih(e,e.stateNode.containerInfo);break;case 10:var _i=e.type._context,ir=e.memoizedProps.value;G$1(Mg,_i._currentValue),_i._currentValue=ir;break;case 13:if(_i=e.memoizedState,_i!==null)return _i.dehydrated!==null?(G$1(M$1,M$1.current&1),e.flags|=128,null):(_e&e.child.childLanes)!==0?pj(St,e,_e):(G$1(M$1,M$1.current&1),St=$i(St,e,_e),St!==null?St.sibling:null);G$1(M$1,M$1.current&1);break;case 19:if(_i=(_e&e.childLanes)!==0,(St.flags&128)!==0){if(_i)return yj(St,e,_e);e.flags|=128}if(ir=e.memoizedState,ir!==null&&(ir.rendering=null,ir.tail=null,ir.lastEffect=null),G$1(M$1,M$1.current),_i)break;return null;case 22:case 23:return e.lanes=0,ej(St,e,_e)}return $i(St,e,_e)}var Aj,Bj,Cj,Dj;Aj=function(St,e){for(var _e=e.child;_e!==null;){if(_e.tag===5||_e.tag===6)St.appendChild(_e.stateNode);else if(_e.tag!==4&&_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===e)break;for(;_e.sibling===null;){if(_e.return===null||_e.return===e)return;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}};Bj=function(){};Cj=function(St,e,_e,_i){var ir=St.memoizedProps;if(ir!==_i){St=e.stateNode,Hh(Eh.current);var rr=null;switch(_e){case"input":ir=Ya(St,ir),_i=Ya(St,_i),rr=[];break;case"select":ir=A$1({},ir,{value:void 0}),_i=A$1({},_i,{value:void 0}),rr=[];break;case"textarea":ir=gb(St,ir),_i=gb(St,_i),rr=[];break;default:typeof ir.onClick!="function"&&typeof _i.onClick=="function"&&(St.onclick=Bf)}ub(_e,_i);var gr;_e=null;for(hr in ir)if(!_i.hasOwnProperty(hr)&&ir.hasOwnProperty(hr)&&ir[hr]!=null)if(hr==="style"){var cr=ir[hr];for(gr in cr)cr.hasOwnProperty(gr)&&(_e||(_e={}),_e[gr]="")}else hr!=="dangerouslySetInnerHTML"&&hr!=="children"&&hr!=="suppressContentEditableWarning"&&hr!=="suppressHydrationWarning"&&hr!=="autoFocus"&&(ea.hasOwnProperty(hr)?rr||(rr=[]):(rr=rr||[]).push(hr,null));for(hr in _i){var tr=_i[hr];if(cr=ir!=null?ir[hr]:void 0,_i.hasOwnProperty(hr)&&tr!==cr&&(tr!=null||cr!=null))if(hr==="style")if(cr){for(gr in cr)!cr.hasOwnProperty(gr)||tr&&tr.hasOwnProperty(gr)||(_e||(_e={}),_e[gr]="");for(gr in tr)tr.hasOwnProperty(gr)&&cr[gr]!==tr[gr]&&(_e||(_e={}),_e[gr]=tr[gr])}else _e||(rr||(rr=[]),rr.push(hr,_e)),_e=tr;else hr==="dangerouslySetInnerHTML"?(tr=tr?tr.__html:void 0,cr=cr?cr.__html:void 0,tr!=null&&cr!==tr&&(rr=rr||[]).push(hr,tr)):hr==="children"?typeof tr!="string"&&typeof tr!="number"||(rr=rr||[]).push(hr,""+tr):hr!=="suppressContentEditableWarning"&&hr!=="suppressHydrationWarning"&&(ea.hasOwnProperty(hr)?(tr!=null&&hr==="onScroll"&&D$1("scroll",St),rr||cr===tr||(rr=[])):(rr=rr||[]).push(hr,tr))}_e&&(rr=rr||[]).push("style",_e);var hr=rr;(e.updateQueue=hr)&&(e.flags|=4)}};Dj=function(St,e,_e,_i){_e!==_i&&(e.flags|=4)};function Ej(St,e){if(!I$1)switch(St.tailMode){case"hidden":e=St.tail;for(var _e=null;e!==null;)e.alternate!==null&&(_e=e),e=e.sibling;_e===null?St.tail=null:_e.sibling=null;break;case"collapsed":_e=St.tail;for(var _i=null;_e!==null;)_e.alternate!==null&&(_i=_e),_e=_e.sibling;_i===null?e||St.tail===null?St.tail=null:St.tail.sibling=null:_i.sibling=null}}function S$1(St){var e=St.alternate!==null&&St.alternate.child===St.child,_e=0,_i=0;if(e)for(var ir=St.child;ir!==null;)_e|=ir.lanes|ir.childLanes,_i|=ir.subtreeFlags&14680064,_i|=ir.flags&14680064,ir.return=St,ir=ir.sibling;else for(ir=St.child;ir!==null;)_e|=ir.lanes|ir.childLanes,_i|=ir.subtreeFlags,_i|=ir.flags,ir.return=St,ir=ir.sibling;return St.subtreeFlags|=_i,St.childLanes=_e,e}function Fj(St,e,_e){var _i=e.pendingProps;switch(wg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$1(e),null;case 1:return Zf(e.type)&&$f(),S$1(e),null;case 3:return _i=e.stateNode,Jh(),E$1(Wf),E$1(H$1),Oh(),_i.pendingContext&&(_i.context=_i.pendingContext,_i.pendingContext=null),(St===null||St.child===null)&&(Gg(e)?e.flags|=4:St===null||St.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(St,e),S$1(e),null;case 5:Lh(e);var ir=Hh(Gh.current);if(_e=e.type,St!==null&&e.stateNode!=null)Cj(St,e,_e,_i,ir),St.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!_i){if(e.stateNode===null)throw Error(p$2(166));return S$1(e),null}if(St=Hh(Eh.current),Gg(e)){_i=e.stateNode,_e=e.type;var rr=e.memoizedProps;switch(_i[Of]=e,_i[Pf]=rr,St=(e.mode&1)!==0,_e){case"dialog":D$1("cancel",_i),D$1("close",_i);break;case"iframe":case"object":case"embed":D$1("load",_i);break;case"video":case"audio":for(ir=0;ir<lf.length;ir++)D$1(lf[ir],_i);break;case"source":D$1("error",_i);break;case"img":case"image":case"link":D$1("error",_i),D$1("load",_i);break;case"details":D$1("toggle",_i);break;case"input":Za(_i,rr),D$1("invalid",_i);break;case"select":_i._wrapperState={wasMultiple:!!rr.multiple},D$1("invalid",_i);break;case"textarea":hb(_i,rr),D$1("invalid",_i)}ub(_e,rr),ir=null;for(var gr in rr)if(rr.hasOwnProperty(gr)){var cr=rr[gr];gr==="children"?typeof cr=="string"?_i.textContent!==cr&&(rr.suppressHydrationWarning!==!0&&Af(_i.textContent,cr,St),ir=["children",cr]):typeof cr=="number"&&_i.textContent!==""+cr&&(rr.suppressHydrationWarning!==!0&&Af(_i.textContent,cr,St),ir=["children",""+cr]):ea.hasOwnProperty(gr)&&cr!=null&&gr==="onScroll"&&D$1("scroll",_i)}switch(_e){case"input":Va(_i),db(_i,rr,!0);break;case"textarea":Va(_i),jb(_i);break;case"select":case"option":break;default:typeof rr.onClick=="function"&&(_i.onclick=Bf)}_i=ir,e.updateQueue=_i,_i!==null&&(e.flags|=4)}else{gr=ir.nodeType===9?ir:ir.ownerDocument,St==="http://www.w3.org/1999/xhtml"&&(St=kb(_e)),St==="http://www.w3.org/1999/xhtml"?_e==="script"?(St=gr.createElement("div"),St.innerHTML="<script><\/script>",St=St.removeChild(St.firstChild)):typeof _i.is=="string"?St=gr.createElement(_e,{is:_i.is}):(St=gr.createElement(_e),_e==="select"&&(gr=St,_i.multiple?gr.multiple=!0:_i.size&&(gr.size=_i.size))):St=gr.createElementNS(St,_e),St[Of]=e,St[Pf]=_i,Aj(St,e,!1,!1),e.stateNode=St;t:{switch(gr=vb(_e,_i),_e){case"dialog":D$1("cancel",St),D$1("close",St),ir=_i;break;case"iframe":case"object":case"embed":D$1("load",St),ir=_i;break;case"video":case"audio":for(ir=0;ir<lf.length;ir++)D$1(lf[ir],St);ir=_i;break;case"source":D$1("error",St),ir=_i;break;case"img":case"image":case"link":D$1("error",St),D$1("load",St),ir=_i;break;case"details":D$1("toggle",St),ir=_i;break;case"input":Za(St,_i),ir=Ya(St,_i),D$1("invalid",St);break;case"option":ir=_i;break;case"select":St._wrapperState={wasMultiple:!!_i.multiple},ir=A$1({},_i,{value:void 0}),D$1("invalid",St);break;case"textarea":hb(St,_i),ir=gb(St,_i),D$1("invalid",St);break;default:ir=_i}ub(_e,ir),cr=ir;for(rr in cr)if(cr.hasOwnProperty(rr)){var tr=cr[rr];rr==="style"?sb(St,tr):rr==="dangerouslySetInnerHTML"?(tr=tr?tr.__html:void 0,tr!=null&&nb(St,tr)):rr==="children"?typeof tr=="string"?(_e!=="textarea"||tr!=="")&&ob(St,tr):typeof tr=="number"&&ob(St,""+tr):rr!=="suppressContentEditableWarning"&&rr!=="suppressHydrationWarning"&&rr!=="autoFocus"&&(ea.hasOwnProperty(rr)?tr!=null&&rr==="onScroll"&&D$1("scroll",St):tr!=null&&ta(St,rr,tr,gr))}switch(_e){case"input":Va(St),db(St,_i,!1);break;case"textarea":Va(St),jb(St);break;case"option":_i.value!=null&&St.setAttribute("value",""+Sa(_i.value));break;case"select":St.multiple=!!_i.multiple,rr=_i.value,rr!=null?fb(St,!!_i.multiple,rr,!1):_i.defaultValue!=null&&fb(St,!!_i.multiple,_i.defaultValue,!0);break;default:typeof ir.onClick=="function"&&(St.onclick=Bf)}switch(_e){case"button":case"input":case"select":case"textarea":_i=!!_i.autoFocus;break t;case"img":_i=!0;break t;default:_i=!1}}_i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return S$1(e),null;case 6:if(St&&e.stateNode!=null)Dj(St,e,St.memoizedProps,_i);else{if(typeof _i!="string"&&e.stateNode===null)throw Error(p$2(166));if(_e=Hh(Gh.current),Hh(Eh.current),Gg(e)){if(_i=e.stateNode,_e=e.memoizedProps,_i[Of]=e,(rr=_i.nodeValue!==_e)&&(St=xg,St!==null))switch(St.tag){case 3:Af(_i.nodeValue,_e,(St.mode&1)!==0);break;case 5:St.memoizedProps.suppressHydrationWarning!==!0&&Af(_i.nodeValue,_e,(St.mode&1)!==0)}rr&&(e.flags|=4)}else _i=(_e.nodeType===9?_e:_e.ownerDocument).createTextNode(_i),_i[Of]=e,e.stateNode=_i}return S$1(e),null;case 13:if(E$1(M$1),_i=e.memoizedState,St===null||St.memoizedState!==null&&St.memoizedState.dehydrated!==null){if(I$1&&yg!==null&&(e.mode&1)!==0&&(e.flags&128)===0)Hg(),Ig(),e.flags|=98560,rr=!1;else if(rr=Gg(e),_i!==null&&_i.dehydrated!==null){if(St===null){if(!rr)throw Error(p$2(318));if(rr=e.memoizedState,rr=rr!==null?rr.dehydrated:null,!rr)throw Error(p$2(317));rr[Of]=e}else Ig(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;S$1(e),rr=!1}else zg!==null&&(Gj(zg),zg=null),rr=!0;if(!rr)return e.flags&65536?e:null}return(e.flags&128)!==0?(e.lanes=_e,e):(_i=_i!==null,_i!==(St!==null&&St.memoizedState!==null)&&_i&&(e.child.flags|=8192,(e.mode&1)!==0&&(St===null||(M$1.current&1)!==0?T$1===0&&(T$1=3):uj())),e.updateQueue!==null&&(e.flags|=4),S$1(e),null);case 4:return Jh(),Bj(St,e),St===null&&sf(e.stateNode.containerInfo),S$1(e),null;case 10:return Rg(e.type._context),S$1(e),null;case 17:return Zf(e.type)&&$f(),S$1(e),null;case 19:if(E$1(M$1),rr=e.memoizedState,rr===null)return S$1(e),null;if(_i=(e.flags&128)!==0,gr=rr.rendering,gr===null)if(_i)Ej(rr,!1);else{if(T$1!==0||St!==null&&(St.flags&128)!==0)for(St=e.child;St!==null;){if(gr=Mh(St),gr!==null){for(e.flags|=128,Ej(rr,!1),_i=gr.updateQueue,_i!==null&&(e.updateQueue=_i,e.flags|=4),e.subtreeFlags=0,_i=_e,_e=e.child;_e!==null;)rr=_e,St=_i,rr.flags&=14680066,gr=rr.alternate,gr===null?(rr.childLanes=0,rr.lanes=St,rr.child=null,rr.subtreeFlags=0,rr.memoizedProps=null,rr.memoizedState=null,rr.updateQueue=null,rr.dependencies=null,rr.stateNode=null):(rr.childLanes=gr.childLanes,rr.lanes=gr.lanes,rr.child=gr.child,rr.subtreeFlags=0,rr.deletions=null,rr.memoizedProps=gr.memoizedProps,rr.memoizedState=gr.memoizedState,rr.updateQueue=gr.updateQueue,rr.type=gr.type,St=gr.dependencies,rr.dependencies=St===null?null:{lanes:St.lanes,firstContext:St.firstContext}),_e=_e.sibling;return G$1(M$1,M$1.current&1|2),e.child}St=St.sibling}rr.tail!==null&&B$1()>Hj&&(e.flags|=128,_i=!0,Ej(rr,!1),e.lanes=4194304)}else{if(!_i)if(St=Mh(gr),St!==null){if(e.flags|=128,_i=!0,_e=St.updateQueue,_e!==null&&(e.updateQueue=_e,e.flags|=4),Ej(rr,!0),rr.tail===null&&rr.tailMode==="hidden"&&!gr.alternate&&!I$1)return S$1(e),null}else 2*B$1()-rr.renderingStartTime>Hj&&_e!==1073741824&&(e.flags|=128,_i=!0,Ej(rr,!1),e.lanes=4194304);rr.isBackwards?(gr.sibling=e.child,e.child=gr):(_e=rr.last,_e!==null?_e.sibling=gr:e.child=gr,rr.last=gr)}return rr.tail!==null?(e=rr.tail,rr.rendering=e,rr.tail=e.sibling,rr.renderingStartTime=B$1(),e.sibling=null,_e=M$1.current,G$1(M$1,_i?_e&1|2:_e&1),e):(S$1(e),null);case 22:case 23:return Ij(),_i=e.memoizedState!==null,St!==null&&St.memoizedState!==null!==_i&&(e.flags|=8192),_i&&(e.mode&1)!==0?(gj&1073741824)!==0&&(S$1(e),e.subtreeFlags&6&&(e.flags|=8192)):S$1(e),null;case 24:return null;case 25:return null}throw Error(p$2(156,e.tag))}function Jj(St,e){switch(wg(e),e.tag){case 1:return Zf(e.type)&&$f(),St=e.flags,St&65536?(e.flags=St&-65537|128,e):null;case 3:return Jh(),E$1(Wf),E$1(H$1),Oh(),St=e.flags,(St&65536)!==0&&(St&128)===0?(e.flags=St&-65537|128,e):null;case 5:return Lh(e),null;case 13:if(E$1(M$1),St=e.memoizedState,St!==null&&St.dehydrated!==null){if(e.alternate===null)throw Error(p$2(340));Ig()}return St=e.flags,St&65536?(e.flags=St&-65537|128,e):null;case 19:return E$1(M$1),null;case 4:return Jh(),null;case 10:return Rg(e.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U$1=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Mj(St,e){var _e=St.ref;if(_e!==null)if(typeof _e=="function")try{_e(null)}catch(_i){W$1(St,e,_i)}else _e.current=null}function Nj(St,e,_e){try{_e()}catch(_i){W$1(St,e,_i)}}var Oj=!1;function Pj(St,e){if(Cf=dd,St=Me(),Ne$1(St)){if("selectionStart"in St)var _e={start:St.selectionStart,end:St.selectionEnd};else t:{_e=(_e=St.ownerDocument)&&_e.defaultView||window;var _i=_e.getSelection&&_e.getSelection();if(_i&&_i.rangeCount!==0){_e=_i.anchorNode;var ir=_i.anchorOffset,rr=_i.focusNode;_i=_i.focusOffset;try{_e.nodeType,rr.nodeType}catch{_e=null;break t}var gr=0,cr=-1,tr=-1,hr=0,ur=0,or=St,nr=null;e:for(;;){for(var er;or!==_e||ir!==0&&or.nodeType!==3||(cr=gr+ir),or!==rr||_i!==0&&or.nodeType!==3||(tr=gr+_i),or.nodeType===3&&(gr+=or.nodeValue.length),(er=or.firstChild)!==null;)nr=or,or=er;for(;;){if(or===St)break e;if(nr===_e&&++hr===ir&&(cr=gr),nr===rr&&++ur===_i&&(tr=gr),(er=or.nextSibling)!==null)break;or=nr,nr=or.parentNode}or=er}_e=cr===-1||tr===-1?null:{start:cr,end:tr}}else _e=null}_e=_e||{start:0,end:0}}else _e=null;for(Df={focusedElem:St,selectionRange:_e},dd=!1,V$1=e;V$1!==null;)if(e=V$1,St=e.child,(e.subtreeFlags&1028)!==0&&St!==null)St.return=e,V$1=St;else for(;V$1!==null;){e=V$1;try{var ar=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(ar!==null){var dr=ar.memoizedProps,lr=ar.memoizedState,sr=e.stateNode,pr=sr.getSnapshotBeforeUpdate(e.elementType===e.type?dr:Lg(e.type,dr),lr);sr.__reactInternalSnapshotBeforeUpdate=pr}break;case 3:var mr=e.stateNode.containerInfo;mr.nodeType===1?mr.textContent="":mr.nodeType===9&&mr.documentElement&&mr.removeChild(mr.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$2(163))}}catch(vr){W$1(e,e.return,vr)}if(St=e.sibling,St!==null){St.return=e.return,V$1=St;break}V$1=e.return}return ar=Oj,Oj=!1,ar}function Qj(St,e,_e){var _i=e.updateQueue;if(_i=_i!==null?_i.lastEffect:null,_i!==null){var ir=_i=_i.next;do{if((ir.tag&St)===St){var rr=ir.destroy;ir.destroy=void 0,rr!==void 0&&Nj(e,_e,rr)}ir=ir.next}while(ir!==_i)}}function Rj(St,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var _e=e=e.next;do{if((_e.tag&St)===St){var _i=_e.create;_e.destroy=_i()}_e=_e.next}while(_e!==e)}}function Sj(St){var e=St.ref;if(e!==null){var _e=St.stateNode;switch(St.tag){case 5:St=_e;break;default:St=_e}typeof e=="function"?e(St):e.current=St}}function Tj(St){var e=St.alternate;e!==null&&(St.alternate=null,Tj(e)),St.child=null,St.deletions=null,St.sibling=null,St.tag===5&&(e=St.stateNode,e!==null&&(delete e[Of],delete e[Pf],delete e[of],delete e[Qf],delete e[Rf])),St.stateNode=null,St.return=null,St.dependencies=null,St.memoizedProps=null,St.memoizedState=null,St.pendingProps=null,St.stateNode=null,St.updateQueue=null}function Uj(St){return St.tag===5||St.tag===3||St.tag===4}function Vj(St){t:for(;;){for(;St.sibling===null;){if(St.return===null||Uj(St.return))return null;St=St.return}for(St.sibling.return=St.return,St=St.sibling;St.tag!==5&&St.tag!==6&&St.tag!==18;){if(St.flags&2||St.child===null||St.tag===4)continue t;St.child.return=St,St=St.child}if(!(St.flags&2))return St.stateNode}}function Wj(St,e,_e){var _i=St.tag;if(_i===5||_i===6)St=St.stateNode,e?_e.nodeType===8?_e.parentNode.insertBefore(St,e):_e.insertBefore(St,e):(_e.nodeType===8?(e=_e.parentNode,e.insertBefore(St,_e)):(e=_e,e.appendChild(St)),_e=_e._reactRootContainer,_e!=null||e.onclick!==null||(e.onclick=Bf));else if(_i!==4&&(St=St.child,St!==null))for(Wj(St,e,_e),St=St.sibling;St!==null;)Wj(St,e,_e),St=St.sibling}function Xj(St,e,_e){var _i=St.tag;if(_i===5||_i===6)St=St.stateNode,e?_e.insertBefore(St,e):_e.appendChild(St);else if(_i!==4&&(St=St.child,St!==null))for(Xj(St,e,_e),St=St.sibling;St!==null;)Xj(St,e,_e),St=St.sibling}var X$1=null,Yj=!1;function Zj(St,e,_e){for(_e=_e.child;_e!==null;)ak(St,e,_e),_e=_e.sibling}function ak(St,e,_e){if(lc$1&&typeof lc$1.onCommitFiberUnmount=="function")try{lc$1.onCommitFiberUnmount(kc,_e)}catch{}switch(_e.tag){case 5:U$1||Mj(_e,e);case 6:var _i=X$1,ir=Yj;X$1=null,Zj(St,e,_e),X$1=_i,Yj=ir,X$1!==null&&(Yj?(St=X$1,_e=_e.stateNode,St.nodeType===8?St.parentNode.removeChild(_e):St.removeChild(_e)):X$1.removeChild(_e.stateNode));break;case 18:X$1!==null&&(Yj?(St=X$1,_e=_e.stateNode,St.nodeType===8?Kf(St.parentNode,_e):St.nodeType===1&&Kf(St,_e),bd(St)):Kf(X$1,_e.stateNode));break;case 4:_i=X$1,ir=Yj,X$1=_e.stateNode.containerInfo,Yj=!0,Zj(St,e,_e),X$1=_i,Yj=ir;break;case 0:case 11:case 14:case 15:if(!U$1&&(_i=_e.updateQueue,_i!==null&&(_i=_i.lastEffect,_i!==null))){ir=_i=_i.next;do{var rr=ir,gr=rr.destroy;rr=rr.tag,gr!==void 0&&((rr&2)!==0||(rr&4)!==0)&&Nj(_e,e,gr),ir=ir.next}while(ir!==_i)}Zj(St,e,_e);break;case 1:if(!U$1&&(Mj(_e,e),_i=_e.stateNode,typeof _i.componentWillUnmount=="function"))try{_i.props=_e.memoizedProps,_i.state=_e.memoizedState,_i.componentWillUnmount()}catch(cr){W$1(_e,e,cr)}Zj(St,e,_e);break;case 21:Zj(St,e,_e);break;case 22:_e.mode&1?(U$1=(_i=U$1)||_e.memoizedState!==null,Zj(St,e,_e),U$1=_i):Zj(St,e,_e);break;default:Zj(St,e,_e)}}function bk(St){var e=St.updateQueue;if(e!==null){St.updateQueue=null;var _e=St.stateNode;_e===null&&(_e=St.stateNode=new Lj),e.forEach(function(_i){var ir=ck.bind(null,St,_i);_e.has(_i)||(_e.add(_i),_i.then(ir,ir))})}}function dk(St,e){var _e=e.deletions;if(_e!==null)for(var _i=0;_i<_e.length;_i++){var ir=_e[_i];try{var rr=St,gr=e,cr=gr;t:for(;cr!==null;){switch(cr.tag){case 5:X$1=cr.stateNode,Yj=!1;break t;case 3:X$1=cr.stateNode.containerInfo,Yj=!0;break t;case 4:X$1=cr.stateNode.containerInfo,Yj=!0;break t}cr=cr.return}if(X$1===null)throw Error(p$2(160));ak(rr,gr,ir),X$1=null,Yj=!1;var tr=ir.alternate;tr!==null&&(tr.return=null),ir.return=null}catch(hr){W$1(ir,e,hr)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ek(e,St),e=e.sibling}function ek(St,e){var _e=St.alternate,_i=St.flags;switch(St.tag){case 0:case 11:case 14:case 15:if(dk(e,St),fk(St),_i&4){try{Qj(3,St,St.return),Rj(3,St)}catch(dr){W$1(St,St.return,dr)}try{Qj(5,St,St.return)}catch(dr){W$1(St,St.return,dr)}}break;case 1:dk(e,St),fk(St),_i&512&&_e!==null&&Mj(_e,_e.return);break;case 5:if(dk(e,St),fk(St),_i&512&&_e!==null&&Mj(_e,_e.return),St.flags&32){var ir=St.stateNode;try{ob(ir,"")}catch(dr){W$1(St,St.return,dr)}}if(_i&4&&(ir=St.stateNode,ir!=null)){var rr=St.memoizedProps,gr=_e!==null?_e.memoizedProps:rr,cr=St.type,tr=St.updateQueue;if(St.updateQueue=null,tr!==null)try{cr==="input"&&rr.type==="radio"&&rr.name!=null&&ab(ir,rr),vb(cr,gr);var hr=vb(cr,rr);for(gr=0;gr<tr.length;gr+=2){var ur=tr[gr],or=tr[gr+1];ur==="style"?sb(ir,or):ur==="dangerouslySetInnerHTML"?nb(ir,or):ur==="children"?ob(ir,or):ta(ir,ur,or,hr)}switch(cr){case"input":bb(ir,rr);break;case"textarea":ib(ir,rr);break;case"select":var nr=ir._wrapperState.wasMultiple;ir._wrapperState.wasMultiple=!!rr.multiple;var er=rr.value;er!=null?fb(ir,!!rr.multiple,er,!1):nr!==!!rr.multiple&&(rr.defaultValue!=null?fb(ir,!!rr.multiple,rr.defaultValue,!0):fb(ir,!!rr.multiple,rr.multiple?[]:"",!1))}ir[Pf]=rr}catch(dr){W$1(St,St.return,dr)}}break;case 6:if(dk(e,St),fk(St),_i&4){if(St.stateNode===null)throw Error(p$2(162));ir=St.stateNode,rr=St.memoizedProps;try{ir.nodeValue=rr}catch(dr){W$1(St,St.return,dr)}}break;case 3:if(dk(e,St),fk(St),_i&4&&_e!==null&&_e.memoizedState.isDehydrated)try{bd(e.containerInfo)}catch(dr){W$1(St,St.return,dr)}break;case 4:dk(e,St),fk(St);break;case 13:dk(e,St),fk(St),ir=St.child,ir.flags&8192&&(rr=ir.memoizedState!==null,ir.stateNode.isHidden=rr,!rr||ir.alternate!==null&&ir.alternate.memoizedState!==null||(gk=B$1())),_i&4&&bk(St);break;case 22:if(ur=_e!==null&&_e.memoizedState!==null,St.mode&1?(U$1=(hr=U$1)||ur,dk(e,St),U$1=hr):dk(e,St),fk(St),_i&8192){if(hr=St.memoizedState!==null,(St.stateNode.isHidden=hr)&&!ur&&(St.mode&1)!==0)for(V$1=St,ur=St.child;ur!==null;){for(or=V$1=ur;V$1!==null;){switch(nr=V$1,er=nr.child,nr.tag){case 0:case 11:case 14:case 15:Qj(4,nr,nr.return);break;case 1:Mj(nr,nr.return);var ar=nr.stateNode;if(typeof ar.componentWillUnmount=="function"){_i=nr,_e=nr.return;try{e=_i,ar.props=e.memoizedProps,ar.state=e.memoizedState,ar.componentWillUnmount()}catch(dr){W$1(_i,_e,dr)}}break;case 5:Mj(nr,nr.return);break;case 22:if(nr.memoizedState!==null){hk(or);continue}}er!==null?(er.return=nr,V$1=er):hk(or)}ur=ur.sibling}t:for(ur=null,or=St;;){if(or.tag===5){if(ur===null){ur=or;try{ir=or.stateNode,hr?(rr=ir.style,typeof rr.setProperty=="function"?rr.setProperty("display","none","important"):rr.display="none"):(cr=or.stateNode,tr=or.memoizedProps.style,gr=tr!=null&&tr.hasOwnProperty("display")?tr.display:null,cr.style.display=rb("display",gr))}catch(dr){W$1(St,St.return,dr)}}}else if(or.tag===6){if(ur===null)try{or.stateNode.nodeValue=hr?"":or.memoizedProps}catch(dr){W$1(St,St.return,dr)}}else if((or.tag!==22&&or.tag!==23||or.memoizedState===null||or===St)&&or.child!==null){or.child.return=or,or=or.child;continue}if(or===St)break t;for(;or.sibling===null;){if(or.return===null||or.return===St)break t;ur===or&&(ur=null),or=or.return}ur===or&&(ur=null),or.sibling.return=or.return,or=or.sibling}}break;case 19:dk(e,St),fk(St),_i&4&&bk(St);break;case 21:break;default:dk(e,St),fk(St)}}function fk(St){var e=St.flags;if(e&2){try{t:{for(var _e=St.return;_e!==null;){if(Uj(_e)){var _i=_e;break t}_e=_e.return}throw Error(p$2(160))}switch(_i.tag){case 5:var ir=_i.stateNode;_i.flags&32&&(ob(ir,""),_i.flags&=-33);var rr=Vj(St);Xj(St,rr,ir);break;case 3:case 4:var gr=_i.stateNode.containerInfo,cr=Vj(St);Wj(St,cr,gr);break;default:throw Error(p$2(161))}}catch(tr){W$1(St,St.return,tr)}St.flags&=-3}e&4096&&(St.flags&=-4097)}function ik(St,e,_e){V$1=St,jk(St)}function jk(St,e,_e){for(var _i=(St.mode&1)!==0;V$1!==null;){var ir=V$1,rr=ir.child;if(ir.tag===22&&_i){var gr=ir.memoizedState!==null||Kj;if(!gr){var cr=ir.alternate,tr=cr!==null&&cr.memoizedState!==null||U$1;cr=Kj;var hr=U$1;if(Kj=gr,(U$1=tr)&&!hr)for(V$1=ir;V$1!==null;)gr=V$1,tr=gr.child,gr.tag===22&&gr.memoizedState!==null?kk(ir):tr!==null?(tr.return=gr,V$1=tr):kk(ir);for(;rr!==null;)V$1=rr,jk(rr),rr=rr.sibling;V$1=ir,Kj=cr,U$1=hr}lk(St)}else(ir.subtreeFlags&8772)!==0&&rr!==null?(rr.return=ir,V$1=rr):lk(St)}}function lk(St){for(;V$1!==null;){var e=V$1;if((e.flags&8772)!==0){var _e=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:U$1||Rj(5,e);break;case 1:var _i=e.stateNode;if(e.flags&4&&!U$1)if(_e===null)_i.componentDidMount();else{var ir=e.elementType===e.type?_e.memoizedProps:Lg(e.type,_e.memoizedProps);_i.componentDidUpdate(ir,_e.memoizedState,_i.__reactInternalSnapshotBeforeUpdate)}var rr=e.updateQueue;rr!==null&&ih(e,rr,_i);break;case 3:var gr=e.updateQueue;if(gr!==null){if(_e=null,e.child!==null)switch(e.child.tag){case 5:_e=e.child.stateNode;break;case 1:_e=e.child.stateNode}ih(e,gr,_e)}break;case 5:var cr=e.stateNode;if(_e===null&&e.flags&4){_e=cr;var tr=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":tr.autoFocus&&_e.focus();break;case"img":tr.src&&(_e.src=tr.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var hr=e.alternate;if(hr!==null){var ur=hr.memoizedState;if(ur!==null){var or=ur.dehydrated;or!==null&&bd(or)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$2(163))}U$1||e.flags&512&&Sj(e)}catch(nr){W$1(e,e.return,nr)}}if(e===St){V$1=null;break}if(_e=e.sibling,_e!==null){_e.return=e.return,V$1=_e;break}V$1=e.return}}function hk(St){for(;V$1!==null;){var e=V$1;if(e===St){V$1=null;break}var _e=e.sibling;if(_e!==null){_e.return=e.return,V$1=_e;break}V$1=e.return}}function kk(St){for(;V$1!==null;){var e=V$1;try{switch(e.tag){case 0:case 11:case 15:var _e=e.return;try{Rj(4,e)}catch(tr){W$1(e,_e,tr)}break;case 1:var _i=e.stateNode;if(typeof _i.componentDidMount=="function"){var ir=e.return;try{_i.componentDidMount()}catch(tr){W$1(e,ir,tr)}}var rr=e.return;try{Sj(e)}catch(tr){W$1(e,rr,tr)}break;case 5:var gr=e.return;try{Sj(e)}catch(tr){W$1(e,gr,tr)}}}catch(tr){W$1(e,e.return,tr)}if(e===St){V$1=null;break}var cr=e.sibling;if(cr!==null){cr.return=e.return,V$1=cr;break}V$1=e.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K$1=0,R$1=null,Y$1=null,Z$1=0,gj=0,fj=Uf(0),T$1=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L$1(){return(K$1&6)!==0?B$1():Bk!==-1?Bk:Bk=B$1()}function lh(St){return(St.mode&1)===0?1:(K$1&2)!==0&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(St=C$1,St!==0||(St=window.event,St=St===void 0?16:jd(St.type)),St)}function mh(St,e,_e,_i){if(50<zk)throw zk=0,Ak=null,Error(p$2(185));Ac(St,_e,_i),((K$1&2)===0||St!==R$1)&&(St===R$1&&((K$1&2)===0&&(rk|=_e),T$1===4&&Dk(St,Z$1)),Ek(St,_i),_e===1&&K$1===0&&(e.mode&1)===0&&(Hj=B$1()+500,fg&&jg()))}function Ek(St,e){var _e=St.callbackNode;wc(St,e);var _i=uc(St,St===R$1?Z$1:0);if(_i===0)_e!==null&&bc(_e),St.callbackNode=null,St.callbackPriority=0;else if(e=_i&-_i,St.callbackPriority!==e){if(_e!=null&&bc(_e),e===1)St.tag===0?ig(Fk.bind(null,St)):hg(Fk.bind(null,St)),Jf(function(){(K$1&6)===0&&jg()}),_e=null;else{switch(Dc(_i)){case 1:_e=fc;break;case 4:_e=gc;break;case 16:_e=hc;break;case 536870912:_e=jc;break;default:_e=hc}_e=Gk(_e,Hk.bind(null,St))}St.callbackPriority=e,St.callbackNode=_e}}function Hk(St,e){if(Bk=-1,Ck=0,(K$1&6)!==0)throw Error(p$2(327));var _e=St.callbackNode;if(Ik()&&St.callbackNode!==_e)return null;var _i=uc(St,St===R$1?Z$1:0);if(_i===0)return null;if((_i&30)!==0||(_i&St.expiredLanes)!==0||e)e=Jk(St,_i);else{e=_i;var ir=K$1;K$1|=2;var rr=Kk();(R$1!==St||Z$1!==e)&&(vk=null,Hj=B$1()+500,Lk(St,e));do try{Mk();break}catch(cr){Nk(St,cr)}while(1);Qg(),nk.current=rr,K$1=ir,Y$1!==null?e=0:(R$1=null,Z$1=0,e=T$1)}if(e!==0){if(e===2&&(ir=xc(St),ir!==0&&(_i=ir,e=Ok(St,ir))),e===1)throw _e=qk,Lk(St,0),Dk(St,_i),Ek(St,B$1()),_e;if(e===6)Dk(St,_i);else{if(ir=St.current.alternate,(_i&30)===0&&!Pk(ir)&&(e=Jk(St,_i),e===2&&(rr=xc(St),rr!==0&&(_i=rr,e=Ok(St,rr))),e===1))throw _e=qk,Lk(St,0),Dk(St,_i),Ek(St,B$1()),_e;switch(St.finishedWork=ir,St.finishedLanes=_i,e){case 0:case 1:throw Error(p$2(345));case 2:Qk(St,uk,vk);break;case 3:if(Dk(St,_i),(_i&130023424)===_i&&(e=gk+500-B$1(),10<e)){if(uc(St,0)!==0)break;if(ir=St.suspendedLanes,(ir&_i)!==_i){L$1(),St.pingedLanes|=St.suspendedLanes&ir;break}St.timeoutHandle=Ff(Qk.bind(null,St,uk,vk),e);break}Qk(St,uk,vk);break;case 4:if(Dk(St,_i),(_i&4194240)===_i)break;for(e=St.eventTimes,ir=-1;0<_i;){var gr=31-oc(_i);rr=1<<gr,gr=e[gr],gr>ir&&(ir=gr),_i&=~rr}if(_i=ir,_i=B$1()-_i,_i=(120>_i?120:480>_i?480:1080>_i?1080:1920>_i?1920:3e3>_i?3e3:4320>_i?4320:1960*mk(_i/1960))-_i,10<_i){St.timeoutHandle=Ff(Qk.bind(null,St,uk,vk),_i);break}Qk(St,uk,vk);break;case 5:Qk(St,uk,vk);break;default:throw Error(p$2(329))}}}return Ek(St,B$1()),St.callbackNode===_e?Hk.bind(null,St):null}function Ok(St,e){var _e=tk;return St.current.memoizedState.isDehydrated&&(Lk(St,e).flags|=256),St=Jk(St,e),St!==2&&(e=uk,uk=_e,e!==null&&Gj(e)),St}function Gj(St){uk===null?uk=St:uk.push.apply(uk,St)}function Pk(St){for(var e=St;;){if(e.flags&16384){var _e=e.updateQueue;if(_e!==null&&(_e=_e.stores,_e!==null))for(var _i=0;_i<_e.length;_i++){var ir=_e[_i],rr=ir.getSnapshot;ir=ir.value;try{if(!He(rr(),ir))return!1}catch{return!1}}}if(_e=e.child,e.subtreeFlags&16384&&_e!==null)_e.return=e,e=_e;else{if(e===St)break;for(;e.sibling===null;){if(e.return===null||e.return===St)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Dk(St,e){for(e&=~sk,e&=~rk,St.suspendedLanes|=e,St.pingedLanes&=~e,St=St.expirationTimes;0<e;){var _e=31-oc(e),_i=1<<_e;St[_e]=-1,e&=~_i}}function Fk(St){if((K$1&6)!==0)throw Error(p$2(327));Ik();var e=uc(St,0);if((e&1)===0)return Ek(St,B$1()),null;var _e=Jk(St,e);if(St.tag!==0&&_e===2){var _i=xc(St);_i!==0&&(e=_i,_e=Ok(St,_i))}if(_e===1)throw _e=qk,Lk(St,0),Dk(St,e),Ek(St,B$1()),_e;if(_e===6)throw Error(p$2(345));return St.finishedWork=St.current.alternate,St.finishedLanes=e,Qk(St,uk,vk),Ek(St,B$1()),null}function Rk(St,e){var _e=K$1;K$1|=1;try{return St(e)}finally{K$1=_e,K$1===0&&(Hj=B$1()+500,fg&&jg())}}function Sk(St){xk!==null&&xk.tag===0&&(K$1&6)===0&&Ik();var e=K$1;K$1|=1;var _e=pk.transition,_i=C$1;try{if(pk.transition=null,C$1=1,St)return St()}finally{C$1=_i,pk.transition=_e,K$1=e,(K$1&6)===0&&jg()}}function Ij(){gj=fj.current,E$1(fj)}function Lk(St,e){St.finishedWork=null,St.finishedLanes=0;var _e=St.timeoutHandle;if(_e!==-1&&(St.timeoutHandle=-1,Gf(_e)),Y$1!==null)for(_e=Y$1.return;_e!==null;){var _i=_e;switch(wg(_i),_i.tag){case 1:_i=_i.type.childContextTypes,_i!=null&&$f();break;case 3:Jh(),E$1(Wf),E$1(H$1),Oh();break;case 5:Lh(_i);break;case 4:Jh();break;case 13:E$1(M$1);break;case 19:E$1(M$1);break;case 10:Rg(_i.type._context);break;case 22:case 23:Ij()}_e=_e.return}if(R$1=St,Y$1=St=wh(St.current,null),Z$1=gj=e,T$1=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(e=0;e<Wg.length;e++)if(_e=Wg[e],_i=_e.interleaved,_i!==null){_e.interleaved=null;var ir=_i.next,rr=_e.pending;if(rr!==null){var gr=rr.next;rr.next=ir,_i.next=gr}_e.pending=_i}Wg=null}return St}function Nk(St,e){do{var _e=Y$1;try{if(Qg(),Ph.current=ai,Sh){for(var _i=N$1.memoizedState;_i!==null;){var ir=_i.queue;ir!==null&&(ir.pending=null),_i=_i.next}Sh=!1}if(Rh=0,P$1=O$1=N$1=null,Th=!1,Uh=0,ok.current=null,_e===null||_e.return===null){T$1=1,qk=e,Y$1=null;break}t:{var rr=St,gr=_e.return,cr=_e,tr=e;if(e=Z$1,cr.flags|=32768,tr!==null&&typeof tr=="object"&&typeof tr.then=="function"){var hr=tr,ur=cr,or=ur.tag;if((ur.mode&1)===0&&(or===0||or===11||or===15)){var nr=ur.alternate;nr?(ur.updateQueue=nr.updateQueue,ur.memoizedState=nr.memoizedState,ur.lanes=nr.lanes):(ur.updateQueue=null,ur.memoizedState=null)}var er=Vi(gr);if(er!==null){er.flags&=-257,Wi(er,gr,cr,rr,e),er.mode&1&&Ti(rr,hr,e),e=er,tr=hr;var ar=e.updateQueue;if(ar===null){var dr=new Set;dr.add(tr),e.updateQueue=dr}else ar.add(tr);break t}else{if((e&1)===0){Ti(rr,hr,e),uj();break t}tr=Error(p$2(426))}}else if(I$1&&cr.mode&1){var lr=Vi(gr);if(lr!==null){(lr.flags&65536)===0&&(lr.flags|=256),Wi(lr,gr,cr,rr,e),Jg(Ki(tr,cr));break t}}rr=tr=Ki(tr,cr),T$1!==4&&(T$1=2),tk===null?tk=[rr]:tk.push(rr),rr=gr;do{switch(rr.tag){case 3:rr.flags|=65536,e&=-e,rr.lanes|=e;var sr=Oi(rr,tr,e);fh(rr,sr);break t;case 1:cr=tr;var pr=rr.type,mr=rr.stateNode;if((rr.flags&128)===0&&(typeof pr.getDerivedStateFromError=="function"||mr!==null&&typeof mr.componentDidCatch=="function"&&(Si===null||!Si.has(mr)))){rr.flags|=65536,e&=-e,rr.lanes|=e;var vr=Ri(rr,cr,e);fh(rr,vr);break t}}rr=rr.return}while(rr!==null)}Tk(_e)}catch(yr){e=yr,Y$1===_e&&_e!==null&&(Y$1=_e=_e.return);continue}break}while(1)}function Kk(){var St=nk.current;return nk.current=ai,St===null?ai:St}function uj(){(T$1===0||T$1===3||T$1===2)&&(T$1=4),R$1===null||(hh&268435455)===0&&(rk&268435455)===0||Dk(R$1,Z$1)}function Jk(St,e){var _e=K$1;K$1|=2;var _i=Kk();(R$1!==St||Z$1!==e)&&(vk=null,Lk(St,e));do try{Uk();break}catch(ir){Nk(St,ir)}while(1);if(Qg(),K$1=_e,nk.current=_i,Y$1!==null)throw Error(p$2(261));return R$1=null,Z$1=0,T$1}function Uk(){for(;Y$1!==null;)Vk(Y$1)}function Mk(){for(;Y$1!==null&&!cc();)Vk(Y$1)}function Vk(St){var e=Wk(St.alternate,St,gj);St.memoizedProps=St.pendingProps,e===null?Tk(St):Y$1=e,ok.current=null}function Tk(St){var e=St;do{var _e=e.alternate;if(St=e.return,(e.flags&32768)===0){if(_e=Fj(_e,e,gj),_e!==null){Y$1=_e;return}}else{if(_e=Jj(_e,e),_e!==null){_e.flags&=32767,Y$1=_e;return}if(St!==null)St.flags|=32768,St.subtreeFlags=0,St.deletions=null;else{T$1=6,Y$1=null;return}}if(e=e.sibling,e!==null){Y$1=e;return}Y$1=e=St}while(e!==null);T$1===0&&(T$1=5)}function Qk(St,e,_e){var _i=C$1,ir=pk.transition;try{pk.transition=null,C$1=1,Xk(St,e,_e,_i)}finally{pk.transition=ir,C$1=_i}return null}function Xk(St,e,_e,_i){do Ik();while(xk!==null);if((K$1&6)!==0)throw Error(p$2(327));_e=St.finishedWork;var ir=St.finishedLanes;if(_e===null)return null;if(St.finishedWork=null,St.finishedLanes=0,_e===St.current)throw Error(p$2(177));St.callbackNode=null,St.callbackPriority=0;var rr=_e.lanes|_e.childLanes;if(Bc(St,rr),St===R$1&&(Y$1=R$1=null,Z$1=0),(_e.subtreeFlags&2064)===0&&(_e.flags&2064)===0||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),rr=(_e.flags&15990)!==0,(_e.subtreeFlags&15990)!==0||rr){rr=pk.transition,pk.transition=null;var gr=C$1;C$1=1;var cr=K$1;K$1|=4,ok.current=null,Pj(St,_e),ek(_e,St),Oe(Df),dd=!!Cf,Df=Cf=null,St.current=_e,ik(_e),dc(),K$1=cr,C$1=gr,pk.transition=rr}else St.current=_e;if(wk&&(wk=!1,xk=St,yk=ir),rr=St.pendingLanes,rr===0&&(Si=null),mc(_e.stateNode),Ek(St,B$1()),e!==null)for(_i=St.onRecoverableError,_e=0;_e<e.length;_e++)ir=e[_e],_i(ir.value,{componentStack:ir.stack,digest:ir.digest});if(Pi)throw Pi=!1,St=Qi,Qi=null,St;return(yk&1)!==0&&St.tag!==0&&Ik(),rr=St.pendingLanes,(rr&1)!==0?St===Ak?zk++:(zk=0,Ak=St):zk=0,jg(),null}function Ik(){if(xk!==null){var St=Dc(yk),e=pk.transition,_e=C$1;try{if(pk.transition=null,C$1=16>St?16:St,xk===null)var _i=!1;else{if(St=xk,xk=null,yk=0,(K$1&6)!==0)throw Error(p$2(331));var ir=K$1;for(K$1|=4,V$1=St.current;V$1!==null;){var rr=V$1,gr=rr.child;if((V$1.flags&16)!==0){var cr=rr.deletions;if(cr!==null){for(var tr=0;tr<cr.length;tr++){var hr=cr[tr];for(V$1=hr;V$1!==null;){var ur=V$1;switch(ur.tag){case 0:case 11:case 15:Qj(8,ur,rr)}var or=ur.child;if(or!==null)or.return=ur,V$1=or;else for(;V$1!==null;){ur=V$1;var nr=ur.sibling,er=ur.return;if(Tj(ur),ur===hr){V$1=null;break}if(nr!==null){nr.return=er,V$1=nr;break}V$1=er}}}var ar=rr.alternate;if(ar!==null){var dr=ar.child;if(dr!==null){ar.child=null;do{var lr=dr.sibling;dr.sibling=null,dr=lr}while(dr!==null)}}V$1=rr}}if((rr.subtreeFlags&2064)!==0&&gr!==null)gr.return=rr,V$1=gr;else t:for(;V$1!==null;){if(rr=V$1,(rr.flags&2048)!==0)switch(rr.tag){case 0:case 11:case 15:Qj(9,rr,rr.return)}var sr=rr.sibling;if(sr!==null){sr.return=rr.return,V$1=sr;break t}V$1=rr.return}}var pr=St.current;for(V$1=pr;V$1!==null;){gr=V$1;var mr=gr.child;if((gr.subtreeFlags&2064)!==0&&mr!==null)mr.return=gr,V$1=mr;else t:for(gr=pr;V$1!==null;){if(cr=V$1,(cr.flags&2048)!==0)try{switch(cr.tag){case 0:case 11:case 15:Rj(9,cr)}}catch(yr){W$1(cr,cr.return,yr)}if(cr===gr){V$1=null;break t}var vr=cr.sibling;if(vr!==null){vr.return=cr.return,V$1=vr;break t}V$1=cr.return}}if(K$1=ir,jg(),lc$1&&typeof lc$1.onPostCommitFiberRoot=="function")try{lc$1.onPostCommitFiberRoot(kc,St)}catch{}_i=!0}return _i}finally{C$1=_e,pk.transition=e}}return!1}function Yk(St,e,_e){e=Ki(_e,e),e=Oi(St,e,1),St=dh(St,e,1),e=L$1(),St!==null&&(Ac(St,1,e),Ek(St,e))}function W$1(St,e,_e){if(St.tag===3)Yk(St,St,_e);else for(;e!==null;){if(e.tag===3){Yk(e,St,_e);break}else if(e.tag===1){var _i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof _i.componentDidCatch=="function"&&(Si===null||!Si.has(_i))){St=Ki(_e,St),St=Ri(e,St,1),e=dh(e,St,1),St=L$1(),e!==null&&(Ac(e,1,St),Ek(e,St));break}}e=e.return}}function Ui(St,e,_e){var _i=St.pingCache;_i!==null&&_i.delete(e),e=L$1(),St.pingedLanes|=St.suspendedLanes&_e,R$1===St&&(Z$1&_e)===_e&&(T$1===4||T$1===3&&(Z$1&130023424)===Z$1&&500>B$1()-gk?Lk(St,0):sk|=_e),Ek(St,e)}function Zk(St,e){e===0&&((St.mode&1)===0?e=1:(e=sc,sc<<=1,(sc&130023424)===0&&(sc=4194304)));var _e=L$1();St=Zg(St,e),St!==null&&(Ac(St,e,_e),Ek(St,_e))}function vj(St){var e=St.memoizedState,_e=0;e!==null&&(_e=e.retryLane),Zk(St,_e)}function ck(St,e){var _e=0;switch(St.tag){case 13:var _i=St.stateNode,ir=St.memoizedState;ir!==null&&(_e=ir.retryLane);break;case 19:_i=St.stateNode;break;default:throw Error(p$2(314))}_i!==null&&_i.delete(e),Zk(St,_e)}var Wk;Wk=function(St,e,_e){if(St!==null)if(St.memoizedProps!==e.pendingProps||Wf.current)Ug=!0;else{if((St.lanes&_e)===0&&(e.flags&128)===0)return Ug=!1,zj(St,e,_e);Ug=(St.flags&131072)!==0}else Ug=!1,I$1&&(e.flags&1048576)!==0&&ug(e,ng,e.index);switch(e.lanes=0,e.tag){case 2:var _i=e.type;jj(St,e),St=e.pendingProps;var ir=Yf(e,H$1.current);Tg(e,_e),ir=Xh(null,e,_i,St,ir,_e);var rr=bi();return e.flags|=1,typeof ir=="object"&&ir!==null&&typeof ir.render=="function"&&ir.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zf(_i)?(rr=!0,cg(e)):rr=!1,e.memoizedState=ir.state!==null&&ir.state!==void 0?ir.state:null,ah(e),ir.updater=nh,e.stateNode=ir,ir._reactInternals=e,rh(e,_i,St,_e),e=kj(null,e,_i,!0,rr,_e)):(e.tag=0,I$1&&rr&&vg(e),Yi(null,e,ir,_e),e=e.child),e;case 16:_i=e.elementType;t:{switch(jj(St,e),St=e.pendingProps,ir=_i._init,_i=ir(_i._payload),e.type=_i,ir=e.tag=$k(_i),St=Lg(_i,St),ir){case 0:e=dj(null,e,_i,St,_e);break t;case 1:e=ij(null,e,_i,St,_e);break t;case 11:e=Zi(null,e,_i,St,_e);break t;case 14:e=aj(null,e,_i,Lg(_i.type,St),_e);break t}throw Error(p$2(306,_i,""))}return e;case 0:return _i=e.type,ir=e.pendingProps,ir=e.elementType===_i?ir:Lg(_i,ir),dj(St,e,_i,ir,_e);case 1:return _i=e.type,ir=e.pendingProps,ir=e.elementType===_i?ir:Lg(_i,ir),ij(St,e,_i,ir,_e);case 3:t:{if(lj(e),St===null)throw Error(p$2(387));_i=e.pendingProps,rr=e.memoizedState,ir=rr.element,bh(St,e),gh(e,_i,null,_e);var gr=e.memoizedState;if(_i=gr.element,rr.isDehydrated)if(rr={element:_i,isDehydrated:!1,cache:gr.cache,pendingSuspenseBoundaries:gr.pendingSuspenseBoundaries,transitions:gr.transitions},e.updateQueue.baseState=rr,e.memoizedState=rr,e.flags&256){ir=Ki(Error(p$2(423)),e),e=mj(St,e,_i,_e,ir);break t}else if(_i!==ir){ir=Ki(Error(p$2(424)),e),e=mj(St,e,_i,_e,ir);break t}else for(yg=Lf(e.stateNode.containerInfo.firstChild),xg=e,I$1=!0,zg=null,_e=Ch(e,null,_i,_e),e.child=_e;_e;)_e.flags=_e.flags&-3|4096,_e=_e.sibling;else{if(Ig(),_i===ir){e=$i(St,e,_e);break t}Yi(St,e,_i,_e)}e=e.child}return e;case 5:return Kh(e),St===null&&Eg(e),_i=e.type,ir=e.pendingProps,rr=St!==null?St.memoizedProps:null,gr=ir.children,Ef(_i,ir)?gr=null:rr!==null&&Ef(_i,rr)&&(e.flags|=32),hj(St,e),Yi(St,e,gr,_e),e.child;case 6:return St===null&&Eg(e),null;case 13:return pj(St,e,_e);case 4:return Ih(e,e.stateNode.containerInfo),_i=e.pendingProps,St===null?e.child=Bh(e,null,_i,_e):Yi(St,e,_i,_e),e.child;case 11:return _i=e.type,ir=e.pendingProps,ir=e.elementType===_i?ir:Lg(_i,ir),Zi(St,e,_i,ir,_e);case 7:return Yi(St,e,e.pendingProps,_e),e.child;case 8:return Yi(St,e,e.pendingProps.children,_e),e.child;case 12:return Yi(St,e,e.pendingProps.children,_e),e.child;case 10:t:{if(_i=e.type._context,ir=e.pendingProps,rr=e.memoizedProps,gr=ir.value,G$1(Mg,_i._currentValue),_i._currentValue=gr,rr!==null)if(He(rr.value,gr)){if(rr.children===ir.children&&!Wf.current){e=$i(St,e,_e);break t}}else for(rr=e.child,rr!==null&&(rr.return=e);rr!==null;){var cr=rr.dependencies;if(cr!==null){gr=rr.child;for(var tr=cr.firstContext;tr!==null;){if(tr.context===_i){if(rr.tag===1){tr=ch(-1,_e&-_e),tr.tag=2;var hr=rr.updateQueue;if(hr!==null){hr=hr.shared;var ur=hr.pending;ur===null?tr.next=tr:(tr.next=ur.next,ur.next=tr),hr.pending=tr}}rr.lanes|=_e,tr=rr.alternate,tr!==null&&(tr.lanes|=_e),Sg(rr.return,_e,e),cr.lanes|=_e;break}tr=tr.next}}else if(rr.tag===10)gr=rr.type===e.type?null:rr.child;else if(rr.tag===18){if(gr=rr.return,gr===null)throw Error(p$2(341));gr.lanes|=_e,cr=gr.alternate,cr!==null&&(cr.lanes|=_e),Sg(gr,_e,e),gr=rr.sibling}else gr=rr.child;if(gr!==null)gr.return=rr;else for(gr=rr;gr!==null;){if(gr===e){gr=null;break}if(rr=gr.sibling,rr!==null){rr.return=gr.return,gr=rr;break}gr=gr.return}rr=gr}Yi(St,e,ir.children,_e),e=e.child}return e;case 9:return ir=e.type,_i=e.pendingProps.children,Tg(e,_e),ir=Vg(ir),_i=_i(ir),e.flags|=1,Yi(St,e,_i,_e),e.child;case 14:return _i=e.type,ir=Lg(_i,e.pendingProps),ir=Lg(_i.type,ir),aj(St,e,_i,ir,_e);case 15:return cj(St,e,e.type,e.pendingProps,_e);case 17:return _i=e.type,ir=e.pendingProps,ir=e.elementType===_i?ir:Lg(_i,ir),jj(St,e),e.tag=1,Zf(_i)?(St=!0,cg(e)):St=!1,Tg(e,_e),ph(e,_i,ir),rh(e,_i,ir,_e),kj(null,e,_i,!0,St,_e);case 19:return yj(St,e,_e);case 22:return ej(St,e,_e)}throw Error(p$2(156,e.tag))};function Gk(St,e){return ac(St,e)}function al(St,e,_e,_i){this.tag=St,this.key=_e,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(St,e,_e,_i){return new al(St,e,_e,_i)}function bj(St){return St=St.prototype,!(!St||!St.isReactComponent)}function $k(St){if(typeof St=="function")return bj(St)?1:0;if(St!=null){if(St=St.$$typeof,St===Da)return 11;if(St===Ga)return 14}return 2}function wh(St,e){var _e=St.alternate;return _e===null?(_e=Bg(St.tag,e,St.key,St.mode),_e.elementType=St.elementType,_e.type=St.type,_e.stateNode=St.stateNode,_e.alternate=St,St.alternate=_e):(_e.pendingProps=e,_e.type=St.type,_e.flags=0,_e.subtreeFlags=0,_e.deletions=null),_e.flags=St.flags&14680064,_e.childLanes=St.childLanes,_e.lanes=St.lanes,_e.child=St.child,_e.memoizedProps=St.memoizedProps,_e.memoizedState=St.memoizedState,_e.updateQueue=St.updateQueue,e=St.dependencies,_e.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},_e.sibling=St.sibling,_e.index=St.index,_e.ref=St.ref,_e}function yh(St,e,_e,_i,ir,rr){var gr=2;if(_i=St,typeof St=="function")bj(St)&&(gr=1);else if(typeof St=="string")gr=5;else t:switch(St){case ya:return Ah(_e.children,ir,rr,e);case za:gr=8,ir|=8;break;case Aa:return St=Bg(12,_e,e,ir|2),St.elementType=Aa,St.lanes=rr,St;case Ea:return St=Bg(13,_e,e,ir),St.elementType=Ea,St.lanes=rr,St;case Fa:return St=Bg(19,_e,e,ir),St.elementType=Fa,St.lanes=rr,St;case Ia:return qj(_e,ir,rr,e);default:if(typeof St=="object"&&St!==null)switch(St.$$typeof){case Ba:gr=10;break t;case Ca:gr=9;break t;case Da:gr=11;break t;case Ga:gr=14;break t;case Ha:gr=16,_i=null;break t}throw Error(p$2(130,St==null?St:typeof St,""))}return e=Bg(gr,_e,e,ir),e.elementType=St,e.type=_i,e.lanes=rr,e}function Ah(St,e,_e,_i){return St=Bg(7,St,_i,e),St.lanes=_e,St}function qj(St,e,_e,_i){return St=Bg(22,St,_i,e),St.elementType=Ia,St.lanes=_e,St.stateNode={isHidden:!1},St}function xh(St,e,_e){return St=Bg(6,St,null,e),St.lanes=_e,St}function zh(St,e,_e){return e=Bg(4,St.children!==null?St.children:[],St.key,e),e.lanes=_e,e.stateNode={containerInfo:St.containerInfo,pendingChildren:null,implementation:St.implementation},e}function bl(St,e,_e,_i,ir){this.tag=e,this.containerInfo=St,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=_i,this.onRecoverableError=ir,this.mutableSourceEagerHydrationData=null}function cl(St,e,_e,_i,ir,rr,gr,cr,tr){return St=new bl(St,e,_e,cr,tr),e===1?(e=1,rr===!0&&(e|=8)):e=0,rr=Bg(3,null,null,e),St.current=rr,rr.stateNode=St,rr.memoizedState={element:_i,isDehydrated:_e,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(rr),St}function dl(St,e,_e){var _i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:_i==null?null:""+_i,children:St,containerInfo:e,implementation:_e}}function el(St){if(!St)return Vf;St=St._reactInternals;t:{if(Vb(St)!==St||St.tag!==1)throw Error(p$2(170));var e=St;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Zf(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(e!==null);throw Error(p$2(171))}if(St.tag===1){var _e=St.type;if(Zf(_e))return bg(St,_e,e)}return e}function fl$1(St,e,_e,_i,ir,rr,gr,cr,tr){return St=cl(_e,_i,!0,St,ir,rr,gr,cr,tr),St.context=el(null),_e=St.current,_i=L$1(),ir=lh(_e),rr=ch(_i,ir),rr.callback=e!=null?e:null,dh(_e,rr,ir),St.current.lanes=ir,Ac(St,ir,_i),Ek(St,_i),St}function gl(St,e,_e,_i){var ir=e.current,rr=L$1(),gr=lh(ir);return _e=el(_e),e.context===null?e.context=_e:e.pendingContext=_e,e=ch(rr,gr),e.payload={element:St},_i=_i===void 0?null:_i,_i!==null&&(e.callback=_i),St=dh(ir,e,gr),St!==null&&(mh(St,ir,gr,rr),eh(St,ir,gr)),gr}function hl(St){if(St=St.current,!St.child)return null;switch(St.child.tag){case 5:return St.child.stateNode;default:return St.child.stateNode}}function il(St,e){if(St=St.memoizedState,St!==null&&St.dehydrated!==null){var _e=St.retryLane;St.retryLane=_e!==0&&_e<e?_e:e}}function jl(St,e){il(St,e),(St=St.alternate)&&il(St,e)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(St){console.error(St)};function ml(St){this._internalRoot=St}nl.prototype.render=ml.prototype.render=function(St){var e=this._internalRoot;if(e===null)throw Error(p$2(409));gl(St,e,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var St=this._internalRoot;if(St!==null){this._internalRoot=null;var e=St.containerInfo;Sk(function(){gl(null,St,null,null)}),e[uf]=null}};function nl(St){this._internalRoot=St}nl.prototype.unstable_scheduleHydration=function(St){if(St){var e=Hc();St={blockedOn:null,target:St,priority:e};for(var _e=0;_e<Qc.length&&e!==0&&e<Qc[_e].priority;_e++);Qc.splice(_e,0,St),_e===0&&Vc(St)}};function ol(St){return!(!St||St.nodeType!==1&&St.nodeType!==9&&St.nodeType!==11)}function pl(St){return!(!St||St.nodeType!==1&&St.nodeType!==9&&St.nodeType!==11&&(St.nodeType!==8||St.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(St,e,_e,_i,ir){if(ir){if(typeof _i=="function"){var rr=_i;_i=function(){var hr=hl(gr);rr.call(hr)}}var gr=fl$1(e,_i,St,0,null,!1,!1,"",ql);return St._reactRootContainer=gr,St[uf]=gr.current,sf(St.nodeType===8?St.parentNode:St),Sk(),gr}for(;ir=St.lastChild;)St.removeChild(ir);if(typeof _i=="function"){var cr=_i;_i=function(){var hr=hl(tr);cr.call(hr)}}var tr=cl(St,0,!1,null,null,!1,!1,"",ql);return St._reactRootContainer=tr,St[uf]=tr.current,sf(St.nodeType===8?St.parentNode:St),Sk(function(){gl(e,tr,_e,_i)}),tr}function sl(St,e,_e,_i,ir){var rr=_e._reactRootContainer;if(rr){var gr=rr;if(typeof ir=="function"){var cr=ir;ir=function(){var tr=hl(gr);cr.call(tr)}}gl(e,gr,St,ir)}else gr=rl(_e,e,St,ir,_i);return hl(gr)}Ec=function(St){switch(St.tag){case 3:var e=St.stateNode;if(e.current.memoizedState.isDehydrated){var _e=tc(e.pendingLanes);_e!==0&&(Cc(e,_e|1),Ek(e,B$1()),(K$1&6)===0&&(Hj=B$1()+500,jg()))}break;case 13:Sk(function(){var _i=Zg(St,1);if(_i!==null){var ir=L$1();mh(_i,St,1,ir)}}),jl(St,1)}};Fc=function(St){if(St.tag===13){var e=Zg(St,134217728);if(e!==null){var _e=L$1();mh(e,St,134217728,_e)}jl(St,134217728)}};Gc=function(St){if(St.tag===13){var e=lh(St),_e=Zg(St,e);if(_e!==null){var _i=L$1();mh(_e,St,e,_i)}jl(St,e)}};Hc=function(){return C$1};Ic=function(St,e){var _e=C$1;try{return C$1=St,e()}finally{C$1=_e}};yb=function(St,e,_e){switch(e){case"input":if(bb(St,_e),e=_e.name,_e.type==="radio"&&e!=null){for(_e=St;_e.parentNode;)_e=_e.parentNode;for(_e=_e.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<_e.length;e++){var _i=_e[e];if(_i!==St&&_i.form===St.form){var ir=Db(_i);if(!ir)throw Error(p$2(90));Wa(_i),bb(_i,ir)}}}break;case"textarea":ib(St,_e);break;case"select":e=_e.value,e!=null&&fb(St,!!_e.multiple,e,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue$1,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(St){return St=Zb(St),St===null?null:St.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc$1=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(St,e){var _e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(e))throw Error(p$2(200));return dl(St,e,null,_e)};reactDom_production_min.createRoot=function(St,e){if(!ol(St))throw Error(p$2(299));var _e=!1,_i="",ir=ll;return e!=null&&(e.unstable_strictMode===!0&&(_e=!0),e.identifierPrefix!==void 0&&(_i=e.identifierPrefix),e.onRecoverableError!==void 0&&(ir=e.onRecoverableError)),e=cl(St,1,!1,null,null,_e,!1,_i,ir),St[uf]=e.current,sf(St.nodeType===8?St.parentNode:St),new ml(e)};reactDom_production_min.findDOMNode=function(St){if(St==null)return null;if(St.nodeType===1)return St;var e=St._reactInternals;if(e===void 0)throw typeof St.render=="function"?Error(p$2(188)):(St=Object.keys(St).join(","),Error(p$2(268,St)));return St=Zb(e),St=St===null?null:St.stateNode,St};reactDom_production_min.flushSync=function(St){return Sk(St)};reactDom_production_min.hydrate=function(St,e,_e){if(!pl(e))throw Error(p$2(200));return sl(null,St,e,!0,_e)};reactDom_production_min.hydrateRoot=function(St,e,_e){if(!ol(St))throw Error(p$2(405));var _i=_e!=null&&_e.hydratedSources||null,ir=!1,rr="",gr=ll;if(_e!=null&&(_e.unstable_strictMode===!0&&(ir=!0),_e.identifierPrefix!==void 0&&(rr=_e.identifierPrefix),_e.onRecoverableError!==void 0&&(gr=_e.onRecoverableError)),e=fl$1(e,null,St,1,_e!=null?_e:null,ir,!1,rr,gr),St[uf]=e.current,sf(St),_i)for(St=0;St<_i.length;St++)_e=_i[St],ir=_e._getVersion,ir=ir(_e._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[_e,ir]:e.mutableSourceEagerHydrationData.push(_e,ir);return new nl(e)};reactDom_production_min.render=function(St,e,_e){if(!pl(e))throw Error(p$2(200));return sl(null,St,e,!1,_e)};reactDom_production_min.unmountComponentAtNode=function(St){if(!pl(St))throw Error(p$2(40));return St._reactRootContainer?(Sk(function(){sl(null,null,St,!1,function(){St._reactRootContainer=null,St[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(St,e,_e,_i){if(!pl(_e))throw Error(p$2(200));if(St==null||St._reactInternals===void 0)throw Error(p$2(38));return sl(St,e,_e,!1,_i)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";(function(St){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(_e){console.error(_e)}}e(),St.exports=reactDom_production_min})(reactDom);var m$2=reactDom.exports;client.createRoot=m$2.createRoot,client.hydrateRoot=m$2.hydrateRoot;var classnames={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(St){(function(){var e={}.hasOwnProperty;function _e(){for(var _i=[],ir=0;ir<arguments.length;ir++){var rr=arguments[ir];if(!!rr){var gr=typeof rr;if(gr==="string"||gr==="number")_i.push(rr);else if(Array.isArray(rr)){if(rr.length){var cr=_e.apply(null,rr);cr&&_i.push(cr)}}else if(gr==="object"){if(rr.toString!==Object.prototype.toString&&!rr.toString.toString().includes("[native code]")){_i.push(rr.toString());continue}for(var tr in rr)e.call(rr,tr)&&rr[tr]&&_i.push(tr)}}}return _i.join(" ")}St.exports?(_e.default=_e,St.exports=_e):window.classNames=_e})()})(classnames);const cx=classnames.exports;function commonjsRequire(St){throw new Error('Could not dynamically require "'+St+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(e,_e){module.exports=_e()})(globalThis,()=>(()=>{var __webpack_modules__=[,(St,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.VerbosityLevel=e.Util=e.UnknownErrorException=e.UnexpectedResponseException=e.UNSUPPORTED_FEATURES=e.TextRenderingMode=e.StreamType=e.RenderingIntentFlag=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.PageActionEventType=e.OPS=e.MissingPDFException=e.LINE_FACTOR=e.LINE_DESCENT_FACTOR=e.InvalidPDFException=e.ImageKind=e.IDENTITY_MATRIX=e.FormatError=e.FontType=e.FeatureTest=e.FONT_IDENTITY_MATRIX=e.DocumentActionEventType=e.CMapCompressionType=e.BaseException=e.AnnotationType=e.AnnotationStateModelType=e.AnnotationReviewState=e.AnnotationReplyType=e.AnnotationMode=e.AnnotationMarkedState=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationEditorType=e.AnnotationEditorPrefix=e.AnnotationEditorParamsType=e.AnnotationBorderStyleType=e.AnnotationActionEventType=e.AbortException=void 0,e.arrayByteLength=Mr,e.arraysToBytes=Zr,e.assert=Cr,e.bytesToString=Ir,e.createPromiseCapability=Ms,e.createValidAbsoluteUrl=Sr,e.escapeString=Cn,e.getModificationDate=Ss,e.getVerbosityLevel=Lr,e.info=Er,e.isArrayBuffer=as,e.isArrayEqual=cs,e.isAscii=Dn,e.objectFromMap=vn,e.objectSize=an,e.setVerbosityLevel=$r,e.shadow=Pr,e.string32=tn,e.stringToBytes=Ur,e.stringToPDFString=zn,e.stringToUTF16BEString=Kn,e.stringToUTF8String=Nn,e.unreachable=Gr,e.utf8StringToString=ds,e.warn=Hr;const _e=[1,0,0,1,0,0];e.IDENTITY_MATRIX=_e;const _i=[.001,0,0,.001,0,0];e.FONT_IDENTITY_MATRIX=_i;const ir=1.35;e.LINE_FACTOR=ir;const rr=.35;e.LINE_DESCENT_FACTOR=rr;const gr={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};e.RenderingIntentFlag=gr;const cr={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};e.AnnotationMode=cr;const tr="pdfjs_internal_editor_";e.AnnotationEditorPrefix=tr;const hr={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};e.AnnotationEditorType=hr;const ur={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};e.AnnotationEditorParamsType=ur;const or={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};e.PermissionFlag=or;const nr={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};e.TextRenderingMode=nr;const er={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};e.ImageKind=er;const ar={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};e.AnnotationType=ar;const dr={MARKED:"Marked",REVIEW:"Review"};e.AnnotationStateModelType=dr;const lr={MARKED:"Marked",UNMARKED:"Unmarked"};e.AnnotationMarkedState=lr;const sr={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};e.AnnotationReviewState=sr;const pr={GROUP:"Group",REPLY:"R"};e.AnnotationReplyType=pr;const mr={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};e.AnnotationFlag=mr;const vr={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};e.AnnotationFieldFlag=vr;const yr={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};e.AnnotationBorderStyleType=yr;const br={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};e.AnnotationActionEventType=br;const _r={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};e.DocumentActionEventType=_r;const xr={O:"PageOpen",C:"PageClose"};e.PageActionEventType=xr;const Nr={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};e.StreamType=Nr;const zr={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};e.FontType=zr;const Tr={ERRORS:0,WARNINGS:1,INFOS:5};e.VerbosityLevel=Tr;const Br={NONE:0,BINARY:1};e.CMapCompressionType=Br;const Jr={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};e.OPS=Jr;const Yr={forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};e.UNSUPPORTED_FEATURES=Yr;const Xr={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};e.PasswordResponses=Xr;let Vr=Tr.WARNINGS;function $r(xn){Number.isInteger(xn)&&(Vr=xn)}function Lr(){return Vr}function Er(xn){Vr>=Tr.INFOS&&console.log(`Info: ${xn}`)}function Hr(xn){Vr>=Tr.WARNINGS&&console.log(`Warning: ${xn}`)}function Gr(xn){throw new Error(xn)}function Cr(xn,bn){xn||Gr(bn)}function kr(xn){if(!xn)return!1;switch(xn.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Sr(xn,bn=null,En=null){if(!xn)return null;try{if(En&&typeof xn=="string"){if(En.addDefaultProtocol&&xn.startsWith("www.")){const es=xn.match(/\./g);es&&es.length>=2&&(xn=`http://${xn}`)}if(En.tryConvertEncoding)try{xn=Nn(xn)}catch{}}const Wn=bn?new URL(xn,bn):new URL(xn);if(kr(Wn))return Wn}catch{}return null}function Pr(xn,bn,En){return Object.defineProperty(xn,bn,{value:En,enumerable:!0,configurable:!0,writable:!1}),En}const jr=function(){function bn(En,Wn){this.constructor===bn&&Gr("Cannot initialize BaseException."),this.message=En,this.name=Wn}return bn.prototype=new Error,bn.constructor=bn,bn}();e.BaseException=jr;class Wr extends jr{constructor(bn,En){super(bn,"PasswordException"),this.code=En}}e.PasswordException=Wr;class Kr extends jr{constructor(bn,En){super(bn,"UnknownErrorException"),this.details=En}}e.UnknownErrorException=Kr;class Qr extends jr{constructor(bn){super(bn,"InvalidPDFException")}}e.InvalidPDFException=Qr;class on extends jr{constructor(bn){super(bn,"MissingPDFException")}}e.MissingPDFException=on;class pn extends jr{constructor(bn,En){super(bn,"UnexpectedResponseException"),this.status=En}}e.UnexpectedResponseException=pn;class fn extends jr{constructor(bn){super(bn,"FormatError")}}e.FormatError=fn;class en extends jr{constructor(bn){super(bn,"AbortException")}}e.AbortException=en;function Ir(xn){(typeof xn!="object"||xn===null||xn.length===void 0)&&Gr("Invalid argument for bytesToString");const bn=xn.length,En=8192;if(bn<En)return String.fromCharCode.apply(null,xn);const Wn=[];for(let es=0;es<bn;es+=En){const fs=Math.min(es+En,bn),Zn=xn.subarray(es,fs);Wn.push(String.fromCharCode.apply(null,Zn))}return Wn.join("")}function Ur(xn){typeof xn!="string"&&Gr("Invalid argument for stringToBytes");const bn=xn.length,En=new Uint8Array(bn);for(let Wn=0;Wn<bn;++Wn)En[Wn]=xn.charCodeAt(Wn)&255;return En}function Mr(xn){if(xn.length!==void 0)return xn.length;if(xn.byteLength!==void 0)return xn.byteLength;Gr("Invalid argument for arrayByteLength")}function Zr(xn){const bn=xn.length;if(bn===1&&xn[0]instanceof Uint8Array)return xn[0];let En=0;for(let fs=0;fs<bn;fs++)En+=Mr(xn[fs]);let Wn=0;const es=new Uint8Array(En);for(let fs=0;fs<bn;fs++){let Zn=xn[fs];Zn instanceof Uint8Array||(typeof Zn=="string"?Zn=Ur(Zn):Zn=new Uint8Array(Zn));const ts=Zn.byteLength;es.set(Zn,Wn),Wn+=ts}return es}function tn(xn){return String.fromCharCode(xn>>24&255,xn>>16&255,xn>>8&255,xn&255)}function an(xn){return Object.keys(xn).length}function vn(xn){const bn=Object.create(null);for(const[En,Wn]of xn)bn[En]=Wn;return bn}function _n(){const xn=new Uint8Array(4);return xn[0]=1,new Uint32Array(xn.buffer,0,1)[0]===1}function dn(){try{return new Function(""),!0}catch{return!1}}class Pn{static get isLittleEndian(){return Pr(this,"isLittleEndian",_n())}static get isEvalSupported(){return Pr(this,"isEvalSupported",dn())}static get isOffscreenCanvasSupported(){return Pr(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}}e.FeatureTest=Pn;const gn=[...Array(256).keys()].map(xn=>xn.toString(16).padStart(2,"0"));class In{static makeHexColor(bn,En,Wn){return`#${gn[bn]}${gn[En]}${gn[Wn]}`}static scaleMinMax(bn,En){let Wn;bn[0]?(bn[0]<0&&(Wn=En[0],En[0]=En[1],En[1]=Wn),En[0]*=bn[0],En[1]*=bn[0],bn[3]<0&&(Wn=En[2],En[2]=En[3],En[3]=Wn),En[2]*=bn[3],En[3]*=bn[3]):(Wn=En[0],En[0]=En[2],En[2]=Wn,Wn=En[1],En[1]=En[3],En[3]=Wn,bn[1]<0&&(Wn=En[2],En[2]=En[3],En[3]=Wn),En[2]*=bn[1],En[3]*=bn[1],bn[2]<0&&(Wn=En[0],En[0]=En[1],En[1]=Wn),En[0]*=bn[2],En[1]*=bn[2]),En[0]+=bn[4],En[1]+=bn[4],En[2]+=bn[5],En[3]+=bn[5]}static transform(bn,En){return[bn[0]*En[0]+bn[2]*En[1],bn[1]*En[0]+bn[3]*En[1],bn[0]*En[2]+bn[2]*En[3],bn[1]*En[2]+bn[3]*En[3],bn[0]*En[4]+bn[2]*En[5]+bn[4],bn[1]*En[4]+bn[3]*En[5]+bn[5]]}static applyTransform(bn,En){const Wn=bn[0]*En[0]+bn[1]*En[2]+En[4],es=bn[0]*En[1]+bn[1]*En[3]+En[5];return[Wn,es]}static applyInverseTransform(bn,En){const Wn=En[0]*En[3]-En[1]*En[2],es=(bn[0]*En[3]-bn[1]*En[2]+En[2]*En[5]-En[4]*En[3])/Wn,fs=(-bn[0]*En[1]+bn[1]*En[0]+En[4]*En[1]-En[5]*En[0])/Wn;return[es,fs]}static getAxialAlignedBoundingBox(bn,En){const Wn=In.applyTransform(bn,En),es=In.applyTransform(bn.slice(2,4),En),fs=In.applyTransform([bn[0],bn[3]],En),Zn=In.applyTransform([bn[2],bn[1]],En);return[Math.min(Wn[0],es[0],fs[0],Zn[0]),Math.min(Wn[1],es[1],fs[1],Zn[1]),Math.max(Wn[0],es[0],fs[0],Zn[0]),Math.max(Wn[1],es[1],fs[1],Zn[1])]}static inverseTransform(bn){const En=bn[0]*bn[3]-bn[1]*bn[2];return[bn[3]/En,-bn[1]/En,-bn[2]/En,bn[0]/En,(bn[2]*bn[5]-bn[4]*bn[3])/En,(bn[4]*bn[1]-bn[5]*bn[0])/En]}static singularValueDecompose2dScale(bn){const En=[bn[0],bn[2],bn[1],bn[3]],Wn=bn[0]*En[0]+bn[1]*En[2],es=bn[0]*En[1]+bn[1]*En[3],fs=bn[2]*En[0]+bn[3]*En[2],Zn=bn[2]*En[1]+bn[3]*En[3],ts=(Wn+Zn)/2,us=Math.sqrt((Wn+Zn)**2-4*(Wn*Zn-fs*es))/2,vs=ts+us||1,ys=ts-us||1;return[Math.sqrt(vs),Math.sqrt(ys)]}static normalizeRect(bn){const En=bn.slice(0);return bn[0]>bn[2]&&(En[0]=bn[2],En[2]=bn[0]),bn[1]>bn[3]&&(En[1]=bn[3],En[3]=bn[1]),En}static intersect(bn,En){const Wn=Math.max(Math.min(bn[0],bn[2]),Math.min(En[0],En[2])),es=Math.min(Math.max(bn[0],bn[2]),Math.max(En[0],En[2]));if(Wn>es)return null;const fs=Math.max(Math.min(bn[1],bn[3]),Math.min(En[1],En[3])),Zn=Math.min(Math.max(bn[1],bn[3]),Math.max(En[1],En[3]));return fs>Zn?null:[Wn,fs,es,Zn]}static bezierBoundingBox(bn,En,Wn,es,fs,Zn,ts,us){const vs=[],ys=[[],[]];let Cs,gs,os,ws,Ns,Ls,Es,Ts;for(let Ys=0;Ys<2;++Ys){if(Ys===0?(gs=6*bn-12*Wn+6*fs,Cs=-3*bn+9*Wn-9*fs+3*ts,os=3*Wn-3*bn):(gs=6*En-12*es+6*Zn,Cs=-3*En+9*es-9*Zn+3*us,os=3*es-3*En),Math.abs(Cs)<1e-12){if(Math.abs(gs)<1e-12)continue;ws=-os/gs,0<ws&&ws<1&&vs.push(ws);continue}Es=gs*gs-4*os*Cs,Ts=Math.sqrt(Es),!(Es<0)&&(Ns=(-gs+Ts)/(2*Cs),0<Ns&&Ns<1&&vs.push(Ns),Ls=(-gs-Ts)/(2*Cs),0<Ls&&Ls<1&&vs.push(Ls))}let Vs=vs.length,zs;const Xs=Vs;for(;Vs--;)ws=vs[Vs],zs=1-ws,ys[0][Vs]=zs*zs*zs*bn+3*zs*zs*ws*Wn+3*zs*ws*ws*fs+ws*ws*ws*ts,ys[1][Vs]=zs*zs*zs*En+3*zs*zs*ws*es+3*zs*ws*ws*Zn+ws*ws*ws*us;return ys[0][Xs]=bn,ys[1][Xs]=En,ys[0][Xs+1]=ts,ys[1][Xs+1]=us,ys[0].length=ys[1].length=Xs+2,[Math.min(...ys[0]),Math.min(...ys[1]),Math.max(...ys[0]),Math.max(...ys[1])]}}e.Util=In;const Rn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function zn(xn){if(xn[0]>="\xEF"){let En;if(xn[0]==="\xFE"&&xn[1]==="\xFF"?En="utf-16be":xn[0]==="\xFF"&&xn[1]==="\xFE"?En="utf-16le":xn[0]==="\xEF"&&xn[1]==="\xBB"&&xn[2]==="\xBF"&&(En="utf-8"),En)try{const Wn=new TextDecoder(En,{fatal:!0}),es=Ur(xn);return Wn.decode(es)}catch(Wn){Hr(`stringToPDFString: "${Wn}".`)}}const bn=[];for(let En=0,Wn=xn.length;En<Wn;En++){const es=Rn[xn.charCodeAt(En)];bn.push(es?String.fromCharCode(es):xn.charAt(En))}return bn.join("")}function Cn(xn){return xn.replace(/([()\\\n\r])/g,bn=>bn===`
`?"\\n":bn==="\r"?"\\r":`\\${bn}`)}function Dn(xn){return/^[\x00-\x7F]*$/.test(xn)}function Kn(xn){const bn=["\xFE\xFF"];for(let En=0,Wn=xn.length;En<Wn;En++){const es=xn.charCodeAt(En);bn.push(String.fromCharCode(es>>8&255),String.fromCharCode(es&255))}return bn.join("")}function Nn(xn){return decodeURIComponent(escape(xn))}function ds(xn){return unescape(encodeURIComponent(xn))}function as(xn){return typeof xn=="object"&&xn!==null&&xn.byteLength!==void 0}function cs(xn,bn){if(xn.length!==bn.length)return!1;for(let En=0,Wn=xn.length;En<Wn;En++)if(xn[En]!==bn[En])return!1;return!0}function Ss(xn=new Date){return[xn.getUTCFullYear().toString(),(xn.getUTCMonth()+1).toString().padStart(2,"0"),xn.getUTCDate().toString().padStart(2,"0"),xn.getUTCHours().toString().padStart(2,"0"),xn.getUTCMinutes().toString().padStart(2,"0"),xn.getUTCSeconds().toString().padStart(2,"0")].join("")}function Ms(){const xn=Object.create(null);let bn=!1;return Object.defineProperty(xn,"settled",{get(){return bn}}),xn.promise=new Promise(function(En,Wn){xn.resolve=function(es){bn=!0,En(es)},xn.reject=function(es){bn=!0,Wn(es)}}),xn}},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var St,_e,_i,ir,rr,gr,cr,tr,hr,ur,or,Fm,er,ar;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(14),_is_node=__w_pdfjs_require__(12),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_xfa_text=__w_pdfjs_require__(19);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:lr,NodeCMapReaderFactory:sr,NodeStandardFontDataFactory:pr}=__w_pdfjs_require__(20);exports.DefaultCanvasFactory=DefaultCanvasFactory=lr,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=sr,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=pr}let createPDFNetworkStream;function setPDFNetworkStreamFactory(lr){createPDFNetworkStream=lr}function getDocument(lr){const sr=new PDFDocumentLoadingTask;let pr;if(typeof lr=="string"||lr instanceof URL)pr={url:lr};else if((0,_util.isArrayBuffer)(lr))pr={data:lr};else if(lr instanceof PDFDataRangeTransport)pr={range:lr};else{if(typeof lr!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!lr.url&&!lr.data&&!lr.range)throw new Error("Invalid parameter object: need either .data, .range or .url");pr=lr}const mr=Object.create(null);let vr=null,yr=null;for(const _r in pr){const xr=pr[_r];switch(_r){case"url":if(typeof window<"u")try{mr[_r]=new URL(xr,window.location).href;continue}catch(Nr){(0,_util.warn)(`Cannot create valid URL: "${Nr}".`)}else if(typeof xr=="string"||xr instanceof URL){mr[_r]=xr.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":vr=xr;continue;case"worker":yr=xr;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&xr instanceof Buffer)mr[_r]=new Uint8Array(xr);else{if(xr instanceof Uint8Array)break;if(typeof xr=="string")mr[_r]=(0,_util.stringToBytes)(xr);else if(typeof xr=="object"&&xr!==null&&!isNaN(xr.length))mr[_r]=new Uint8Array(xr);else if((0,_util.isArrayBuffer)(xr))mr[_r]=new Uint8Array(xr);else throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}continue}mr[_r]=xr}if(mr.CMapReaderFactory=mr.CMapReaderFactory||DefaultCMapReaderFactory,mr.StandardFontDataFactory=mr.StandardFontDataFactory||DefaultStandardFontDataFactory,mr.ignoreErrors=mr.stopAtErrors!==!0,mr.fontExtraProperties=mr.fontExtraProperties===!0,mr.pdfBug=mr.pdfBug===!0,mr.enableXfa=mr.enableXfa===!0,(!Number.isInteger(mr.rangeChunkSize)||mr.rangeChunkSize<1)&&(mr.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),(typeof mr.docBaseUrl!="string"||(0,_display_utils.isDataScheme)(mr.docBaseUrl))&&(mr.docBaseUrl=null),(!Number.isInteger(mr.maxImageSize)||mr.maxImageSize<-1)&&(mr.maxImageSize=-1),typeof mr.cMapUrl!="string"&&(mr.cMapUrl=null),typeof mr.standardFontDataUrl!="string"&&(mr.standardFontDataUrl=null),typeof mr.useWorkerFetch!="boolean"&&(mr.useWorkerFetch=mr.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&mr.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),typeof mr.isEvalSupported!="boolean"&&(mr.isEvalSupported=!0),typeof mr.isOffscreenCanvasSupported!="boolean"&&(mr.isOffscreenCanvasSupported=!_is_node.isNodeJS),typeof mr.disableFontFace!="boolean"&&(mr.disableFontFace=_is_node.isNodeJS),typeof mr.useSystemFonts!="boolean"&&(mr.useSystemFonts=!_is_node.isNodeJS&&!mr.disableFontFace),(typeof mr.ownerDocument!="object"||mr.ownerDocument===null)&&(mr.ownerDocument=globalThis.document),typeof mr.disableRange!="boolean"&&(mr.disableRange=!1),typeof mr.disableStream!="boolean"&&(mr.disableStream=!1),typeof mr.disableAutoFetch!="boolean"&&(mr.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(mr.verbosity),!yr){const _r={verbosity:mr.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};yr=_r.port?PDFWorker.fromPort(_r):new PDFWorker(_r),sr._worker=yr}const br=sr.docId;return yr.promise.then(function(){if(sr.destroyed)throw new Error("Loading aborted");const _r=_fetchDocument(yr,mr,vr,br),xr=new Promise(function(Nr){let zr;vr?zr=new _transport_stream.PDFDataTransportStream({length:mr.length,initialData:mr.initialData,progressiveDone:mr.progressiveDone,contentDispositionFilename:mr.contentDispositionFilename,disableRange:mr.disableRange,disableStream:mr.disableStream},vr):mr.data||(zr=createPDFNetworkStream({url:mr.url,length:mr.length,httpHeaders:mr.httpHeaders,withCredentials:mr.withCredentials,rangeChunkSize:mr.rangeChunkSize,disableRange:mr.disableRange,disableStream:mr.disableStream})),Nr(zr)});return Promise.all([_r,xr]).then(function([Nr,zr]){if(sr.destroyed)throw new Error("Loading aborted");const Tr=new _message_handler.MessageHandler(br,Nr,yr.port),Br=new WorkerTransport(Tr,sr,zr,mr);sr._transport=Br,Tr.send("Ready",null)})}).catch(sr._capability.reject),sr}async function _fetchDocument(lr,sr,pr,mr){if(lr.destroyed)throw new Error("Worker was destroyed");pr&&(sr.length=pr.length,sr.initialData=pr.initialData,sr.progressiveDone=pr.progressiveDone,sr.contentDispositionFilename=pr.contentDispositionFilename);const vr=await lr.messageHandler.sendWithPromise("GetDocRequest",{docId:mr,apiVersion:"3.0.279",data:sr.data,password:sr.password,disableAutoFetch:sr.disableAutoFetch,rangeChunkSize:sr.rangeChunkSize,length:sr.length,docBaseUrl:sr.docBaseUrl,enableXfa:sr.enableXfa,evaluatorOptions:{maxImageSize:sr.maxImageSize,disableFontFace:sr.disableFontFace,ignoreErrors:sr.ignoreErrors,isEvalSupported:sr.isEvalSupported,isOffscreenCanvasSupported:sr.isOffscreenCanvasSupported,fontExtraProperties:sr.fontExtraProperties,useSystemFonts:sr.useSystemFonts,cMapUrl:sr.useWorkerFetch?sr.cMapUrl:null,standardFontDataUrl:sr.useWorkerFetch?sr.standardFontDataUrl:null}});if(sr.data&&(sr.data=null),lr.destroyed)throw new Error("Worker was destroyed");return vr}const e=class{constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${Tm(e,St)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}async destroy(){var sr;this.destroyed=!0,await((sr=this._transport)==null?void 0:sr.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};let PDFDocumentLoadingTask=e;St=new WeakMap,Vn(PDFDocumentLoadingTask,St,0),exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(sr,pr,mr=!1,vr=null){this.length=sr,this.initialData=pr,this.progressiveDone=mr,this.contentDispositionFilename=vr,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(sr){this._rangeListeners.push(sr)}addProgressListener(sr){this._progressListeners.push(sr)}addProgressiveReadListener(sr){this._progressiveReadListeners.push(sr)}addProgressiveDoneListener(sr){this._progressiveDoneListeners.push(sr)}onDataRange(sr,pr){for(const mr of this._rangeListeners)mr(sr,pr)}onDataProgress(sr,pr){this._readyCapability.promise.then(()=>{for(const mr of this._progressListeners)mr(sr,pr)})}onDataProgressiveRead(sr){this._readyCapability.promise.then(()=>{for(const pr of this._progressiveReadListeners)pr(sr)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const sr of this._progressiveDoneListeners)sr()})}transportReady(){this._readyCapability.resolve()}requestDataRange(sr,pr){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(sr,pr){this._pdfInfo=sr,this._transport=pr}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(sr){return this._transport.getPage(sr)}getPageIndex(sr){return this._transport.getPageIndex(sr)}getDestinations(){return this._transport.getDestinations()}getDestination(sr){return this._transport.getDestination(sr)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(sr=!1){return this._transport.startCleanup(sr||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(sr,pr,mr,vr,yr=!1){this._pageIndex=sr,this._pageInfo=pr,this._ownerDocument=vr,this._transport=mr,this._stats=yr?new _display_utils.StatTimer:null,this._pdfBug=yr,this.commonObjs=mr.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:sr,rotation:pr=this.rotate,offsetX:mr=0,offsetY:vr=0,dontFlip:yr=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:sr,rotation:pr,offsetX:mr,offsetY:vr,dontFlip:yr})}getAnnotations({intent:sr="display"}={}){const pr=this._transport.getRenderingIntent(sr);let mr=this._annotationPromises.get(pr.cacheKey);return mr||(mr=this._transport.getAnnotations(this._pageIndex,pr.renderingIntent),this._annotationPromises.set(pr.cacheKey,mr)),mr}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}async getXfa(){var sr;return((sr=this._transport._htmlForXfa)==null?void 0:sr.children[this._pageIndex])||null}render({canvasContext:sr,viewport:pr,intent:mr="display",annotationMode:vr=_util.AnnotationMode.ENABLE,transform:yr=null,canvasFactory:br=null,background:_r=null,optionalContentConfigPromise:xr=null,annotationCanvasMap:Nr=null,pageColors:zr=null,printAnnotationStorage:Tr=null}){var Er,Hr;(Er=this._stats)==null||Er.time("Overall");const Br=this._transport.getRenderingIntent(mr,vr,Tr);this.pendingCleanup=!1,xr||(xr=this._transport.getOptionalContentConfig());let Jr=this._intentStates.get(Br.cacheKey);Jr||(Jr=Object.create(null),this._intentStates.set(Br.cacheKey,Jr)),Jr.streamReaderCancelTimeout&&(clearTimeout(Jr.streamReaderCancelTimeout),Jr.streamReaderCancelTimeout=null);const Yr=br||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),Xr=!!(Br.renderingIntent&_util.RenderingIntentFlag.PRINT);Jr.displayReadyCapability||(Jr.displayReadyCapability=(0,_util.createPromiseCapability)(),Jr.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Hr=this._stats)==null||Hr.time("Page Request"),this._pumpOperatorList(Br));const Vr=Gr=>{var Cr,kr;Jr.renderTasks.delete($r),(this.cleanupAfterRender||Xr)&&(this.pendingCleanup=!0),this._tryCleanup(),Gr?($r.capability.reject(Gr),this._abortOperatorList({intentState:Jr,reason:Gr instanceof Error?Gr:new Error(Gr)})):$r.capability.resolve(),(Cr=this._stats)==null||Cr.timeEnd("Rendering"),(kr=this._stats)==null||kr.timeEnd("Overall")},$r=new InternalRenderTask({callback:Vr,params:{canvasContext:sr,viewport:pr,transform:yr,background:_r},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Nr,operatorList:Jr.operatorList,pageIndex:this._pageIndex,canvasFactory:Yr,useRequestAnimationFrame:!Xr,pdfBug:this._pdfBug,pageColors:zr});(Jr.renderTasks||(Jr.renderTasks=new Set)).add($r);const Lr=$r.task;return Promise.all([Jr.displayReadyCapability.promise,xr]).then(([Gr,Cr])=>{var kr;if(this.pendingCleanup){Vr();return}(kr=this._stats)==null||kr.time("Rendering"),$r.initializeGraphics({transparency:Gr,optionalContentConfig:Cr}),$r.operatorListChanged()}).catch(Vr),Lr}getOperatorList({intent:sr="display",annotationMode:pr=_util.AnnotationMode.ENABLE,printAnnotationStorage:mr=null}={}){var xr;function vr(){br.operatorList.lastChunk&&(br.opListReadCapability.resolve(br.operatorList),br.renderTasks.delete(_r))}const yr=this._transport.getRenderingIntent(sr,pr,mr,!0);let br=this._intentStates.get(yr.cacheKey);br||(br=Object.create(null),this._intentStates.set(yr.cacheKey,br));let _r;return br.opListReadCapability||(_r=Object.create(null),_r.operatorListChanged=vr,br.opListReadCapability=(0,_util.createPromiseCapability)(),(br.renderTasks||(br.renderTasks=new Set)).add(_r),br.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(xr=this._stats)==null||xr.time("Page Request"),this._pumpOperatorList(yr)),br.opListReadCapability.promise}streamTextContent({disableCombineTextItems:sr=!1,includeMarkedContent:pr=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:sr!==!0,includeMarkedContent:pr===!0},{highWaterMark:100,size(vr){return vr.items.length}})}getTextContent(sr={}){if(this._transport._htmlForXfa)return this.getXfa().then(mr=>_xfa_text.XfaText.textContent(mr));const pr=this.streamTextContent(sr);return new Promise(function(mr,vr){function yr(){br.read().then(function({value:xr,done:Nr}){if(Nr){mr(_r);return}Object.assign(_r.styles,xr.styles),_r.items.push(...xr.items),yr()},vr)}const br=pr.getReader(),_r={items:[],styles:Object.create(null)};yr()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const sr=[];for(const pr of this._intentStates.values())if(this._abortOperatorList({intentState:pr,reason:new Error("Page was destroyed."),force:!0}),!pr.opListReadCapability)for(const mr of pr.renderTasks)sr.push(mr.completed),mr.cancel();this.objs.clear();for(const pr of this._bitmaps)pr.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(sr)}cleanup(sr=!1){return this.pendingCleanup=!0,this._tryCleanup(sr)}_tryCleanup(sr=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:pr,operatorList:mr}of this._intentStates.values())if(pr.size>0||!mr.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,sr&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const pr of this._bitmaps)pr.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(sr,pr){var vr,yr;const mr=this._intentStates.get(pr);!mr||((vr=this._stats)==null||vr.timeEnd("Page Request"),(yr=mr.displayReadyCapability)==null||yr.resolve(sr))}_renderPageChunk(sr,pr){for(let mr=0,vr=sr.length;mr<vr;mr++)pr.operatorList.fnArray.push(sr.fnArray[mr]),pr.operatorList.argsArray.push(sr.argsArray[mr]);pr.operatorList.lastChunk=sr.lastChunk,pr.operatorList.separateAnnots=sr.separateAnnots;for(const mr of pr.renderTasks)mr.operatorListChanged();sr.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:sr,cacheKey:pr,annotationStorageMap:mr}){const yr=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:sr,cacheKey:pr,annotationStorage:mr}).getReader(),br=this._intentStates.get(pr);br.streamReader=yr;const _r=()=>{yr.read().then(({value:xr,done:Nr})=>{if(Nr){br.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(xr,br),_r())},xr=>{if(br.streamReader=null,!this._transport.destroyed){if(br.operatorList){br.operatorList.lastChunk=!0;for(const Nr of br.renderTasks)Nr.operatorListChanged();this._tryCleanup()}if(br.displayReadyCapability)br.displayReadyCapability.reject(xr);else if(br.opListReadCapability)br.opListReadCapability.reject(xr);else throw xr}})};_r()}_abortOperatorList({intentState:sr,reason:pr,force:mr=!1}){if(!!sr.streamReader){if(!mr){if(sr.renderTasks.size>0)return;if(pr instanceof _display_utils.RenderingCancelledException){sr.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:sr,reason:pr,force:!0}),sr.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT);return}}if(sr.streamReader.cancel(new _util.AbortException(pr.message)).catch(()=>{}),sr.streamReader=null,!this._transport.destroyed){for(const[vr,yr]of this._intentStates)if(yr===sr){this._intentStates.delete(vr);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){Vn(this,_e,[]);Vn(this,_i,Promise.resolve())}postMessage(sr,pr){const mr={data:structuredClone(sr,pr)};yn(this,_i).then(()=>{for(const vr of yn(this,_e))vr.call(this,mr)})}addEventListener(sr,pr){yn(this,_e).push(pr)}removeEventListener(sr,pr){const mr=yn(this,_e).indexOf(pr);yn(this,_e).splice(mr,1)}terminate(){yn(this,_e).length=0}}_e=new WeakMap,_i=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const lr=(ir=document==null?void 0:document.currentScript)==null?void 0:ir.src;lr&&(PDFWorkerUtil.fallbackWorkerSrc=lr.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(lr,sr){let pr;try{if(pr=new URL(lr),!pr.origin||pr.origin==="null")return!1}catch{return!1}const mr=new URL(sr,pr);return pr.origin===mr.origin},PDFWorkerUtil.createCDNWrapper=function(lr){const sr=`importScripts("${lr}");`;return URL.createObjectURL(new Blob([sr]))}}const _PDFWorker=class{constructor({name:lr=null,port:sr=null,verbosity:pr=(0,_util.getVerbosityLevel)()}={}){if(sr&&yn(_PDFWorker,rr).has(sr))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=lr,this.destroyed=!1,this.verbosity=pr,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,sr){yn(_PDFWorker,rr).set(sr,this),this._initializeFromPort(sr);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(lr){this._port=lr,this._messageHandler=new _message_handler.MessageHandler("main","worker",lr),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:lr}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,lr)||(lr=PDFWorkerUtil.createCDNWrapper(new URL(lr,window.location).href));const sr=new Worker(lr),pr=new _message_handler.MessageHandler("main","worker",sr),mr=()=>{sr.removeEventListener("error",vr),pr.destroy(),sr.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},vr=()=>{this._webWorker||mr()};sr.addEventListener("error",vr),pr.on("test",br=>{if(sr.removeEventListener("error",vr),this.destroyed){mr();return}br?(this._messageHandler=pr,this._port=sr,this._webWorker=sr,this._readyCapability.resolve(),pr.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),pr.destroy(),sr.terminate())}),pr.on("ready",br=>{if(sr.removeEventListener("error",vr),this.destroyed){mr();return}try{yr()}catch{this._setupFakeWorker()}});const yr=()=>{const br=new Uint8Array;pr.send("test",br,[br.buffer])};yr();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(lr=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const sr=new LoopbackPort;this._port=sr;const pr=`fake${PDFWorkerUtil.fakeWorkerId++}`,mr=new _message_handler.MessageHandler(pr+"_worker",pr,sr);lr.setup(mr,sr);const vr=new _message_handler.MessageHandler(pr,pr+"_worker",sr);this._messageHandler=vr,this._readyCapability.resolve(),vr.send("configure",{verbosity:this.verbosity})}).catch(lr=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${lr.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),yn(_PDFWorker,rr).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(lr){if(!(lr!=null&&lr.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return yn(this,rr).has(lr.port)?yn(this,rr).get(lr.port):new _PDFWorker(lr)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var lr;try{return((lr=globalThis.pdfjsWorker)==null?void 0:lr.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};let PDFWorker=_PDFWorker;rr=new WeakMap,Vn(PDFWorker,rr,new WeakMap),exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(sr,pr,mr,vr){Vn(this,gr,null);Vn(this,cr,new Map);Vn(this,tr,new Map);Vn(this,hr,null);this.messageHandler=sr,this.loadingTask=pr,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:vr.ownerDocument,styleElement:vr.styleElement}),this._params=vr,vr.useWorkerFetch||(this.CMapReaderFactory=new vr.CMapReaderFactory({baseUrl:vr.cMapUrl,isCompressed:vr.cMapPacked}),this.StandardFontDataFactory=new vr.StandardFontDataFactory({baseUrl:vr.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=mr,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return yn(this,gr)}getRenderingIntent(sr,pr=_util.AnnotationMode.ENABLE,mr=null,vr=!1){let yr=_util.RenderingIntentFlag.DISPLAY,br=null;switch(sr){case"any":yr=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":yr=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${sr}`)}switch(pr){case _util.AnnotationMode.DISABLE:yr+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:yr+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:yr+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,br=(yr&_util.RenderingIntentFlag.PRINT&&mr instanceof _annotation_storage.PrintAnnotationStorage?mr:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${pr}`)}return vr&&(yr+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:yr,cacheKey:`${yr}_${_annotation_storage.AnnotationStorage.getHash(br)}`,annotationStorageMap:br}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const sr=[];for(const mr of yn(this,cr).values())sr.push(mr._destroy());yn(this,cr).clear(),yn(this,tr).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const pr=this.messageHandler.sendWithPromise("Terminate",null);return sr.push(pr),Promise.all(sr).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),is(this,hr,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:sr,loadingTask:pr}=this;sr.on("GetReader",(mr,vr)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=yr=>{this._lastProgress={loaded:yr.loaded,total:yr.total}},vr.onPull=()=>{this._fullReader.read().then(function({value:yr,done:br}){if(br){vr.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(yr),"GetReader - expected an ArrayBuffer."),vr.enqueue(new Uint8Array(yr),1,[yr])}).catch(yr=>{vr.error(yr)})},vr.onCancel=yr=>{this._fullReader.cancel(yr),vr.ready.catch(br=>{if(!this.destroyed)throw br})}}),sr.on("ReaderHeadersReady",mr=>{const vr=(0,_util.createPromiseCapability)(),yr=this._fullReader;return yr.headersReady.then(()=>{var br;(!yr.isStreamingSupported||!yr.isRangeSupported)&&(this._lastProgress&&((br=pr.onProgress)==null||br.call(pr,this._lastProgress)),yr.onProgress=_r=>{var xr;(xr=pr.onProgress)==null||xr.call(pr,{loaded:_r.loaded,total:_r.total})}),vr.resolve({isStreamingSupported:yr.isStreamingSupported,isRangeSupported:yr.isRangeSupported,contentLength:yr.contentLength})},vr.reject),vr.promise}),sr.on("GetRangeReader",(mr,vr)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const yr=this._networkStream.getRangeReader(mr.begin,mr.end);if(!yr){vr.close();return}vr.onPull=()=>{yr.read().then(function({value:br,done:_r}){if(_r){vr.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(br),"GetRangeReader - expected an ArrayBuffer."),vr.enqueue(new Uint8Array(br),1,[br])}).catch(br=>{vr.error(br)})},vr.onCancel=br=>{yr.cancel(br),vr.ready.catch(_r=>{if(!this.destroyed)throw _r})}}),sr.on("GetDoc",({pdfInfo:mr})=>{this._numPages=mr.numPages,this._htmlForXfa=mr.htmlForXfa,delete mr.htmlForXfa,pr._capability.resolve(new PDFDocumentProxy(mr,this))}),sr.on("DocException",function(mr){let vr;switch(mr.name){case"PasswordException":vr=new _util.PasswordException(mr.message,mr.code);break;case"InvalidPDFException":vr=new _util.InvalidPDFException(mr.message);break;case"MissingPDFException":vr=new _util.MissingPDFException(mr.message);break;case"UnexpectedResponseException":vr=new _util.UnexpectedResponseException(mr.message,mr.status);break;case"UnknownErrorException":vr=new _util.UnknownErrorException(mr.message,mr.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}pr._capability.reject(vr)}),sr.on("PasswordRequest",mr=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),pr.onPassword){const vr=yr=>{yr instanceof Error?this._passwordCapability.reject(yr):this._passwordCapability.resolve({password:yr})};try{pr.onPassword(vr,mr.code)}catch(yr){this._passwordCapability.reject(yr)}}else this._passwordCapability.reject(new _util.PasswordException(mr.message,mr.code));return this._passwordCapability.promise}),sr.on("DataLoaded",mr=>{var vr;(vr=pr.onProgress)==null||vr.call(pr,{loaded:mr.length,total:mr.length}),this.downloadInfoCapability.resolve(mr)}),sr.on("StartRenderPage",mr=>{if(this.destroyed)return;yn(this,cr).get(mr.pageIndex)._startRenderPage(mr.transparency,mr.cacheKey)}),sr.on("commonobj",([mr,vr,yr])=>{var br;if(!this.destroyed&&!this.commonObjs.has(mr))switch(vr){case"Font":const _r=this._params;if("error"in yr){const zr=yr.error;(0,_util.warn)(`Error during font loading: ${zr}`),this.commonObjs.resolve(mr,zr);break}let xr=null;_r.pdfBug&&((br=globalThis.FontInspector)==null?void 0:br.enabled)&&(xr={registerFont(zr,Tr){globalThis.FontInspector.fontAdded(zr,Tr)}});const Nr=new _font_loader.FontFaceObject(yr,{isEvalSupported:_r.isEvalSupported,disableFontFace:_r.disableFontFace,ignoreErrors:_r.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:xr});this.fontLoader.bind(Nr).catch(zr=>sr.sendWithPromise("FontFallback",{id:mr})).finally(()=>{!_r.fontExtraProperties&&Nr.data&&(Nr.data=null),this.commonObjs.resolve(mr,Nr)});break;case"FontPath":case"Image":this.commonObjs.resolve(mr,yr);break;default:throw new Error(`Got unknown common object type ${vr}`)}}),sr.on("obj",([mr,vr,yr,br])=>{var xr;if(this.destroyed)return;const _r=yn(this,cr).get(vr);if(!_r.objs.has(mr))switch(yr){case"Image":_r.objs.resolve(mr,br);const Nr=8e6;if(br){let zr;if(br.bitmap){const{bitmap:Tr,width:Br,height:Jr}=br;zr=Br*Jr*4,_r._bitmaps.add(Tr)}else zr=((xr=br.data)==null?void 0:xr.length)||0;zr>Nr&&(_r.cleanupAfterRender=!0)}break;case"Pattern":_r.objs.resolve(mr,br);break;default:throw new Error(`Got unknown object type ${yr}`)}}),sr.on("DocProgress",mr=>{var vr;this.destroyed||(vr=pr.onProgress)==null||vr.call(pr,{loaded:mr.loaded,total:mr.total})}),sr.on("DocStats",mr=>{this.destroyed||is(this,gr,Object.freeze({streamTypes:Object.freeze(mr.streamTypes),fontTypes:Object.freeze(mr.fontTypes)}))}),sr.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),sr.on("FetchBuiltInCMap",mr=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(mr):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),sr.on("FetchStandardFontData",mr=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(mr):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:sr}){var pr,mr;this.destroyed||(mr=(pr=this.loadingTask).onUnsupportedFeature)==null||mr.call(pr,sr)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var sr,pr;return this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:(pr=(sr=this._fullReader)==null?void 0:sr.filename)!=null?pr:null}).finally(()=>{this.annotationStorage.resetModified()})}getPage(sr){if(!Number.isInteger(sr)||sr<=0||sr>this._numPages)return Promise.reject(new Error("Invalid page request."));const pr=sr-1,mr=yn(this,tr).get(pr);if(mr)return mr;const vr=this.messageHandler.sendWithPromise("GetPage",{pageIndex:pr}).then(yr=>{if(this.destroyed)throw new Error("Transport destroyed");const br=new PDFPageProxy(pr,yr,this,this._params.ownerDocument,this._params.pdfBug);return yn(this,cr).set(pr,br),br});return yn(this,tr).set(pr,vr),vr}getPageIndex(sr){return typeof sr!="object"||sr===null||!Number.isInteger(sr.num)||sr.num<0||!Number.isInteger(sr.gen)||sr.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:sr.num,gen:sr.gen})}getAnnotations(sr,pr){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:sr,intent:pr})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(sr){return typeof sr!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:sr})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(sr){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:sr})}getStructTree(sr){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:sr})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(sr=>new _optional_content_config.OptionalContentConfig(sr))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return yn(this,hr)||is(this,hr,this.messageHandler.sendWithPromise("GetMetadata",null).then(sr=>{var pr,mr,vr,yr;return{info:sr[0],metadata:sr[1]?new _metadata.Metadata(sr[1]):null,contentDispositionFilename:(mr=(pr=this._fullReader)==null?void 0:pr.filename)!=null?mr:null,contentLength:(yr=(vr=this._fullReader)==null?void 0:vr.contentLength)!=null?yr:null}}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(sr=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const pr of yn(this,cr).values())if(!pr.cleanup())throw new Error(`startCleanup: Page ${pr.pageNumber} is currently rendering.`);this.commonObjs.clear(),sr||this.fontLoader.clear(),is(this,hr,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null}}get loadingParams(){const sr=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:sr.disableAutoFetch,enableXfa:sr.enableXfa})}}gr=new WeakMap,cr=new WeakMap,tr=new WeakMap,hr=new WeakMap;class PDFObjects{constructor(){Vn(this,or);Vn(this,ur,Object.create(null))}get(sr,pr=null){if(pr){const vr=Yn(this,or,Fm).call(this,sr);return vr.capability.promise.then(()=>pr(vr.data)),null}const mr=yn(this,ur)[sr];if(!(mr!=null&&mr.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${sr}.`);return mr.data}has(sr){const pr=yn(this,ur)[sr];return(pr==null?void 0:pr.capability.settled)||!1}resolve(sr,pr=null){const mr=Yn(this,or,Fm).call(this,sr);mr.data=pr,mr.capability.resolve()}clear(){is(this,ur,Object.create(null))}}ur=new WeakMap,or=new WeakSet,Fm=function(sr){const pr=yn(this,ur)[sr];return pr||(yn(this,ur)[sr]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(sr){Vn(this,er,null);is(this,er,sr),this.onContinue=null}get promise(){return yn(this,er).capability.promise}cancel(){yn(this,er).cancel()}get separateAnnots(){const{separateAnnots:sr}=yn(this,er).operatorList;if(!sr)return!1;const{annotationCanvasMap:pr}=yn(this,er);return sr.form||sr.canvas&&(pr==null?void 0:pr.size)>0}}er=new WeakMap,exports.RenderTask=RenderTask;const dr=class{constructor({callback:sr,params:pr,objs:mr,commonObjs:vr,annotationCanvasMap:yr,operatorList:br,pageIndex:_r,canvasFactory:xr,useRequestAnimationFrame:Nr=!1,pdfBug:zr=!1,pageColors:Tr=null}){this.callback=sr,this.params=pr,this.objs=mr,this.commonObjs=vr,this.annotationCanvasMap=yr,this.operatorListIdx=null,this.operatorList=br,this._pageIndex=_r,this.canvasFactory=xr,this._pdfBug=zr,this.pageColors=Tr,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Nr===!0&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=pr.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:sr=!1,optionalContentConfig:pr}){var _r,xr;if(this.cancelled)return;if(this._canvas){if(yn(dr,ar).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");yn(dr,ar).add(this._canvas)}this._pdfBug&&((_r=globalThis.StepperManager)==null?void 0:_r.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:mr,viewport:vr,transform:yr,background:br}=this.params;this.gfx=new _canvas.CanvasGraphics(mr,this.commonObjs,this.objs,this.canvasFactory,pr,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:yr,viewport:vr,transparency:sr,background:br}),this.operatorListIdx=0,this.graphicsReady=!0,(xr=this.graphicsReadyCallback)==null||xr.call(this)}cancel(sr=null){var pr;this.running=!1,this.cancelled=!0,(pr=this.gfx)==null||pr.endDrawing(),this._canvas&&yn(dr,ar).delete(this._canvas),this.callback(sr||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){var sr;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(sr=this.stepper)==null||sr.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&yn(dr,ar).delete(this._canvas),this.callback())))}};let InternalRenderTask=dr;ar=new WeakMap,Vn(InternalRenderTask,ar,new WeakSet);const version="3.0.279";exports.version=version;const build="d0823066c";exports.build=build},(St,e,_e)=>{var tr,b0,ur;Object.defineProperty(e,"__esModule",{value:!0}),e.PrintAnnotationStorage=e.AnnotationStorage=void 0;var _i=_e(1),ir=_e(4),rr=_e(8);class gr{constructor(){Vn(this,tr);this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(nr,er){const ar=this._storage.get(nr);return ar===void 0?er:Object.assign(er,ar)}getRawValue(nr){return this._storage.get(nr)}remove(nr){if(this._storage.delete(nr),this._storage.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const er of this._storage.values())if(er instanceof ir.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(nr,er){const ar=this._storage.get(nr);let dr=!1;if(ar!==void 0)for(const[lr,sr]of Object.entries(er))ar[lr]!==sr&&(dr=!0,ar[lr]=sr);else dr=!0,this._storage.set(nr,er);dr&&Yn(this,tr,b0).call(this),er instanceof ir.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(er.constructor._type)}has(nr){return this._storage.has(nr)}getAll(){return this._storage.size>0?(0,_i.objectFromMap)(this._storage):null}get size(){return this._storage.size}resetModified(){this._modified&&(this._modified=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new cr(this)}get serializable(){if(this._storage.size===0)return null;const nr=new Map;for(const[er,ar]of this._storage){const dr=ar instanceof ir.AnnotationEditor?ar.serialize():ar;dr&&nr.set(er,dr)}return nr}static getHash(nr){if(!nr)return"";const er=new rr.MurmurHash3_64;for(const[ar,dr]of nr)er.update(`${ar}:${JSON.stringify(dr)}`);return er.hexdigest()}}tr=new WeakSet,b0=function(){this._modified||(this._modified=!0,typeof this.onSetModified=="function"&&this.onSetModified())},e.AnnotationStorage=gr;class cr extends gr{constructor(er){super();Vn(this,ur,null);is(this,ur,structuredClone(er.serializable))}get print(){(0,_i.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return yn(this,ur)}}ur=new WeakMap,e.PrintAnnotationStorage=cr},(St,e,_e)=>{var gr,cr,tr,hr,ur,or;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditor=void 0;var _i=_e(5),ir=_e(1);const nr=class{constructor(ar){Vn(this,gr,this.focusin.bind(this));Vn(this,cr,this.focusout.bind(this));Vn(this,tr,!1);Vn(this,hr,!1);Vn(this,ur,!1);Vn(this,or,nr._zIndex++);this.constructor===nr&&(0,ir.unreachable)("Cannot initialize AnnotationEditor."),this.parent=ar.parent,this.id=ar.id,this.width=this.height=null,this.pageIndex=ar.parent.pageIndex,this.name=ar.name,this.div=null;const[dr,lr]=this.parent.viewportBaseDimensions;this.x=ar.x/dr,this.y=ar.y/lr,this.rotation=this.parent.viewport.rotation,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,ir.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=yn(this,or)}focusin(ar){yn(this,tr)?is(this,tr,!1):this.parent.setSelected(this)}focusout(ar){if(!this.isAttachedToDOM)return;const dr=ar.relatedTarget;dr!=null&&dr.closest(`#${this.id}`)||(ar.preventDefault(),this.parent.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.parent.addToAnnotationStorage(this)}dragstart(ar){const dr=this.parent.div.getBoundingClientRect();this.startX=ar.clientX-dr.x,this.startY=ar.clientY-dr.y,ar.dataTransfer.setData("text/plain",this.id),ar.dataTransfer.effectAllowed="move"}setAt(ar,dr,lr,sr){const[pr,mr]=this.parent.viewportBaseDimensions;[lr,sr]=this.screenToPageTranslation(lr,sr),this.x=(ar+lr)/pr,this.y=(dr+sr)/mr,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(ar,dr){const[lr,sr]=this.parent.viewportBaseDimensions;[ar,dr]=this.screenToPageTranslation(ar,dr),this.x+=ar/lr,this.y+=dr/sr,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(ar,dr){const{rotation:lr}=this.parent.viewport;switch(lr){case 90:return[dr,-ar];case 180:return[-ar,-dr];case 270:return[-dr,ar];default:return[ar,dr]}}setDims(ar,dr){const[lr,sr]=this.parent.viewportBaseDimensions;this.div.style.width=`${100*ar/lr}%`,this.div.style.height=`${100*dr/sr}%`}fixDims(){const{style:ar}=this.div,{height:dr,width:lr}=ar,sr=lr.endsWith("%"),pr=dr.endsWith("%");if(sr&&pr)return;const[mr,vr]=this.parent.viewportBaseDimensions;sr||(ar.width=`${100*parseFloat(lr)/mr}%`),pr||(ar.height=`${100*parseFloat(dr)/vr}%`)}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",yn(this,gr)),this.div.addEventListener("focusout",yn(this,cr));const[ar,dr]=this.getInitialTranslation();return this.translate(ar,dr),(0,_i.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(ar){const dr=_i.KeyboardManager.platform.isMac;if(ar.button!==0||ar.ctrlKey&&dr){ar.preventDefault();return}ar.ctrlKey&&!dr||ar.shiftKey||ar.metaKey&&dr?this.parent.toggleSelected(this):this.parent.setSelected(this),is(this,tr,!0)}getRect(ar,dr){const[lr,sr]=this.parent.viewportBaseDimensions,[pr,mr]=this.parent.pageDimensions,vr=pr*ar/lr,yr=mr*dr/sr,br=this.x*pr,_r=this.y*mr,xr=this.width*pr,Nr=this.height*mr;switch(this.rotation){case 0:return[br+vr,mr-_r-yr-Nr,br+vr+xr,mr-_r-yr];case 90:return[br+yr,mr-_r+vr,br+yr+Nr,mr-_r+vr+xr];case 180:return[br-vr-xr,mr-_r+yr,br-vr,mr-_r+yr+Nr];case 270:return[br-yr-Nr,mr-_r-vr-xr,br-yr,mr-_r-vr];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(ar,dr){const[lr,sr,pr,mr]=ar,vr=pr-lr,yr=mr-sr;switch(this.rotation){case 0:return[lr,dr-mr,vr,yr];case 90:return[lr,dr-sr,yr,vr];case 180:return[pr,dr-sr,vr,yr];case 270:return[pr,dr-mr,yr,vr];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){is(this,ur,!0)}disableEditMode(){is(this,ur,!1)}isInEditMode(){return yn(this,ur)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var ar;(ar=this.div)==null||ar.addEventListener("focusin",yn(this,gr))}serialize(){(0,ir.unreachable)("An editor must be serializable")}static deserialize(ar,dr){const lr=new this.prototype.constructor({parent:dr,id:dr.getNextId()});lr.rotation=ar.rotation;const[sr,pr]=dr.pageDimensions,[mr,vr,yr,br]=lr.getRectInCurrentCoords(ar.rect,pr);return lr.x=mr/sr,lr.y=vr/pr,lr.width=yr/sr,lr.height=br/pr,lr}remove(){this.div.removeEventListener("focusin",yn(this,gr)),this.div.removeEventListener("focusout",yn(this,cr)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var ar;(ar=this.div)==null||ar.classList.add("selectedEditor")}unselect(){var ar;(ar=this.div)==null||ar.classList.remove("selectedEditor")}updateParams(ar,dr){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return yn(this,hr)}set isEditing(ar){is(this,hr,ar),ar?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}};let rr=nr;gr=new WeakMap,cr=new WeakMap,tr=new WeakMap,hr=new WeakMap,ur=new WeakMap,or=new WeakMap,Js(rr,"_colorManager",new _i.ColorManager),Js(rr,"_zIndex",1),e.AnnotationEditor=rr},(St,e,_e)=>{var nr,er,ar,dr,lr,sr,w0,yr,br,_r,xr,Nr,zr,Tr,Br,Jr,Yr,Xr,Vr,$r,Lr,Er,Hr,Gr,Cr,kr,Sr,_0,jr,Lm,Kr,x0,on,S0,fn,Uo,Ir,Vp,Mr,A0,tn,C0,vn,Mm,dn,Up,gn,Im;Object.defineProperty(e,"__esModule",{value:!0}),e.KeyboardManager=e.CommandManager=e.ColorManager=e.AnnotationEditorUIManager=void 0,e.bindEvents=rr,e.opacityToHex=gr;var _i=_e(1),ir=_e(6);function rr(zn,Cn,Dn){for(const Kn of Dn)Cn.addEventListener(Kn,zn[Kn].bind(zn))}function gr(zn){return Math.round(Math.min(255,Math.max(1,255*zn))).toString(16).padStart(2,"0")}class cr{constructor(){Vn(this,nr,0)}getId(){return`${_i.AnnotationEditorPrefix}${Tm(this,nr)._++}`}}nr=new WeakMap;class tr{constructor(Cn=128){Vn(this,er,[]);Vn(this,ar,!1);Vn(this,dr,void 0);Vn(this,lr,-1);is(this,dr,Cn)}add({cmd:Cn,undo:Dn,mustExec:Kn,type:Nn=NaN,overwriteIfSameType:ds=!1,keepUndo:as=!1}){if(Kn&&Cn(),yn(this,ar))return;const cs={cmd:Cn,undo:Dn,type:Nn};if(yn(this,lr)===-1){yn(this,er).length>0&&(yn(this,er).length=0),is(this,lr,0),yn(this,er).push(cs);return}if(ds&&yn(this,er)[yn(this,lr)].type===Nn){as&&(cs.undo=yn(this,er)[yn(this,lr)].undo),yn(this,er)[yn(this,lr)]=cs;return}const Ss=yn(this,lr)+1;Ss===yn(this,dr)?yn(this,er).splice(0,1):(is(this,lr,Ss),Ss<yn(this,er).length&&yn(this,er).splice(Ss)),yn(this,er).push(cs)}undo(){yn(this,lr)!==-1&&(is(this,ar,!0),yn(this,er)[yn(this,lr)].undo(),is(this,ar,!1),is(this,lr,yn(this,lr)-1))}redo(){yn(this,lr)<yn(this,er).length-1&&(is(this,lr,yn(this,lr)+1),is(this,ar,!0),yn(this,er)[yn(this,lr)].cmd(),is(this,ar,!1))}hasSomethingToUndo(){return yn(this,lr)!==-1}hasSomethingToRedo(){return yn(this,lr)<yn(this,er).length-1}destroy(){is(this,er,null)}}er=new WeakMap,ar=new WeakMap,dr=new WeakMap,lr=new WeakMap,e.CommandManager=tr;const mr=class{constructor(Cn){Vn(this,sr);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const Dn=mr.platform.isMac;for(const[Kn,Nn]of Cn)for(const ds of Kn){const as=ds.startsWith("mac+");Dn&&as?(this.callbacks.set(ds.slice(4),Nn),this.allKeys.add(ds.split("+").at(-1))):!Dn&&!as&&(this.callbacks.set(ds,Nn),this.allKeys.add(ds.split("+").at(-1)))}}static get platform(){const Cn=typeof navigator<"u"?navigator.platform:"";return(0,_i.shadow)(this,"platform",{isWin:Cn.includes("Win"),isMac:Cn.includes("Mac")})}exec(Cn,Dn){if(!this.allKeys.has(Dn.key))return;const Kn=this.callbacks.get(Yn(this,sr,w0).call(this,Dn));!Kn||(Kn.bind(Cn)(),Dn.stopPropagation(),Dn.preventDefault())}};let hr=mr;sr=new WeakSet,w0=function(Cn){Cn.altKey&&this.buffer.push("alt"),Cn.ctrlKey&&this.buffer.push("ctrl"),Cn.metaKey&&this.buffer.push("meta"),Cn.shiftKey&&this.buffer.push("shift"),this.buffer.push(Cn.key);const Dn=this.buffer.join("+");return this.buffer.length=0,Dn},e.KeyboardManager=hr;const vr=class{get _colors(){const Cn=new Map([["CanvasText",null],["Canvas",null]]);return(0,ir.getColorValues)(Cn),(0,_i.shadow)(this,"_colors",Cn)}convert(Cn){const Dn=(0,ir.getRGB)(Cn);if(!window.matchMedia("(forced-colors: active)").matches)return Dn;for(const[Kn,Nn]of this._colors)if(Nn.every((ds,as)=>ds===Dn[as]))return vr._colorsMapping.get(Kn);return Dn}getHexCode(Cn){const Dn=this._colors.get(Cn);return Dn?_i.Util.makeHexColor(...Dn):Cn}};let ur=vr;Js(ur,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]])),e.ColorManager=ur;const Rn=class{constructor(Cn,Dn){Vn(this,Sr);Vn(this,jr);Vn(this,Kr);Vn(this,on);Vn(this,fn);Vn(this,Ir);Vn(this,Mr);Vn(this,tn);Vn(this,vn);Vn(this,dn);Vn(this,gn);Vn(this,yr,null);Vn(this,br,new Map);Vn(this,_r,new Map);Vn(this,xr,new tr);Vn(this,Nr,0);Vn(this,zr,null);Vn(this,Tr,null);Vn(this,Br,new cr);Vn(this,Jr,!1);Vn(this,Yr,_i.AnnotationEditorType.NONE);Vn(this,Xr,new Set);Vn(this,Vr,this.copy.bind(this));Vn(this,$r,this.cut.bind(this));Vn(this,Lr,this.paste.bind(this));Vn(this,Er,this.keydown.bind(this));Vn(this,Hr,this.onEditingAction.bind(this));Vn(this,Gr,this.onPageChanging.bind(this));Vn(this,Cr,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Vn(this,kr,null);is(this,kr,Cn),is(this,Tr,Dn),yn(this,Tr)._on("editingaction",yn(this,Hr)),yn(this,Tr)._on("pagechanging",yn(this,Gr))}destroy(){Yn(this,jr,Lm).call(this),yn(this,Tr)._off("editingaction",yn(this,Hr)),yn(this,Tr)._off("pagechanging",yn(this,Gr));for(const Cn of yn(this,_r).values())Cn.destroy();yn(this,_r).clear(),yn(this,br).clear(),is(this,yr,null),yn(this,Xr).clear(),yn(this,xr).destroy()}onPageChanging({pageNumber:Cn}){is(this,Nr,Cn-1)}focusMainContainer(){yn(this,kr).focus()}copy(Cn){if(Cn.preventDefault(),yn(this,yr)&&yn(this,yr).commitOrRemove(),!this.hasSelection)return;const Dn=[];for(const Kn of yn(this,Xr))Kn.isEmpty()||Dn.push(Kn.serialize());Dn.length!==0&&Cn.clipboardData.setData("application/pdfjs",JSON.stringify(Dn))}cut(Cn){this.copy(Cn),this.delete()}paste(Cn){Cn.preventDefault();let Dn=Cn.clipboardData.getData("application/pdfjs");if(!Dn)return;try{Dn=JSON.parse(Dn)}catch(Nn){(0,_i.warn)(`paste: "${Nn.message}".`);return}if(!Array.isArray(Dn))return;this.unselectAll();const Kn=yn(this,_r).get(yn(this,Nr));try{const Nn=[];for(const cs of Dn){const Ss=Kn.deserialize(cs);if(!Ss)return;Nn.push(Ss)}const ds=()=>{for(const cs of Nn)Yn(this,vn,Mm).call(this,cs);Yn(this,gn,Im).call(this,Nn)},as=()=>{for(const cs of Nn)cs.remove()};this.addCommands({cmd:ds,undo:as,mustExec:!0})}catch(Nn){(0,_i.warn)(`paste: "${Nn.message}".`)}}keydown(Cn){var Dn;(Dn=this.getActive())!=null&&Dn.shouldGetKeyboardEvents()||Rn._keyboardManager.exec(this,Cn)}onEditingAction(Cn){["undo","redo","delete","selectAll"].includes(Cn.name)&&this[Cn.name]()}setEditingState(Cn){Cn?(Yn(this,Sr,_0).call(this),Yn(this,Kr,x0).call(this),Yn(this,fn,Uo).call(this,{isEditing:yn(this,Yr)!==_i.AnnotationEditorType.NONE,isEmpty:Yn(this,dn,Up).call(this),hasSomethingToUndo:yn(this,xr).hasSomethingToUndo(),hasSomethingToRedo:yn(this,xr).hasSomethingToRedo(),hasSelectedEditor:!1})):(Yn(this,jr,Lm).call(this),Yn(this,on,S0).call(this),Yn(this,fn,Uo).call(this,{isEditing:!1}))}registerEditorTypes(Cn){if(!yn(this,zr)){is(this,zr,Cn);for(const Dn of yn(this,zr))Yn(this,Ir,Vp).call(this,Dn.defaultPropertiesToUpdate)}}getId(){return yn(this,Br).getId()}addLayer(Cn){yn(this,_r).set(Cn.pageIndex,Cn),yn(this,Jr)?Cn.enable():Cn.disable()}removeLayer(Cn){yn(this,_r).delete(Cn.pageIndex)}updateMode(Cn){if(is(this,Yr,Cn),Cn===_i.AnnotationEditorType.NONE)this.setEditingState(!1),Yn(this,tn,C0).call(this);else{this.setEditingState(!0),Yn(this,Mr,A0).call(this);for(const Dn of yn(this,_r).values())Dn.updateMode(Cn)}}updateToolbar(Cn){Cn!==yn(this,Yr)&&yn(this,Tr).dispatch("switchannotationeditormode",{source:this,mode:Cn})}updateParams(Cn,Dn){if(!!yn(this,zr)){for(const Kn of yn(this,Xr))Kn.updateParams(Cn,Dn);for(const Kn of yn(this,zr))Kn.updateDefaultParams(Cn,Dn)}}getEditors(Cn){const Dn=[];for(const Kn of yn(this,br).values())Kn.pageIndex===Cn&&Dn.push(Kn);return Dn}getEditor(Cn){return yn(this,br).get(Cn)}addEditor(Cn){yn(this,br).set(Cn.id,Cn)}removeEditor(Cn){yn(this,br).delete(Cn.id),this.unselect(Cn)}setActiveEditor(Cn){yn(this,yr)!==Cn&&(is(this,yr,Cn),Cn&&Yn(this,Ir,Vp).call(this,Cn.propertiesToUpdate))}toggleSelected(Cn){if(yn(this,Xr).has(Cn)){yn(this,Xr).delete(Cn),Cn.unselect(),Yn(this,fn,Uo).call(this,{hasSelectedEditor:this.hasSelection});return}yn(this,Xr).add(Cn),Cn.select(),Yn(this,Ir,Vp).call(this,Cn.propertiesToUpdate),Yn(this,fn,Uo).call(this,{hasSelectedEditor:!0})}setSelected(Cn){for(const Dn of yn(this,Xr))Dn!==Cn&&Dn.unselect();yn(this,Xr).clear(),yn(this,Xr).add(Cn),Cn.select(),Yn(this,Ir,Vp).call(this,Cn.propertiesToUpdate),Yn(this,fn,Uo).call(this,{hasSelectedEditor:!0})}isSelected(Cn){return yn(this,Xr).has(Cn)}unselect(Cn){Cn.unselect(),yn(this,Xr).delete(Cn),Yn(this,fn,Uo).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return yn(this,Xr).size!==0}undo(){yn(this,xr).undo(),Yn(this,fn,Uo).call(this,{hasSomethingToUndo:yn(this,xr).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Yn(this,dn,Up).call(this)})}redo(){yn(this,xr).redo(),Yn(this,fn,Uo).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:yn(this,xr).hasSomethingToRedo(),isEmpty:Yn(this,dn,Up).call(this)})}addCommands(Cn){yn(this,xr).add(Cn),Yn(this,fn,Uo).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Yn(this,dn,Up).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Cn=[...yn(this,Xr)],Dn=()=>{for(const Nn of Cn)Nn.remove()},Kn=()=>{for(const Nn of Cn)Yn(this,vn,Mm).call(this,Nn)};this.addCommands({cmd:Dn,undo:Kn,mustExec:!0})}commitOrRemove(){var Cn;(Cn=yn(this,yr))==null||Cn.commitOrRemove()}selectAll(){for(const Cn of yn(this,Xr))Cn.commit();Yn(this,gn,Im).call(this,yn(this,br).values())}unselectAll(){if(yn(this,yr)){yn(this,yr).commitOrRemove();return}if(yn(this,Xr).size!==0){for(const Cn of yn(this,Xr))Cn.unselect();yn(this,Xr).clear(),Yn(this,fn,Uo).call(this,{hasSelectedEditor:!1})}}isActive(Cn){return yn(this,yr)===Cn}getActive(){return yn(this,yr)}getMode(){return yn(this,Yr)}};let or=Rn;yr=new WeakMap,br=new WeakMap,_r=new WeakMap,xr=new WeakMap,Nr=new WeakMap,zr=new WeakMap,Tr=new WeakMap,Br=new WeakMap,Jr=new WeakMap,Yr=new WeakMap,Xr=new WeakMap,Vr=new WeakMap,$r=new WeakMap,Lr=new WeakMap,Er=new WeakMap,Hr=new WeakMap,Gr=new WeakMap,Cr=new WeakMap,kr=new WeakMap,Sr=new WeakSet,_0=function(){yn(this,kr).addEventListener("keydown",yn(this,Er))},jr=new WeakSet,Lm=function(){yn(this,kr).removeEventListener("keydown",yn(this,Er))},Kr=new WeakSet,x0=function(){document.addEventListener("copy",yn(this,Vr)),document.addEventListener("cut",yn(this,$r)),document.addEventListener("paste",yn(this,Lr))},on=new WeakSet,S0=function(){document.removeEventListener("copy",yn(this,Vr)),document.removeEventListener("cut",yn(this,$r)),document.removeEventListener("paste",yn(this,Lr))},fn=new WeakSet,Uo=function(Cn){Object.entries(Cn).some(([Kn,Nn])=>yn(this,Cr)[Kn]!==Nn)&&yn(this,Tr).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(yn(this,Cr),Cn)})},Ir=new WeakSet,Vp=function(Cn){yn(this,Tr).dispatch("annotationeditorparamschanged",{source:this,details:Cn})},Mr=new WeakSet,A0=function(){if(!yn(this,Jr)){is(this,Jr,!0);for(const Cn of yn(this,_r).values())Cn.enable()}},tn=new WeakSet,C0=function(){if(this.unselectAll(),yn(this,Jr)){is(this,Jr,!1);for(const Cn of yn(this,_r).values())Cn.disable()}},vn=new WeakSet,Mm=function(Cn){const Dn=yn(this,_r).get(Cn.pageIndex);Dn?Dn.addOrRebuild(Cn):this.addEditor(Cn)},dn=new WeakSet,Up=function(){if(yn(this,br).size===0)return!0;if(yn(this,br).size===1)for(const Cn of yn(this,br).values())return Cn.isEmpty();return!1},gn=new WeakSet,Im=function(Cn){yn(this,Xr).clear();for(const Dn of Cn)Dn.isEmpty()||(yn(this,Xr).add(Dn),Dn.select());Yn(this,fn,Uo).call(this,{hasSelectedEditor:!0})},Js(or,"_keyboardManager",new hr([[["ctrl+a","mac+meta+a"],Rn.prototype.selectAll],[["ctrl+z","mac+meta+z"],Rn.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],Rn.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],Rn.prototype.delete],[["Escape","mac+Escape"],Rn.prototype.unselectAll]])),e.AnnotationEditorUIManager=or},(St,e,_e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StatTimer=e.RenderingCancelledException=e.PixelsPerInch=e.PageViewport=e.PDFDateString=e.DOMStandardFontDataFactory=e.DOMSVGFactory=e.DOMCanvasFactory=e.DOMCMapReaderFactory=e.AnnotationPrefix=void 0,e.deprecated=br,e.getColorValues=Tr,e.getCurrentTransform=Br,e.getCurrentTransformInverse=Jr,e.getFilenameFromUrl=sr,e.getPdfFilenameFromUrl=pr,e.getRGB=zr,e.getXfaPageViewport=Nr,e.isDataScheme=dr,e.isPdfFile=lr,e.isValidFetchUrl=vr,e.loadScript=yr;var _i=_e(7),ir=_e(1);const rr="http://www.w3.org/2000/svg",gr="pdfjs_internal_id_";e.AnnotationPrefix=gr;const Yr=class{};let cr=Yr;Js(cr,"CSS",96),Js(cr,"PDF",72),Js(cr,"PDF_TO_CSS_UNITS",Yr.CSS/Yr.PDF),e.PixelsPerInch=cr;class tr extends _i.BaseCanvasFactory{constructor({ownerDocument:Vr=globalThis.document}={}){super(),this._document=Vr}_createCanvas(Vr,$r){const Lr=this._document.createElement("canvas");return Lr.width=Vr,Lr.height=$r,Lr}}e.DOMCanvasFactory=tr;async function hr(Xr,Vr=!1){if(vr(Xr,document.baseURI)){const $r=await fetch(Xr);if(!$r.ok)throw new Error($r.statusText);return Vr?new Uint8Array(await $r.arrayBuffer()):(0,ir.stringToBytes)(await $r.text())}return new Promise(($r,Lr)=>{const Er=new XMLHttpRequest;Er.open("GET",Xr,!0),Vr&&(Er.responseType="arraybuffer"),Er.onreadystatechange=()=>{if(Er.readyState===XMLHttpRequest.DONE){if(Er.status===200||Er.status===0){let Hr;if(Vr&&Er.response?Hr=new Uint8Array(Er.response):!Vr&&Er.responseText&&(Hr=(0,ir.stringToBytes)(Er.responseText)),Hr){$r(Hr);return}}Lr(new Error(Er.statusText))}},Er.send(null)})}class ur extends _i.BaseCMapReaderFactory{_fetchData(Vr,$r){return hr(Vr,this.isCompressed).then(Lr=>({cMapData:Lr,compressionType:$r}))}}e.DOMCMapReaderFactory=ur;class or extends _i.BaseStandardFontDataFactory{_fetchData(Vr){return hr(Vr,!0)}}e.DOMStandardFontDataFactory=or;class nr extends _i.BaseSVGFactory{_createSVG(Vr){return document.createElementNS(rr,Vr)}}e.DOMSVGFactory=nr;class er{constructor({viewBox:Vr,scale:$r,rotation:Lr,offsetX:Er=0,offsetY:Hr=0,dontFlip:Gr=!1}){this.viewBox=Vr,this.scale=$r,this.rotation=Lr,this.offsetX=Er,this.offsetY=Hr;const Cr=(Vr[2]+Vr[0])/2,kr=(Vr[3]+Vr[1])/2;let Sr,Pr,jr,Wr;switch(Lr%=360,Lr<0&&(Lr+=360),Lr){case 180:Sr=-1,Pr=0,jr=0,Wr=1;break;case 90:Sr=0,Pr=1,jr=1,Wr=0;break;case 270:Sr=0,Pr=-1,jr=-1,Wr=0;break;case 0:Sr=1,Pr=0,jr=0,Wr=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Gr&&(jr=-jr,Wr=-Wr);let Kr,Qr,on,pn;Sr===0?(Kr=Math.abs(kr-Vr[1])*$r+Er,Qr=Math.abs(Cr-Vr[0])*$r+Hr,on=Math.abs(Vr[3]-Vr[1])*$r,pn=Math.abs(Vr[2]-Vr[0])*$r):(Kr=Math.abs(Cr-Vr[0])*$r+Er,Qr=Math.abs(kr-Vr[1])*$r+Hr,on=Math.abs(Vr[2]-Vr[0])*$r,pn=Math.abs(Vr[3]-Vr[1])*$r),this.transform=[Sr*$r,Pr*$r,jr*$r,Wr*$r,Kr-Sr*$r*Cr-jr*$r*kr,Qr-Pr*$r*Cr-Wr*$r*kr],this.width=on,this.height=pn}clone({scale:Vr=this.scale,rotation:$r=this.rotation,offsetX:Lr=this.offsetX,offsetY:Er=this.offsetY,dontFlip:Hr=!1}={}){return new er({viewBox:this.viewBox.slice(),scale:Vr,rotation:$r,offsetX:Lr,offsetY:Er,dontFlip:Hr})}convertToViewportPoint(Vr,$r){return ir.Util.applyTransform([Vr,$r],this.transform)}convertToViewportRectangle(Vr){const $r=ir.Util.applyTransform([Vr[0],Vr[1]],this.transform),Lr=ir.Util.applyTransform([Vr[2],Vr[3]],this.transform);return[$r[0],$r[1],Lr[0],Lr[1]]}convertToPdfPoint(Vr,$r){return ir.Util.applyInverseTransform([Vr,$r],this.transform)}}e.PageViewport=er;class ar extends ir.BaseException{constructor(Vr,$r){super(Vr,"RenderingCancelledException"),this.type=$r}}e.RenderingCancelledException=ar;function dr(Xr){const Vr=Xr.length;let $r=0;for(;$r<Vr&&Xr[$r].trim()==="";)$r++;return Xr.substring($r,$r+5).toLowerCase()==="data:"}function lr(Xr){return typeof Xr=="string"&&/\.pdf$/i.test(Xr)}function sr(Xr){const Vr=Xr.indexOf("#"),$r=Xr.indexOf("?"),Lr=Math.min(Vr>0?Vr:Xr.length,$r>0?$r:Xr.length);return Xr.substring(Xr.lastIndexOf("/",Lr)+1,Lr)}function pr(Xr,Vr="document.pdf"){if(typeof Xr!="string")return Vr;if(dr(Xr))return(0,ir.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Vr;const $r=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Lr=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Er=$r.exec(Xr);let Hr=Lr.exec(Er[1])||Lr.exec(Er[2])||Lr.exec(Er[3]);if(Hr&&(Hr=Hr[0],Hr.includes("%")))try{Hr=Lr.exec(decodeURIComponent(Hr))[0]}catch{}return Hr||Vr}class mr{constructor(){this.started=Object.create(null),this.times=[]}time(Vr){Vr in this.started&&(0,ir.warn)(`Timer is already running for ${Vr}`),this.started[Vr]=Date.now()}timeEnd(Vr){Vr in this.started||(0,ir.warn)(`Timer has not been started for ${Vr}`),this.times.push({name:Vr,start:this.started[Vr],end:Date.now()}),delete this.started[Vr]}toString(){const Vr=[];let $r=0;for(const Lr of this.times){const Er=Lr.name;Er.length>$r&&($r=Er.length)}for(const Lr of this.times){const Er=Lr.end-Lr.start;Vr.push(`${Lr.name.padEnd($r)} ${Er}ms
`)}return Vr.join("")}}e.StatTimer=mr;function vr(Xr,Vr){try{const{protocol:$r}=Vr?new URL(Xr,Vr):new URL(Xr);return $r==="http:"||$r==="https:"}catch{return!1}}function yr(Xr,Vr=!1){return new Promise(($r,Lr)=>{const Er=document.createElement("script");Er.src=Xr,Er.onload=function(Hr){Vr&&Er.remove(),$r(Hr)},Er.onerror=function(){Lr(new Error(`Cannot load script at: ${Er.src}`))},(document.head||document.documentElement).append(Er)})}function br(Xr){console.log("Deprecated API usage: "+Xr)}let _r;class xr{static toDateObject(Vr){if(!Vr||typeof Vr!="string")return null;_r||(_r=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const $r=_r.exec(Vr);if(!$r)return null;const Lr=parseInt($r[1],10);let Er=parseInt($r[2],10);Er=Er>=1&&Er<=12?Er-1:0;let Hr=parseInt($r[3],10);Hr=Hr>=1&&Hr<=31?Hr:1;let Gr=parseInt($r[4],10);Gr=Gr>=0&&Gr<=23?Gr:0;let Cr=parseInt($r[5],10);Cr=Cr>=0&&Cr<=59?Cr:0;let kr=parseInt($r[6],10);kr=kr>=0&&kr<=59?kr:0;const Sr=$r[7]||"Z";let Pr=parseInt($r[8],10);Pr=Pr>=0&&Pr<=23?Pr:0;let jr=parseInt($r[9],10)||0;return jr=jr>=0&&jr<=59?jr:0,Sr==="-"?(Gr+=Pr,Cr+=jr):Sr==="+"&&(Gr-=Pr,Cr-=jr),new Date(Date.UTC(Lr,Er,Hr,Gr,Cr,kr))}}e.PDFDateString=xr;function Nr(Xr,{scale:Vr=1,rotation:$r=0}){const{width:Lr,height:Er}=Xr.attributes.style,Hr=[0,0,parseInt(Lr),parseInt(Er)];return new er({viewBox:Hr,scale:Vr,rotation:$r})}function zr(Xr){if(Xr.startsWith("#")){const Vr=parseInt(Xr.slice(1),16);return[(Vr&16711680)>>16,(Vr&65280)>>8,Vr&255]}return Xr.startsWith("rgb(")?Xr.slice(4,-1).split(",").map(Vr=>parseInt(Vr)):Xr.startsWith("rgba(")?Xr.slice(5,-1).split(",").map(Vr=>parseInt(Vr)).slice(0,3):((0,ir.warn)(`Not a valid color format: "${Xr}"`),[0,0,0])}function Tr(Xr){const Vr=document.createElement("span");Vr.style.visibility="hidden",document.body.append(Vr);for(const $r of Xr.keys()){Vr.style.color=$r;const Lr=window.getComputedStyle(Vr).color;Xr.set($r,zr(Lr))}Vr.remove()}function Br(Xr){const{a:Vr,b:$r,c:Lr,d:Er,e:Hr,f:Gr}=Xr.getTransform();return[Vr,$r,Lr,Er,Hr,Gr]}function Jr(Xr){const{a:Vr,b:$r,c:Lr,d:Er,e:Hr,f:Gr}=Xr.getTransform().invertSelf();return[Vr,$r,Lr,Er,Hr,Gr]}},(St,e,_e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BaseStandardFontDataFactory=e.BaseSVGFactory=e.BaseCanvasFactory=e.BaseCMapReaderFactory=void 0;var _i=_e(1);class ir{constructor(){this.constructor===ir&&(0,_i.unreachable)("Cannot initialize BaseCanvasFactory.")}create(hr,ur){if(hr<=0||ur<=0)throw new Error("Invalid canvas size");const or=this._createCanvas(hr,ur);return{canvas:or,context:or.getContext("2d")}}reset(hr,ur,or){if(!hr.canvas)throw new Error("Canvas is not specified");if(ur<=0||or<=0)throw new Error("Invalid canvas size");hr.canvas.width=ur,hr.canvas.height=or}destroy(hr){if(!hr.canvas)throw new Error("Canvas is not specified");hr.canvas.width=0,hr.canvas.height=0,hr.canvas=null,hr.context=null}_createCanvas(hr,ur){(0,_i.unreachable)("Abstract method `_createCanvas` called.")}}e.BaseCanvasFactory=ir;class rr{constructor({baseUrl:hr=null,isCompressed:ur=!1}){this.constructor===rr&&(0,_i.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=hr,this.isCompressed=ur}async fetch({name:hr}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!hr)throw new Error("CMap name must be specified.");const ur=this.baseUrl+hr+(this.isCompressed?".bcmap":""),or=this.isCompressed?_i.CMapCompressionType.BINARY:_i.CMapCompressionType.NONE;return this._fetchData(ur,or).catch(nr=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${ur}`)})}_fetchData(hr,ur){(0,_i.unreachable)("Abstract method `_fetchData` called.")}}e.BaseCMapReaderFactory=rr;class gr{constructor({baseUrl:hr=null}){this.constructor===gr&&(0,_i.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=hr}async fetch({filename:hr}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!hr)throw new Error("Font filename must be specified.");const ur=`${this.baseUrl}${hr}`;return this._fetchData(ur).catch(or=>{throw new Error(`Unable to load font data at: ${ur}`)})}_fetchData(hr){(0,_i.unreachable)("Abstract method `_fetchData` called.")}}e.BaseStandardFontDataFactory=gr;class cr{constructor(){this.constructor===cr&&(0,_i.unreachable)("Cannot initialize BaseSVGFactory.")}create(hr,ur,or=!1){if(hr<=0||ur<=0)throw new Error("Invalid SVG dimensions");const nr=this._createSVG("svg:svg");return nr.setAttribute("version","1.1"),or||(nr.setAttribute("width",`${hr}px`),nr.setAttribute("height",`${ur}px`)),nr.setAttribute("preserveAspectRatio","none"),nr.setAttribute("viewBox",`0 0 ${hr} ${ur}`),nr}createElement(hr){if(typeof hr!="string")throw new Error("Invalid SVG element type");return this._createSVG(hr)}_createSVG(hr){(0,_i.unreachable)("Abstract method `_createSVG` called.")}}e.BaseSVGFactory=cr},(St,e,_e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MurmurHash3_64=void 0;var _i=_e(1);const ir=3285377520,rr=4294901760,gr=65535;class cr{constructor(hr){this.h1=hr?hr&4294967295:ir,this.h2=hr?hr&4294967295:ir}update(hr){let ur,or;if(typeof hr=="string"){ur=new Uint8Array(hr.length*2),or=0;for(let _r=0,xr=hr.length;_r<xr;_r++){const Nr=hr.charCodeAt(_r);Nr<=255?ur[or++]=Nr:(ur[or++]=Nr>>>8,ur[or++]=Nr&255)}}else if((0,_i.isArrayBuffer)(hr))ur=hr.slice(),or=ur.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const nr=or>>2,er=or-nr*4,ar=new Uint32Array(ur.buffer,0,nr);let dr=0,lr=0,sr=this.h1,pr=this.h2;const mr=3432918353,vr=461845907,yr=mr&gr,br=vr&gr;for(let _r=0;_r<nr;_r++)_r&1?(dr=ar[_r],dr=dr*mr&rr|dr*yr&gr,dr=dr<<15|dr>>>17,dr=dr*vr&rr|dr*br&gr,sr^=dr,sr=sr<<13|sr>>>19,sr=sr*5+3864292196):(lr=ar[_r],lr=lr*mr&rr|lr*yr&gr,lr=lr<<15|lr>>>17,lr=lr*vr&rr|lr*br&gr,pr^=lr,pr=pr<<13|pr>>>19,pr=pr*5+3864292196);switch(dr=0,er){case 3:dr^=ur[nr*4+2]<<16;case 2:dr^=ur[nr*4+1]<<8;case 1:dr^=ur[nr*4],dr=dr*mr&rr|dr*yr&gr,dr=dr<<15|dr>>>17,dr=dr*vr&rr|dr*br&gr,nr&1?sr^=dr:pr^=dr}this.h1=sr,this.h2=pr}hexdigest(){let hr=this.h1,ur=this.h2;hr^=ur>>>1,hr=hr*3981806797&rr|hr*36045&gr,ur=ur*4283543511&rr|((ur<<16|hr>>>16)*2950163797&rr)>>>16,hr^=ur>>>1,hr=hr*444984403&rr|hr*60499&gr,ur=ur*3301882366&rr|((ur<<16|hr>>>16)*3120437893&rr)>>>16,hr^=ur>>>1;const or=(hr>>>0).toString(16),nr=(ur>>>0).toString(16);return or.padStart(8,"0")+nr.padStart(8,"0")}}e.MurmurHash3_64=cr},(St,e,_e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FontLoader=e.FontFaceObject=void 0;var _i=_e(1);class ir{constructor({onUnsupportedFeature:cr,ownerDocument:tr=globalThis.document,styleElement:hr=null}){this._onUnsupportedFeature=cr,this._document=tr,this.nativeFontFaces=[],this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(cr){this.nativeFontFaces.push(cr),this._document.fonts.add(cr)}insertRule(cr){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const tr=this.styleElement.sheet;tr.insertRule(cr,tr.cssRules.length)}clear(){for(const cr of this.nativeFontFaces)this._document.fonts.delete(cr);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(cr){if(cr.attached||cr.missingFile)return;if(cr.attached=!0,this.isFontLoadingAPISupported){const hr=cr.createNativeFontFace();if(hr){this.addNativeFontFace(hr);try{await hr.loaded}catch(ur){throw this._onUnsupportedFeature({featureId:_i.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,_i.warn)(`Failed to load font '${hr.family}': '${ur}'.`),cr.disableFontFace=!0,ur}}return}const tr=cr.createFontFaceRule();if(tr){if(this.insertRule(tr),this.isSyncFontLoadingSupported)return;await new Promise(hr=>{const ur=this._queueLoadingCallback(hr);this._prepareFontLoadEvent(cr,ur)})}}get isFontLoadingAPISupported(){var tr;const cr=!!((tr=this._document)!=null&&tr.fonts);return(0,_i.shadow)(this,"isFontLoadingAPISupported",cr)}get isSyncFontLoadingSupported(){let cr=!1;if(typeof navigator>"u")cr=!0;else{const tr=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(tr==null?void 0:tr[1])>=14&&(cr=!0)}return(0,_i.shadow)(this,"isSyncFontLoadingSupported",cr)}_queueLoadingCallback(cr){function tr(){for((0,_i.assert)(!ur.done,"completeRequest() cannot be called twice."),ur.done=!0;hr.length>0&&hr[0].done;){const or=hr.shift();setTimeout(or.callback,0)}}const{loadingRequests:hr}=this,ur={done:!1,complete:tr,callback:cr};return hr.push(ur),ur}get _loadTestFont(){const cr=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,_i.shadow)(this,"_loadTestFont",cr)}_prepareFontLoadEvent(cr,tr){function hr(zr,Tr){return zr.charCodeAt(Tr)<<24|zr.charCodeAt(Tr+1)<<16|zr.charCodeAt(Tr+2)<<8|zr.charCodeAt(Tr+3)&255}function ur(zr,Tr,Br,Jr){const Yr=zr.substring(0,Tr),Xr=zr.substring(Tr+Br);return Yr+Jr+Xr}let or,nr;const er=this._document.createElement("canvas");er.width=1,er.height=1;const ar=er.getContext("2d");let dr=0;function lr(zr,Tr){if(++dr>30){(0,_i.warn)("Load test font never loaded."),Tr();return}if(ar.font="30px "+zr,ar.fillText(".",0,20),ar.getImageData(0,0,1,1).data[3]>0){Tr();return}setTimeout(lr.bind(null,zr,Tr))}const sr=`lt${Date.now()}${this.loadTestFontId++}`;let pr=this._loadTestFont;pr=ur(pr,976,sr.length,sr);const vr=16,yr=1482184792;let br=hr(pr,vr);for(or=0,nr=sr.length-3;or<nr;or+=4)br=br-yr+hr(sr,or)|0;or<sr.length&&(br=br-yr+hr(sr+"XXX",or)|0),pr=ur(pr,vr,4,(0,_i.string32)(br));const _r=`url(data:font/opentype;base64,${btoa(pr)});`,xr=`@font-face {font-family:"${sr}";src:${_r}}`;this.insertRule(xr);const Nr=this._document.createElement("div");Nr.style.visibility="hidden",Nr.style.width=Nr.style.height="10px",Nr.style.position="absolute",Nr.style.top=Nr.style.left="0px";for(const zr of[cr.loadedName,sr]){const Tr=this._document.createElement("span");Tr.textContent="Hi",Tr.style.fontFamily=zr,Nr.append(Tr)}this._document.body.append(Nr),lr(sr,()=>{Nr.remove(),tr.complete()})}}e.FontLoader=ir;class rr{constructor(cr,{isEvalSupported:tr=!0,disableFontFace:hr=!1,ignoreErrors:ur=!1,onUnsupportedFeature:or,fontRegistry:nr=null}){this.compiledGlyphs=Object.create(null);for(const er in cr)this[er]=cr[er];this.isEvalSupported=tr!==!1,this.disableFontFace=hr===!0,this.ignoreErrors=ur===!0,this._onUnsupportedFeature=or,this.fontRegistry=nr}createNativeFontFace(){var tr;if(!this.data||this.disableFontFace)return null;let cr;if(!this.cssFontInfo)cr=new FontFace(this.loadedName,this.data,{});else{const hr={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(hr.style=`oblique ${this.cssFontInfo.italicAngle}deg`),cr=new FontFace(this.cssFontInfo.fontFamily,this.data,hr)}return(tr=this.fontRegistry)==null||tr.registerFont(this),cr}createFontFaceRule(){var ur;if(!this.data||this.disableFontFace)return null;const cr=(0,_i.bytesToString)(this.data),tr=`url(data:${this.mimetype};base64,${btoa(cr)});`;let hr;if(!this.cssFontInfo)hr=`@font-face {font-family:"${this.loadedName}";src:${tr}}`;else{let or=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(or+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),hr=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${or}src:${tr}}`}return(ur=this.fontRegistry)==null||ur.registerFont(this,tr),hr}getPathGenerator(cr,tr){if(this.compiledGlyphs[tr]!==void 0)return this.compiledGlyphs[tr];let hr;try{hr=cr.get(this.loadedName+"_path_"+tr)}catch(ur){if(!this.ignoreErrors)throw ur;return this._onUnsupportedFeature({featureId:_i.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,_i.warn)(`getPathGenerator - ignoring character: "${ur}".`),this.compiledGlyphs[tr]=function(or,nr){}}if(this.isEvalSupported&&_i.FeatureTest.isEvalSupported){const ur=[];for(const or of hr){const nr=or.args!==void 0?or.args.join(","):"";ur.push("c.",or.cmd,"(",nr,`);
`)}return this.compiledGlyphs[tr]=new Function("c","size",ur.join(""))}return this.compiledGlyphs[tr]=function(ur,or){for(const nr of hr)nr.cmd==="scale"&&(nr.args=[or,-or]),ur[nr.cmd].apply(ur,nr.args)}}}e.FontFaceObject=rr},(St,e,_e)=>{var Er,Om;Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasGraphics=void 0;var _i=_e(1),ir=_e(6),rr=_e(11),gr=_e(13),cr=_e(12);const tr=16,hr=100,ur=4096,or=15,nr=10,er=cr.isNodeJS&&typeof Path2D>"u"?-1:1e3,ar=16;function dr(Cr,kr){if(Cr._removeMirroring)throw new Error("Context is already forwarding operations.");Cr.__originalSave=Cr.save,Cr.__originalRestore=Cr.restore,Cr.__originalRotate=Cr.rotate,Cr.__originalScale=Cr.scale,Cr.__originalTranslate=Cr.translate,Cr.__originalTransform=Cr.transform,Cr.__originalSetTransform=Cr.setTransform,Cr.__originalResetTransform=Cr.resetTransform,Cr.__originalClip=Cr.clip,Cr.__originalMoveTo=Cr.moveTo,Cr.__originalLineTo=Cr.lineTo,Cr.__originalBezierCurveTo=Cr.bezierCurveTo,Cr.__originalRect=Cr.rect,Cr.__originalClosePath=Cr.closePath,Cr.__originalBeginPath=Cr.beginPath,Cr._removeMirroring=()=>{Cr.save=Cr.__originalSave,Cr.restore=Cr.__originalRestore,Cr.rotate=Cr.__originalRotate,Cr.scale=Cr.__originalScale,Cr.translate=Cr.__originalTranslate,Cr.transform=Cr.__originalTransform,Cr.setTransform=Cr.__originalSetTransform,Cr.resetTransform=Cr.__originalResetTransform,Cr.clip=Cr.__originalClip,Cr.moveTo=Cr.__originalMoveTo,Cr.lineTo=Cr.__originalLineTo,Cr.bezierCurveTo=Cr.__originalBezierCurveTo,Cr.rect=Cr.__originalRect,Cr.closePath=Cr.__originalClosePath,Cr.beginPath=Cr.__originalBeginPath,delete Cr._removeMirroring},Cr.save=function(){kr.save(),this.__originalSave()},Cr.restore=function(){kr.restore(),this.__originalRestore()},Cr.translate=function(Pr,jr){kr.translate(Pr,jr),this.__originalTranslate(Pr,jr)},Cr.scale=function(Pr,jr){kr.scale(Pr,jr),this.__originalScale(Pr,jr)},Cr.transform=function(Pr,jr,Wr,Kr,Qr,on){kr.transform(Pr,jr,Wr,Kr,Qr,on),this.__originalTransform(Pr,jr,Wr,Kr,Qr,on)},Cr.setTransform=function(Pr,jr,Wr,Kr,Qr,on){kr.setTransform(Pr,jr,Wr,Kr,Qr,on),this.__originalSetTransform(Pr,jr,Wr,Kr,Qr,on)},Cr.resetTransform=function(){kr.resetTransform(),this.__originalResetTransform()},Cr.rotate=function(Pr){kr.rotate(Pr),this.__originalRotate(Pr)},Cr.clip=function(Pr){kr.clip(Pr),this.__originalClip(Pr)},Cr.moveTo=function(Sr,Pr){kr.moveTo(Sr,Pr),this.__originalMoveTo(Sr,Pr)},Cr.lineTo=function(Sr,Pr){kr.lineTo(Sr,Pr),this.__originalLineTo(Sr,Pr)},Cr.bezierCurveTo=function(Sr,Pr,jr,Wr,Kr,Qr){kr.bezierCurveTo(Sr,Pr,jr,Wr,Kr,Qr),this.__originalBezierCurveTo(Sr,Pr,jr,Wr,Kr,Qr)},Cr.rect=function(Sr,Pr,jr,Wr){kr.rect(Sr,Pr,jr,Wr),this.__originalRect(Sr,Pr,jr,Wr)},Cr.closePath=function(){kr.closePath(),this.__originalClosePath()},Cr.beginPath=function(){kr.beginPath(),this.__originalBeginPath()}}class lr{constructor(kr){this.canvasFactory=kr,this.cache=Object.create(null)}getCanvas(kr,Sr,Pr){let jr;return this.cache[kr]!==void 0?(jr=this.cache[kr],this.canvasFactory.reset(jr,Sr,Pr)):(jr=this.canvasFactory.create(Sr,Pr),this.cache[kr]=jr),jr}delete(kr){delete this.cache[kr]}clear(){for(const kr in this.cache){const Sr=this.cache[kr];this.canvasFactory.destroy(Sr),delete this.cache[kr]}}}function sr(Cr,kr,Sr,Pr,jr,Wr,Kr,Qr,on,pn){const[fn,en,Ir,Ur,Mr,Zr]=(0,ir.getCurrentTransform)(Cr);if(en===0&&Ir===0){const vn=Kr*fn+Mr,_n=Math.round(vn),dn=Qr*Ur+Zr,Pn=Math.round(dn),gn=(Kr+on)*fn+Mr,In=Math.abs(Math.round(gn)-_n)||1,Rn=(Qr+pn)*Ur+Zr,zn=Math.abs(Math.round(Rn)-Pn)||1;return Cr.setTransform(Math.sign(fn),0,0,Math.sign(Ur),_n,Pn),Cr.drawImage(kr,Sr,Pr,jr,Wr,0,0,In,zn),Cr.setTransform(fn,en,Ir,Ur,Mr,Zr),[In,zn]}if(fn===0&&Ur===0){const vn=Qr*Ir+Mr,_n=Math.round(vn),dn=Kr*en+Zr,Pn=Math.round(dn),gn=(Qr+pn)*Ir+Mr,In=Math.abs(Math.round(gn)-_n)||1,Rn=(Kr+on)*en+Zr,zn=Math.abs(Math.round(Rn)-Pn)||1;return Cr.setTransform(0,Math.sign(en),Math.sign(Ir),0,_n,Pn),Cr.drawImage(kr,Sr,Pr,jr,Wr,0,0,zn,In),Cr.setTransform(fn,en,Ir,Ur,Mr,Zr),[zn,In]}Cr.drawImage(kr,Sr,Pr,jr,Wr,Kr,Qr,on,pn);const tn=Math.hypot(fn,en),an=Math.hypot(Ir,Ur);return[tn*on,an*pn]}function pr(Cr){const{width:kr,height:Sr}=Cr;if(kr>er||Sr>er)return null;const Pr=1e3,jr=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Wr=kr+1;let Kr=new Uint8Array(Wr*(Sr+1)),Qr,on,pn;const fn=kr+7&-8;let en=new Uint8Array(fn*Sr),Ir=0;for(const an of Cr.data){let vn=128;for(;vn>0;)en[Ir++]=an&vn?0:255,vn>>=1}let Ur=0;for(Ir=0,en[Ir]!==0&&(Kr[0]=1,++Ur),on=1;on<kr;on++)en[Ir]!==en[Ir+1]&&(Kr[on]=en[Ir]?2:1,++Ur),Ir++;for(en[Ir]!==0&&(Kr[on]=2,++Ur),Qr=1;Qr<Sr;Qr++){Ir=Qr*fn,pn=Qr*Wr,en[Ir-fn]!==en[Ir]&&(Kr[pn]=en[Ir]?1:8,++Ur);let an=(en[Ir]?4:0)+(en[Ir-fn]?8:0);for(on=1;on<kr;on++)an=(an>>2)+(en[Ir+1]?4:0)+(en[Ir-fn+1]?8:0),jr[an]&&(Kr[pn+on]=jr[an],++Ur),Ir++;if(en[Ir-fn]!==en[Ir]&&(Kr[pn+on]=en[Ir]?2:4,++Ur),Ur>Pr)return null}for(Ir=fn*(Sr-1),pn=Qr*Wr,en[Ir]!==0&&(Kr[pn]=8,++Ur),on=1;on<kr;on++)en[Ir]!==en[Ir+1]&&(Kr[pn+on]=en[Ir]?4:8,++Ur),Ir++;if(en[Ir]!==0&&(Kr[pn+on]=4,++Ur),Ur>Pr)return null;const Mr=new Int32Array([0,Wr,-1,0,-Wr,0,0,0,1]),Zr=new Path2D;for(Qr=0;Ur&&Qr<=Sr;Qr++){let an=Qr*Wr;const vn=an+kr;for(;an<vn&&!Kr[an];)an++;if(an===vn)continue;Zr.moveTo(an%Wr,Qr);const _n=an;let dn=Kr[an];do{const Pn=Mr[dn];do an+=Pn;while(!Kr[an]);const gn=Kr[an];gn!==5&&gn!==10?(dn=gn,Kr[an]=0):(dn=gn&51*dn>>4,Kr[an]&=dn>>2|dn<<2),Zr.lineTo(an%Wr,an/Wr|0),Kr[an]||--Ur}while(_n!==an);--Qr}return en=null,Kr=null,function(an){an.save(),an.scale(1/kr,-1/Sr),an.translate(0,-Sr),an.fill(Zr),an.beginPath(),an.restore()}}class mr{constructor(kr,Sr){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=_i.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=_i.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=_i.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,kr,Sr])}clone(){const kr=Object.create(this);return kr.clipBox=this.clipBox.slice(),kr}setCurrentPoint(kr,Sr){this.x=kr,this.y=Sr}updatePathMinMax(kr,Sr,Pr){[Sr,Pr]=_i.Util.applyTransform([Sr,Pr],kr),this.minX=Math.min(this.minX,Sr),this.minY=Math.min(this.minY,Pr),this.maxX=Math.max(this.maxX,Sr),this.maxY=Math.max(this.maxY,Pr)}updateRectMinMax(kr,Sr){const Pr=_i.Util.applyTransform(Sr,kr),jr=_i.Util.applyTransform(Sr.slice(2),kr);this.minX=Math.min(this.minX,Pr[0],jr[0]),this.minY=Math.min(this.minY,Pr[1],jr[1]),this.maxX=Math.max(this.maxX,Pr[0],jr[0]),this.maxY=Math.max(this.maxY,Pr[1],jr[1])}updateScalingPathMinMax(kr,Sr){_i.Util.scaleMinMax(kr,Sr),this.minX=Math.min(this.minX,Sr[0]),this.maxX=Math.max(this.maxX,Sr[1]),this.minY=Math.min(this.minY,Sr[2]),this.maxY=Math.max(this.maxY,Sr[3])}updateCurvePathMinMax(kr,Sr,Pr,jr,Wr,Kr,Qr,on,pn,fn){const en=_i.Util.bezierBoundingBox(Sr,Pr,jr,Wr,Kr,Qr,on,pn);if(fn){fn[0]=Math.min(fn[0],en[0],en[2]),fn[1]=Math.max(fn[1],en[0],en[2]),fn[2]=Math.min(fn[2],en[1],en[3]),fn[3]=Math.max(fn[3],en[1],en[3]);return}this.updateRectMinMax(kr,en)}getPathBoundingBox(kr=rr.PathType.FILL,Sr=null){const Pr=[this.minX,this.minY,this.maxX,this.maxY];if(kr===rr.PathType.STROKE){Sr||(0,_i.unreachable)("Stroke bounding box must include transform.");const jr=_i.Util.singularValueDecompose2dScale(Sr),Wr=jr[0]*this.lineWidth/2,Kr=jr[1]*this.lineWidth/2;Pr[0]-=Wr,Pr[1]-=Kr,Pr[2]+=Wr,Pr[3]+=Kr}return Pr}updateClipFromPath(){const kr=_i.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(kr||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(kr){this.clipBox=kr,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(kr=rr.PathType.FILL,Sr=null){return _i.Util.intersect(this.clipBox,this.getPathBoundingBox(kr,Sr))}}function vr(Cr,kr,Sr=null){if(typeof ImageData<"u"&&kr instanceof ImageData){Cr.putImageData(kr,0,0);return}const Pr=kr.height,jr=kr.width,Wr=Pr%ar,Kr=(Pr-Wr)/ar,Qr=Wr===0?Kr:Kr+1,on=Cr.createImageData(jr,ar);let pn=0,fn;const en=kr.data,Ir=on.data;let Ur,Mr,Zr,tn,an,vn,_n,dn;if(Sr)switch(Sr.length){case 1:an=Sr[0],vn=Sr[0],_n=Sr[0],dn=Sr[0];break;case 4:an=Sr[0],vn=Sr[1],_n=Sr[2],dn=Sr[3];break}if(kr.kind===_i.ImageKind.GRAYSCALE_1BPP){const Pn=en.byteLength,gn=new Uint32Array(Ir.buffer,0,Ir.byteLength>>2),In=gn.length,Rn=jr+7>>3;let zn=4294967295,Cn=_i.FeatureTest.isLittleEndian?4278190080:255;for(dn&&dn[0]===255&&dn[255]===0&&([zn,Cn]=[Cn,zn]),Ur=0;Ur<Qr;Ur++){for(Zr=Ur<Kr?ar:Wr,fn=0,Mr=0;Mr<Zr;Mr++){const Dn=Pn-pn;let Kn=0;const Nn=Dn>Rn?jr:Dn*8-7,ds=Nn&-8;let as=0,cs=0;for(;Kn<ds;Kn+=8)cs=en[pn++],gn[fn++]=cs&128?zn:Cn,gn[fn++]=cs&64?zn:Cn,gn[fn++]=cs&32?zn:Cn,gn[fn++]=cs&16?zn:Cn,gn[fn++]=cs&8?zn:Cn,gn[fn++]=cs&4?zn:Cn,gn[fn++]=cs&2?zn:Cn,gn[fn++]=cs&1?zn:Cn;for(;Kn<Nn;Kn++)as===0&&(cs=en[pn++],as=128),gn[fn++]=cs&as?zn:Cn,as>>=1}for(;fn<In;)gn[fn++]=0;Cr.putImageData(on,0,Ur*ar)}}else if(kr.kind===_i.ImageKind.RGBA_32BPP){const Pn=!!(an||vn||_n);for(Mr=0,tn=jr*ar*4,Ur=0;Ur<Kr;Ur++){if(Ir.set(en.subarray(pn,pn+tn)),pn+=tn,Pn)for(let gn=0;gn<tn;gn+=4)an&&(Ir[gn+0]=an[Ir[gn+0]]),vn&&(Ir[gn+1]=vn[Ir[gn+1]]),_n&&(Ir[gn+2]=_n[Ir[gn+2]]);Cr.putImageData(on,0,Mr),Mr+=ar}if(Ur<Qr){if(tn=jr*Wr*4,Ir.set(en.subarray(pn,pn+tn)),Pn)for(let gn=0;gn<tn;gn+=4)an&&(Ir[gn+0]=an[Ir[gn+0]]),vn&&(Ir[gn+1]=vn[Ir[gn+1]]),_n&&(Ir[gn+2]=_n[Ir[gn+2]]);Cr.putImageData(on,0,Mr)}}else if(kr.kind===_i.ImageKind.RGB_24BPP){const Pn=!!(an||vn||_n);for(Zr=ar,tn=jr*Zr,Ur=0;Ur<Qr;Ur++){for(Ur>=Kr&&(Zr=Wr,tn=jr*Zr),fn=0,Mr=tn;Mr--;)Ir[fn++]=en[pn++],Ir[fn++]=en[pn++],Ir[fn++]=en[pn++],Ir[fn++]=255;if(Pn)for(let gn=0;gn<fn;gn+=4)an&&(Ir[gn+0]=an[Ir[gn+0]]),vn&&(Ir[gn+1]=vn[Ir[gn+1]]),_n&&(Ir[gn+2]=_n[Ir[gn+2]]);Cr.putImageData(on,0,Ur*ar)}}else throw new Error(`bad image kind: ${kr.kind}`)}function yr(Cr,kr){if(kr.bitmap){Cr.drawImage(kr.bitmap,0,0);return}const Sr=kr.height,Pr=kr.width,jr=Sr%ar,Wr=(Sr-jr)/ar,Kr=jr===0?Wr:Wr+1,Qr=Cr.createImageData(Pr,ar);let on=0;const pn=kr.data,fn=Qr.data;for(let en=0;en<Kr;en++){const Ir=en<Wr?ar:jr;({srcPos:on}=(0,gr.applyMaskImageData)({src:pn,srcPos:on,dest:fn,width:Pr,height:Ir})),Cr.putImageData(Qr,0,en*ar)}}function br(Cr,kr){const Sr=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(const Pr of Sr)Cr[Pr]!==void 0&&(kr[Pr]=Cr[Pr]);Cr.setLineDash!==void 0&&(kr.setLineDash(Cr.getLineDash()),kr.lineDashOffset=Cr.lineDashOffset)}function _r(Cr,kr){Cr.strokeStyle=Cr.fillStyle=kr||"#000000",Cr.fillRule="nonzero",Cr.globalAlpha=1,Cr.lineWidth=1,Cr.lineCap="butt",Cr.lineJoin="miter",Cr.miterLimit=10,Cr.globalCompositeOperation="source-over",Cr.font="10px sans-serif",Cr.setLineDash!==void 0&&(Cr.setLineDash([]),Cr.lineDashOffset=0)}function xr(Cr,kr,Sr,Pr){const jr=Cr.length;for(let Wr=3;Wr<jr;Wr+=4){const Kr=Cr[Wr];if(Kr===0)Cr[Wr-3]=kr,Cr[Wr-2]=Sr,Cr[Wr-1]=Pr;else if(Kr<255){const Qr=255-Kr;Cr[Wr-3]=Cr[Wr-3]*Kr+kr*Qr>>8,Cr[Wr-2]=Cr[Wr-2]*Kr+Sr*Qr>>8,Cr[Wr-1]=Cr[Wr-1]*Kr+Pr*Qr>>8}}}function Nr(Cr,kr,Sr){const Pr=Cr.length,jr=1/255;for(let Wr=3;Wr<Pr;Wr+=4){const Kr=Sr?Sr[Cr[Wr]]:Cr[Wr];kr[Wr]=kr[Wr]*Kr*jr|0}}function zr(Cr,kr,Sr){const Pr=Cr.length;for(let jr=3;jr<Pr;jr+=4){const Wr=Cr[jr-3]*77+Cr[jr-2]*152+Cr[jr-1]*28;kr[jr]=Sr?kr[jr]*Sr[Wr>>8]>>8:kr[jr]*Wr>>16}}function Tr(Cr,kr,Sr,Pr,jr,Wr,Kr,Qr,on,pn,fn){const en=!!Wr,Ir=en?Wr[0]:0,Ur=en?Wr[1]:0,Mr=en?Wr[2]:0;let Zr;jr==="Luminosity"?Zr=zr:Zr=Nr;const an=Math.min(Pr,Math.ceil(1048576/Sr));for(let vn=0;vn<Pr;vn+=an){const _n=Math.min(an,Pr-vn),dn=Cr.getImageData(Qr-pn,vn+(on-fn),Sr,_n),Pn=kr.getImageData(Qr,vn+on,Sr,_n);en&&xr(dn.data,Ir,Ur,Mr),Zr(dn.data,Pn.data,Kr),kr.putImageData(Pn,Qr,vn+on)}}function Br(Cr,kr,Sr,Pr){const jr=Pr[0],Wr=Pr[1],Kr=Pr[2]-jr,Qr=Pr[3]-Wr;Kr===0||Qr===0||(Tr(kr.context,Sr,Kr,Qr,kr.subtype,kr.backdrop,kr.transferMap,jr,Wr,kr.offsetX,kr.offsetY),Cr.save(),Cr.globalAlpha=1,Cr.globalCompositeOperation="source-over",Cr.setTransform(1,0,0,1,0,0),Cr.drawImage(Sr.canvas,0,0),Cr.restore())}function Jr(Cr,kr){const Sr=_i.Util.singularValueDecompose2dScale(Cr);Sr[0]=Math.fround(Sr[0]),Sr[1]=Math.fround(Sr[1]);const Pr=Math.fround((globalThis.devicePixelRatio||1)*ir.PixelsPerInch.PDF_TO_CSS_UNITS);return kr!==void 0?kr:Sr[0]<=Pr||Sr[1]<=Pr}const Yr=["butt","round","square"],Xr=["miter","round","bevel"],Vr={},$r={},Gr=class{constructor(kr,Sr,Pr,jr,Wr,Kr,Qr){Vn(this,Er);this.ctx=kr,this.current=new mr(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=Sr,this.objs=Pr,this.canvasFactory=jr,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=Wr,this.cachedCanvases=new lr(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Kr,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(Qr==null?void 0:Qr.background)||null,this.foregroundColor=(Qr==null?void 0:Qr.foreground)||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(kr,Sr=null){return typeof kr=="string"?kr.startsWith("g_")?this.commonObjs.get(kr):this.objs.get(kr):Sr}beginDrawing({transform:kr,viewport:Sr,transparency:Pr=!1,background:jr=null}){const Wr=this.ctx.canvas.width,Kr=this.ctx.canvas.height,Qr=jr||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const on=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const pn=this.backgroundColor=this.ctx.fillStyle;let fn=!0,en=Qr;if(this.ctx.fillStyle=Qr,en=this.ctx.fillStyle,fn=typeof en=="string"&&/^#[0-9A-Fa-f]{6}$/.test(en),on==="#000000"&&pn==="#ffffff"||on===pn||!fn)this.foregroundColor=this.backgroundColor=null;else{const[Ir,Ur,Mr]=(0,ir.getRGB)(en),Zr=an=>(an/=255,an<=.03928?an/12.92:((an+.055)/1.055)**2.4),tn=Math.round(.2126*Zr(Ir)+.7152*Zr(Ur)+.0722*Zr(Mr));this.selectColor=(an,vn,_n)=>{const dn=.2126*Zr(an)+.7152*Zr(vn)+.0722*Zr(_n);return Math.round(dn)===tn?pn:on}}}if(this.ctx.fillStyle=this.backgroundColor||Qr,this.ctx.fillRect(0,0,Wr,Kr),this.ctx.restore(),Pr){const on=this.cachedCanvases.getCanvas("transparent",Wr,Kr);this.compositeCtx=this.ctx,this.transparentCanvas=on.canvas,this.ctx=on.context,this.ctx.save(),this.ctx.transform(...(0,ir.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),_r(this.ctx,this.foregroundColor),kr&&(this.ctx.transform(...kr),this.outputScaleX=kr[0],this.outputScaleY=kr[0]),this.ctx.transform(...Sr.transform),this.viewportScale=Sr.scale,this.baseTransform=(0,ir.getCurrentTransform)(this.ctx)}executeOperatorList(kr,Sr,Pr,jr){const Wr=kr.argsArray,Kr=kr.fnArray;let Qr=Sr||0;const on=Wr.length;if(on===Qr)return Qr;const pn=on-Qr>nr&&typeof Pr=="function",fn=pn?Date.now()+or:0;let en=0;const Ir=this.commonObjs,Ur=this.objs;let Mr;for(;;){if(jr!==void 0&&Qr===jr.nextBreakPoint)return jr.breakIt(Qr,Pr),Qr;if(Mr=Kr[Qr],Mr!==_i.OPS.dependency)this[Mr].apply(this,Wr[Qr]);else for(const Zr of Wr[Qr]){const tn=Zr.startsWith("g_")?Ir:Ur;if(!tn.has(Zr))return tn.get(Zr,Pr),Qr}if(Qr++,Qr===on)return Qr;if(pn&&++en>nr){if(Date.now()>fn)return Pr(),Qr;en=0}}}endDrawing(){Yn(this,Er,Om).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const kr of this._cachedBitmapsMap.values()){for(const Sr of kr.values())typeof HTMLCanvasElement<"u"&&Sr instanceof HTMLCanvasElement&&(Sr.width=Sr.height=0);kr.clear()}this._cachedBitmapsMap.clear()}_scaleImage(kr,Sr){const Pr=kr.width,jr=kr.height;let Wr=Math.max(Math.hypot(Sr[0],Sr[1]),1),Kr=Math.max(Math.hypot(Sr[2],Sr[3]),1),Qr=Pr,on=jr,pn="prescale1",fn,en;for(;Wr>2&&Qr>1||Kr>2&&on>1;){let Ir=Qr,Ur=on;Wr>2&&Qr>1&&(Ir=Math.ceil(Qr/2),Wr/=Qr/Ir),Kr>2&&on>1&&(Ur=Math.ceil(on/2),Kr/=on/Ur),fn=this.cachedCanvases.getCanvas(pn,Ir,Ur),en=fn.context,en.clearRect(0,0,Ir,Ur),en.drawImage(kr,0,0,Qr,on,0,0,Ir,Ur),kr=fn.canvas,Qr=Ir,on=Ur,pn=pn==="prescale1"?"prescale2":"prescale1"}return{img:kr,paintWidth:Qr,paintHeight:on}}_createMaskCanvas(kr){const Sr=this.ctx,{width:Pr,height:jr}=kr,Wr=this.current.fillColor,Kr=this.current.patternFill,Qr=(0,ir.getCurrentTransform)(Sr);let on,pn,fn,en;if((kr.bitmap||kr.data)&&kr.count>1){const In=kr.bitmap||kr.data.buffer;pn=JSON.stringify(Kr?Qr:[Qr.slice(0,4),Wr]),on=this._cachedBitmapsMap.get(In),on||(on=new Map,this._cachedBitmapsMap.set(In,on));const Rn=on.get(pn);if(Rn&&!Kr){const zn=Math.round(Math.min(Qr[0],Qr[2])+Qr[4]),Cn=Math.round(Math.min(Qr[1],Qr[3])+Qr[5]);return{canvas:Rn,offsetX:zn,offsetY:Cn}}fn=Rn}fn||(en=this.cachedCanvases.getCanvas("maskCanvas",Pr,jr),yr(en.context,kr));let Ir=_i.Util.transform(Qr,[1/Pr,0,0,-1/jr,0,0]);Ir=_i.Util.transform(Ir,[1,0,0,1,0,-jr]);const Ur=_i.Util.applyTransform([0,0],Ir),Mr=_i.Util.applyTransform([Pr,jr],Ir),Zr=_i.Util.normalizeRect([Ur[0],Ur[1],Mr[0],Mr[1]]),tn=Math.round(Zr[2]-Zr[0])||1,an=Math.round(Zr[3]-Zr[1])||1,vn=this.cachedCanvases.getCanvas("fillCanvas",tn,an),_n=vn.context,dn=Math.min(Ur[0],Mr[0]),Pn=Math.min(Ur[1],Mr[1]);_n.translate(-dn,-Pn),_n.transform(...Ir),fn||(fn=this._scaleImage(en.canvas,(0,ir.getCurrentTransformInverse)(_n)),fn=fn.img,on&&Kr&&on.set(pn,fn)),_n.imageSmoothingEnabled=Jr((0,ir.getCurrentTransform)(_n),kr.interpolate),sr(_n,fn,0,0,fn.width,fn.height,0,0,Pr,jr),_n.globalCompositeOperation="source-in";const gn=_i.Util.transform((0,ir.getCurrentTransformInverse)(_n),[1,0,0,1,-dn,-Pn]);return _n.fillStyle=Kr?Wr.getPattern(Sr,this,gn,rr.PathType.FILL):Wr,_n.fillRect(0,0,Pr,jr),on&&!Kr&&(this.cachedCanvases.delete("fillCanvas"),on.set(pn,vn.canvas)),{canvas:vn.canvas,offsetX:Math.round(dn),offsetY:Math.round(Pn)}}setLineWidth(kr){kr!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=kr,this.ctx.lineWidth=kr}setLineCap(kr){this.ctx.lineCap=Yr[kr]}setLineJoin(kr){this.ctx.lineJoin=Xr[kr]}setMiterLimit(kr){this.ctx.miterLimit=kr}setDash(kr,Sr){const Pr=this.ctx;Pr.setLineDash!==void 0&&(Pr.setLineDash(kr),Pr.lineDashOffset=Sr)}setRenderingIntent(kr){}setFlatness(kr){}setGState(kr){for(const[Sr,Pr]of kr)switch(Sr){case"LW":this.setLineWidth(Pr);break;case"LC":this.setLineCap(Pr);break;case"LJ":this.setLineJoin(Pr);break;case"ML":this.setMiterLimit(Pr);break;case"D":this.setDash(Pr[0],Pr[1]);break;case"RI":this.setRenderingIntent(Pr);break;case"FL":this.setFlatness(Pr);break;case"Font":this.setFont(Pr[0],Pr[1]);break;case"CA":this.current.strokeAlpha=Pr;break;case"ca":this.current.fillAlpha=Pr,this.ctx.globalAlpha=Pr;break;case"BM":this.ctx.globalCompositeOperation=Pr;break;case"SMask":this.current.activeSMask=Pr?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=Pr}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const kr=this.inSMaskMode;this.current.activeSMask&&!kr?this.beginSMaskMode():!this.current.activeSMask&&kr&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const kr=this.ctx.canvas.width,Sr=this.ctx.canvas.height,Pr="smaskGroupAt"+this.groupLevel,jr=this.cachedCanvases.getCanvas(Pr,kr,Sr);this.suspendedCtx=this.ctx,this.ctx=jr.context;const Wr=this.ctx;Wr.setTransform(...(0,ir.getCurrentTransform)(this.suspendedCtx)),br(this.suspendedCtx,Wr),dr(Wr,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),br(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(kr){if(!this.current.activeSMask)return;kr?(kr[0]=Math.floor(kr[0]),kr[1]=Math.floor(kr[1]),kr[2]=Math.ceil(kr[2]),kr[3]=Math.ceil(kr[3])):kr=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const Sr=this.current.activeSMask,Pr=this.suspendedCtx;Br(Pr,Sr,this.ctx,kr),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(br(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const kr=this.current;this.stateStack.push(kr),this.current=kr.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),br(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(kr,Sr,Pr,jr,Wr,Kr){this.ctx.transform(kr,Sr,Pr,jr,Wr,Kr),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(kr,Sr,Pr){const jr=this.ctx,Wr=this.current;let Kr=Wr.x,Qr=Wr.y,on,pn;const fn=(0,ir.getCurrentTransform)(jr),en=fn[0]===0&&fn[3]===0||fn[1]===0&&fn[2]===0,Ir=en?Pr.slice(0):null;for(let Ur=0,Mr=0,Zr=kr.length;Ur<Zr;Ur++)switch(kr[Ur]|0){case _i.OPS.rectangle:Kr=Sr[Mr++],Qr=Sr[Mr++];const tn=Sr[Mr++],an=Sr[Mr++],vn=Kr+tn,_n=Qr+an;jr.moveTo(Kr,Qr),tn===0||an===0?jr.lineTo(vn,_n):(jr.lineTo(vn,Qr),jr.lineTo(vn,_n),jr.lineTo(Kr,_n)),en||Wr.updateRectMinMax(fn,[Kr,Qr,vn,_n]),jr.closePath();break;case _i.OPS.moveTo:Kr=Sr[Mr++],Qr=Sr[Mr++],jr.moveTo(Kr,Qr),en||Wr.updatePathMinMax(fn,Kr,Qr);break;case _i.OPS.lineTo:Kr=Sr[Mr++],Qr=Sr[Mr++],jr.lineTo(Kr,Qr),en||Wr.updatePathMinMax(fn,Kr,Qr);break;case _i.OPS.curveTo:on=Kr,pn=Qr,Kr=Sr[Mr+4],Qr=Sr[Mr+5],jr.bezierCurveTo(Sr[Mr],Sr[Mr+1],Sr[Mr+2],Sr[Mr+3],Kr,Qr),Wr.updateCurvePathMinMax(fn,on,pn,Sr[Mr],Sr[Mr+1],Sr[Mr+2],Sr[Mr+3],Kr,Qr,Ir),Mr+=6;break;case _i.OPS.curveTo2:on=Kr,pn=Qr,jr.bezierCurveTo(Kr,Qr,Sr[Mr],Sr[Mr+1],Sr[Mr+2],Sr[Mr+3]),Wr.updateCurvePathMinMax(fn,on,pn,Kr,Qr,Sr[Mr],Sr[Mr+1],Sr[Mr+2],Sr[Mr+3],Ir),Kr=Sr[Mr+2],Qr=Sr[Mr+3],Mr+=4;break;case _i.OPS.curveTo3:on=Kr,pn=Qr,Kr=Sr[Mr+2],Qr=Sr[Mr+3],jr.bezierCurveTo(Sr[Mr],Sr[Mr+1],Kr,Qr,Kr,Qr),Wr.updateCurvePathMinMax(fn,on,pn,Sr[Mr],Sr[Mr+1],Kr,Qr,Kr,Qr,Ir),Mr+=4;break;case _i.OPS.closePath:jr.closePath();break}en&&Wr.updateScalingPathMinMax(fn,Ir),Wr.setCurrentPoint(Kr,Qr)}closePath(){this.ctx.closePath()}stroke(kr){kr=typeof kr<"u"?kr:!0;const Sr=this.ctx,Pr=this.current.strokeColor;Sr.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof Pr=="object"&&(Pr==null?void 0:Pr.getPattern)?(Sr.save(),Sr.strokeStyle=Pr.getPattern(Sr,this,(0,ir.getCurrentTransformInverse)(Sr),rr.PathType.STROKE),this.rescaleAndStroke(!1),Sr.restore()):this.rescaleAndStroke(!0)),kr&&this.consumePath(this.current.getClippedPathBoundingBox()),Sr.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(kr){kr=typeof kr<"u"?kr:!0;const Sr=this.ctx,Pr=this.current.fillColor,jr=this.current.patternFill;let Wr=!1;jr&&(Sr.save(),Sr.fillStyle=Pr.getPattern(Sr,this,(0,ir.getCurrentTransformInverse)(Sr),rr.PathType.FILL),Wr=!0);const Kr=this.current.getClippedPathBoundingBox();this.contentVisible&&Kr!==null&&(this.pendingEOFill?(Sr.fill("evenodd"),this.pendingEOFill=!1):Sr.fill()),Wr&&Sr.restore(),kr&&this.consumePath(Kr)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Vr}eoClip(){this.pendingClip=$r}beginText(){this.current.textMatrix=_i.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const kr=this.pendingTextPaths,Sr=this.ctx;if(kr===void 0){Sr.beginPath();return}Sr.save(),Sr.beginPath();for(const Pr of kr)Sr.setTransform(...Pr.transform),Sr.translate(Pr.x,Pr.y),Pr.addToPath(Sr,Pr.fontSize);Sr.restore(),Sr.clip(),Sr.beginPath(),delete this.pendingTextPaths}setCharSpacing(kr){this.current.charSpacing=kr}setWordSpacing(kr){this.current.wordSpacing=kr}setHScale(kr){this.current.textHScale=kr/100}setLeading(kr){this.current.leading=-kr}setFont(kr,Sr){const Pr=this.commonObjs.get(kr),jr=this.current;if(!Pr)throw new Error(`Can't find font for ${kr}`);if(jr.fontMatrix=Pr.fontMatrix||_i.FONT_IDENTITY_MATRIX,(jr.fontMatrix[0]===0||jr.fontMatrix[3]===0)&&(0,_i.warn)("Invalid font matrix for font "+kr),Sr<0?(Sr=-Sr,jr.fontDirection=-1):jr.fontDirection=1,this.current.font=Pr,this.current.fontSize=Sr,Pr.isType3Font)return;const Wr=Pr.loadedName||"sans-serif";let Kr="normal";Pr.black?Kr="900":Pr.bold&&(Kr="bold");const Qr=Pr.italic?"italic":"normal",on=`"${Wr}", ${Pr.fallbackName}`;let pn=Sr;Sr<tr?pn=tr:Sr>hr&&(pn=hr),this.current.fontSizeScale=Sr/pn,this.ctx.font=`${Qr} ${Kr} ${pn}px ${on}`}setTextRenderingMode(kr){this.current.textRenderingMode=kr}setTextRise(kr){this.current.textRise=kr}moveText(kr,Sr){this.current.x=this.current.lineX+=kr,this.current.y=this.current.lineY+=Sr}setLeadingMoveText(kr,Sr){this.setLeading(-Sr),this.moveText(kr,Sr)}setTextMatrix(kr,Sr,Pr,jr,Wr,Kr){this.current.textMatrix=[kr,Sr,Pr,jr,Wr,Kr],this.current.textMatrixScale=Math.hypot(kr,Sr),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(kr,Sr,Pr,jr){const Wr=this.ctx,Kr=this.current,Qr=Kr.font,on=Kr.textRenderingMode,pn=Kr.fontSize/Kr.fontSizeScale,fn=on&_i.TextRenderingMode.FILL_STROKE_MASK,en=!!(on&_i.TextRenderingMode.ADD_TO_PATH_FLAG),Ir=Kr.patternFill&&!Qr.missingFile;let Ur;(Qr.disableFontFace||en||Ir)&&(Ur=Qr.getPathGenerator(this.commonObjs,kr)),Qr.disableFontFace||Ir?(Wr.save(),Wr.translate(Sr,Pr),Wr.beginPath(),Ur(Wr,pn),jr&&Wr.setTransform(...jr),(fn===_i.TextRenderingMode.FILL||fn===_i.TextRenderingMode.FILL_STROKE)&&Wr.fill(),(fn===_i.TextRenderingMode.STROKE||fn===_i.TextRenderingMode.FILL_STROKE)&&Wr.stroke(),Wr.restore()):((fn===_i.TextRenderingMode.FILL||fn===_i.TextRenderingMode.FILL_STROKE)&&Wr.fillText(kr,Sr,Pr),(fn===_i.TextRenderingMode.STROKE||fn===_i.TextRenderingMode.FILL_STROKE)&&Wr.strokeText(kr,Sr,Pr)),en&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,ir.getCurrentTransform)(Wr),x:Sr,y:Pr,fontSize:pn,addToPath:Ur})}get isFontSubpixelAAEnabled(){const{context:kr}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);kr.scale(1.5,1),kr.fillText("I",0,10);const Sr=kr.getImageData(0,0,10,10).data;let Pr=!1;for(let jr=3;jr<Sr.length;jr+=4)if(Sr[jr]>0&&Sr[jr]<255){Pr=!0;break}return(0,_i.shadow)(this,"isFontSubpixelAAEnabled",Pr)}showText(kr){const Sr=this.current,Pr=Sr.font;if(Pr.isType3Font)return this.showType3Text(kr);const jr=Sr.fontSize;if(jr===0)return;const Wr=this.ctx,Kr=Sr.fontSizeScale,Qr=Sr.charSpacing,on=Sr.wordSpacing,pn=Sr.fontDirection,fn=Sr.textHScale*pn,en=kr.length,Ir=Pr.vertical,Ur=Ir?1:-1,Mr=Pr.defaultVMetrics,Zr=jr*Sr.fontMatrix[0],tn=Sr.textRenderingMode===_i.TextRenderingMode.FILL&&!Pr.disableFontFace&&!Sr.patternFill;Wr.save(),Wr.transform(...Sr.textMatrix),Wr.translate(Sr.x,Sr.y+Sr.textRise),pn>0?Wr.scale(fn,-1):Wr.scale(fn,1);let an;if(Sr.patternFill){Wr.save();const gn=Sr.fillColor.getPattern(Wr,this,(0,ir.getCurrentTransformInverse)(Wr),rr.PathType.FILL);an=(0,ir.getCurrentTransform)(Wr),Wr.restore(),Wr.fillStyle=gn}let vn=Sr.lineWidth;const _n=Sr.textMatrixScale;if(_n===0||vn===0){const gn=Sr.textRenderingMode&_i.TextRenderingMode.FILL_STROKE_MASK;(gn===_i.TextRenderingMode.STROKE||gn===_i.TextRenderingMode.FILL_STROKE)&&(vn=this.getSinglePixelWidth())}else vn/=_n;Kr!==1&&(Wr.scale(Kr,Kr),vn/=Kr),Wr.lineWidth=vn;let dn=0,Pn;for(Pn=0;Pn<en;++Pn){const gn=kr[Pn];if(typeof gn=="number"){dn+=Ur*gn*jr/1e3;continue}let In=!1;const Rn=(gn.isSpace?on:0)+Qr,zn=gn.fontChar,Cn=gn.accent;let Dn,Kn,Nn=gn.width;if(Ir){const as=gn.vmetric||Mr,cs=-(gn.vmetric?as[1]:Nn*.5)*Zr,Ss=as[2]*Zr;Nn=as?-as[0]:Nn,Dn=cs/Kr,Kn=(dn+Ss)/Kr}else Dn=dn/Kr,Kn=0;if(Pr.remeasure&&Nn>0){const as=Wr.measureText(zn).width*1e3/jr*Kr;if(Nn<as&&this.isFontSubpixelAAEnabled){const cs=Nn/as;In=!0,Wr.save(),Wr.scale(cs,1),Dn/=cs}else Nn!==as&&(Dn+=(Nn-as)/2e3*jr/Kr)}if(this.contentVisible&&(gn.isInFont||Pr.missingFile)){if(tn&&!Cn)Wr.fillText(zn,Dn,Kn);else if(this.paintChar(zn,Dn,Kn,an),Cn){const as=Dn+jr*Cn.offset.x/Kr,cs=Kn-jr*Cn.offset.y/Kr;this.paintChar(Cn.fontChar,as,cs,an)}}let ds;Ir?ds=Nn*Zr-Rn*pn:ds=Nn*Zr+Rn*pn,dn+=ds,In&&Wr.restore()}Ir?Sr.y-=dn:Sr.x+=dn*fn,Wr.restore(),this.compose()}showType3Text(kr){const Sr=this.ctx,Pr=this.current,jr=Pr.font,Wr=Pr.fontSize,Kr=Pr.fontDirection,Qr=jr.vertical?1:-1,on=Pr.charSpacing,pn=Pr.wordSpacing,fn=Pr.textHScale*Kr,en=Pr.fontMatrix||_i.FONT_IDENTITY_MATRIX,Ir=kr.length,Ur=Pr.textRenderingMode===_i.TextRenderingMode.INVISIBLE;let Mr,Zr,tn,an;if(!(Ur||Wr===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,Sr.save(),Sr.transform(...Pr.textMatrix),Sr.translate(Pr.x,Pr.y),Sr.scale(fn,Kr),Mr=0;Mr<Ir;++Mr){if(Zr=kr[Mr],typeof Zr=="number"){an=Qr*Zr*Wr/1e3,this.ctx.translate(an,0),Pr.x+=an*fn;continue}const vn=(Zr.isSpace?pn:0)+on,_n=jr.charProcOperatorList[Zr.operatorListId];if(!_n){(0,_i.warn)(`Type3 character "${Zr.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Zr,this.save(),Sr.scale(Wr,Wr),Sr.transform(...en),this.executeOperatorList(_n),this.restore()),tn=_i.Util.applyTransform([Zr.width,0],en)[0]*Wr+vn,Sr.translate(tn,0),Pr.x+=tn*fn}Sr.restore(),this.processingType3=null}}setCharWidth(kr,Sr){}setCharWidthAndBounds(kr,Sr,Pr,jr,Wr,Kr){this.ctx.rect(Pr,jr,Wr-Pr,Kr-jr),this.ctx.clip(),this.endPath()}getColorN_Pattern(kr){let Sr;if(kr[0]==="TilingPattern"){const Pr=kr[1],jr=this.baseTransform||(0,ir.getCurrentTransform)(this.ctx),Wr={createCanvasGraphics:Kr=>new Gr(Kr,this.commonObjs,this.objs,this.canvasFactory)};Sr=new rr.TilingPattern(kr,Pr,this.ctx,Wr,jr)}else Sr=this._getPattern(kr[1],kr[2]);return Sr}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(kr,Sr,Pr){var Wr;const jr=((Wr=this.selectColor)==null?void 0:Wr.call(this,kr,Sr,Pr))||_i.Util.makeHexColor(kr,Sr,Pr);this.ctx.strokeStyle=jr,this.current.strokeColor=jr}setFillRGBColor(kr,Sr,Pr){var Wr;const jr=((Wr=this.selectColor)==null?void 0:Wr.call(this,kr,Sr,Pr))||_i.Util.makeHexColor(kr,Sr,Pr);this.ctx.fillStyle=jr,this.current.fillColor=jr,this.current.patternFill=!1}_getPattern(kr,Sr=null){let Pr;return this.cachedPatterns.has(kr)?Pr=this.cachedPatterns.get(kr):(Pr=(0,rr.getShadingPattern)(this.objs.get(kr)),this.cachedPatterns.set(kr,Pr)),Sr&&(Pr.matrix=Sr),Pr}shadingFill(kr){if(!this.contentVisible)return;const Sr=this.ctx;this.save();const Pr=this._getPattern(kr);Sr.fillStyle=Pr.getPattern(Sr,this,(0,ir.getCurrentTransformInverse)(Sr),rr.PathType.SHADING);const jr=(0,ir.getCurrentTransformInverse)(Sr);if(jr){const Wr=Sr.canvas,Kr=Wr.width,Qr=Wr.height,on=_i.Util.applyTransform([0,0],jr),pn=_i.Util.applyTransform([0,Qr],jr),fn=_i.Util.applyTransform([Kr,0],jr),en=_i.Util.applyTransform([Kr,Qr],jr),Ir=Math.min(on[0],pn[0],fn[0],en[0]),Ur=Math.min(on[1],pn[1],fn[1],en[1]),Mr=Math.max(on[0],pn[0],fn[0],en[0]),Zr=Math.max(on[1],pn[1],fn[1],en[1]);this.ctx.fillRect(Ir,Ur,Mr-Ir,Zr-Ur)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,_i.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,_i.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(kr,Sr){if(!!this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(kr)&&kr.length===6&&this.transform(...kr),this.baseTransform=(0,ir.getCurrentTransform)(this.ctx),Sr)){const Pr=Sr[2]-Sr[0],jr=Sr[3]-Sr[1];this.ctx.rect(Sr[0],Sr[1],Pr,jr),this.current.updateRectMinMax((0,ir.getCurrentTransform)(this.ctx),Sr),this.clip(),this.endPath()}}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(kr){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const Sr=this.ctx;kr.isolated||(0,_i.info)("TODO: Support non-isolated groups."),kr.knockout&&(0,_i.warn)("Knockout groups not supported.");const Pr=(0,ir.getCurrentTransform)(Sr);if(kr.matrix&&Sr.transform(...kr.matrix),!kr.bbox)throw new Error("Bounding box is required.");let jr=_i.Util.getAxialAlignedBoundingBox(kr.bbox,(0,ir.getCurrentTransform)(Sr));const Wr=[0,0,Sr.canvas.width,Sr.canvas.height];jr=_i.Util.intersect(jr,Wr)||[0,0,0,0];const Kr=Math.floor(jr[0]),Qr=Math.floor(jr[1]);let on=Math.max(Math.ceil(jr[2])-Kr,1),pn=Math.max(Math.ceil(jr[3])-Qr,1),fn=1,en=1;on>ur&&(fn=on/ur,on=ur),pn>ur&&(en=pn/ur,pn=ur),this.current.startNewPathAndClipBox([0,0,on,pn]);let Ir="groupAt"+this.groupLevel;kr.smask&&(Ir+="_smask_"+this.smaskCounter++%2);const Ur=this.cachedCanvases.getCanvas(Ir,on,pn),Mr=Ur.context;Mr.scale(1/fn,1/en),Mr.translate(-Kr,-Qr),Mr.transform(...Pr),kr.smask?this.smaskStack.push({canvas:Ur.canvas,context:Mr,offsetX:Kr,offsetY:Qr,scaleX:fn,scaleY:en,subtype:kr.smask.subtype,backdrop:kr.smask.backdrop,transferMap:kr.smask.transferMap||null,startTransformInverse:null}):(Sr.setTransform(1,0,0,1,0,0),Sr.translate(Kr,Qr),Sr.scale(fn,en),Sr.save()),br(Sr,Mr),this.ctx=Mr,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(Sr),this.groupLevel++}endGroup(kr){if(!this.contentVisible)return;this.groupLevel--;const Sr=this.ctx,Pr=this.groupStack.pop();if(this.ctx=Pr,this.ctx.imageSmoothingEnabled=!1,kr.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const jr=(0,ir.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...jr);const Wr=_i.Util.getAxialAlignedBoundingBox([0,0,Sr.canvas.width,Sr.canvas.height],jr);this.ctx.drawImage(Sr.canvas,0,0),this.ctx.restore(),this.compose(Wr)}}beginAnnotation(kr,Sr,Pr,jr,Wr){if(Yn(this,Er,Om).call(this),_r(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(Sr)&&Sr.length===4){const Kr=Sr[2]-Sr[0],Qr=Sr[3]-Sr[1];if(Wr&&this.annotationCanvasMap){Pr=Pr.slice(),Pr[4]-=Sr[0],Pr[5]-=Sr[1],Sr=Sr.slice(),Sr[0]=Sr[1]=0,Sr[2]=Kr,Sr[3]=Qr;const[on,pn]=_i.Util.singularValueDecompose2dScale((0,ir.getCurrentTransform)(this.ctx)),{viewportScale:fn}=this,en=Math.ceil(Kr*this.outputScaleX*fn),Ir=Math.ceil(Qr*this.outputScaleY*fn);this.annotationCanvas=this.canvasFactory.create(en,Ir);const{canvas:Ur,context:Mr}=this.annotationCanvas;this.annotationCanvasMap.set(kr,Ur),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Mr,this.ctx.setTransform(on,0,0,-pn,0,Qr*pn),_r(this.ctx,this.foregroundColor)}else _r(this.ctx,this.foregroundColor),this.ctx.rect(Sr[0],Sr[1],Kr,Qr),this.ctx.clip(),this.endPath()}this.current=new mr(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...Pr),this.transform(...jr)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(kr){if(!this.contentVisible)return;const Sr=kr.count;kr=this.getObject(kr.data,kr),kr.count=Sr;const Pr=this.ctx,jr=this.processingType3;if(jr&&(jr.compiled===void 0&&(jr.compiled=pr(kr)),jr.compiled)){jr.compiled(Pr);return}const Wr=this._createMaskCanvas(kr),Kr=Wr.canvas;Pr.save(),Pr.setTransform(1,0,0,1,0,0),Pr.drawImage(Kr,Wr.offsetX,Wr.offsetY),Pr.restore(),this.compose()}paintImageMaskXObjectRepeat(kr,Sr,Pr=0,jr=0,Wr,Kr){if(!this.contentVisible)return;kr=this.getObject(kr.data,kr);const Qr=this.ctx;Qr.save();const on=(0,ir.getCurrentTransform)(Qr);Qr.transform(Sr,Pr,jr,Wr,0,0);const pn=this._createMaskCanvas(kr);Qr.setTransform(1,0,0,1,0,0);for(let fn=0,en=Kr.length;fn<en;fn+=2){const Ir=_i.Util.transform(on,[Sr,Pr,jr,Wr,Kr[fn],Kr[fn+1]]),[Ur,Mr]=_i.Util.applyTransform([0,0],Ir);Qr.drawImage(pn.canvas,Ur,Mr)}Qr.restore(),this.compose()}paintImageMaskXObjectGroup(kr){if(!this.contentVisible)return;const Sr=this.ctx,Pr=this.current.fillColor,jr=this.current.patternFill;for(const Wr of kr){const{data:Kr,width:Qr,height:on,transform:pn}=Wr,fn=this.cachedCanvases.getCanvas("maskCanvas",Qr,on),en=fn.context;en.save();const Ir=this.getObject(Kr,Wr);yr(en,Ir),en.globalCompositeOperation="source-in",en.fillStyle=jr?Pr.getPattern(en,this,(0,ir.getCurrentTransformInverse)(Sr),rr.PathType.FILL):Pr,en.fillRect(0,0,Qr,on),en.restore(),Sr.save(),Sr.transform(...pn),Sr.scale(1,-1),sr(Sr,fn.canvas,0,0,Qr,on,0,-1,1,1),Sr.restore()}this.compose()}paintImageXObject(kr){if(!this.contentVisible)return;const Sr=this.getObject(kr);if(!Sr){(0,_i.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(Sr)}paintImageXObjectRepeat(kr,Sr,Pr,jr){if(!this.contentVisible)return;const Wr=this.getObject(kr);if(!Wr){(0,_i.warn)("Dependent image isn't ready yet");return}const Kr=Wr.width,Qr=Wr.height,on=[];for(let pn=0,fn=jr.length;pn<fn;pn+=2)on.push({transform:[Sr,0,0,Pr,jr[pn],jr[pn+1]],x:0,y:0,w:Kr,h:Qr});this.paintInlineImageXObjectGroup(Wr,on)}paintInlineImageXObject(kr){if(!this.contentVisible)return;const Sr=kr.width,Pr=kr.height,jr=this.ctx;this.save(),jr.scale(1/Sr,-1/Pr);let Wr;if(typeof HTMLElement=="function"&&kr instanceof HTMLElement||!kr.data)Wr=kr;else{const Qr=this.cachedCanvases.getCanvas("inlineImage",Sr,Pr),on=Qr.context;vr(on,kr,this.current.transferMaps),Wr=Qr.canvas}const Kr=this._scaleImage(Wr,(0,ir.getCurrentTransformInverse)(jr));jr.imageSmoothingEnabled=Jr((0,ir.getCurrentTransform)(jr),kr.interpolate),sr(jr,Kr.img,0,0,Kr.paintWidth,Kr.paintHeight,0,-Pr,Sr,Pr),this.compose(),this.restore()}paintInlineImageXObjectGroup(kr,Sr){if(!this.contentVisible)return;const Pr=this.ctx,jr=kr.width,Wr=kr.height,Kr=this.cachedCanvases.getCanvas("inlineImage",jr,Wr),Qr=Kr.context;vr(Qr,kr,this.current.transferMaps);for(const on of Sr)Pr.save(),Pr.transform(...on.transform),Pr.scale(1,-1),sr(Pr,Kr.canvas,on.x,on.y,on.w,on.h,0,-1,1,1),Pr.restore();this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(kr){}markPointProps(kr,Sr){}beginMarkedContent(kr){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(kr,Sr){kr==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(Sr)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(kr){const Sr=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(kr);const Pr=this.ctx;this.pendingClip&&(Sr||(this.pendingClip===$r?Pr.clip("evenodd"):Pr.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),Pr.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const kr=(0,ir.getCurrentTransform)(this.ctx);if(kr[1]===0&&kr[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(kr[0]),Math.abs(kr[3]));else{const Sr=Math.abs(kr[0]*kr[3]-kr[2]*kr[1]),Pr=Math.hypot(kr[0],kr[2]),jr=Math.hypot(kr[1],kr[3]);this._cachedGetSinglePixelWidth=Math.max(Pr,jr)/Sr}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:kr}=this.current,Sr=(0,ir.getCurrentTransform)(this.ctx);let Pr,jr;if(Sr[1]===0&&Sr[2]===0){const Wr=Math.abs(Sr[0]),Kr=Math.abs(Sr[3]);if(kr===0)Pr=1/Wr,jr=1/Kr;else{const Qr=Wr*kr,on=Kr*kr;Pr=Qr<1?1/Qr:1,jr=on<1?1/on:1}}else{const Wr=Math.abs(Sr[0]*Sr[3]-Sr[2]*Sr[1]),Kr=Math.hypot(Sr[0],Sr[1]),Qr=Math.hypot(Sr[2],Sr[3]);if(kr===0)Pr=Qr/Wr,jr=Kr/Wr;else{const on=kr*Wr;Pr=Qr>on?Qr/on:1,jr=Kr>on?Kr/on:1}}this._cachedScaleForStroking=[Pr,jr]}return this._cachedScaleForStroking}rescaleAndStroke(kr){const{ctx:Sr}=this,{lineWidth:Pr}=this.current,[jr,Wr]=this.getScaleForStroking();if(Sr.lineWidth=Pr||1,jr===1&&Wr===1){Sr.stroke();return}let Kr,Qr,on;kr&&(Kr=(0,ir.getCurrentTransform)(Sr),Qr=Sr.getLineDash().slice(),on=Sr.lineDashOffset),Sr.scale(jr,Wr);const pn=Math.max(jr,Wr);Sr.setLineDash(Sr.getLineDash().map(fn=>fn/pn)),Sr.lineDashOffset/=pn,Sr.stroke(),kr&&(Sr.setTransform(...Kr),Sr.setLineDash(Qr),Sr.lineDashOffset=on)}isContentVisible(){for(let kr=this.markedContentStack.length-1;kr>=0;kr--)if(!this.markedContentStack[kr].visible)return!1;return!0}};let Lr=Gr;Er=new WeakSet,Om=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},e.CanvasGraphics=Lr;for(const Cr in _i.OPS)Lr.prototype[Cr]!==void 0&&(Lr.prototype[_i.OPS[Cr]]=Lr.prototype[Cr])},(St,e,_e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TilingPattern=e.PathType=void 0,e.getShadingPattern=ar;var _i=_e(1),ir=_e(6),rr=_e(12);const gr={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};e.PathType=gr;function cr(sr,pr){if(!pr||rr.isNodeJS)return;const mr=pr[2]-pr[0],vr=pr[3]-pr[1],yr=new Path2D;yr.rect(pr[0],pr[1],mr,vr),sr.clip(yr)}class tr{constructor(){this.constructor===tr&&(0,_i.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,_i.unreachable)("Abstract method `getPattern` called.")}}class hr extends tr{constructor(pr){super(),this._type=pr[1],this._bbox=pr[2],this._colorStops=pr[3],this._p0=pr[4],this._p1=pr[5],this._r0=pr[6],this._r1=pr[7],this.matrix=null}_createGradient(pr){let mr;this._type==="axial"?mr=pr.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(mr=pr.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const vr of this._colorStops)mr.addColorStop(vr[0],vr[1]);return mr}getPattern(pr,mr,vr,yr){let br;if(yr===gr.STROKE||yr===gr.FILL){const _r=mr.current.getClippedPathBoundingBox(yr,(0,ir.getCurrentTransform)(pr))||[0,0,0,0],xr=Math.ceil(_r[2]-_r[0])||1,Nr=Math.ceil(_r[3]-_r[1])||1,zr=mr.cachedCanvases.getCanvas("pattern",xr,Nr,!0),Tr=zr.context;Tr.clearRect(0,0,Tr.canvas.width,Tr.canvas.height),Tr.beginPath(),Tr.rect(0,0,Tr.canvas.width,Tr.canvas.height),Tr.translate(-_r[0],-_r[1]),vr=_i.Util.transform(vr,[1,0,0,1,_r[0],_r[1]]),Tr.transform(...mr.baseTransform),this.matrix&&Tr.transform(...this.matrix),cr(Tr,this._bbox),Tr.fillStyle=this._createGradient(Tr),Tr.fill(),br=pr.createPattern(zr.canvas,"no-repeat");const Br=new DOMMatrix(vr);br.setTransform(Br)}else cr(pr,this._bbox),br=this._createGradient(pr);return br}}function ur(sr,pr,mr,vr,yr,br,_r,xr){const Nr=pr.coords,zr=pr.colors,Tr=sr.data,Br=sr.width*4;let Jr;Nr[mr+1]>Nr[vr+1]&&(Jr=mr,mr=vr,vr=Jr,Jr=br,br=_r,_r=Jr),Nr[vr+1]>Nr[yr+1]&&(Jr=vr,vr=yr,yr=Jr,Jr=_r,_r=xr,xr=Jr),Nr[mr+1]>Nr[vr+1]&&(Jr=mr,mr=vr,vr=Jr,Jr=br,br=_r,_r=Jr);const Yr=(Nr[mr]+pr.offsetX)*pr.scaleX,Xr=(Nr[mr+1]+pr.offsetY)*pr.scaleY,Vr=(Nr[vr]+pr.offsetX)*pr.scaleX,$r=(Nr[vr+1]+pr.offsetY)*pr.scaleY,Lr=(Nr[yr]+pr.offsetX)*pr.scaleX,Er=(Nr[yr+1]+pr.offsetY)*pr.scaleY;if(Xr>=Er)return;const Hr=zr[br],Gr=zr[br+1],Cr=zr[br+2],kr=zr[_r],Sr=zr[_r+1],Pr=zr[_r+2],jr=zr[xr],Wr=zr[xr+1],Kr=zr[xr+2],Qr=Math.round(Xr),on=Math.round(Er);let pn,fn,en,Ir,Ur,Mr,Zr,tn;for(let an=Qr;an<=on;an++){if(an<$r){let gn;an<Xr?gn=0:gn=(Xr-an)/(Xr-$r),pn=Yr-(Yr-Vr)*gn,fn=Hr-(Hr-kr)*gn,en=Gr-(Gr-Sr)*gn,Ir=Cr-(Cr-Pr)*gn}else{let gn;an>Er?gn=1:$r===Er?gn=0:gn=($r-an)/($r-Er),pn=Vr-(Vr-Lr)*gn,fn=kr-(kr-jr)*gn,en=Sr-(Sr-Wr)*gn,Ir=Pr-(Pr-Kr)*gn}let vn;an<Xr?vn=0:an>Er?vn=1:vn=(Xr-an)/(Xr-Er),Ur=Yr-(Yr-Lr)*vn,Mr=Hr-(Hr-jr)*vn,Zr=Gr-(Gr-Wr)*vn,tn=Cr-(Cr-Kr)*vn;const _n=Math.round(Math.min(pn,Ur)),dn=Math.round(Math.max(pn,Ur));let Pn=Br*an+_n*4;for(let gn=_n;gn<=dn;gn++)vn=(pn-gn)/(pn-Ur),vn<0?vn=0:vn>1&&(vn=1),Tr[Pn++]=fn-(fn-Mr)*vn|0,Tr[Pn++]=en-(en-Zr)*vn|0,Tr[Pn++]=Ir-(Ir-tn)*vn|0,Tr[Pn++]=255}}function or(sr,pr,mr){const vr=pr.coords,yr=pr.colors;let br,_r;switch(pr.type){case"lattice":const xr=pr.verticesPerRow,Nr=Math.floor(vr.length/xr)-1,zr=xr-1;for(br=0;br<Nr;br++){let Tr=br*xr;for(let Br=0;Br<zr;Br++,Tr++)ur(sr,mr,vr[Tr],vr[Tr+1],vr[Tr+xr],yr[Tr],yr[Tr+1],yr[Tr+xr]),ur(sr,mr,vr[Tr+xr+1],vr[Tr+1],vr[Tr+xr],yr[Tr+xr+1],yr[Tr+1],yr[Tr+xr])}break;case"triangles":for(br=0,_r=vr.length;br<_r;br+=3)ur(sr,mr,vr[br],vr[br+1],vr[br+2],yr[br],yr[br+1],yr[br+2]);break;default:throw new Error("illegal figure")}}class nr extends tr{constructor(pr){super(),this._coords=pr[2],this._colors=pr[3],this._figures=pr[4],this._bounds=pr[5],this._bbox=pr[7],this._background=pr[8],this.matrix=null}_createMeshCanvas(pr,mr,vr){const xr=Math.floor(this._bounds[0]),Nr=Math.floor(this._bounds[1]),zr=Math.ceil(this._bounds[2])-xr,Tr=Math.ceil(this._bounds[3])-Nr,Br=Math.min(Math.ceil(Math.abs(zr*pr[0]*1.1)),3e3),Jr=Math.min(Math.ceil(Math.abs(Tr*pr[1]*1.1)),3e3),Yr=zr/Br,Xr=Tr/Jr,Vr={coords:this._coords,colors:this._colors,offsetX:-xr,offsetY:-Nr,scaleX:1/Yr,scaleY:1/Xr},$r=Br+2*2,Lr=Jr+2*2,Er=vr.getCanvas("mesh",$r,Lr,!1),Hr=Er.context,Gr=Hr.createImageData(Br,Jr);if(mr){const kr=Gr.data;for(let Sr=0,Pr=kr.length;Sr<Pr;Sr+=4)kr[Sr]=mr[0],kr[Sr+1]=mr[1],kr[Sr+2]=mr[2],kr[Sr+3]=255}for(const kr of this._figures)or(Gr,kr,Vr);return Hr.putImageData(Gr,2,2),{canvas:Er.canvas,offsetX:xr-2*Yr,offsetY:Nr-2*Xr,scaleX:Yr,scaleY:Xr}}getPattern(pr,mr,vr,yr){cr(pr,this._bbox);let br;if(yr===gr.SHADING)br=_i.Util.singularValueDecompose2dScale((0,ir.getCurrentTransform)(pr));else if(br=_i.Util.singularValueDecompose2dScale(mr.baseTransform),this.matrix){const xr=_i.Util.singularValueDecompose2dScale(this.matrix);br=[br[0]*xr[0],br[1]*xr[1]]}const _r=this._createMeshCanvas(br,yr===gr.SHADING?null:this._background,mr.cachedCanvases);return yr!==gr.SHADING&&(pr.setTransform(...mr.baseTransform),this.matrix&&pr.transform(...this.matrix)),pr.translate(_r.offsetX,_r.offsetY),pr.scale(_r.scaleX,_r.scaleY),pr.createPattern(_r.canvas,"no-repeat")}}class er extends tr{getPattern(){return"hotpink"}}function ar(sr){switch(sr[0]){case"RadialAxial":return new hr(sr);case"Mesh":return new nr(sr);case"Dummy":return new er}throw new Error(`Unknown IR type: ${sr[0]}`)}const dr={COLORED:1,UNCOLORED:2};class lr{static get MAX_PATTERN_SIZE(){return(0,_i.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(pr,mr,vr,yr,br){this.operatorList=pr[2],this.matrix=pr[3]||[1,0,0,1,0,0],this.bbox=pr[4],this.xstep=pr[5],this.ystep=pr[6],this.paintType=pr[7],this.tilingType=pr[8],this.color=mr,this.ctx=vr,this.canvasGraphicsFactory=yr,this.baseTransform=br}createPatternCanvas(pr){const mr=this.operatorList,vr=this.bbox,yr=this.xstep,br=this.ystep,_r=this.paintType,xr=this.tilingType,Nr=this.color,zr=this.canvasGraphicsFactory;(0,_i.info)("TilingType: "+xr);const Tr=vr[0],Br=vr[1],Jr=vr[2],Yr=vr[3],Xr=_i.Util.singularValueDecompose2dScale(this.matrix),Vr=_i.Util.singularValueDecompose2dScale(this.baseTransform),$r=[Xr[0]*Vr[0],Xr[1]*Vr[1]],Lr=this.getSizeAndScale(yr,this.ctx.canvas.width,$r[0]),Er=this.getSizeAndScale(br,this.ctx.canvas.height,$r[1]),Hr=pr.cachedCanvases.getCanvas("pattern",Lr.size,Er.size,!0),Gr=Hr.context,Cr=zr.createCanvasGraphics(Gr);Cr.groupLevel=pr.groupLevel,this.setFillAndStrokeStyleToContext(Cr,_r,Nr);let kr=Tr,Sr=Br,Pr=Jr,jr=Yr;return Tr<0&&(kr=0,Pr+=Math.abs(Tr)),Br<0&&(Sr=0,jr+=Math.abs(Br)),Gr.translate(-(Lr.scale*kr),-(Er.scale*Sr)),Cr.transform(Lr.scale,0,0,Er.scale,0,0),Gr.save(),this.clipBbox(Cr,kr,Sr,Pr,jr),Cr.baseTransform=(0,ir.getCurrentTransform)(Cr.ctx),Cr.executeOperatorList(mr),Cr.endDrawing(),{canvas:Hr.canvas,scaleX:Lr.scale,scaleY:Er.scale,offsetX:kr,offsetY:Sr}}getSizeAndScale(pr,mr,vr){pr=Math.abs(pr);const yr=Math.max(lr.MAX_PATTERN_SIZE,mr);let br=Math.ceil(pr*vr);return br>=yr?br=yr:vr=br/pr,{scale:vr,size:br}}clipBbox(pr,mr,vr,yr,br){const _r=yr-mr,xr=br-vr;pr.ctx.rect(mr,vr,_r,xr),pr.current.updateRectMinMax((0,ir.getCurrentTransform)(pr.ctx),[mr,vr,yr,br]),pr.clip(),pr.endPath()}setFillAndStrokeStyleToContext(pr,mr,vr){const yr=pr.ctx,br=pr.current;switch(mr){case dr.COLORED:const _r=this.ctx;yr.fillStyle=_r.fillStyle,yr.strokeStyle=_r.strokeStyle,br.fillColor=_r.fillStyle,br.strokeColor=_r.strokeStyle;break;case dr.UNCOLORED:const xr=_i.Util.makeHexColor(vr[0],vr[1],vr[2]);yr.fillStyle=xr,yr.strokeStyle=xr,br.fillColor=xr,br.strokeColor=xr;break;default:throw new _i.FormatError(`Unsupported paint type: ${mr}`)}}getPattern(pr,mr,vr,yr){let br=vr;yr!==gr.SHADING&&(br=_i.Util.transform(br,mr.baseTransform),this.matrix&&(br=_i.Util.transform(br,this.matrix)));const _r=this.createPatternCanvas(mr);let xr=new DOMMatrix(br);xr=xr.translate(_r.offsetX,_r.offsetY),xr=xr.scale(1/_r.scaleX,1/_r.scaleY);const Nr=pr.createPattern(_r.canvas,"repeat");return Nr.setTransform(xr),Nr}}e.TilingPattern=lr},(St,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isNodeJS=void 0;const _e=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");e.isNodeJS=_e},(St,e,_e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.applyMaskImageData=ir;var _i=_e(1);function ir({src:rr,srcPos:gr=0,dest:cr,destPos:tr=0,width:hr,height:ur,inverseDecode:or=!1}){const nr=_i.FeatureTest.isLittleEndian?4278190080:255,[er,ar]=or?[0,nr]:[nr,0],dr=hr>>3,lr=hr&7,sr=rr.length;cr=new Uint32Array(cr.buffer);for(let pr=0;pr<ur;pr++){for(const vr=gr+dr;gr<vr;gr++){const yr=gr<sr?rr[gr]:255;cr[tr++]=yr&128?ar:er,cr[tr++]=yr&64?ar:er,cr[tr++]=yr&32?ar:er,cr[tr++]=yr&16?ar:er,cr[tr++]=yr&8?ar:er,cr[tr++]=yr&4?ar:er,cr[tr++]=yr&2?ar:er,cr[tr++]=yr&1?ar:er}if(lr===0)continue;const mr=gr<sr?rr[gr++]:255;for(let vr=0;vr<lr;vr++)cr[tr++]=mr&1<<7-vr?ar:er}return{srcPos:gr,destPos:tr}}},(St,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalWorkerOptions=void 0;const _e=Object.create(null);e.GlobalWorkerOptions=_e,_e.workerPort=_e.workerPort===void 0?null:_e.workerPort,_e.workerSrc=_e.workerSrc===void 0?"":_e.workerSrc},(St,e,_e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandler=void 0;var _i=_e(1);const ir={UNKNOWN:0,DATA:1,ERROR:2},rr={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function gr(tr){switch(tr instanceof Error||typeof tr=="object"&&tr!==null||(0,_i.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),tr.name){case"AbortException":return new _i.AbortException(tr.message);case"MissingPDFException":return new _i.MissingPDFException(tr.message);case"PasswordException":return new _i.PasswordException(tr.message,tr.code);case"UnexpectedResponseException":return new _i.UnexpectedResponseException(tr.message,tr.status);case"UnknownErrorException":return new _i.UnknownErrorException(tr.message,tr.details);default:return new _i.UnknownErrorException(tr.message,tr.toString())}}class cr{constructor(hr,ur,or){this.sourceName=hr,this.targetName=ur,this.comObj=or,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=nr=>{const er=nr.data;if(er.targetName!==this.sourceName)return;if(er.stream){this._processStreamMessage(er);return}if(er.callback){const dr=er.callbackId,lr=this.callbackCapabilities[dr];if(!lr)throw new Error(`Cannot resolve callback ${dr}`);if(delete this.callbackCapabilities[dr],er.callback===ir.DATA)lr.resolve(er.data);else if(er.callback===ir.ERROR)lr.reject(gr(er.reason));else throw new Error("Unexpected callback case");return}const ar=this.actionHandler[er.action];if(!ar)throw new Error(`Unknown action from worker: ${er.action}`);if(er.callbackId){const dr=this.sourceName,lr=er.sourceName;new Promise(function(sr){sr(ar(er.data))}).then(function(sr){or.postMessage({sourceName:dr,targetName:lr,callback:ir.DATA,callbackId:er.callbackId,data:sr})},function(sr){or.postMessage({sourceName:dr,targetName:lr,callback:ir.ERROR,callbackId:er.callbackId,reason:gr(sr)})});return}if(er.streamId){this._createStreamSink(er);return}ar(er.data)},or.addEventListener("message",this._onComObjOnMessage)}on(hr,ur){const or=this.actionHandler;if(or[hr])throw new Error(`There is already an actionName called "${hr}"`);or[hr]=ur}send(hr,ur,or){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:hr,data:ur},or)}sendWithPromise(hr,ur,or){const nr=this.callbackId++,er=(0,_i.createPromiseCapability)();this.callbackCapabilities[nr]=er;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:hr,callbackId:nr,data:ur},or)}catch(ar){er.reject(ar)}return er.promise}sendWithStream(hr,ur,or,nr){const er=this.streamId++,ar=this.sourceName,dr=this.targetName,lr=this.comObj;return new ReadableStream({start:sr=>{const pr=(0,_i.createPromiseCapability)();return this.streamControllers[er]={controller:sr,startCall:pr,pullCall:null,cancelCall:null,isClosed:!1},lr.postMessage({sourceName:ar,targetName:dr,action:hr,streamId:er,data:ur,desiredSize:sr.desiredSize},nr),pr.promise},pull:sr=>{const pr=(0,_i.createPromiseCapability)();return this.streamControllers[er].pullCall=pr,lr.postMessage({sourceName:ar,targetName:dr,stream:rr.PULL,streamId:er,desiredSize:sr.desiredSize}),pr.promise},cancel:sr=>{(0,_i.assert)(sr instanceof Error,"cancel must have a valid reason");const pr=(0,_i.createPromiseCapability)();return this.streamControllers[er].cancelCall=pr,this.streamControllers[er].isClosed=!0,lr.postMessage({sourceName:ar,targetName:dr,stream:rr.CANCEL,streamId:er,reason:gr(sr)}),pr.promise}},or)}_createStreamSink(hr){const ur=hr.streamId,or=this.sourceName,nr=hr.sourceName,er=this.comObj,ar=this,dr=this.actionHandler[hr.action],lr={enqueue(sr,pr=1,mr){if(this.isCancelled)return;const vr=this.desiredSize;this.desiredSize-=pr,vr>0&&this.desiredSize<=0&&(this.sinkCapability=(0,_i.createPromiseCapability)(),this.ready=this.sinkCapability.promise),er.postMessage({sourceName:or,targetName:nr,stream:rr.ENQUEUE,streamId:ur,chunk:sr},mr)},close(){this.isCancelled||(this.isCancelled=!0,er.postMessage({sourceName:or,targetName:nr,stream:rr.CLOSE,streamId:ur}),delete ar.streamSinks[ur])},error(sr){(0,_i.assert)(sr instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,er.postMessage({sourceName:or,targetName:nr,stream:rr.ERROR,streamId:ur,reason:gr(sr)}))},sinkCapability:(0,_i.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:hr.desiredSize,ready:null};lr.sinkCapability.resolve(),lr.ready=lr.sinkCapability.promise,this.streamSinks[ur]=lr,new Promise(function(sr){sr(dr(hr.data,lr))}).then(function(){er.postMessage({sourceName:or,targetName:nr,stream:rr.START_COMPLETE,streamId:ur,success:!0})},function(sr){er.postMessage({sourceName:or,targetName:nr,stream:rr.START_COMPLETE,streamId:ur,reason:gr(sr)})})}_processStreamMessage(hr){const ur=hr.streamId,or=this.sourceName,nr=hr.sourceName,er=this.comObj,ar=this.streamControllers[ur],dr=this.streamSinks[ur];switch(hr.stream){case rr.START_COMPLETE:hr.success?ar.startCall.resolve():ar.startCall.reject(gr(hr.reason));break;case rr.PULL_COMPLETE:hr.success?ar.pullCall.resolve():ar.pullCall.reject(gr(hr.reason));break;case rr.PULL:if(!dr){er.postMessage({sourceName:or,targetName:nr,stream:rr.PULL_COMPLETE,streamId:ur,success:!0});break}dr.desiredSize<=0&&hr.desiredSize>0&&dr.sinkCapability.resolve(),dr.desiredSize=hr.desiredSize,new Promise(function(lr){lr(dr.onPull&&dr.onPull())}).then(function(){er.postMessage({sourceName:or,targetName:nr,stream:rr.PULL_COMPLETE,streamId:ur,success:!0})},function(lr){er.postMessage({sourceName:or,targetName:nr,stream:rr.PULL_COMPLETE,streamId:ur,reason:gr(lr)})});break;case rr.ENQUEUE:if((0,_i.assert)(ar,"enqueue should have stream controller"),ar.isClosed)break;ar.controller.enqueue(hr.chunk);break;case rr.CLOSE:if((0,_i.assert)(ar,"close should have stream controller"),ar.isClosed)break;ar.isClosed=!0,ar.controller.close(),this._deleteStreamController(ar,ur);break;case rr.ERROR:(0,_i.assert)(ar,"error should have stream controller"),ar.controller.error(gr(hr.reason)),this._deleteStreamController(ar,ur);break;case rr.CANCEL_COMPLETE:hr.success?ar.cancelCall.resolve():ar.cancelCall.reject(gr(hr.reason)),this._deleteStreamController(ar,ur);break;case rr.CANCEL:if(!dr)break;new Promise(function(lr){lr(dr.onCancel&&dr.onCancel(gr(hr.reason)))}).then(function(){er.postMessage({sourceName:or,targetName:nr,stream:rr.CANCEL_COMPLETE,streamId:ur,success:!0})},function(lr){er.postMessage({sourceName:or,targetName:nr,stream:rr.CANCEL_COMPLETE,streamId:ur,reason:gr(lr)})}),dr.sinkCapability.reject(gr(hr.reason)),dr.isCancelled=!0,delete this.streamSinks[ur];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(hr,ur){await Promise.allSettled([hr.startCall&&hr.startCall.promise,hr.pullCall&&hr.pullCall.promise,hr.cancelCall&&hr.cancelCall.promise]),delete this.streamControllers[ur]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}e.MessageHandler=cr},(St,e,_e)=>{var rr,gr;Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var _i=_e(1);class ir{constructor({parsedData:tr,rawData:hr}){Vn(this,rr,void 0);Vn(this,gr,void 0);is(this,rr,tr),is(this,gr,hr)}getRaw(){return yn(this,gr)}get(tr){var hr;return(hr=yn(this,rr).get(tr))!=null?hr:null}getAll(){return(0,_i.objectFromMap)(yn(this,rr))}has(tr){return yn(this,rr).has(tr)}}rr=new WeakMap,gr=new WeakMap,e.Metadata=ir},(St,e,_e)=>{var tr,hr,ur,or,nr,er,Dm;Object.defineProperty(e,"__esModule",{value:!0}),e.OptionalContentConfig=void 0;var _i=_e(1),ir=_e(8);const rr=Symbol("INTERNAL");class gr{constructor(lr,sr){Vn(this,tr,!0);this.name=lr,this.intent=sr}get visible(){return yn(this,tr)}_setVisible(lr,sr){lr!==rr&&(0,_i.unreachable)("Internal method `_setVisible` called."),is(this,tr,sr)}}tr=new WeakMap;class cr{constructor(lr){Vn(this,er);Vn(this,hr,null);Vn(this,ur,new Map);Vn(this,or,null);Vn(this,nr,null);if(this.name=null,this.creator=null,lr!==null){this.name=lr.name,this.creator=lr.creator,is(this,nr,lr.order);for(const sr of lr.groups)yn(this,ur).set(sr.id,new gr(sr.name,sr.intent));if(lr.baseState==="OFF")for(const sr of yn(this,ur).values())sr._setVisible(rr,!1);for(const sr of lr.on)yn(this,ur).get(sr)._setVisible(rr,!0);for(const sr of lr.off)yn(this,ur).get(sr)._setVisible(rr,!1);is(this,or,this.getHash())}}isVisible(lr){if(yn(this,ur).size===0)return!0;if(!lr)return(0,_i.warn)("Optional content group not defined."),!0;if(lr.type==="OCG")return yn(this,ur).has(lr.id)?yn(this,ur).get(lr.id).visible:((0,_i.warn)(`Optional content group not found: ${lr.id}`),!0);if(lr.type==="OCMD"){if(lr.expression)return Yn(this,er,Dm).call(this,lr.expression);if(!lr.policy||lr.policy==="AnyOn"){for(const sr of lr.ids){if(!yn(this,ur).has(sr))return(0,_i.warn)(`Optional content group not found: ${sr}`),!0;if(yn(this,ur).get(sr).visible)return!0}return!1}else if(lr.policy==="AllOn"){for(const sr of lr.ids){if(!yn(this,ur).has(sr))return(0,_i.warn)(`Optional content group not found: ${sr}`),!0;if(!yn(this,ur).get(sr).visible)return!1}return!0}else if(lr.policy==="AnyOff"){for(const sr of lr.ids){if(!yn(this,ur).has(sr))return(0,_i.warn)(`Optional content group not found: ${sr}`),!0;if(!yn(this,ur).get(sr).visible)return!0}return!1}else if(lr.policy==="AllOff"){for(const sr of lr.ids){if(!yn(this,ur).has(sr))return(0,_i.warn)(`Optional content group not found: ${sr}`),!0;if(yn(this,ur).get(sr).visible)return!1}return!0}return(0,_i.warn)(`Unknown optional content policy ${lr.policy}.`),!0}return(0,_i.warn)(`Unknown group type ${lr.type}.`),!0}setVisibility(lr,sr=!0){if(!yn(this,ur).has(lr)){(0,_i.warn)(`Optional content group not found: ${lr}`);return}yn(this,ur).get(lr)._setVisible(rr,!!sr),is(this,hr,null)}get hasInitialVisibility(){return this.getHash()===yn(this,or)}getOrder(){return yn(this,ur).size?yn(this,nr)?yn(this,nr).slice():[...yn(this,ur).keys()]:null}getGroups(){return yn(this,ur).size>0?(0,_i.objectFromMap)(yn(this,ur)):null}getGroup(lr){return yn(this,ur).get(lr)||null}getHash(){if(yn(this,hr)!==null)return yn(this,hr);const lr=new ir.MurmurHash3_64;for(const[sr,pr]of yn(this,ur))lr.update(`${sr}:${pr.visible}`);return is(this,hr,lr.hexdigest())}}hr=new WeakMap,ur=new WeakMap,or=new WeakMap,nr=new WeakMap,er=new WeakSet,Dm=function(lr){const sr=lr.length;if(sr<2)return!0;const pr=lr[0];for(let mr=1;mr<sr;mr++){const vr=lr[mr];let yr;if(Array.isArray(vr))yr=Yn(this,er,Dm).call(this,vr);else if(yn(this,ur).has(vr))yr=yn(this,ur).get(vr).visible;else return(0,_i.warn)(`Optional content group not found: ${vr}`),!0;switch(pr){case"And":if(!yr)return!1;break;case"Or":if(yr)return!0;break;case"Not":return!yr;default:return!0}}return pr==="And"},e.OptionalContentConfig=cr},(St,e,_e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFDataTransportStream=void 0;var _i=_e(1),ir=_e(6);class rr{constructor(hr,ur){(0,_i.assert)(ur,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=hr.progressiveDone||!1,this._contentDispositionFilename=hr.contentDispositionFilename||null;const or=hr.initialData;if((or==null?void 0:or.length)>0){const nr=new Uint8Array(or).buffer;this._queuedChunks.push(nr)}this._pdfDataRangeTransport=ur,this._isStreamingSupported=!hr.disableStream,this._isRangeSupported=!hr.disableRange,this._contentLength=hr.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((nr,er)=>{this._onReceiveData({begin:nr,chunk:er})}),this._pdfDataRangeTransport.addProgressListener((nr,er)=>{this._onProgress({loaded:nr,total:er})}),this._pdfDataRangeTransport.addProgressiveReadListener(nr=>{this._onReceiveData({chunk:nr})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(hr){const ur=new Uint8Array(hr.chunk).buffer;if(hr.begin===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(ur):this._queuedChunks.push(ur);else{const or=this._rangeReaders.some(function(nr){return nr._begin!==hr.begin?!1:(nr._enqueue(ur),!0)});(0,_i.assert)(or,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var hr,ur;return(ur=(hr=this._fullRequestReader)==null?void 0:hr._loaded)!=null?ur:0}_onProgress(hr){var ur,or,nr,er;hr.total===void 0?(or=(ur=this._rangeReaders[0])==null?void 0:ur.onProgress)==null||or.call(ur,{loaded:hr.loaded}):(er=(nr=this._fullRequestReader)==null?void 0:nr.onProgress)==null||er.call(nr,{loaded:hr.loaded,total:hr.total})}_onProgressiveDone(){var hr;(hr=this._fullRequestReader)==null||hr.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(hr){const ur=this._rangeReaders.indexOf(hr);ur>=0&&this._rangeReaders.splice(ur,1)}getFullReader(){(0,_i.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const hr=this._queuedChunks;return this._queuedChunks=null,new gr(this,hr,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(hr,ur){if(ur<=this._progressiveDataLength)return null;const or=new cr(this,hr,ur);return this._pdfDataRangeTransport.requestDataRange(hr,ur),this._rangeReaders.push(or),or}cancelAllRequests(hr){var ur;(ur=this._fullRequestReader)==null||ur.cancel(hr);for(const or of this._rangeReaders.slice(0))or.cancel(hr);this._pdfDataRangeTransport.abort()}}e.PDFDataTransportStream=rr;class gr{constructor(hr,ur,or=!1,nr=null){this._stream=hr,this._done=or||!1,this._filename=(0,ir.isPdfFile)(nr)?nr:null,this._queuedChunks=ur||[],this._loaded=0;for(const er of this._queuedChunks)this._loaded+=er.byteLength;this._requests=[],this._headersReady=Promise.resolve(),hr._fullRequestReader=this,this.onProgress=null}_enqueue(hr){this._done||(this._requests.length>0?this._requests.shift().resolve({value:hr,done:!1}):this._queuedChunks.push(hr),this._loaded+=hr.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const hr=(0,_i.createPromiseCapability)();return this._requests.push(hr),hr.promise}cancel(hr){this._done=!0;for(const ur of this._requests)ur.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class cr{constructor(hr,ur,or){this._stream=hr,this._begin=ur,this._end=or,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(hr){if(!this._done){if(this._requests.length===0)this._queuedChunk=hr;else{this._requests.shift().resolve({value:hr,done:!1});for(const or of this._requests)or.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const ur=this._queuedChunk;return this._queuedChunk=null,{value:ur,done:!1}}if(this._done)return{value:void 0,done:!0};const hr=(0,_i.createPromiseCapability)();return this._requests.push(hr),hr.promise}cancel(hr){this._done=!0;for(const ur of this._requests)ur.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(St,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaText=void 0;class _e{static textContent(ir){const rr=[],gr={items:rr,styles:Object.create(null)};function cr(tr){var or;if(!tr)return;let hr=null;const ur=tr.name;if(ur==="#text")hr=tr.value;else if(_e.shouldBuildText(ur))(or=tr==null?void 0:tr.attributes)!=null&&or.textContent?hr=tr.attributes.textContent:tr.value&&(hr=tr.value);else return;if(hr!==null&&rr.push({str:hr}),!!tr.children)for(const nr of tr.children)cr(nr)}return cr(ir),gr}static shouldBuildText(ir){return!(ir==="textarea"||ir==="input"||ir==="option"||ir==="select")}}e.XfaText=_e},(St,e,_e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeStandardFontDataFactory=e.NodeCanvasFactory=e.NodeCMapReaderFactory=void 0;var _i=_e(7);const ir=function(tr){return new Promise((hr,ur)=>{require$$2.readFile(tr,(nr,er)=>{if(nr||!er){ur(new Error(nr));return}hr(new Uint8Array(er))})})};class rr extends _i.BaseCanvasFactory{_createCanvas(hr,ur){return require$$2.createCanvas(hr,ur)}}e.NodeCanvasFactory=rr;class gr extends _i.BaseCMapReaderFactory{_fetchData(hr,ur){return ir(hr).then(or=>({cMapData:or,compressionType:ur}))}}e.NodeCMapReaderFactory=gr;class cr extends _i.BaseStandardFontDataFactory{_fetchData(hr){return ir(hr)}}e.NodeStandardFontDataFactory=cr},(St,e,_e)=>{var tr,hr,ur,or,nr,er,ar,dr,lr,Nm,pr,E0,vr,Rm,br,k0;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditorLayer=void 0;var _i=_e(5),ir=_e(1),rr=_e(22),gr=_e(23);const xr=class{constructor(zr){Vn(this,lr);Vn(this,pr);Vn(this,vr);Vn(this,br);Vn(this,tr,void 0);Vn(this,hr,!1);Vn(this,ur,this.pointerup.bind(this));Vn(this,or,this.pointerdown.bind(this));Vn(this,nr,new Map);Vn(this,er,!1);Vn(this,ar,!1);Vn(this,dr,void 0);xr._initialized||(xr._initialized=!0,rr.FreeTextEditor.initialize(zr.l10n),gr.InkEditor.initialize(zr.l10n)),zr.uiManager.registerEditorTypes([rr.FreeTextEditor,gr.InkEditor]),is(this,dr,zr.uiManager),this.annotationStorage=zr.annotationStorage,this.pageIndex=zr.pageIndex,this.div=zr.div,is(this,tr,zr.accessibilityManager),yn(this,dr).addLayer(this)}updateToolbar(zr){yn(this,dr).updateToolbar(zr)}updateMode(zr=yn(this,dr).getMode()){Yn(this,br,k0).call(this),zr===ir.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),yn(this,dr).unselectAll(),this.div.classList.toggle("freeTextEditing",zr===ir.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",zr===ir.AnnotationEditorType.INK)}addInkEditorIfNeeded(zr){if(!zr&&yn(this,dr).getMode()!==ir.AnnotationEditorType.INK)return;if(!zr){for(const Br of yn(this,nr).values())if(Br.isEmpty()){Br.setInBackground();return}}Yn(this,vr,Rm).call(this,{offsetX:0,offsetY:0}).setInBackground()}setEditingState(zr){yn(this,dr).setEditingState(zr)}addCommands(zr){yn(this,dr).addCommands(zr)}enable(){this.div.style.pointerEvents="auto";for(const zr of yn(this,nr).values())zr.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const zr of yn(this,nr).values())zr.disableEditing()}setActiveEditor(zr){yn(this,dr).getActive()!==zr&&yn(this,dr).setActiveEditor(zr)}enableClick(){this.div.addEventListener("pointerdown",yn(this,or)),this.div.addEventListener("pointerup",yn(this,ur))}disableClick(){this.div.removeEventListener("pointerdown",yn(this,or)),this.div.removeEventListener("pointerup",yn(this,ur))}attach(zr){yn(this,nr).set(zr.id,zr)}detach(zr){var Tr;yn(this,nr).delete(zr.id),(Tr=yn(this,tr))==null||Tr.removePointerInTextLayer(zr.contentDiv)}remove(zr){yn(this,dr).removeEditor(zr),this.detach(zr),this.annotationStorage.remove(zr.id),zr.div.style.display="none",setTimeout(()=>{zr.div.style.display="",zr.div.remove(),zr.isAttachedToDOM=!1,document.activeElement===document.body&&yn(this,dr).focusMainContainer()},0),yn(this,ar)||this.addInkEditorIfNeeded(!1)}add(zr){if(Yn(this,lr,Nm).call(this,zr),yn(this,dr).addEditor(zr),this.attach(zr),!zr.isAttachedToDOM){const Tr=zr.render();this.div.append(Tr),zr.isAttachedToDOM=!0}this.moveEditorInDOM(zr),zr.onceAdded(),this.addToAnnotationStorage(zr)}moveEditorInDOM(zr){var Tr;(Tr=yn(this,tr))==null||Tr.moveElementInDOM(this.div,zr.div,zr.contentDiv,!0)}addToAnnotationStorage(zr){!zr.isEmpty()&&!this.annotationStorage.has(zr.id)&&this.annotationStorage.setValue(zr.id,zr)}addOrRebuild(zr){zr.needsToBeRebuilt()?zr.rebuild():this.add(zr)}addANewEditor(zr){const Tr=()=>{this.addOrRebuild(zr)},Br=()=>{zr.remove()};this.addCommands({cmd:Tr,undo:Br,mustExec:!0})}addUndoableEditor(zr){const Tr=()=>{this.addOrRebuild(zr)},Br=()=>{zr.remove()};this.addCommands({cmd:Tr,undo:Br,mustExec:!1})}getNextId(){return yn(this,dr).getId()}deserialize(zr){switch(zr.annotationType){case ir.AnnotationEditorType.FREETEXT:return rr.FreeTextEditor.deserialize(zr,this);case ir.AnnotationEditorType.INK:return gr.InkEditor.deserialize(zr,this)}return null}setSelected(zr){yn(this,dr).setSelected(zr)}toggleSelected(zr){yn(this,dr).toggleSelected(zr)}isSelected(zr){return yn(this,dr).isSelected(zr)}unselect(zr){yn(this,dr).unselect(zr)}pointerup(zr){const Tr=_i.KeyboardManager.platform.isMac;if(!(zr.button!==0||zr.ctrlKey&&Tr)&&zr.target===this.div&&!!yn(this,er)){if(is(this,er,!1),!yn(this,hr)){is(this,hr,!0);return}Yn(this,vr,Rm).call(this,zr)}}pointerdown(zr){const Tr=_i.KeyboardManager.platform.isMac;if(zr.button!==0||zr.ctrlKey&&Tr||zr.target!==this.div)return;is(this,er,!0);const Br=yn(this,dr).getActive();is(this,hr,!Br||Br.isEmpty())}drop(zr){const Tr=zr.dataTransfer.getData("text/plain"),Br=yn(this,dr).getEditor(Tr);if(!Br)return;zr.preventDefault(),zr.dataTransfer.dropEffect="move",Yn(this,lr,Nm).call(this,Br);const Jr=this.div.getBoundingClientRect(),Yr=zr.clientX-Jr.x,Xr=zr.clientY-Jr.y;Br.translate(Yr-Br.startX,Xr-Br.startY),this.moveEditorInDOM(Br),Br.div.focus()}dragover(zr){zr.preventDefault()}destroy(){var zr,Tr;((zr=yn(this,dr).getActive())==null?void 0:zr.parent)===this&&yn(this,dr).setActiveEditor(null);for(const Br of yn(this,nr).values())(Tr=yn(this,tr))==null||Tr.removePointerInTextLayer(Br.contentDiv),Br.isAttachedToDOM=!1,Br.div.remove(),Br.parent=null;this.div=null,yn(this,nr).clear(),yn(this,dr).removeLayer(this)}render(zr){this.viewport=zr.viewport,(0,_i.bindEvents)(this,this.div,["dragover","drop"]),this.setDimensions();for(const Tr of yn(this,dr).getEditors(this.pageIndex))this.add(Tr);this.updateMode()}update(zr){yn(this,dr).commitOrRemove(),this.viewport=zr.viewport,this.setDimensions(),this.updateMode()}get scaleFactor(){return this.viewport.scale}get pageDimensions(){const[zr,Tr,Br,Jr]=this.viewport.viewBox,Yr=Br-zr,Xr=Jr-Tr;return[Yr,Xr]}get viewportBaseDimensions(){const{width:zr,height:Tr,rotation:Br}=this.viewport;return Br%180===0?[zr,Tr]:[Tr,zr]}setDimensions(){const{width:zr,height:Tr,rotation:Br}=this.viewport,Jr=Br%180!==0,Yr=Math.floor(zr)+"px",Xr=Math.floor(Tr)+"px";this.div.style.width=Jr?Xr:Yr,this.div.style.height=Jr?Yr:Xr,this.div.setAttribute("data-main-rotation",Br)}};let cr=xr;tr=new WeakMap,hr=new WeakMap,ur=new WeakMap,or=new WeakMap,nr=new WeakMap,er=new WeakMap,ar=new WeakMap,dr=new WeakMap,lr=new WeakSet,Nm=function(zr){var Tr;zr.parent!==this&&(this.attach(zr),zr.pageIndex=this.pageIndex,(Tr=zr.parent)==null||Tr.detach(zr),zr.parent=this,zr.div&&zr.isAttachedToDOM&&(zr.div.remove(),this.div.append(zr.div)))},pr=new WeakSet,E0=function(zr){switch(yn(this,dr).getMode()){case ir.AnnotationEditorType.FREETEXT:return new rr.FreeTextEditor(zr);case ir.AnnotationEditorType.INK:return new gr.InkEditor(zr)}return null},vr=new WeakSet,Rm=function(zr){const Tr=this.getNextId(),Br=Yn(this,pr,E0).call(this,{parent:this,id:Tr,x:zr.offsetX,y:zr.offsetY});return Br&&this.add(Br),Br},br=new WeakSet,k0=function(){is(this,ar,!0);for(const zr of yn(this,nr).values())zr.isEmpty()&&zr.remove();is(this,ar,!1)},Js(cr,"_initialized",!1),e.AnnotationEditorLayer=cr},(St,e,_e)=>{var cr,tr,hr,ur,or,nr,er,ar,dr,lr,P0,pr,T0,vr,F0,br,Bm;Object.defineProperty(e,"__esModule",{value:!0}),e.FreeTextEditor=void 0;var _i=_e(1),ir=_e(5),rr=_e(4);const xr=class extends rr.AnnotationEditor{constructor(Tr){super({...Tr,name:"freeTextEditor"});Vn(this,lr);Vn(this,pr);Vn(this,vr);Vn(this,br);Vn(this,cr,this.editorDivBlur.bind(this));Vn(this,tr,this.editorDivFocus.bind(this));Vn(this,hr,this.editorDivInput.bind(this));Vn(this,ur,this.editorDivKeydown.bind(this));Vn(this,or,void 0);Vn(this,nr,"");Vn(this,er,`${this.id}-editor`);Vn(this,ar,!1);Vn(this,dr,void 0);is(this,or,Tr.color||xr._defaultColor||rr.AnnotationEditor._defaultLineColor),is(this,dr,Tr.fontSize||xr._defaultFontSize)}static initialize(Tr){this._l10nPromise=new Map(["free_text2_default_content","editor_free_text2_aria_label"].map(Jr=>[Jr,Tr.get(Jr)]));const Br=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(Br.getPropertyValue("--freetext-padding"))}static updateDefaultParams(Tr,Br){switch(Tr){case _i.AnnotationEditorParamsType.FREETEXT_SIZE:xr._defaultFontSize=Br;break;case _i.AnnotationEditorParamsType.FREETEXT_COLOR:xr._defaultColor=Br;break}}updateParams(Tr,Br){switch(Tr){case _i.AnnotationEditorParamsType.FREETEXT_SIZE:Yn(this,lr,P0).call(this,Br);break;case _i.AnnotationEditorParamsType.FREETEXT_COLOR:Yn(this,pr,T0).call(this,Br);break}}static get defaultPropertiesToUpdate(){return[[_i.AnnotationEditorParamsType.FREETEXT_SIZE,xr._defaultFontSize],[_i.AnnotationEditorParamsType.FREETEXT_COLOR,xr._defaultColor||rr.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[_i.AnnotationEditorParamsType.FREETEXT_SIZE,yn(this,dr)],[_i.AnnotationEditorParamsType.FREETEXT_COLOR,yn(this,or)]]}getInitialTranslation(){return[-xr._internalPadding*this.parent.scaleFactor,-(xr._internalPadding+yn(this,dr))*this.parent.scaleFactor]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(_i.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",yn(this,ur)),this.editorDiv.addEventListener("focus",yn(this,tr)),this.editorDiv.addEventListener("blur",yn(this,cr)),this.editorDiv.addEventListener("input",yn(this,hr)))}disableEditMode(){!this.isInEditMode()||(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",yn(this,er)),this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",yn(this,ur)),this.editorDiv.removeEventListener("focus",yn(this,tr)),this.editorDiv.removeEventListener("blur",yn(this,cr)),this.editorDiv.removeEventListener("input",yn(this,hr)),this.div.focus(),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(Tr){super.focusin(Tr),Tr.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing"),super.remove()}commit(){super.commit(),yn(this,ar)||(is(this,ar,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),is(this,nr,Yn(this,vr,F0).call(this).trimEnd()),Yn(this,br,Bm).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(Tr){this.enableEditMode(),this.editorDiv.focus()}keydown(Tr){Tr.target===this.div&&Tr.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(Tr){xr._keyboardManager.exec(this,Tr)}editorDivFocus(Tr){this.isEditing=!0}editorDivBlur(Tr){this.isEditing=!1}editorDivInput(Tr){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let Tr,Br;this.width&&(Tr=this.x,Br=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",yn(this,er)),this.enableEditing(),xr._l10nPromise.get("editor_free_text2_aria_label").then(Yr=>{var Xr;return(Xr=this.editorDiv)==null?void 0:Xr.setAttribute("aria-label",Yr)}),xr._l10nPromise.get("free_text2_default_content").then(Yr=>{var Xr;return(Xr=this.editorDiv)==null?void 0:Xr.setAttribute("default-content",Yr)}),this.editorDiv.contentEditable=!0;const{style:Jr}=this.editorDiv;if(Jr.fontSize=`calc(${yn(this,dr)}px * var(--scale-factor))`,Jr.color=yn(this,or),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,ir.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Yr,Xr]=this.parent.viewportBaseDimensions;this.setAt(Tr*Yr,Br*Xr,this.width*Yr,this.height*Xr);for(const Vr of yn(this,nr).split(`
`)){const $r=document.createElement("div");$r.append(Vr?document.createTextNode(Vr):document.createElement("br")),this.editorDiv.append($r)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(Tr,Br){const Jr=super.deserialize(Tr,Br);return is(Jr,dr,Tr.fontSize),is(Jr,or,_i.Util.makeHexColor(...Tr.color)),is(Jr,nr,Tr.value),Jr}serialize(){if(this.isEmpty())return null;const Tr=xr._internalPadding*this.parent.scaleFactor,Br=this.getRect(Tr,Tr),Jr=rr.AnnotationEditor._colorManager.convert(getComputedStyle(this.editorDiv).color);return{annotationType:_i.AnnotationEditorType.FREETEXT,color:Jr,fontSize:yn(this,dr),value:yn(this,nr),pageIndex:this.parent.pageIndex,rect:Br,rotation:this.rotation}}};let gr=xr;cr=new WeakMap,tr=new WeakMap,hr=new WeakMap,ur=new WeakMap,or=new WeakMap,nr=new WeakMap,er=new WeakMap,ar=new WeakMap,dr=new WeakMap,lr=new WeakSet,P0=function(Tr){const Br=Yr=>{this.editorDiv.style.fontSize=`calc(${Yr}px * var(--scale-factor))`,this.translate(0,-(Yr-yn(this,dr))*this.parent.scaleFactor),is(this,dr,Yr),Yn(this,br,Bm).call(this)},Jr=yn(this,dr);this.parent.addCommands({cmd:()=>{Br(Tr)},undo:()=>{Br(Jr)},mustExec:!0,type:_i.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},pr=new WeakSet,T0=function(Tr){const Br=yn(this,or);this.parent.addCommands({cmd:()=>{is(this,or,Tr),this.editorDiv.style.color=Tr},undo:()=>{is(this,or,Br),this.editorDiv.style.color=Br},mustExec:!0,type:_i.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},vr=new WeakSet,F0=function(){const Tr=this.editorDiv.getElementsByTagName("div");if(Tr.length===0)return this.editorDiv.innerText;const Br=[];for(const Jr of Tr){const Yr=Jr.firstChild;(Yr==null?void 0:Yr.nodeName)==="#text"?Br.push(Yr.data):Br.push("")}return Br.join(`
`)},br=new WeakSet,Bm=function(){const[Tr,Br]=this.parent.viewportBaseDimensions,Jr=this.div.getBoundingClientRect();this.width=Jr.width/Tr,this.height=Jr.height/Br},Js(gr,"_freeTextDefaultContent",""),Js(gr,"_l10nPromise"),Js(gr,"_internalPadding",0),Js(gr,"_defaultColor",null),Js(gr,"_defaultFontSize",10),Js(gr,"_keyboardManager",new ir.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],xr.prototype.commitOrRemove]])),Js(gr,"_type","freetext"),e.FreeTextEditor=gr},(St,e,_e)=>{var ur,or,nr,er,ar,dr,lr,sr,pr,mr,vr,yr,br,_r,xr,L0,zr,M0,Br,I0,Yr,O0,Vr,jm,Lr,D0,Hr,N0,Cr,R0,Sr,Ll,jr,zm,Kr,um,on,fm,fn,pp,Ir,$m,Mr,dm,tn,Vm,vn,B0,dn,j0,gn,z0,Rn,Um,Cn,pm,Kn,mp,ds,Hm;Object.defineProperty(e,"__esModule",{value:!0}),e.InkEditor=void 0,Object.defineProperty(e,"fitCurve",{enumerable:!0,get:function(){return rr.fitCurve}});var _i=_e(1),ir=_e(4),rr=_e(24),gr=_e(5);const cr=16,tr=100,cs=class extends ir.AnnotationEditor{constructor(xn){super({...xn,name:"inkEditor"});Vn(this,xr);Vn(this,zr);Vn(this,Br);Vn(this,Yr);Vn(this,Vr);Vn(this,Lr);Vn(this,Hr);Vn(this,Cr);Vn(this,Sr);Vn(this,jr);Vn(this,Kr);Vn(this,on);Vn(this,fn);Vn(this,Ir);Vn(this,Mr);Vn(this,vn);Vn(this,dn);Vn(this,gn);Vn(this,Rn);Vn(this,Cn);Vn(this,Kn);Vn(this,ds);Vn(this,ur,0);Vn(this,or,0);Vn(this,nr,0);Vn(this,er,this.canvasPointermove.bind(this));Vn(this,ar,this.canvasPointerleave.bind(this));Vn(this,dr,this.canvasPointerup.bind(this));Vn(this,lr,this.canvasPointerdown.bind(this));Vn(this,sr,!1);Vn(this,pr,!1);Vn(this,mr,null);Vn(this,vr,null);Vn(this,yr,0);Vn(this,br,0);Vn(this,_r,null);this.color=xn.color||null,this.thickness=xn.thickness||null,this.opacity=xn.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(xn){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink2_aria_label"].map(bn=>[bn,xn.get(bn)]))}static updateDefaultParams(xn,bn){switch(xn){case _i.AnnotationEditorParamsType.INK_THICKNESS:cs._defaultThickness=bn;break;case _i.AnnotationEditorParamsType.INK_COLOR:cs._defaultColor=bn;break;case _i.AnnotationEditorParamsType.INK_OPACITY:cs._defaultOpacity=bn/100;break}}updateParams(xn,bn){switch(xn){case _i.AnnotationEditorParamsType.INK_THICKNESS:Yn(this,xr,L0).call(this,bn);break;case _i.AnnotationEditorParamsType.INK_COLOR:Yn(this,zr,M0).call(this,bn);break;case _i.AnnotationEditorParamsType.INK_OPACITY:Yn(this,Br,I0).call(this,bn);break}}static get defaultPropertiesToUpdate(){return[[_i.AnnotationEditorParamsType.INK_THICKNESS,cs._defaultThickness],[_i.AnnotationEditorParamsType.INK_COLOR,cs._defaultColor||ir.AnnotationEditor._defaultLineColor],[_i.AnnotationEditorParamsType.INK_OPACITY,Math.round(cs._defaultOpacity*100)]]}get propertiesToUpdate(){var xn;return[[_i.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||cs._defaultThickness],[_i.AnnotationEditorParamsType.INK_COLOR,this.color||cs._defaultColor||ir.AnnotationEditor._defaultLineColor],[_i.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*((xn=this.opacity)!=null?xn:cs._defaultOpacity))]]}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(Yn(this,Kr,um).call(this),Yn(this,on,fm).call(this)),this.isAttachedToDOM||(this.parent.add(this),Yn(this,fn,pp).call(this)),Yn(this,Kn,mp).call(this))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,yn(this,vr).disconnect(),is(this,vr,null),super.remove())}enableEditMode(){yn(this,sr)||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",yn(this,lr)),this.canvas.addEventListener("pointerup",yn(this,dr)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",yn(this,lr)),this.canvas.removeEventListener("pointerup",yn(this,dr)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){yn(this,sr)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),is(this,sr,!0),this.div.classList.add("disabled"),Yn(this,Kn,mp).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus())}focusin(xn){super.focusin(xn),this.enableEditMode()}canvasPointerdown(xn){xn.button!==0||!this.isInEditMode()||yn(this,sr)||(this.setInForeground(),xn.type!=="mouse"&&this.div.focus(),xn.stopPropagation(),this.canvas.addEventListener("pointerleave",yn(this,ar)),this.canvas.addEventListener("pointermove",yn(this,er)),Yn(this,Lr,D0).call(this,xn.offsetX,xn.offsetY))}canvasPointermove(xn){xn.stopPropagation(),Yn(this,Hr,N0).call(this,xn.offsetX,xn.offsetY)}canvasPointerup(xn){xn.button===0&&this.isInEditMode()&&this.currentPath.length!==0&&(xn.stopPropagation(),Yn(this,jr,zm).call(this,xn),this.setInBackground())}canvasPointerleave(xn){Yn(this,jr,zm).call(this,xn),this.setInBackground()}render(){if(this.div)return this.div;let xn,bn;this.width&&(xn=this.x,bn=this.y),super.render(),cs._l10nPromise.get("editor_ink2_aria_label").then(Zn=>{var ts;return(ts=this.div)==null?void 0:ts.setAttribute("aria-label",Zn)});const[En,Wn,es,fs]=Yn(this,Yr,O0).call(this);if(this.setAt(En,Wn,0,0),this.setDims(es,fs),Yn(this,Kr,um).call(this),this.width){const[Zn,ts]=this.parent.viewportBaseDimensions;this.setAt(xn*Zn,bn*ts,this.width*Zn,this.height*ts),is(this,pr,!0),Yn(this,fn,pp).call(this),this.setDims(this.width*Zn,this.height*ts),Yn(this,Sr,Ll).call(this),Yn(this,ds,Hm).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Yn(this,on,fm).call(this),this.div}setDimensions(xn,bn){const En=Math.round(xn),Wn=Math.round(bn);if(yn(this,yr)===En&&yn(this,br)===Wn)return;is(this,yr,En),is(this,br,Wn),this.canvas.style.visibility="hidden",yn(this,ur)&&Math.abs(yn(this,ur)-xn/bn)>.01&&(bn=Math.ceil(xn/yn(this,ur)),this.setDims(xn,bn));const[es,fs]=this.parent.viewportBaseDimensions;this.width=xn/es,this.height=bn/fs,yn(this,sr)&&Yn(this,Ir,$m).call(this,xn,bn),Yn(this,fn,pp).call(this),Yn(this,Sr,Ll).call(this),this.canvas.style.visibility="visible"}static deserialize(xn,bn){var ys,Cs;const En=super.deserialize(xn,bn);En.thickness=xn.thickness,En.color=_i.Util.makeHexColor(...xn.color),En.opacity=xn.opacity;const[Wn,es]=bn.pageDimensions,fs=En.width*Wn,Zn=En.height*es,ts=bn.scaleFactor,us=xn.thickness/2;is(En,ur,fs/Zn),is(En,sr,!0),is(En,yr,Math.round(fs)),is(En,br,Math.round(Zn));for(const{bezier:gs}of xn.paths){const os=[];En.paths.push(os);let ws=ts*(gs[0]-us),Ns=ts*(Zn-gs[1]-us);for(let Es=2,Ts=gs.length;Es<Ts;Es+=6){const Vs=ts*(gs[Es]-us),zs=ts*(Zn-gs[Es+1]-us),Xs=ts*(gs[Es+2]-us),Ys=ts*(Zn-gs[Es+3]-us),$a=ts*(gs[Es+4]-us),lo=ts*(Zn-gs[Es+5]-us);os.push([[ws,Ns],[Vs,zs],[Xs,Ys],[$a,lo]]),ws=$a,Ns=lo}const Ls=Yn(this,tn,Vm).call(this,os);En.bezierPath2D.push(Ls)}const vs=Yn(ys=En,Rn,Um).call(ys);return is(En,nr,Math.max(cr,vs[2]-vs[0])),is(En,or,Math.max(cr,vs[3]-vs[1])),Yn(Cs=En,Ir,$m).call(Cs,fs,Zn),En}serialize(){if(this.isEmpty())return null;const xn=this.getRect(0,0),bn=this.rotation%180===0?xn[3]-xn[1]:xn[2]-xn[0],En=ir.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:_i.AnnotationEditorType.INK,color:En,thickness:this.thickness,opacity:this.opacity,paths:Yn(this,vn,B0).call(this,this.scaleFactor/this.parent.scaleFactor,this.translationX,this.translationY,bn),pageIndex:this.parent.pageIndex,rect:xn,rotation:this.rotation}}};let hr=cs;ur=new WeakMap,or=new WeakMap,nr=new WeakMap,er=new WeakMap,ar=new WeakMap,dr=new WeakMap,lr=new WeakMap,sr=new WeakMap,pr=new WeakMap,mr=new WeakMap,vr=new WeakMap,yr=new WeakMap,br=new WeakMap,_r=new WeakMap,xr=new WeakSet,L0=function(xn){const bn=this.thickness;this.parent.addCommands({cmd:()=>{this.thickness=xn,Yn(this,Kn,mp).call(this)},undo:()=>{this.thickness=bn,Yn(this,Kn,mp).call(this)},mustExec:!0,type:_i.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},zr=new WeakSet,M0=function(xn){const bn=this.color;this.parent.addCommands({cmd:()=>{this.color=xn,Yn(this,Sr,Ll).call(this)},undo:()=>{this.color=bn,Yn(this,Sr,Ll).call(this)},mustExec:!0,type:_i.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Br=new WeakSet,I0=function(xn){xn/=100;const bn=this.opacity;this.parent.addCommands({cmd:()=>{this.opacity=xn,Yn(this,Sr,Ll).call(this)},undo:()=>{this.opacity=bn,Yn(this,Sr,Ll).call(this)},mustExec:!0,type:_i.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Yr=new WeakSet,O0=function(){const{width:xn,height:bn,rotation:En}=this.parent.viewport;switch(En){case 90:return[0,xn,xn,bn];case 180:return[xn,bn,xn,bn];case 270:return[bn,0,xn,bn];default:return[0,0,xn,bn]}},Vr=new WeakSet,jm=function(){this.ctx.lineWidth=this.thickness*this.parent.scaleFactor/this.scaleFactor,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.miterLimit=10,this.ctx.strokeStyle=`${this.color}${(0,gr.opacityToHex)(this.opacity)}`},Lr=new WeakSet,D0=function(xn,bn){var En;this.isEditing=!0,yn(this,pr)||(is(this,pr,!0),Yn(this,fn,pp).call(this),this.thickness||(this.thickness=cs._defaultThickness),this.color||(this.color=cs._defaultColor||ir.AnnotationEditor._defaultLineColor),(En=this.opacity)!=null||(this.opacity=cs._defaultOpacity)),this.currentPath.push([xn,bn]),is(this,mr,null),Yn(this,Vr,jm).call(this),this.ctx.beginPath(),this.ctx.moveTo(xn,bn),is(this,_r,()=>{!yn(this,_r)||(yn(this,mr)&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):Yn(this,Sr,Ll).call(this),this.ctx.lineTo(...yn(this,mr)),is(this,mr,null),this.ctx.stroke()),window.requestAnimationFrame(yn(this,_r)))}),window.requestAnimationFrame(yn(this,_r))},Hr=new WeakSet,N0=function(xn,bn){const[En,Wn]=this.currentPath.at(-1);xn===En&&bn===Wn||(this.currentPath.push([xn,bn]),is(this,mr,[xn,bn]))},Cr=new WeakSet,R0=function(xn,bn){var us;this.ctx.closePath(),is(this,_r,null),xn=Math.min(Math.max(xn,0),this.canvas.width),bn=Math.min(Math.max(bn,0),this.canvas.height);const[En,Wn]=this.currentPath.at(-1);(xn!==En||bn!==Wn)&&this.currentPath.push([xn,bn]);let es;if(this.currentPath.length!==1)es=(0,rr.fitCurve)(this.currentPath,30,null);else{const vs=[xn,bn];es=[[vs,vs.slice(),vs.slice(),vs]]}const fs=Yn(us=cs,tn,Vm).call(us,es);this.currentPath.length=0;const Zn=()=>{this.paths.push(es),this.bezierPath2D.push(fs),this.rebuild()},ts=()=>{this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Yn(this,Kr,um).call(this),Yn(this,on,fm).call(this)),Yn(this,Kn,mp).call(this))};this.parent.addCommands({cmd:Zn,undo:ts,mustExec:!0})},Sr=new WeakSet,Ll=function(){if(this.isEmpty()){Yn(this,Mr,dm).call(this);return}Yn(this,Vr,jm).call(this);const{canvas:xn,ctx:bn}=this;bn.setTransform(1,0,0,1,0,0),bn.clearRect(0,0,xn.width,xn.height),Yn(this,Mr,dm).call(this);for(const En of this.bezierPath2D)bn.stroke(En)},jr=new WeakSet,zm=function(xn){Yn(this,Cr,R0).call(this,xn.offsetX,xn.offsetY),this.canvas.removeEventListener("pointerleave",yn(this,ar)),this.canvas.removeEventListener("pointermove",yn(this,er)),this.parent.addToAnnotationStorage(this)},Kr=new WeakSet,um=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",cs._l10nPromise.get("editor_ink_canvas_aria_label").then(xn=>{var bn;return(bn=this.canvas)==null?void 0:bn.setAttribute("aria-label",xn)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},on=new WeakSet,fm=function(){let xn=null;is(this,vr,new ResizeObserver(bn=>{const En=bn[0].contentRect;En.width&&En.height&&(xn!==null&&clearTimeout(xn),xn=setTimeout(()=>{this.fixDims(),xn=null},tr),this.setDimensions(En.width,En.height))})),yn(this,vr).observe(this.div)},fn=new WeakSet,pp=function(){if(!yn(this,pr))return;const[xn,bn]=this.parent.viewportBaseDimensions;this.canvas.width=Math.ceil(this.width*xn),this.canvas.height=Math.ceil(this.height*bn),Yn(this,Mr,dm).call(this)},Ir=new WeakSet,$m=function(xn,bn){const En=Yn(this,Cn,pm).call(this),Wn=(xn-En)/yn(this,nr),es=(bn-En)/yn(this,or);this.scaleFactor=Math.min(Wn,es)},Mr=new WeakSet,dm=function(){const xn=Yn(this,Cn,pm).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+xn,this.translationY*this.scaleFactor+xn)},tn=new WeakSet,Vm=function(xn){const bn=new Path2D;for(let En=0,Wn=xn.length;En<Wn;En++){const[es,fs,Zn,ts]=xn[En];En===0&&bn.moveTo(...es),bn.bezierCurveTo(fs[0],fs[1],Zn[0],Zn[1],ts[0],ts[1])}return bn},vn=new WeakSet,B0=function(xn,bn,En,Wn){const fs=[],Zn=this.thickness/2;let ts,us;for(const vs of this.paths){ts=[],us=[];for(let ys=0,Cs=vs.length;ys<Cs;ys++){const[gs,os,ws,Ns]=vs[ys],Ls=xn*(gs[0]+bn)+Zn,Es=Wn-xn*(gs[1]+En)-Zn,Ts=xn*(os[0]+bn)+Zn,Vs=Wn-xn*(os[1]+En)-Zn,zs=xn*(ws[0]+bn)+Zn,Xs=Wn-xn*(ws[1]+En)-Zn,Ys=xn*(Ns[0]+bn)+Zn,$a=Wn-xn*(Ns[1]+En)-Zn;ys===0&&(ts.push(Ls,Es),us.push(Ls,Es)),ts.push(Ts,Vs,zs,Xs,Ys,$a),Yn(this,dn,j0).call(this,Ls,Es,Ts,Vs,zs,Xs,Ys,$a,4,us)}fs.push({bezier:ts,points:us})}return fs},dn=new WeakSet,j0=function(xn,bn,En,Wn,es,fs,Zn,ts,us,vs){if(Yn(this,gn,z0).call(this,xn,bn,En,Wn,es,fs,Zn,ts)){vs.push(Zn,ts);return}for(let ys=1;ys<us-1;ys++){const Cs=ys/us,gs=1-Cs;let os=Cs*xn+gs*En,ws=Cs*bn+gs*Wn,Ns=Cs*En+gs*es,Ls=Cs*Wn+gs*fs;const Es=Cs*es+gs*Zn,Ts=Cs*fs+gs*ts;os=Cs*os+gs*Ns,ws=Cs*ws+gs*Ls,Ns=Cs*Ns+gs*Es,Ls=Cs*Ls+gs*Ts,os=Cs*os+gs*Ns,ws=Cs*ws+gs*Ls,vs.push(os,ws)}vs.push(Zn,ts)},gn=new WeakSet,z0=function(xn,bn,En,Wn,es,fs,Zn,ts){const vs=(3*En-2*xn-Zn)**2,ys=(3*Wn-2*bn-ts)**2,Cs=(3*es-xn-2*Zn)**2,gs=(3*fs-bn-2*ts)**2;return Math.max(vs,Cs)+Math.max(ys,gs)<=10},Rn=new WeakSet,Um=function(){let xn=1/0,bn=-1/0,En=1/0,Wn=-1/0;for(const es of this.paths)for(const[fs,Zn,ts,us]of es){const vs=_i.Util.bezierBoundingBox(...fs,...Zn,...ts,...us);xn=Math.min(xn,vs[0]),En=Math.min(En,vs[1]),bn=Math.max(bn,vs[2]),Wn=Math.max(Wn,vs[3])}return[xn,En,bn,Wn]},Cn=new WeakSet,pm=function(){return yn(this,sr)?Math.ceil(this.thickness*this.parent.scaleFactor):0},Kn=new WeakSet,mp=function(xn=!1){if(this.isEmpty())return;if(!yn(this,sr)){Yn(this,Sr,Ll).call(this);return}const bn=Yn(this,Rn,Um).call(this),En=Yn(this,Cn,pm).call(this);is(this,nr,Math.max(cr,bn[2]-bn[0])),is(this,or,Math.max(cr,bn[3]-bn[1]));const Wn=Math.ceil(En+yn(this,nr)*this.scaleFactor),es=Math.ceil(En+yn(this,or)*this.scaleFactor),[fs,Zn]=this.parent.viewportBaseDimensions;this.width=Wn/fs,this.height=es/Zn,is(this,ur,Wn/es),Yn(this,ds,Hm).call(this);const ts=this.translationX,us=this.translationY;this.translationX=-bn[0],this.translationY=-bn[1],Yn(this,fn,pp).call(this),Yn(this,Sr,Ll).call(this),is(this,yr,Wn),is(this,br,es),this.setDims(Wn,es);const vs=xn?En/this.scaleFactor/2:0;this.translate(ts-this.translationX-vs,us-this.translationY-vs)},ds=new WeakSet,Hm=function(){const{style:xn}=this.div;yn(this,ur)>=1?(xn.minHeight=`${cr}px`,xn.minWidth=`${Math.round(yn(this,ur)*cr)}px`):(xn.minWidth=`${cr}px`,xn.minHeight=`${Math.round(cr/yn(this,ur))}px`)},Vn(hr,tn),Js(hr,"_defaultColor",null),Js(hr,"_defaultOpacity",1),Js(hr,"_defaultThickness",1),Js(hr,"_l10nPromise"),Js(hr,"_type","ink"),e.InkEditor=hr},(St,e,_e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.fitCurve=void 0;const _i=_e(25);e.fitCurve=_i},St=>{function e(ar,dr,lr){if(!Array.isArray(ar))throw new TypeError("First argument should be an array");if(ar.forEach(vr=>{if(!Array.isArray(vr)||vr.some(yr=>typeof yr!="number")||vr.length!==ar[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),ar=ar.filter((vr,yr)=>yr===0||!vr.every((br,_r)=>br===ar[yr-1][_r])),ar.length<2)return[];const sr=ar.length,pr=or(ar[1],ar[0]),mr=or(ar[sr-2],ar[sr-1]);return _e(ar,pr,mr,dr,lr)}function _e(ar,dr,lr,sr,pr){var vr,yr,br,_r,xr,Nr,zr,Tr,Br,Jr,Yr,Xr,Vr;if(ar.length===2)return Xr=nr.vectorLen(nr.subtract(ar[0],ar[1]))/3,vr=[ar[0],nr.addArrays(ar[0],nr.mulItems(dr,Xr)),nr.addArrays(ar[1],nr.mulItems(lr,Xr)),ar[1]],[vr];if(yr=cr(ar),[vr,_r,Nr]=_i(ar,yr,yr,dr,lr,pr),_r===0||_r<sr)return[vr];if(_r<sr*sr)for(br=yr,xr=_r,zr=Nr,Vr=0;Vr<20;Vr++){if(br=rr(vr,ar,br),[vr,_r,Nr]=_i(ar,yr,br,dr,lr,pr),_r<sr)return[vr];if(Nr===zr){let $r=_r/xr;if($r>.9999&&$r<1.0001)break}xr=_r,zr=Nr}return Yr=[],Tr=nr.subtract(ar[Nr-1],ar[Nr+1]),Tr.every($r=>$r===0)&&(Tr=nr.subtract(ar[Nr-1],ar[Nr]),[Tr[0],Tr[1]]=[-Tr[1],Tr[0]]),Br=nr.normalize(Tr),Jr=nr.mulItems(Br,-1),Yr=Yr.concat(_e(ar.slice(0,Nr+1),dr,Br,sr,pr)),Yr=Yr.concat(_e(ar.slice(Nr),Jr,lr,sr,pr)),Yr}function _i(ar,dr,lr,sr,pr,mr){var vr,yr,br;return vr=ir(ar,lr,sr,pr),[yr,br]=tr(ar,vr,dr),mr&&mr({bez:vr,points:ar,params:dr,maxErr:yr,maxPoint:br}),[vr,yr,br]}function ir(ar,dr,lr,sr){var pr,mr,vr,yr,br,_r,xr,Nr,zr,Tr,Br,Jr,Yr,Xr,Vr,$r,Lr,Er=ar[0],Hr=ar[ar.length-1];for(pr=[Er,null,null,Hr],mr=nr.zeros_Xx2x2(dr.length),Yr=0,Xr=dr.length;Yr<Xr;Yr++)$r=dr[Yr],Lr=1-$r,vr=mr[Yr],vr[0]=nr.mulItems(lr,3*$r*(Lr*Lr)),vr[1]=nr.mulItems(sr,3*Lr*($r*$r));for(yr=[[0,0],[0,0]],br=[0,0],Yr=0,Xr=ar.length;Yr<Xr;Yr++)$r=dr[Yr],vr=mr[Yr],yr[0][0]+=nr.dot(vr[0],vr[0]),yr[0][1]+=nr.dot(vr[0],vr[1]),yr[1][0]+=nr.dot(vr[0],vr[1]),yr[1][1]+=nr.dot(vr[1],vr[1]),Vr=nr.subtract(ar[Yr],er.q([Er,Er,Hr,Hr],$r)),br[0]+=nr.dot(vr[0],Vr),br[1]+=nr.dot(vr[1],Vr);return _r=yr[0][0]*yr[1][1]-yr[1][0]*yr[0][1],xr=yr[0][0]*br[1]-yr[1][0]*br[0],Nr=br[0]*yr[1][1]-br[1]*yr[0][1],zr=_r===0?0:Nr/_r,Tr=_r===0?0:xr/_r,Jr=nr.vectorLen(nr.subtract(Er,Hr)),Br=1e-6*Jr,zr<Br||Tr<Br?(pr[1]=nr.addArrays(Er,nr.mulItems(lr,Jr/3)),pr[2]=nr.addArrays(Hr,nr.mulItems(sr,Jr/3))):(pr[1]=nr.addArrays(Er,nr.mulItems(lr,zr)),pr[2]=nr.addArrays(Hr,nr.mulItems(sr,Tr))),pr}function rr(ar,dr,lr){return lr.map((sr,pr)=>gr(ar,dr[pr],sr))}function gr(ar,dr,lr){var sr=nr.subtract(er.q(ar,lr),dr),pr=er.qprime(ar,lr),mr=nr.mulMatrix(sr,pr),vr=nr.sum(nr.squareItems(pr))+2*nr.mulMatrix(sr,er.qprimeprime(ar,lr));return vr===0?lr:lr-mr/vr}function cr(ar){var dr=[],lr,sr,pr;return ar.forEach((mr,vr)=>{lr=vr?sr+nr.vectorLen(nr.subtract(mr,pr)):0,dr.push(lr),sr=lr,pr=mr}),dr=dr.map(mr=>mr/sr),dr}function tr(ar,dr,lr){var sr,pr,mr,vr,yr,br,_r,xr;pr=0,mr=Math.floor(ar.length/2);const Nr=hr(dr,10);for(yr=0,br=ar.length;yr<br;yr++)_r=ar[yr],xr=ur(dr,lr[yr],Nr,10),vr=nr.subtract(er.q(dr,xr),_r),sr=vr[0]*vr[0]+vr[1]*vr[1],sr>pr&&(pr=sr,mr=yr);return[pr,mr]}var hr=function(ar,dr){for(var lr,sr=[0],pr=ar[0],mr=0,vr=1;vr<=dr;vr++)lr=er.q(ar,vr/dr),mr+=nr.vectorLen(nr.subtract(lr,pr)),sr.push(mr),pr=lr;return sr=sr.map(yr=>yr/mr),sr};function ur(ar,dr,lr,sr){if(dr<0)return 0;if(dr>1)return 1;for(var pr,mr,vr,yr,br,_r=1;_r<=sr;_r++)if(dr<=lr[_r]){yr=(_r-1)/sr,vr=_r/sr,mr=lr[_r-1],pr=lr[_r],br=(dr-mr)/(pr-mr)*(vr-yr)+yr;break}return br}function or(ar,dr){return nr.normalize(nr.subtract(ar,dr))}class nr{static zeros_Xx2x2(dr){for(var lr=[];dr--;)lr.push([0,0]);return lr}static mulItems(dr,lr){return dr.map(sr=>sr*lr)}static mulMatrix(dr,lr){return dr.reduce((sr,pr,mr)=>sr+pr*lr[mr],0)}static subtract(dr,lr){return dr.map((sr,pr)=>sr-lr[pr])}static addArrays(dr,lr){return dr.map((sr,pr)=>sr+lr[pr])}static addItems(dr,lr){return dr.map(sr=>sr+lr)}static sum(dr){return dr.reduce((lr,sr)=>lr+sr)}static dot(dr,lr){return nr.mulMatrix(dr,lr)}static vectorLen(dr){return Math.hypot(...dr)}static divItems(dr,lr){return dr.map(sr=>sr/lr)}static squareItems(dr){return dr.map(lr=>lr*lr)}static normalize(dr){return this.divItems(dr,this.vectorLen(dr))}}class er{static q(dr,lr){var sr=1-lr,pr=nr.mulItems(dr[0],sr*sr*sr),mr=nr.mulItems(dr[1],3*sr*sr*lr),vr=nr.mulItems(dr[2],3*sr*lr*lr),yr=nr.mulItems(dr[3],lr*lr*lr);return nr.addArrays(nr.addArrays(pr,mr),nr.addArrays(vr,yr))}static qprime(dr,lr){var sr=1-lr,pr=nr.mulItems(nr.subtract(dr[1],dr[0]),3*sr*sr),mr=nr.mulItems(nr.subtract(dr[2],dr[1]),6*sr*lr),vr=nr.mulItems(nr.subtract(dr[3],dr[2]),3*lr*lr);return nr.addArrays(nr.addArrays(pr,mr),vr)}static qprimeprime(dr,lr){return nr.addArrays(nr.mulItems(nr.addArrays(nr.subtract(dr[2],nr.mulItems(dr[1],2)),dr[0]),6*(1-lr)),nr.mulItems(nr.addArrays(nr.subtract(dr[3],nr.mulItems(dr[2],2)),dr[1]),6*lr))}}St.exports=e,St.exports.fitCubic=_e,St.exports.createTangent=or},(St,e,_e)=>{var kr,$0,jr,Wm,Kr,Gm,on,qm;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationLayer=void 0;var _i=_e(1),ir=_e(6),rr=_e(3),gr=_e(27),cr=_e(28);const tr=1e3,hr=9,ur=new WeakSet;function or(en){return{width:en[2]-en[0],height:en[3]-en[1]}}class nr{static create(Ir){switch(Ir.data.annotationType){case _i.AnnotationType.LINK:return new ar(Ir);case _i.AnnotationType.TEXT:return new dr(Ir);case _i.AnnotationType.WIDGET:switch(Ir.data.fieldType){case"Tx":return new sr(Ir);case"Btn":return Ir.data.radioButton?new mr(Ir):Ir.data.checkBox?new pr(Ir):new vr(Ir);case"Ch":return new yr(Ir)}return new lr(Ir);case _i.AnnotationType.POPUP:return new br(Ir);case _i.AnnotationType.FREETEXT:return new xr(Ir);case _i.AnnotationType.LINE:return new Nr(Ir);case _i.AnnotationType.SQUARE:return new zr(Ir);case _i.AnnotationType.CIRCLE:return new Tr(Ir);case _i.AnnotationType.POLYLINE:return new Br(Ir);case _i.AnnotationType.CARET:return new Yr(Ir);case _i.AnnotationType.INK:return new Xr(Ir);case _i.AnnotationType.POLYGON:return new Jr(Ir);case _i.AnnotationType.HIGHLIGHT:return new Vr(Ir);case _i.AnnotationType.UNDERLINE:return new $r(Ir);case _i.AnnotationType.SQUIGGLY:return new Lr(Ir);case _i.AnnotationType.STRIKEOUT:return new Er(Ir);case _i.AnnotationType.STAMP:return new Hr(Ir);case _i.AnnotationType.FILEATTACHMENT:return new Gr(Ir);default:return new er(Ir)}}}class er{constructor(Ir,{isRenderable:Ur=!1,ignoreBorder:Mr=!1,createQuadrilaterals:Zr=!1}={}){this.isRenderable=Ur,this.data=Ir.data,this.layer=Ir.layer,this.page=Ir.page,this.viewport=Ir.viewport,this.linkService=Ir.linkService,this.downloadManager=Ir.downloadManager,this.imageResourcesPath=Ir.imageResourcesPath,this.renderForms=Ir.renderForms,this.svgFactory=Ir.svgFactory,this.annotationStorage=Ir.annotationStorage,this.enableScripting=Ir.enableScripting,this.hasJSActions=Ir.hasJSActions,this._fieldObjects=Ir.fieldObjects,this._mouseState=Ir.mouseState,Ur&&(this.container=this._createContainer(Mr)),Zr&&(this.quadrilaterals=this._createQuadrilaterals(Mr))}_createContainer(Ir=!1){const Ur=this.data,Mr=this.page,Zr=this.viewport,tn=document.createElement("section"),{width:an,height:vn}=or(Ur.rect),[_n,dn,Pn,gn]=Zr.viewBox,In=Pn-_n,Rn=gn-dn;tn.setAttribute("data-annotation-id",Ur.id);const zn=_i.Util.normalizeRect([Ur.rect[0],Mr.view[3]-Ur.rect[1]+Mr.view[1],Ur.rect[2],Mr.view[3]-Ur.rect[3]+Mr.view[1]]);if(!Ir&&Ur.borderStyle.width>0){tn.style.borderWidth=`${Ur.borderStyle.width}px`;const Dn=Ur.borderStyle.horizontalCornerRadius,Kn=Ur.borderStyle.verticalCornerRadius;if(Dn>0||Kn>0){const ds=`calc(${Dn}px * var(--scale-factor)) / calc(${Kn}px * var(--scale-factor))`;tn.style.borderRadius=ds}else if(this instanceof mr){const ds=`calc(${an}px * var(--scale-factor)) / calc(${vn}px * var(--scale-factor))`;tn.style.borderRadius=ds}switch(Ur.borderStyle.style){case _i.AnnotationBorderStyleType.SOLID:tn.style.borderStyle="solid";break;case _i.AnnotationBorderStyleType.DASHED:tn.style.borderStyle="dashed";break;case _i.AnnotationBorderStyleType.BEVELED:(0,_i.warn)("Unimplemented border style: beveled");break;case _i.AnnotationBorderStyleType.INSET:(0,_i.warn)("Unimplemented border style: inset");break;case _i.AnnotationBorderStyleType.UNDERLINE:tn.style.borderBottomStyle="solid";break}const Nn=Ur.borderColor||null;Nn?tn.style.borderColor=_i.Util.makeHexColor(Nn[0]|0,Nn[1]|0,Nn[2]|0):tn.style.borderWidth=0}tn.style.left=`${100*(zn[0]-_n)/In}%`,tn.style.top=`${100*(zn[1]-dn)/Rn}%`;const{rotation:Cn}=Ur;return Ur.hasOwnCanvas||Cn===0?(tn.style.width=`${100*an/In}%`,tn.style.height=`${100*vn/Rn}%`):this.setRotation(Cn,tn),tn}setRotation(Ir,Ur=this.container){const[Mr,Zr,tn,an]=this.viewport.viewBox,vn=tn-Mr,_n=an-Zr,{width:dn,height:Pn}=or(this.data.rect);let gn,In;Ir%180===0?(gn=100*dn/vn,In=100*Pn/_n):(gn=100*Pn/vn,In=100*dn/_n),Ur.style.width=`${gn}%`,Ur.style.height=`${In}%`,Ur.setAttribute("data-main-rotation",(360-Ir)%360)}get _commonActions(){const Ir=(Ur,Mr,Zr)=>{const tn=Zr.detail[Ur];Zr.target.style[Mr]=gr.ColorConverters[`${tn[0]}_HTML`](tn.slice(1))};return(0,_i.shadow)(this,"_commonActions",{display:Ur=>{const Mr=Ur.detail.display%2===1;this.container.style.visibility=Mr?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:Mr,print:Ur.detail.display===0||Ur.detail.display===3})},print:Ur=>{this.annotationStorage.setValue(this.data.id,{print:Ur.detail.print})},hidden:Ur=>{this.container.style.visibility=Ur.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:Ur.detail.hidden})},focus:Ur=>{setTimeout(()=>Ur.target.focus({preventScroll:!1}),0)},userName:Ur=>{Ur.target.title=Ur.detail.userName},readonly:Ur=>{Ur.detail.readonly?Ur.target.setAttribute("readonly",""):Ur.target.removeAttribute("readonly")},required:Ur=>{this._setRequired(Ur.target,Ur.detail.required)},bgColor:Ur=>{Ir("bgColor","backgroundColor",Ur)},fillColor:Ur=>{Ir("fillColor","backgroundColor",Ur)},fgColor:Ur=>{Ir("fgColor","color",Ur)},textColor:Ur=>{Ir("textColor","color",Ur)},borderColor:Ur=>{Ir("borderColor","borderColor",Ur)},strokeColor:Ur=>{Ir("strokeColor","borderColor",Ur)},rotation:Ur=>{const Mr=Ur.detail.rotation;this.setRotation(Mr),this.annotationStorage.setValue(this.data.id,{rotation:Mr})}})}_dispatchEventFromSandbox(Ir,Ur){const Mr=this._commonActions;for(const Zr of Object.keys(Ur.detail)){const tn=Ir[Zr]||Mr[Zr];tn==null||tn(Ur)}}_setDefaultPropertiesFromJS(Ir){if(!this.enableScripting)return;const Ur=this.annotationStorage.getRawValue(this.data.id);if(!Ur)return;const Mr=this._commonActions;for(const[Zr,tn]of Object.entries(Ur)){const an=Mr[Zr];if(an){const vn={detail:{[Zr]:tn},target:Ir};an(vn),delete Ur[Zr]}}}_createQuadrilaterals(Ir=!1){if(!this.data.quadPoints)return null;const Ur=[],Mr=this.data.rect;for(const Zr of this.data.quadPoints)this.data.rect=[Zr[2].x,Zr[2].y,Zr[1].x,Zr[1].y],Ur.push(this._createContainer(Ir));return this.data.rect=Mr,Ur}_createPopup(Ir,Ur){let Mr=this.container;this.quadrilaterals&&(Ir=Ir||this.quadrilaterals,Mr=this.quadrilaterals[0]),Ir||(Ir=document.createElement("div"),Ir.className="popupTriggerArea",Mr.append(Ir));const tn=new _r({container:Mr,trigger:Ir,color:Ur.color,titleObj:Ur.titleObj,modificationDate:Ur.modificationDate,contentsObj:Ur.contentsObj,richText:Ur.richText,hideWrapper:!0}).render();tn.style.left="100%",Mr.append(tn)}_renderQuadrilaterals(Ir){for(const Ur of this.quadrilaterals)Ur.className=Ir;return this.quadrilaterals}render(){(0,_i.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Ir,Ur=null){const Mr=[];if(this._fieldObjects){const Zr=this._fieldObjects[Ir];if(Zr)for(const{page:tn,id:an,exportValues:vn}of Zr){if(tn===-1||an===Ur)continue;const _n=typeof vn=="string"?vn:null,dn=document.querySelector(`[data-element-id="${an}"]`);if(dn&&!ur.has(dn)){(0,_i.warn)(`_getElementsByName - element not allowed: ${an}`);continue}Mr.push({id:an,exportValue:_n,domElement:dn})}return Mr}for(const Zr of document.getElementsByName(Ir)){const{exportValue:tn}=Zr,an=Zr.getAttribute("data-element-id");an!==Ur&&(!ur.has(Zr)||Mr.push({id:an,exportValue:tn,domElement:Zr}))}return Mr}static get platform(){const Ir=typeof navigator<"u"?navigator.platform:"";return(0,_i.shadow)(this,"platform",{isWin:Ir.includes("Win"),isMac:Ir.includes("Mac")})}}class ar extends er{constructor(Ur,Mr=null){super(Ur,{isRenderable:!0,ignoreBorder:!!(Mr!=null&&Mr.ignoreBorder),createQuadrilaterals:!0});Vn(this,kr);this.isTooltipOnly=Ur.data.isTooltipOnly}render(){const{data:Ur,linkService:Mr}=this,Zr=document.createElement("a");Zr.setAttribute("data-element-id",Ur.id);let tn=!1;return Ur.url?(Mr.addLinkAttributes(Zr,Ur.url,Ur.newWindow),tn=!0):Ur.action?(this._bindNamedAction(Zr,Ur.action),tn=!0):Ur.attachment?(this._bindAttachment(Zr,Ur.attachment),tn=!0):Ur.setOCGState?(Yn(this,kr,$0).call(this,Zr,Ur.setOCGState),tn=!0):Ur.dest?(this._bindLink(Zr,Ur.dest),tn=!0):(Ur.actions&&(Ur.actions.Action||Ur.actions["Mouse Up"]||Ur.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(Zr,Ur),tn=!0),Ur.resetForm?(this._bindResetFormAction(Zr,Ur.resetForm),tn=!0):this.isTooltipOnly&&!tn&&(this._bindLink(Zr,""),tn=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((an,vn)=>{const _n=vn===0?Zr:Zr.cloneNode();return an.append(_n),an}):(this.container.className="linkAnnotation",tn&&this.container.append(Zr),this.container)}_bindLink(Ur,Mr){Ur.href=this.linkService.getDestinationHash(Mr),Ur.onclick=()=>(Mr&&this.linkService.goToDestination(Mr),!1),(Mr||Mr==="")&&(Ur.className="internalLink")}_bindNamedAction(Ur,Mr){Ur.href=this.linkService.getAnchorUrl(""),Ur.onclick=()=>(this.linkService.executeNamedAction(Mr),!1),Ur.className="internalLink"}_bindAttachment(Ur,Mr){Ur.href=this.linkService.getAnchorUrl(""),Ur.onclick=()=>{var Zr;return(Zr=this.downloadManager)==null||Zr.openOrDownloadData(this.container,Mr.content,Mr.filename),!1},Ur.className="internalLink"}_bindJSAction(Ur,Mr){Ur.href=this.linkService.getAnchorUrl("");const Zr=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const tn of Object.keys(Mr.actions)){const an=Zr.get(tn);!an||(Ur[an]=()=>{var vn;return(vn=this.linkService.eventBus)==null||vn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Mr.id,name:tn}}),!1})}Ur.onclick||(Ur.onclick=()=>!1),Ur.className="internalLink"}_bindResetFormAction(Ur,Mr){const Zr=Ur.onclick;if(Zr||(Ur.href=this.linkService.getAnchorUrl("")),Ur.className="internalLink",!this._fieldObjects){(0,_i.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Zr||(Ur.onclick=()=>!1);return}Ur.onclick=()=>{var gn;Zr==null||Zr();const{fields:tn,refs:an,include:vn}=Mr,_n=[];if(tn.length!==0||an.length!==0){const In=new Set(an);for(const Rn of tn){const zn=this._fieldObjects[Rn]||[];for(const{id:Cn}of zn)In.add(Cn)}for(const Rn of Object.values(this._fieldObjects))for(const zn of Rn)In.has(zn.id)===vn&&_n.push(zn)}else for(const In of Object.values(this._fieldObjects))_n.push(...In);const dn=this.annotationStorage,Pn=[];for(const In of _n){const{id:Rn}=In;switch(Pn.push(Rn),In.type){case"text":{const Cn=In.defaultValue||"";dn.setValue(Rn,{value:Cn});break}case"checkbox":case"radiobutton":{const Cn=In.defaultValue===In.exportValues;dn.setValue(Rn,{value:Cn});break}case"combobox":case"listbox":{const Cn=In.defaultValue||"";dn.setValue(Rn,{value:Cn});break}default:continue}const zn=document.querySelector(`[data-element-id="${Rn}"]`);if(zn){if(!ur.has(zn)){(0,_i.warn)(`_bindResetFormAction - element not allowed: ${Rn}`);continue}}else continue;zn.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((gn=this.linkService.eventBus)==null||gn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Pn,name:"ResetForm"}})),!1}}}kr=new WeakSet,$0=function(Ur,Mr){Ur.href=this.linkService.getAnchorUrl(""),Ur.onclick=()=>(this.linkService.executeSetOCGState(Mr),!1),Ur.className="internalLink"};class dr extends er{constructor(Ir){var Mr,Zr,tn;const Ur=!!(Ir.data.hasPopup||((Mr=Ir.data.titleObj)==null?void 0:Mr.str)||((Zr=Ir.data.contentsObj)==null?void 0:Zr.str)||((tn=Ir.data.richText)==null?void 0:tn.str));super(Ir,{isRenderable:Ur})}render(){this.container.className="textAnnotation";const Ir=document.createElement("img");return Ir.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Ir.alt="[{{type}} Annotation]",Ir.dataset.l10nId="text_annotation_type",Ir.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(Ir,this.data),this.container.append(Ir),this.container}}class lr extends er{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(Ir){const{isWin:Ur,isMac:Mr}=er.platform;return Ur&&Ir.ctrlKey||Mr&&Ir.metaKey}_setEventListener(Ir,Ur,Mr,Zr){Ur.includes("mouse")?Ir.addEventListener(Ur,tn=>{var an;(an=this.linkService.eventBus)==null||an.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Mr,value:Zr(tn),shift:tn.shiftKey,modifier:this._getKeyModifier(tn)}})}):Ir.addEventListener(Ur,tn=>{var an;(an=this.linkService.eventBus)==null||an.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Mr,value:Zr(tn)}})})}_setEventListeners(Ir,Ur,Mr){var Zr;for(const[tn,an]of Ur)(an==="Action"||((Zr=this.data.actions)==null?void 0:Zr[an]))&&this._setEventListener(Ir,tn,an,Mr)}_setBackgroundColor(Ir){const Ur=this.data.backgroundColor||null;Ir.style.backgroundColor=Ur===null?"transparent":_i.Util.makeHexColor(Ur[0],Ur[1],Ur[2])}_setTextStyle(Ir){const Ur=["left","center","right"],{fontColor:Mr}=this.data.defaultAppearanceData,Zr=this.data.defaultAppearanceData.fontSize||hr,tn=Ir.style;let an;const vn=2,_n=dn=>Math.round(10*dn)/10;if(this.data.multiLine){const dn=Math.abs(this.data.rect[3]-this.data.rect[1]-vn),Pn=Math.round(dn/(_i.LINE_FACTOR*Zr))||1,gn=dn/Pn;an=Math.min(Zr,_n(gn/_i.LINE_FACTOR))}else{const dn=Math.abs(this.data.rect[3]-this.data.rect[1]-vn);an=Math.min(Zr,_n(dn/_i.LINE_FACTOR))}tn.fontSize=`calc(${an}px * var(--scale-factor))`,tn.color=_i.Util.makeHexColor(Mr[0],Mr[1],Mr[2]),this.data.textAlignment!==null&&(tn.textAlign=Ur[this.data.textAlignment])}_setRequired(Ir,Ur){Ur?Ir.setAttribute("required",!0):Ir.removeAttribute("required"),Ir.setAttribute("aria-required",Ur)}}class sr extends lr{constructor(Ir){const Ur=Ir.renderForms||!Ir.data.hasAppearance&&!!Ir.data.fieldValue;super(Ir,{isRenderable:Ur})}setPropertyOnSiblings(Ir,Ur,Mr,Zr){const tn=this.annotationStorage;for(const an of this._getElementsByName(Ir.name,Ir.id))an.domElement&&(an.domElement[Ur]=Mr),tn.setValue(an.id,{[Zr]:Mr})}render(){var Zr;const Ir=this.annotationStorage,Ur=this.data.id;this.container.className="textWidgetAnnotation";let Mr=null;if(this.renderForms){const tn=Ir.getValue(Ur,{value:this.data.fieldValue});let an=tn.formattedValue||tn.value||"";const vn=Ir.getValue(Ur,{charLimit:this.data.maxLen}).charLimit;vn&&an.length>vn&&(an=an.slice(0,vn));const _n={userValue:an,formattedValue:null,valueOnFocus:""};this.data.multiLine?(Mr=document.createElement("textarea"),Mr.textContent=an,this.data.doNotScroll&&(Mr.style.overflowY="hidden")):(Mr=document.createElement("input"),Mr.type="text",Mr.setAttribute("value",an),this.data.doNotScroll&&(Mr.style.overflowX="hidden")),ur.add(Mr),Mr.setAttribute("data-element-id",Ur),Mr.disabled=this.data.readOnly,Mr.name=this.data.fieldName,Mr.tabIndex=tr,this._setRequired(Mr,this.data.required),vn&&(Mr.maxLength=vn),Mr.addEventListener("input",Pn=>{Ir.setValue(Ur,{value:Pn.target.value}),this.setPropertyOnSiblings(Mr,"value",Pn.target.value,"value")}),Mr.addEventListener("resetform",Pn=>{var In;const gn=(In=this.data.defaultFieldValue)!=null?In:"";Mr.value=_n.userValue=gn,_n.formattedValue=null});let dn=Pn=>{const{formattedValue:gn}=_n;gn!=null&&(Pn.target.value=gn),Pn.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Mr.addEventListener("focus",gn=>{_n.userValue&&(gn.target.value=_n.userValue),_n.valueOnFocus=gn.target.value}),Mr.addEventListener("updatefromsandbox",gn=>{const In={value(Rn){var zn;_n.userValue=(zn=Rn.detail.value)!=null?zn:"",Ir.setValue(Ur,{value:_n.userValue.toString()}),Rn.target.value=_n.userValue},formattedValue(Rn){const{formattedValue:zn}=Rn.detail;_n.formattedValue=zn,zn!=null&&Rn.target!==document.activeElement&&(Rn.target.value=zn),Ir.setValue(Ur,{formattedValue:zn})},selRange(Rn){Rn.target.setSelectionRange(...Rn.detail.selRange)},charLimit:Rn=>{var Kn;const{charLimit:zn}=Rn.detail,{target:Cn}=Rn;if(zn===0){Cn.removeAttribute("maxLength");return}Cn.setAttribute("maxLength",zn);let Dn=_n.userValue;!Dn||Dn.length<=zn||(Dn=Dn.slice(0,zn),Cn.value=_n.userValue=Dn,Ir.setValue(Ur,{value:Dn}),(Kn=this.linkService.eventBus)==null||Kn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ur,name:"Keystroke",value:Dn,willCommit:!0,commitKey:1,selStart:Cn.selectionStart,selEnd:Cn.selectionEnd}}))}};this._dispatchEventFromSandbox(In,gn)}),Mr.addEventListener("keydown",gn=>{var zn;let In=-1;if(gn.key==="Escape"?In=0:gn.key==="Enter"&&!this.data.multiLine?In=2:gn.key==="Tab"&&(In=3),In===-1)return;const{value:Rn}=gn.target;_n.valueOnFocus!==Rn&&(_n.userValue=Rn,(zn=this.linkService.eventBus)==null||zn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ur,name:"Keystroke",value:Rn,willCommit:!0,commitKey:In,selStart:gn.target.selectionStart,selEnd:gn.target.selectionEnd}}))});const Pn=dn;dn=null,Mr.addEventListener("blur",gn=>{var Rn;const{value:In}=gn.target;_n.userValue=In,this._mouseState.isDown&&_n.valueOnFocus!==In&&((Rn=this.linkService.eventBus)==null||Rn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ur,name:"Keystroke",value:In,willCommit:!0,commitKey:1,selStart:gn.target.selectionStart,selEnd:gn.target.selectionEnd}})),Pn(gn)}),(Zr=this.data.actions)!=null&&Zr.Keystroke&&Mr.addEventListener("beforeinput",gn=>{var ds;const{data:In,target:Rn}=gn,{value:zn,selectionStart:Cn,selectionEnd:Dn}=Rn;let Kn=Cn,Nn=Dn;switch(gn.inputType){case"deleteWordBackward":{const as=zn.substring(0,Cn).match(/\w*[^\w]*$/);as&&(Kn-=as[0].length);break}case"deleteWordForward":{const as=zn.substring(Cn).match(/^[^\w]*\w*/);as&&(Nn+=as[0].length);break}case"deleteContentBackward":Cn===Dn&&(Kn-=1);break;case"deleteContentForward":Cn===Dn&&(Nn+=1);break}gn.preventDefault(),(ds=this.linkService.eventBus)==null||ds.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ur,name:"Keystroke",value:zn,change:In||"",willCommit:!1,selStart:Kn,selEnd:Nn}})}),this._setEventListeners(Mr,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],gn=>gn.target.value)}if(dn&&Mr.addEventListener("blur",dn),this.data.comb){const gn=(this.data.rect[2]-this.data.rect[0])/vn;Mr.classList.add("comb"),Mr.style.letterSpacing=`calc(${gn}px * var(--scale-factor) - 1ch)`}}else Mr=document.createElement("div"),Mr.textContent=this.data.fieldValue,Mr.style.verticalAlign="middle",Mr.style.display="table-cell";return this._setTextStyle(Mr),this._setBackgroundColor(Mr),this._setDefaultPropertiesFromJS(Mr),this.container.append(Mr),this.container}}class pr extends lr{constructor(Ir){super(Ir,{isRenderable:Ir.renderForms})}render(){const Ir=this.annotationStorage,Ur=this.data,Mr=Ur.id;let Zr=Ir.getValue(Mr,{value:Ur.exportValue===Ur.fieldValue}).value;typeof Zr=="string"&&(Zr=Zr!=="Off",Ir.setValue(Mr,{value:Zr})),this.container.className="buttonWidgetAnnotation checkBox";const tn=document.createElement("input");return ur.add(tn),tn.setAttribute("data-element-id",Mr),tn.disabled=Ur.readOnly,this._setRequired(tn,this.data.required),tn.type="checkbox",tn.name=Ur.fieldName,Zr&&tn.setAttribute("checked",!0),tn.setAttribute("exportValue",Ur.exportValue),tn.tabIndex=tr,tn.addEventListener("change",an=>{const{name:vn,checked:_n}=an.target;for(const dn of this._getElementsByName(vn,Mr)){const Pn=_n&&dn.exportValue===Ur.exportValue;dn.domElement&&(dn.domElement.checked=Pn),Ir.setValue(dn.id,{value:Pn})}Ir.setValue(Mr,{value:_n})}),tn.addEventListener("resetform",an=>{const vn=Ur.defaultFieldValue||"Off";an.target.checked=vn===Ur.exportValue}),this.enableScripting&&this.hasJSActions&&(tn.addEventListener("updatefromsandbox",an=>{const vn={value(_n){_n.target.checked=_n.detail.value!=="Off",Ir.setValue(Mr,{value:_n.target.checked})}};this._dispatchEventFromSandbox(vn,an)}),this._setEventListeners(tn,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],an=>an.target.checked)),this._setBackgroundColor(tn),this._setDefaultPropertiesFromJS(tn),this.container.append(tn),this.container}}class mr extends lr{constructor(Ir){super(Ir,{isRenderable:Ir.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const Ir=this.annotationStorage,Ur=this.data,Mr=Ur.id;let Zr=Ir.getValue(Mr,{value:Ur.fieldValue===Ur.buttonValue}).value;typeof Zr=="string"&&(Zr=Zr!==Ur.buttonValue,Ir.setValue(Mr,{value:Zr}));const tn=document.createElement("input");if(ur.add(tn),tn.setAttribute("data-element-id",Mr),tn.disabled=Ur.readOnly,this._setRequired(tn,this.data.required),tn.type="radio",tn.name=Ur.fieldName,Zr&&tn.setAttribute("checked",!0),tn.tabIndex=tr,tn.addEventListener("change",an=>{const{name:vn,checked:_n}=an.target;for(const dn of this._getElementsByName(vn,Mr))Ir.setValue(dn.id,{value:!1});Ir.setValue(Mr,{value:_n})}),tn.addEventListener("resetform",an=>{const vn=Ur.defaultFieldValue;an.target.checked=vn!=null&&vn===Ur.buttonValue}),this.enableScripting&&this.hasJSActions){const an=Ur.buttonValue;tn.addEventListener("updatefromsandbox",vn=>{const _n={value:dn=>{const Pn=an===dn.detail.value;for(const gn of this._getElementsByName(dn.target.name)){const In=Pn&&gn.id===Mr;gn.domElement&&(gn.domElement.checked=In),Ir.setValue(gn.id,{value:In})}}};this._dispatchEventFromSandbox(_n,vn)}),this._setEventListeners(tn,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],vn=>vn.target.checked)}return this._setBackgroundColor(tn),this._setDefaultPropertiesFromJS(tn),this.container.append(tn),this.container}}class vr extends ar{constructor(Ir){super(Ir,{ignoreBorder:Ir.data.hasAppearance})}render(){const Ir=super.render();Ir.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(Ir.title=this.data.alternativeText);const Ur=Ir.lastChild;return this.enableScripting&&this.hasJSActions&&Ur&&(this._setDefaultPropertiesFromJS(Ur),Ur.addEventListener("updatefromsandbox",Mr=>{this._dispatchEventFromSandbox({},Mr)})),Ir}}class yr extends lr{constructor(Ir){super(Ir,{isRenderable:Ir.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const Ir=this.annotationStorage,Ur=this.data.id,Mr=Ir.getValue(Ur,{value:this.data.fieldValue}),Zr=document.createElement("select");ur.add(Zr),Zr.setAttribute("data-element-id",Ur),Zr.disabled=this.data.readOnly,this._setRequired(Zr,this.data.required),Zr.name=this.data.fieldName,Zr.tabIndex=tr;let tn=this.data.combo&&this.data.options.length>0;this.data.combo||(Zr.size=this.data.options.length,this.data.multiSelect&&(Zr.multiple=!0)),Zr.addEventListener("resetform",dn=>{const Pn=this.data.defaultFieldValue;for(const gn of Zr.options)gn.selected=gn.value===Pn});for(const dn of this.data.options){const Pn=document.createElement("option");Pn.textContent=dn.displayValue,Pn.value=dn.exportValue,Mr.value.includes(dn.exportValue)&&(Pn.setAttribute("selected",!0),tn=!1),Zr.append(Pn)}let an=null;if(tn){const dn=document.createElement("option");dn.value=" ",dn.setAttribute("hidden",!0),dn.setAttribute("selected",!0),Zr.prepend(dn),an=()=>{dn.remove(),Zr.removeEventListener("input",an),an=null},Zr.addEventListener("input",an)}const vn=(dn,Pn)=>{const gn=Pn?"value":"textContent",In=dn.target.options;return dn.target.multiple?Array.prototype.filter.call(In,Rn=>Rn.selected).map(Rn=>Rn[gn]):In.selectedIndex===-1?null:In[In.selectedIndex][gn]},_n=dn=>{const Pn=dn.target.options;return Array.prototype.map.call(Pn,gn=>({displayValue:gn.textContent,exportValue:gn.value}))};return this.enableScripting&&this.hasJSActions?(Zr.addEventListener("updatefromsandbox",dn=>{const Pn={value(gn){an==null||an();const In=gn.detail.value,Rn=new Set(Array.isArray(In)?In:[In]);for(const zn of Zr.options)zn.selected=Rn.has(zn.value);Ir.setValue(Ur,{value:vn(gn,!0)})},multipleSelection(gn){Zr.multiple=!0},remove(gn){const In=Zr.options,Rn=gn.detail.remove;In[Rn].selected=!1,Zr.remove(Rn),In.length>0&&Array.prototype.findIndex.call(In,Cn=>Cn.selected)===-1&&(In[0].selected=!0),Ir.setValue(Ur,{value:vn(gn,!0),items:_n(gn)})},clear(gn){for(;Zr.length!==0;)Zr.remove(0);Ir.setValue(Ur,{value:null,items:[]})},insert(gn){const{index:In,displayValue:Rn,exportValue:zn}=gn.detail.insert,Cn=Zr.children[In],Dn=document.createElement("option");Dn.textContent=Rn,Dn.value=zn,Cn?Cn.before(Dn):Zr.append(Dn),Ir.setValue(Ur,{value:vn(gn,!0),items:_n(gn)})},items(gn){const{items:In}=gn.detail;for(;Zr.length!==0;)Zr.remove(0);for(const Rn of In){const{displayValue:zn,exportValue:Cn}=Rn,Dn=document.createElement("option");Dn.textContent=zn,Dn.value=Cn,Zr.append(Dn)}Zr.options.length>0&&(Zr.options[0].selected=!0),Ir.setValue(Ur,{value:vn(gn,!0),items:_n(gn)})},indices(gn){const In=new Set(gn.detail.indices);for(const Rn of gn.target.options)Rn.selected=In.has(Rn.index);Ir.setValue(Ur,{value:vn(gn,!0)})},editable(gn){gn.target.disabled=!gn.detail.editable}};this._dispatchEventFromSandbox(Pn,dn)}),Zr.addEventListener("input",dn=>{var In;const Pn=vn(dn,!0),gn=vn(dn,!1);Ir.setValue(Ur,{value:Pn}),(In=this.linkService.eventBus)==null||In.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ur,name:"Keystroke",value:gn,changeEx:Pn,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(Zr,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],dn=>dn.target.checked)):Zr.addEventListener("input",function(dn){Ir.setValue(Ur,{value:vn(dn,!0)})}),this.data.combo&&this._setTextStyle(Zr),this._setBackgroundColor(Zr),this._setDefaultPropertiesFromJS(Zr),this.container.append(Zr),this.container}}const Pr=class extends er{constructor(Ir){var Zr,tn,an;const{data:Ur}=Ir,Mr=!Pr.IGNORE_TYPES.has(Ur.parentType)&&!!(((Zr=Ur.titleObj)==null?void 0:Zr.str)||((tn=Ur.contentsObj)==null?void 0:tn.str)||((an=Ur.richText)==null?void 0:an.str));super(Ir,{isRenderable:Mr})}render(){this.container.className="popupAnnotation";const Ir=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(Ir.length===0)return this.container;const Ur=new _r({container:this.container,trigger:Array.from(Ir),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),Mr=this.page,Zr=_i.Util.normalizeRect([this.data.parentRect[0],Mr.view[3]-this.data.parentRect[1]+Mr.view[1],this.data.parentRect[2],Mr.view[3]-this.data.parentRect[3]+Mr.view[1]]),tn=Zr[0]+this.data.parentRect[2]-this.data.parentRect[0],an=Zr[1],[vn,_n,dn,Pn]=this.viewport.viewBox,gn=dn-vn,In=Pn-_n;return this.container.style.left=`${100*(tn-vn)/gn}%`,this.container.style.top=`${100*(an-_n)/In}%`,this.container.append(Ur.render()),this.container}};let br=Pr;Js(br,"IGNORE_TYPES",new Set(["Line","Square","Circle","PolyLine","Polygon","Ink"]));class _r{constructor(Ir){this.container=Ir.container,this.trigger=Ir.trigger,this.color=Ir.color,this.titleObj=Ir.titleObj,this.modificationDate=Ir.modificationDate,this.contentsObj=Ir.contentsObj,this.richText=Ir.richText,this.hideWrapper=Ir.hideWrapper||!1,this.pinned=!1}render(){var vn,_n;const Ur=document.createElement("div");Ur.className="popupWrapper",this.hideElement=this.hideWrapper?Ur:this.container,this.hideElement.hidden=!0;const Mr=document.createElement("div");Mr.className="popup";const Zr=this.color;if(Zr){const dn=.7*(255-Zr[0])+Zr[0],Pn=.7*(255-Zr[1])+Zr[1],gn=.7*(255-Zr[2])+Zr[2];Mr.style.backgroundColor=_i.Util.makeHexColor(dn|0,Pn|0,gn|0)}const tn=document.createElement("h1");tn.dir=this.titleObj.dir,tn.textContent=this.titleObj.str,Mr.append(tn);const an=ir.PDFDateString.toDateObject(this.modificationDate);if(an){const dn=document.createElement("span");dn.className="popupDate",dn.textContent="{{date}}, {{time}}",dn.dataset.l10nId="annotation_date_string",dn.dataset.l10nArgs=JSON.stringify({date:an.toLocaleDateString(),time:an.toLocaleTimeString()}),Mr.append(dn)}if(((vn=this.richText)==null?void 0:vn.str)&&(!((_n=this.contentsObj)!=null&&_n.str)||this.contentsObj.str===this.richText.str))cr.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:Mr}),Mr.lastChild.className="richText popupContent";else{const dn=this._formatContents(this.contentsObj);Mr.append(dn)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const dn of this.trigger)dn.addEventListener("click",this._toggle.bind(this)),dn.addEventListener("mouseover",this._show.bind(this,!1)),dn.addEventListener("mouseout",this._hide.bind(this,!1));return Mr.addEventListener("click",this._hide.bind(this,!0)),Ur.append(Mr),Ur}_formatContents({str:Ir,dir:Ur}){const Mr=document.createElement("p");Mr.className="popupContent",Mr.dir=Ur;const Zr=Ir.split(/(?:\r\n?|\n)/);for(let tn=0,an=Zr.length;tn<an;++tn){const vn=Zr[tn];Mr.append(document.createTextNode(vn)),tn<an-1&&Mr.append(document.createElement("br"))}return Mr}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(Ir=!1){Ir&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(Ir=!0){Ir&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class xr extends er{constructor(Ir){var Mr,Zr,tn;const Ur=!!(Ir.data.hasPopup||((Mr=Ir.data.titleObj)==null?void 0:Mr.str)||((Zr=Ir.data.contentsObj)==null?void 0:Zr.str)||((tn=Ir.data.richText)==null?void 0:tn.str));super(Ir,{isRenderable:Ur,ignoreBorder:!0}),this.textContent=Ir.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const Ir=document.createElement("div");Ir.className="annotationTextContent",Ir.setAttribute("role","comment");for(const Ur of this.textContent){const Mr=document.createElement("span");Mr.textContent=Ur,Ir.append(Mr)}this.container.append(Ir)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Nr extends er{constructor(Ir){var Mr,Zr,tn;const Ur=!!(Ir.data.hasPopup||((Mr=Ir.data.titleObj)==null?void 0:Mr.str)||((Zr=Ir.data.contentsObj)==null?void 0:Zr.str)||((tn=Ir.data.richText)==null?void 0:tn.str));super(Ir,{isRenderable:Ur,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const Ir=this.data,{width:Ur,height:Mr}=or(Ir.rect),Zr=this.svgFactory.create(Ur,Mr,!0),tn=this.svgFactory.createElement("svg:line");return tn.setAttribute("x1",Ir.rect[2]-Ir.lineCoordinates[0]),tn.setAttribute("y1",Ir.rect[3]-Ir.lineCoordinates[1]),tn.setAttribute("x2",Ir.rect[2]-Ir.lineCoordinates[2]),tn.setAttribute("y2",Ir.rect[3]-Ir.lineCoordinates[3]),tn.setAttribute("stroke-width",Ir.borderStyle.width||1),tn.setAttribute("stroke","transparent"),tn.setAttribute("fill","transparent"),Zr.append(tn),this.container.append(Zr),this._createPopup(tn,Ir),this.container}}class zr extends er{constructor(Ir){var Mr,Zr,tn;const Ur=!!(Ir.data.hasPopup||((Mr=Ir.data.titleObj)==null?void 0:Mr.str)||((Zr=Ir.data.contentsObj)==null?void 0:Zr.str)||((tn=Ir.data.richText)==null?void 0:tn.str));super(Ir,{isRenderable:Ur,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const Ir=this.data,{width:Ur,height:Mr}=or(Ir.rect),Zr=this.svgFactory.create(Ur,Mr,!0),tn=Ir.borderStyle.width,an=this.svgFactory.createElement("svg:rect");return an.setAttribute("x",tn/2),an.setAttribute("y",tn/2),an.setAttribute("width",Ur-tn),an.setAttribute("height",Mr-tn),an.setAttribute("stroke-width",tn||1),an.setAttribute("stroke","transparent"),an.setAttribute("fill","transparent"),Zr.append(an),this.container.append(Zr),this._createPopup(an,Ir),this.container}}class Tr extends er{constructor(Ir){var Mr,Zr,tn;const Ur=!!(Ir.data.hasPopup||((Mr=Ir.data.titleObj)==null?void 0:Mr.str)||((Zr=Ir.data.contentsObj)==null?void 0:Zr.str)||((tn=Ir.data.richText)==null?void 0:tn.str));super(Ir,{isRenderable:Ur,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const Ir=this.data,{width:Ur,height:Mr}=or(Ir.rect),Zr=this.svgFactory.create(Ur,Mr,!0),tn=Ir.borderStyle.width,an=this.svgFactory.createElement("svg:ellipse");return an.setAttribute("cx",Ur/2),an.setAttribute("cy",Mr/2),an.setAttribute("rx",Ur/2-tn/2),an.setAttribute("ry",Mr/2-tn/2),an.setAttribute("stroke-width",tn||1),an.setAttribute("stroke","transparent"),an.setAttribute("fill","transparent"),Zr.append(an),this.container.append(Zr),this._createPopup(an,Ir),this.container}}class Br extends er{constructor(Ir){var Mr,Zr,tn;const Ur=!!(Ir.data.hasPopup||((Mr=Ir.data.titleObj)==null?void 0:Mr.str)||((Zr=Ir.data.contentsObj)==null?void 0:Zr.str)||((tn=Ir.data.richText)==null?void 0:tn.str));super(Ir,{isRenderable:Ur,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const Ir=this.data,{width:Ur,height:Mr}=or(Ir.rect),Zr=this.svgFactory.create(Ur,Mr,!0);let tn=[];for(const vn of Ir.vertices){const _n=vn.x-Ir.rect[0],dn=Ir.rect[3]-vn.y;tn.push(_n+","+dn)}tn=tn.join(" ");const an=this.svgFactory.createElement(this.svgElementName);return an.setAttribute("points",tn),an.setAttribute("stroke-width",Ir.borderStyle.width||1),an.setAttribute("stroke","transparent"),an.setAttribute("fill","transparent"),Zr.append(an),this.container.append(Zr),this._createPopup(an,Ir),this.container}}class Jr extends Br{constructor(Ir){super(Ir),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Yr extends er{constructor(Ir){var Mr,Zr,tn;const Ur=!!(Ir.data.hasPopup||((Mr=Ir.data.titleObj)==null?void 0:Mr.str)||((Zr=Ir.data.contentsObj)==null?void 0:Zr.str)||((tn=Ir.data.richText)==null?void 0:tn.str));super(Ir,{isRenderable:Ur,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Xr extends er{constructor(Ir){var Mr,Zr,tn;const Ur=!!(Ir.data.hasPopup||((Mr=Ir.data.titleObj)==null?void 0:Mr.str)||((Zr=Ir.data.contentsObj)==null?void 0:Zr.str)||((tn=Ir.data.richText)==null?void 0:tn.str));super(Ir,{isRenderable:Ur,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const Ir=this.data,{width:Ur,height:Mr}=or(Ir.rect),Zr=this.svgFactory.create(Ur,Mr,!0);for(const tn of Ir.inkLists){let an=[];for(const _n of tn){const dn=_n.x-Ir.rect[0],Pn=Ir.rect[3]-_n.y;an.push(`${dn},${Pn}`)}an=an.join(" ");const vn=this.svgFactory.createElement(this.svgElementName);vn.setAttribute("points",an),vn.setAttribute("stroke-width",Ir.borderStyle.width||1),vn.setAttribute("stroke","transparent"),vn.setAttribute("fill","transparent"),this._createPopup(vn,Ir),Zr.append(vn)}return this.container.append(Zr),this.container}}class Vr extends er{constructor(Ir){var Mr,Zr,tn;const Ur=!!(Ir.data.hasPopup||((Mr=Ir.data.titleObj)==null?void 0:Mr.str)||((Zr=Ir.data.contentsObj)==null?void 0:Zr.str)||((tn=Ir.data.richText)==null?void 0:tn.str));super(Ir,{isRenderable:Ur,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class $r extends er{constructor(Ir){var Mr,Zr,tn;const Ur=!!(Ir.data.hasPopup||((Mr=Ir.data.titleObj)==null?void 0:Mr.str)||((Zr=Ir.data.contentsObj)==null?void 0:Zr.str)||((tn=Ir.data.richText)==null?void 0:tn.str));super(Ir,{isRenderable:Ur,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class Lr extends er{constructor(Ir){var Mr,Zr,tn;const Ur=!!(Ir.data.hasPopup||((Mr=Ir.data.titleObj)==null?void 0:Mr.str)||((Zr=Ir.data.contentsObj)==null?void 0:Zr.str)||((tn=Ir.data.richText)==null?void 0:tn.str));super(Ir,{isRenderable:Ur,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class Er extends er{constructor(Ir){var Mr,Zr,tn;const Ur=!!(Ir.data.hasPopup||((Mr=Ir.data.titleObj)==null?void 0:Mr.str)||((Zr=Ir.data.contentsObj)==null?void 0:Zr.str)||((tn=Ir.data.richText)==null?void 0:tn.str));super(Ir,{isRenderable:Ur,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class Hr extends er{constructor(Ir){var Mr,Zr,tn;const Ur=!!(Ir.data.hasPopup||((Mr=Ir.data.titleObj)==null?void 0:Mr.str)||((Zr=Ir.data.contentsObj)==null?void 0:Zr.str)||((tn=Ir.data.richText)==null?void 0:tn.str));super(Ir,{isRenderable:Ur,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Gr extends er{constructor(Ir){var Zr;super(Ir,{isRenderable:!0});const{filename:Ur,content:Mr}=this.data.file;this.filename=(0,ir.getFilenameFromUrl)(Ur),this.content=Mr,(Zr=this.linkService.eventBus)==null||Zr.dispatch("fileattachmentannotation",{source:this,filename:Ur,content:Mr})}render(){var Ur,Mr;this.container.className="fileAttachmentAnnotation";const Ir=document.createElement("div");return Ir.className="popupTriggerArea",Ir.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(((Ur=this.data.titleObj)==null?void 0:Ur.str)||((Mr=this.data.contentsObj)==null?void 0:Mr.str)||this.data.richText)&&this._createPopup(Ir,this.data),this.container.append(Ir),this.container}_download(){var Ir;(Ir=this.downloadManager)==null||Ir.openOrDownloadData(this.container,this.content,this.filename)}}const fn=class{static render(Ir){var vn,_n;const{annotations:Ur,div:Mr,viewport:Zr,accessibilityManager:tn}=Ir;Yn(this,Kr,Gm).call(this,Mr,Zr);let an=0;for(const dn of Ur){if(dn.annotationType!==_i.AnnotationType.POPUP){const{width:gn,height:In}=or(dn.rect);if(gn<=0||In<=0)continue}const Pn=nr.create({data:dn,layer:Mr,page:Ir.page,viewport:Zr,linkService:Ir.linkService,downloadManager:Ir.downloadManager,imageResourcesPath:Ir.imageResourcesPath||"",renderForms:Ir.renderForms!==!1,svgFactory:new ir.DOMSVGFactory,annotationStorage:Ir.annotationStorage||new rr.AnnotationStorage,enableScripting:Ir.enableScripting,hasJSActions:Ir.hasJSActions,fieldObjects:Ir.fieldObjects,mouseState:Ir.mouseState||{isDown:!1}});if(Pn.isRenderable){const gn=Pn.render();if(dn.hidden&&(gn.style.visibility="hidden"),Array.isArray(gn))for(const In of gn)In.style.zIndex=an++,Yn(vn=fn,jr,Wm).call(vn,In,dn.id,Mr,tn);else gn.style.zIndex=an++,Pn instanceof br?Mr.prepend(gn):Yn(_n=fn,jr,Wm).call(_n,gn,dn.id,Mr,tn)}}Yn(this,on,qm).call(this,Mr,Ir.annotationCanvasMap)}static update(Ir){const{annotationCanvasMap:Ur,div:Mr,viewport:Zr}=Ir;Yn(this,Kr,Gm).call(this,Mr,Zr),Yn(this,on,qm).call(this,Mr,Ur),Mr.hidden=!1}};let Cr=fn;jr=new WeakSet,Wm=function(Ir,Ur,Mr,Zr){const tn=Ir.firstChild||Ir;tn.id=`${ir.AnnotationPrefix}${Ur}`,Mr.append(Ir),Zr==null||Zr.moveElementInDOM(Mr,Ir,tn,!1)},Kr=new WeakSet,Gm=function(Ir,{width:Ur,height:Mr,rotation:Zr}){const{style:tn}=Ir,an=Zr%180!==0,vn=Math.floor(Ur)+"px",_n=Math.floor(Mr)+"px";tn.width=an?_n:vn,tn.height=an?vn:_n,Ir.setAttribute("data-main-rotation",Zr)},on=new WeakSet,qm=function(Ir,Ur){if(!!Ur){for(const[Mr,Zr]of Ur){const tn=Ir.querySelector(`[data-annotation-id="${Mr}"]`);if(!tn)continue;const{firstChild:an}=tn;an?an.nodeName==="CANVAS"?an.replaceWith(Zr):an.before(Zr):tn.append(Zr)}Ur.clear()}},Vn(Cr,jr),Vn(Cr,Kr),Vn(Cr,on),e.AnnotationLayer=Cr},(St,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ColorConverters=void 0;function _e(ir){return Math.floor(Math.max(0,Math.min(1,ir))*255).toString(16).padStart(2,"0")}class _i{static CMYK_G([rr,gr,cr,tr]){return["G",1-Math.min(1,.3*rr+.59*cr+.11*gr+tr)]}static G_CMYK([rr]){return["CMYK",0,0,0,1-rr]}static G_RGB([rr]){return["RGB",rr,rr,rr]}static G_HTML([rr]){const gr=_e(rr);return`#${gr}${gr}${gr}`}static RGB_G([rr,gr,cr]){return["G",.3*rr+.59*gr+.11*cr]}static RGB_HTML([rr,gr,cr]){const tr=_e(rr),hr=_e(gr),ur=_e(cr);return`#${tr}${hr}${ur}`}static T_HTML(){return"#00000000"}static CMYK_RGB([rr,gr,cr,tr]){return["RGB",1-Math.min(1,rr+tr),1-Math.min(1,cr+tr),1-Math.min(1,gr+tr)]}static CMYK_HTML(rr){const gr=this.CMYK_RGB(rr).slice(1);return this.RGB_HTML(gr)}static RGB_CMYK([rr,gr,cr]){const tr=1-rr,hr=1-gr,ur=1-cr,or=Math.min(tr,hr,ur);return["CMYK",tr,hr,ur,or]}}e.ColorConverters=_i},(St,e,_e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaLayer=void 0;var _i=_e(19);class ir{static setupStorage(gr,cr,tr,hr,ur){const or=hr.getValue(cr,{value:null});switch(tr.name){case"textarea":if(or.value!==null&&(gr.textContent=or.value),ur==="print")break;gr.addEventListener("input",nr=>{hr.setValue(cr,{value:nr.target.value})});break;case"input":if(tr.attributes.type==="radio"||tr.attributes.type==="checkbox"){if(or.value===tr.attributes.xfaOn?gr.setAttribute("checked",!0):or.value===tr.attributes.xfaOff&&gr.removeAttribute("checked"),ur==="print")break;gr.addEventListener("change",nr=>{hr.setValue(cr,{value:nr.target.checked?nr.target.getAttribute("xfaOn"):nr.target.getAttribute("xfaOff")})})}else{if(or.value!==null&&gr.setAttribute("value",or.value),ur==="print")break;gr.addEventListener("input",nr=>{hr.setValue(cr,{value:nr.target.value})})}break;case"select":if(or.value!==null)for(const nr of tr.children)nr.attributes.value===or.value&&(nr.attributes.selected=!0);gr.addEventListener("input",nr=>{const er=nr.target.options,ar=er.selectedIndex===-1?"":er[er.selectedIndex].value;hr.setValue(cr,{value:ar})});break}}static setAttributes({html:gr,element:cr,storage:tr=null,intent:hr,linkService:ur}){const{attributes:or}=cr,nr=gr instanceof HTMLAnchorElement;or.type==="radio"&&(or.name=`${or.name}-${hr}`);for(const[er,ar]of Object.entries(or))if(ar!=null)switch(er){case"class":ar.length&&gr.setAttribute(er,ar.join(" "));break;case"dataId":break;case"id":gr.setAttribute("data-element-id",ar);break;case"style":Object.assign(gr.style,ar);break;case"textContent":gr.textContent=ar;break;default:(!nr||er!=="href"&&er!=="newWindow")&&gr.setAttribute(er,ar)}nr&&ur.addLinkAttributes(gr,or.href,or.newWindow),tr&&or.dataId&&this.setupStorage(gr,or.dataId,cr,tr)}static render(gr){var dr;const cr=gr.annotationStorage,tr=gr.linkService,hr=gr.xfaHtml,ur=gr.intent||"display",or=document.createElement(hr.name);hr.attributes&&this.setAttributes({html:or,element:hr,intent:ur,linkService:tr});const nr=[[hr,-1,or]],er=gr.div;if(er.append(or),gr.viewport){const lr=`matrix(${gr.viewport.transform.join(",")})`;er.style.transform=lr}ur!=="richText"&&er.setAttribute("class","xfaLayer xfaFont");const ar=[];for(;nr.length>0;){const[lr,sr,pr]=nr.at(-1);if(sr+1===lr.children.length){nr.pop();continue}const mr=lr.children[++nr.at(-1)[1]];if(mr===null)continue;const{name:vr}=mr;if(vr==="#text"){const br=document.createTextNode(mr.value);ar.push(br),pr.append(br);continue}let yr;if((dr=mr==null?void 0:mr.attributes)!=null&&dr.xmlns?yr=document.createElementNS(mr.attributes.xmlns,vr):yr=document.createElement(vr),pr.append(yr),mr.attributes&&this.setAttributes({html:yr,element:mr,storage:cr,intent:ur,linkService:tr}),mr.children&&mr.children.length>0)nr.push([mr,-1,yr]);else if(mr.value){const br=document.createTextNode(mr.value);_i.XfaText.shouldBuildText(vr)&&ar.push(br),yr.append(br)}}for(const lr of er.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))lr.setAttribute("readOnly",!0);return{textDivs:ar}}static update(gr){const cr=`matrix(${gr.viewport.transform.join(",")})`;gr.div.style.transform=cr,gr.div.hidden=!1}}e.XfaLayer=ir},(St,e,_e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextLayerRenderTask=void 0,e.renderTextLayer=nr;var _i=_e(1);const ir=1e5,rr=30,gr=.8,cr=new Map;function tr(er,ar){const dr=cr.get(er);if(dr)return dr;ar.save(),ar.font=`${rr}px ${er}`;const lr=ar.measureText("");let sr=lr.fontBoundingBoxAscent,pr=Math.abs(lr.fontBoundingBoxDescent);if(sr){ar.restore();const vr=sr/(sr+pr);return cr.set(er,vr),vr}ar.strokeStyle="red",ar.clearRect(0,0,rr,rr),ar.strokeText("g",0,0);let mr=ar.getImageData(0,0,rr,rr).data;pr=0;for(let vr=mr.length-1-3;vr>=0;vr-=4)if(mr[vr]>0){pr=Math.ceil(vr/4/rr);break}ar.clearRect(0,0,rr,rr),ar.strokeText("A",0,rr),mr=ar.getImageData(0,0,rr,rr).data,sr=0;for(let vr=0,yr=mr.length;vr<yr;vr+=4)if(mr[vr]>0){sr=rr-Math.floor(vr/4/rr);break}if(ar.restore(),sr){const vr=sr/(sr+pr);return cr.set(er,vr),vr}return cr.set(er,gr),gr}function hr(er,ar,dr,lr){const sr=document.createElement("span"),pr={angle:0,canvasWidth:0,hasText:ar.str!=="",hasEOL:ar.hasEOL,fontSize:0};er._textDivs.push(sr);const mr=_i.Util.transform(er._viewport.transform,ar.transform);let vr=Math.atan2(mr[1],mr[0]);const yr=dr[ar.fontName];yr.vertical&&(vr+=Math.PI/2);const br=Math.hypot(mr[2],mr[3]),_r=br*tr(yr.fontFamily,lr);let xr,Nr;vr===0?(xr=mr[4],Nr=mr[5]-_r):(xr=mr[4]+_r*Math.sin(vr),Nr=mr[5]-_r*Math.cos(vr)),sr.style.left=`${xr}px`,sr.style.top=`${Nr}px`,sr.style.fontSize=`${br}px`,sr.style.fontFamily=yr.fontFamily,pr.fontSize=br,sr.setAttribute("role","presentation"),sr.textContent=ar.str,sr.dir=ar.dir,er._fontInspectorEnabled&&(sr.dataset.fontName=ar.fontName),vr!==0&&(pr.angle=vr*(180/Math.PI));let zr=!1;if(ar.str.length>1)zr=!0;else if(ar.str!==" "&&ar.transform[0]!==ar.transform[3]){const Tr=Math.abs(ar.transform[0]),Br=Math.abs(ar.transform[3]);Tr!==Br&&Math.max(Tr,Br)/Math.min(Tr,Br)>1.5&&(zr=!0)}zr&&(yr.vertical?pr.canvasWidth=ar.height*er._viewport.scale:pr.canvasWidth=ar.width*er._viewport.scale),er._textDivProperties.set(sr,pr),er._textContentStream&&er._layoutText(sr)}function ur(er){if(er._canceled)return;const ar=er._textDivs,dr=er._capability;if(ar.length>ir){er._renderingDone=!0,dr.resolve();return}if(!er._textContentStream)for(const sr of ar)er._layoutText(sr);er._renderingDone=!0,dr.resolve()}class or{constructor({textContent:ar,textContentStream:dr,container:lr,viewport:sr,textDivs:pr,textContentItemsStr:mr}){var vr;this._textContent=ar,this._textContentStream=dr,this._container=lr,this._document=lr.ownerDocument,this._viewport=sr,this._textDivs=pr||[],this._textContentItemsStr=mr||[],this._fontInspectorEnabled=!!((vr=globalThis.FontInspector)!=null&&vr.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,_i.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._devicePixelRatio=globalThis.devicePixelRatio||1,this._capability.promise.finally(()=>{this._textDivProperties=null,this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new _i.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._renderTimer!==null&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(ar,dr){for(const lr of ar){if(lr.str===void 0){if(lr.type==="beginMarkedContentProps"||lr.type==="beginMarkedContent"){const sr=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),lr.id!==null&&this._container.setAttribute("id",`${lr.id}`),sr.append(this._container)}else lr.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(lr.str),hr(this,lr,dr,this._layoutTextCtx)}}_layoutText(ar){const dr=this._textDivProperties.get(ar);let lr="";if(dr.canvasWidth!==0&&dr.hasText){const{fontFamily:sr}=ar.style,{fontSize:pr}=dr;(pr!==this._layoutTextLastFontSize||sr!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${pr*this._devicePixelRatio}px ${sr}`,this._layoutTextLastFontSize=pr,this._layoutTextLastFontFamily=sr);const{width:mr}=this._layoutTextCtx.measureText(ar.textContent);mr>0&&(lr=`scaleX(${this._devicePixelRatio*dr.canvasWidth/mr})`)}if(dr.angle!==0&&(lr=`rotate(${dr.angle}deg) ${lr}`),lr.length>0&&(ar.style.transform=lr),dr.hasText&&this._container.append(ar),dr.hasEOL){const sr=document.createElement("br");sr.setAttribute("role","presentation"),this._container.append(sr)}}_render(ar=0){const dr=(0,_i.createPromiseCapability)();let lr=Object.create(null);const sr=this._document.createElement("canvas");if(sr.height=sr.width=rr,this._layoutTextCtx=sr.getContext("2d",{alpha:!1}),this._textContent){const pr=this._textContent.items,mr=this._textContent.styles;this._processItems(pr,mr),dr.resolve()}else if(this._textContentStream){const pr=()=>{this._reader.read().then(({value:mr,done:vr})=>{if(vr){dr.resolve();return}Object.assign(lr,mr.styles),this._processItems(mr.items,lr),pr()},dr.reject)};this._reader=this._textContentStream.getReader(),pr()}else throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');dr.promise.then(()=>{lr=null,ar?this._renderTimer=setTimeout(()=>{ur(this),this._renderTimer=null},ar):ur(this)},this._capability.reject)}}e.TextLayerRenderTask=or;function nr(er){const ar=new or({textContent:er.textContent,textContentStream:er.textContentStream,container:er.container,viewport:er.viewport,textDivs:er.textDivs,textContentItemsStr:er.textContentItemsStr});return ar._render(er.timeout),ar}},(St,e,_e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SVGGraphics=void 0;var _i=_e(6),ir=_e(1),rr=_e(12);let gr=class{constructor(){(0,ir.unreachable)("Not implemented: SVGGraphics")}};e.SVGGraphics=gr;{let dr=function(yr){let br=[];const _r=[];for(const xr of yr){if(xr.fn==="save"){br.push({fnId:92,fn:"group",items:[]}),_r.push(br),br=br.at(-1).items;continue}xr.fn==="restore"?br=_r.pop():br.push(xr)}return br},lr=function(yr){if(Number.isInteger(yr))return yr.toString();const br=yr.toFixed(10);let _r=br.length-1;if(br[_r]!=="0")return br;do _r--;while(br[_r]==="0");return br.substring(0,br[_r]==="."?_r:_r+1)},sr=function(yr){if(yr[4]===0&&yr[5]===0){if(yr[1]===0&&yr[2]===0)return yr[0]===1&&yr[3]===1?"":`scale(${lr(yr[0])} ${lr(yr[3])})`;if(yr[0]===yr[3]&&yr[1]===-yr[2]){const br=Math.acos(yr[0])*180/Math.PI;return`rotate(${lr(br)})`}}else if(yr[0]===1&&yr[1]===0&&yr[2]===0&&yr[3]===1)return`translate(${lr(yr[4])} ${lr(yr[5])})`;return`matrix(${lr(yr[0])} ${lr(yr[1])} ${lr(yr[2])} ${lr(yr[3])} ${lr(yr[4])} ${lr(yr[5])})`};const cr={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},tr="http://www.w3.org/XML/1998/namespace",hr="http://www.w3.org/1999/xlink",ur=["butt","round","square"],or=["miter","round","bevel"],nr=function(yr,br="",_r=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!_r)return URL.createObjectURL(new Blob([yr],{type:br}));const xr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let Nr=`data:${br};base64,`;for(let zr=0,Tr=yr.length;zr<Tr;zr+=3){const Br=yr[zr]&255,Jr=yr[zr+1]&255,Yr=yr[zr+2]&255,Xr=Br>>2,Vr=(Br&3)<<4|Jr>>4,$r=zr+1<Tr?(Jr&15)<<2|Yr>>6:64,Lr=zr+2<Tr?Yr&63:64;Nr+=xr[Xr]+xr[Vr]+xr[$r]+xr[Lr]}return Nr},er=function(){const yr=new Uint8Array([137,80,78,71,13,10,26,10]),br=12,_r=new Int32Array(256);for(let Yr=0;Yr<256;Yr++){let Xr=Yr;for(let Vr=0;Vr<8;Vr++)Xr&1?Xr=3988292384^Xr>>1&2147483647:Xr=Xr>>1&2147483647;_r[Yr]=Xr}function xr(Yr,Xr,Vr){let $r=-1;for(let Lr=Xr;Lr<Vr;Lr++){const Er=($r^Yr[Lr])&255,Hr=_r[Er];$r=$r>>>8^Hr}return $r^-1}function Nr(Yr,Xr,Vr,$r){let Lr=$r;const Er=Xr.length;Vr[Lr]=Er>>24&255,Vr[Lr+1]=Er>>16&255,Vr[Lr+2]=Er>>8&255,Vr[Lr+3]=Er&255,Lr+=4,Vr[Lr]=Yr.charCodeAt(0)&255,Vr[Lr+1]=Yr.charCodeAt(1)&255,Vr[Lr+2]=Yr.charCodeAt(2)&255,Vr[Lr+3]=Yr.charCodeAt(3)&255,Lr+=4,Vr.set(Xr,Lr),Lr+=Xr.length;const Hr=xr(Vr,$r+4,Lr);Vr[Lr]=Hr>>24&255,Vr[Lr+1]=Hr>>16&255,Vr[Lr+2]=Hr>>8&255,Vr[Lr+3]=Hr&255}function zr(Yr,Xr,Vr){let $r=1,Lr=0;for(let Er=Xr;Er<Vr;++Er)$r=($r+(Yr[Er]&255))%65521,Lr=(Lr+$r)%65521;return Lr<<16|$r}function Tr(Yr){if(!rr.isNodeJS)return Br(Yr);try{let Xr;parseInt(process.versions.node)>=8?Xr=Yr:Xr=Buffer.from(Yr);const Vr=require$$2.deflateSync(Xr,{level:9});return Vr instanceof Uint8Array?Vr:new Uint8Array(Vr)}catch(Xr){(0,ir.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Xr)}return Br(Yr)}function Br(Yr){let Xr=Yr.length;const Vr=65535,$r=Math.ceil(Xr/Vr),Lr=new Uint8Array(2+Xr+$r*5+4);let Er=0;Lr[Er++]=120,Lr[Er++]=156;let Hr=0;for(;Xr>Vr;)Lr[Er++]=0,Lr[Er++]=255,Lr[Er++]=255,Lr[Er++]=0,Lr[Er++]=0,Lr.set(Yr.subarray(Hr,Hr+Vr),Er),Er+=Vr,Hr+=Vr,Xr-=Vr;Lr[Er++]=1,Lr[Er++]=Xr&255,Lr[Er++]=Xr>>8&255,Lr[Er++]=~Xr&65535&255,Lr[Er++]=(~Xr&65535)>>8&255,Lr.set(Yr.subarray(Hr),Er),Er+=Yr.length-Hr;const Gr=zr(Yr,0,Yr.length);return Lr[Er++]=Gr>>24&255,Lr[Er++]=Gr>>16&255,Lr[Er++]=Gr>>8&255,Lr[Er++]=Gr&255,Lr}function Jr(Yr,Xr,Vr,$r){const Lr=Yr.width,Er=Yr.height;let Hr,Gr,Cr;const kr=Yr.data;switch(Xr){case ir.ImageKind.GRAYSCALE_1BPP:Gr=0,Hr=1,Cr=Lr+7>>3;break;case ir.ImageKind.RGB_24BPP:Gr=2,Hr=8,Cr=Lr*3;break;case ir.ImageKind.RGBA_32BPP:Gr=6,Hr=8,Cr=Lr*4;break;default:throw new Error("invalid format")}const Sr=new Uint8Array((1+Cr)*Er);let Pr=0,jr=0;for(let fn=0;fn<Er;++fn)Sr[Pr++]=0,Sr.set(kr.subarray(jr,jr+Cr),Pr),jr+=Cr,Pr+=Cr;if(Xr===ir.ImageKind.GRAYSCALE_1BPP&&$r){Pr=0;for(let fn=0;fn<Er;fn++){Pr++;for(let en=0;en<Cr;en++)Sr[Pr++]^=255}}const Wr=new Uint8Array([Lr>>24&255,Lr>>16&255,Lr>>8&255,Lr&255,Er>>24&255,Er>>16&255,Er>>8&255,Er&255,Hr,Gr,0,0,0]),Kr=Tr(Sr),Qr=yr.length+br*3+Wr.length+Kr.length,on=new Uint8Array(Qr);let pn=0;return on.set(yr,pn),pn+=yr.length,Nr("IHDR",Wr,on,pn),pn+=br+Wr.length,Nr("IDATA",Kr,on,pn),pn+=br+Kr.length,Nr("IEND",new Uint8Array(0),on,pn),nr(on,"image/png",Vr)}return function(Xr,Vr,$r){const Lr=Xr.kind===void 0?ir.ImageKind.GRAYSCALE_1BPP:Xr.kind;return Jr(Xr,Lr,Vr,$r)}}();class ar{constructor(){this.fontSizeScale=1,this.fontWeight=cr.fontWeight,this.fontSize=0,this.textMatrix=ir.IDENTITY_MATRIX,this.fontMatrix=ir.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=ir.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=cr.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(br,_r){this.x=br,this.y=_r}}let pr=0,mr=0,vr=0;e.SVGGraphics=gr=class{constructor(yr,br,_r=!1){(0,_i.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new _i.DOMSVGFactory,this.current=new ar,this.transformMatrix=ir.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=yr,this.objs=br,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!_r,this._operatorIdMapping=[];for(const xr in ir.OPS)this._operatorIdMapping[ir.OPS[xr]]=xr}getObject(yr,br=null){return typeof yr=="string"?yr.startsWith("g_")?this.commonObjs.get(yr):this.objs.get(yr):br}save(){this.transformStack.push(this.transformMatrix);const yr=this.current;this.extraStack.push(yr),this.current=yr.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(yr){this.save(),this.executeOpTree(yr),this.restore()}loadDependencies(yr){const br=yr.fnArray,_r=yr.argsArray;for(let xr=0,Nr=br.length;xr<Nr;xr++)if(br[xr]===ir.OPS.dependency)for(const zr of _r[xr]){const Tr=zr.startsWith("g_")?this.commonObjs:this.objs,Br=new Promise(Jr=>{Tr.get(zr,Jr)});this.current.dependencies.push(Br)}return Promise.all(this.current.dependencies)}transform(yr,br,_r,xr,Nr,zr){const Tr=[yr,br,_r,xr,Nr,zr];this.transformMatrix=ir.Util.transform(this.transformMatrix,Tr),this.tgrp=null}getSVG(yr,br){this.viewport=br;const _r=this._initialize(br);return this.loadDependencies(yr).then(()=>(this.transformMatrix=ir.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(yr)),_r))}convertOpList(yr){const br=this._operatorIdMapping,_r=yr.argsArray,xr=yr.fnArray,Nr=[];for(let zr=0,Tr=xr.length;zr<Tr;zr++){const Br=xr[zr];Nr.push({fnId:Br,fn:br[Br],args:_r[zr]})}return dr(Nr)}executeOpTree(yr){for(const br of yr){const _r=br.fn,xr=br.fnId,Nr=br.args;switch(xr|0){case ir.OPS.beginText:this.beginText();break;case ir.OPS.dependency:break;case ir.OPS.setLeading:this.setLeading(Nr);break;case ir.OPS.setLeadingMoveText:this.setLeadingMoveText(Nr[0],Nr[1]);break;case ir.OPS.setFont:this.setFont(Nr);break;case ir.OPS.showText:this.showText(Nr[0]);break;case ir.OPS.showSpacedText:this.showText(Nr[0]);break;case ir.OPS.endText:this.endText();break;case ir.OPS.moveText:this.moveText(Nr[0],Nr[1]);break;case ir.OPS.setCharSpacing:this.setCharSpacing(Nr[0]);break;case ir.OPS.setWordSpacing:this.setWordSpacing(Nr[0]);break;case ir.OPS.setHScale:this.setHScale(Nr[0]);break;case ir.OPS.setTextMatrix:this.setTextMatrix(Nr[0],Nr[1],Nr[2],Nr[3],Nr[4],Nr[5]);break;case ir.OPS.setTextRise:this.setTextRise(Nr[0]);break;case ir.OPS.setTextRenderingMode:this.setTextRenderingMode(Nr[0]);break;case ir.OPS.setLineWidth:this.setLineWidth(Nr[0]);break;case ir.OPS.setLineJoin:this.setLineJoin(Nr[0]);break;case ir.OPS.setLineCap:this.setLineCap(Nr[0]);break;case ir.OPS.setMiterLimit:this.setMiterLimit(Nr[0]);break;case ir.OPS.setFillRGBColor:this.setFillRGBColor(Nr[0],Nr[1],Nr[2]);break;case ir.OPS.setStrokeRGBColor:this.setStrokeRGBColor(Nr[0],Nr[1],Nr[2]);break;case ir.OPS.setStrokeColorN:this.setStrokeColorN(Nr);break;case ir.OPS.setFillColorN:this.setFillColorN(Nr);break;case ir.OPS.shadingFill:this.shadingFill(Nr[0]);break;case ir.OPS.setDash:this.setDash(Nr[0],Nr[1]);break;case ir.OPS.setRenderingIntent:this.setRenderingIntent(Nr[0]);break;case ir.OPS.setFlatness:this.setFlatness(Nr[0]);break;case ir.OPS.setGState:this.setGState(Nr[0]);break;case ir.OPS.fill:this.fill();break;case ir.OPS.eoFill:this.eoFill();break;case ir.OPS.stroke:this.stroke();break;case ir.OPS.fillStroke:this.fillStroke();break;case ir.OPS.eoFillStroke:this.eoFillStroke();break;case ir.OPS.clip:this.clip("nonzero");break;case ir.OPS.eoClip:this.clip("evenodd");break;case ir.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case ir.OPS.paintImageXObject:this.paintImageXObject(Nr[0]);break;case ir.OPS.paintInlineImageXObject:this.paintInlineImageXObject(Nr[0]);break;case ir.OPS.paintImageMaskXObject:this.paintImageMaskXObject(Nr[0]);break;case ir.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(Nr[0],Nr[1]);break;case ir.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case ir.OPS.closePath:this.closePath();break;case ir.OPS.closeStroke:this.closeStroke();break;case ir.OPS.closeFillStroke:this.closeFillStroke();break;case ir.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case ir.OPS.nextLine:this.nextLine();break;case ir.OPS.transform:this.transform(Nr[0],Nr[1],Nr[2],Nr[3],Nr[4],Nr[5]);break;case ir.OPS.constructPath:this.constructPath(Nr[0],Nr[1]);break;case ir.OPS.endPath:this.endPath();break;case 92:this.group(br.items);break;default:(0,ir.warn)(`Unimplemented operator ${_r}`);break}}}setWordSpacing(yr){this.current.wordSpacing=yr}setCharSpacing(yr){this.current.charSpacing=yr}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(yr,br,_r,xr,Nr,zr){const Tr=this.current;Tr.textMatrix=Tr.lineMatrix=[yr,br,_r,xr,Nr,zr],Tr.textMatrixScale=Math.hypot(yr,br),Tr.x=Tr.lineX=0,Tr.y=Tr.lineY=0,Tr.xcoords=[],Tr.ycoords=[],Tr.tspan=this.svgFactory.createElement("svg:tspan"),Tr.tspan.setAttributeNS(null,"font-family",Tr.fontFamily),Tr.tspan.setAttributeNS(null,"font-size",`${lr(Tr.fontSize)}px`),Tr.tspan.setAttributeNS(null,"y",lr(-Tr.y)),Tr.txtElement=this.svgFactory.createElement("svg:text"),Tr.txtElement.append(Tr.tspan)}beginText(){const yr=this.current;yr.x=yr.lineX=0,yr.y=yr.lineY=0,yr.textMatrix=ir.IDENTITY_MATRIX,yr.lineMatrix=ir.IDENTITY_MATRIX,yr.textMatrixScale=1,yr.tspan=this.svgFactory.createElement("svg:tspan"),yr.txtElement=this.svgFactory.createElement("svg:text"),yr.txtgrp=this.svgFactory.createElement("svg:g"),yr.xcoords=[],yr.ycoords=[]}moveText(yr,br){const _r=this.current;_r.x=_r.lineX+=yr,_r.y=_r.lineY+=br,_r.xcoords=[],_r.ycoords=[],_r.tspan=this.svgFactory.createElement("svg:tspan"),_r.tspan.setAttributeNS(null,"font-family",_r.fontFamily),_r.tspan.setAttributeNS(null,"font-size",`${lr(_r.fontSize)}px`),_r.tspan.setAttributeNS(null,"y",lr(-_r.y))}showText(yr){const br=this.current,_r=br.font,xr=br.fontSize;if(xr===0)return;const Nr=br.fontSizeScale,zr=br.charSpacing,Tr=br.wordSpacing,Br=br.fontDirection,Jr=br.textHScale*Br,Yr=_r.vertical,Xr=Yr?1:-1,Vr=_r.defaultVMetrics,$r=xr*br.fontMatrix[0];let Lr=0;for(const Gr of yr){if(Gr===null){Lr+=Br*Tr;continue}else if(typeof Gr=="number"){Lr+=Xr*Gr*xr/1e3;continue}const Cr=(Gr.isSpace?Tr:0)+zr,kr=Gr.fontChar;let Sr,Pr,jr=Gr.width;if(Yr){let Kr;const Qr=Gr.vmetric||Vr;Kr=Gr.vmetric?Qr[1]:jr*.5,Kr=-Kr*$r;const on=Qr[2]*$r;jr=Qr?-Qr[0]:jr,Sr=Kr/Nr,Pr=(Lr+on)/Nr}else Sr=Lr/Nr,Pr=0;(Gr.isInFont||_r.missingFile)&&(br.xcoords.push(br.x+Sr),Yr&&br.ycoords.push(-br.y+Pr),br.tspan.textContent+=kr);let Wr;Yr?Wr=jr*$r-Cr*Br:Wr=jr*$r+Cr*Br,Lr+=Wr}br.tspan.setAttributeNS(null,"x",br.xcoords.map(lr).join(" ")),Yr?br.tspan.setAttributeNS(null,"y",br.ycoords.map(lr).join(" ")):br.tspan.setAttributeNS(null,"y",lr(-br.y)),Yr?br.y-=Lr:br.x+=Lr*Jr,br.tspan.setAttributeNS(null,"font-family",br.fontFamily),br.tspan.setAttributeNS(null,"font-size",`${lr(br.fontSize)}px`),br.fontStyle!==cr.fontStyle&&br.tspan.setAttributeNS(null,"font-style",br.fontStyle),br.fontWeight!==cr.fontWeight&&br.tspan.setAttributeNS(null,"font-weight",br.fontWeight);const Er=br.textRenderingMode&ir.TextRenderingMode.FILL_STROKE_MASK;if(Er===ir.TextRenderingMode.FILL||Er===ir.TextRenderingMode.FILL_STROKE?(br.fillColor!==cr.fillColor&&br.tspan.setAttributeNS(null,"fill",br.fillColor),br.fillAlpha<1&&br.tspan.setAttributeNS(null,"fill-opacity",br.fillAlpha)):br.textRenderingMode===ir.TextRenderingMode.ADD_TO_PATH?br.tspan.setAttributeNS(null,"fill","transparent"):br.tspan.setAttributeNS(null,"fill","none"),Er===ir.TextRenderingMode.STROKE||Er===ir.TextRenderingMode.FILL_STROKE){const Gr=1/(br.textMatrixScale||1);this._setStrokeAttributes(br.tspan,Gr)}let Hr=br.textMatrix;br.textRise!==0&&(Hr=Hr.slice(),Hr[5]+=br.textRise),br.txtElement.setAttributeNS(null,"transform",`${sr(Hr)} scale(${lr(Jr)}, -1)`),br.txtElement.setAttributeNS(tr,"xml:space","preserve"),br.txtElement.append(br.tspan),br.txtgrp.append(br.txtElement),this._ensureTransformGroup().append(br.txtElement)}setLeadingMoveText(yr,br){this.setLeading(-br),this.moveText(yr,br)}addFontStyle(yr){if(!yr.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const br=nr(yr.data,yr.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${yr.loadedName}"; src: url(${br}); }
`}setFont(yr){const br=this.current,_r=this.commonObjs.get(yr[0]);let xr=yr[1];br.font=_r,this.embedFonts&&!_r.missingFile&&!this.embeddedFonts[_r.loadedName]&&(this.addFontStyle(_r),this.embeddedFonts[_r.loadedName]=_r),br.fontMatrix=_r.fontMatrix||ir.FONT_IDENTITY_MATRIX;let Nr="normal";_r.black?Nr="900":_r.bold&&(Nr="bold");const zr=_r.italic?"italic":"normal";xr<0?(xr=-xr,br.fontDirection=-1):br.fontDirection=1,br.fontSize=xr,br.fontFamily=_r.loadedName,br.fontWeight=Nr,br.fontStyle=zr,br.tspan=this.svgFactory.createElement("svg:tspan"),br.tspan.setAttributeNS(null,"y",lr(-br.y)),br.xcoords=[],br.ycoords=[]}endText(){var br;const yr=this.current;yr.textRenderingMode&ir.TextRenderingMode.ADD_TO_PATH_FLAG&&((br=yr.txtElement)==null?void 0:br.hasChildNodes())&&(yr.element=yr.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(yr){yr>0&&(this.current.lineWidth=yr)}setLineCap(yr){this.current.lineCap=ur[yr]}setLineJoin(yr){this.current.lineJoin=or[yr]}setMiterLimit(yr){this.current.miterLimit=yr}setStrokeAlpha(yr){this.current.strokeAlpha=yr}setStrokeRGBColor(yr,br,_r){this.current.strokeColor=ir.Util.makeHexColor(yr,br,_r)}setFillAlpha(yr){this.current.fillAlpha=yr}setFillRGBColor(yr,br,_r){this.current.fillColor=ir.Util.makeHexColor(yr,br,_r),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(yr){this.current.strokeColor=this._makeColorN_Pattern(yr)}setFillColorN(yr){this.current.fillColor=this._makeColorN_Pattern(yr)}shadingFill(yr){const br=this.viewport.width,_r=this.viewport.height,xr=ir.Util.inverseTransform(this.transformMatrix),Nr=ir.Util.applyTransform([0,0],xr),zr=ir.Util.applyTransform([0,_r],xr),Tr=ir.Util.applyTransform([br,0],xr),Br=ir.Util.applyTransform([br,_r],xr),Jr=Math.min(Nr[0],zr[0],Tr[0],Br[0]),Yr=Math.min(Nr[1],zr[1],Tr[1],Br[1]),Xr=Math.max(Nr[0],zr[0],Tr[0],Br[0]),Vr=Math.max(Nr[1],zr[1],Tr[1],Br[1]),$r=this.svgFactory.createElement("svg:rect");$r.setAttributeNS(null,"x",Jr),$r.setAttributeNS(null,"y",Yr),$r.setAttributeNS(null,"width",Xr-Jr),$r.setAttributeNS(null,"height",Vr-Yr),$r.setAttributeNS(null,"fill",this._makeShadingPattern(yr)),this.current.fillAlpha<1&&$r.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append($r)}_makeColorN_Pattern(yr){return yr[0]==="TilingPattern"?this._makeTilingPattern(yr):this._makeShadingPattern(yr)}_makeTilingPattern(yr){const br=yr[1],_r=yr[2],xr=yr[3]||ir.IDENTITY_MATRIX,[Nr,zr,Tr,Br]=yr[4],Jr=yr[5],Yr=yr[6],Xr=yr[7],Vr=`shading${vr++}`,[$r,Lr,Er,Hr]=ir.Util.normalizeRect([...ir.Util.applyTransform([Nr,zr],xr),...ir.Util.applyTransform([Tr,Br],xr)]),[Gr,Cr]=ir.Util.singularValueDecompose2dScale(xr),kr=Jr*Gr,Sr=Yr*Cr,Pr=this.svgFactory.createElement("svg:pattern");Pr.setAttributeNS(null,"id",Vr),Pr.setAttributeNS(null,"patternUnits","userSpaceOnUse"),Pr.setAttributeNS(null,"width",kr),Pr.setAttributeNS(null,"height",Sr),Pr.setAttributeNS(null,"x",`${$r}`),Pr.setAttributeNS(null,"y",`${Lr}`);const jr=this.svg,Wr=this.transformMatrix,Kr=this.current.fillColor,Qr=this.current.strokeColor,on=this.svgFactory.create(Er-$r,Hr-Lr);if(this.svg=on,this.transformMatrix=xr,Xr===2){const pn=ir.Util.makeHexColor(...br);this.current.fillColor=pn,this.current.strokeColor=pn}return this.executeOpTree(this.convertOpList(_r)),this.svg=jr,this.transformMatrix=Wr,this.current.fillColor=Kr,this.current.strokeColor=Qr,Pr.append(on.childNodes[0]),this.defs.append(Pr),`url(#${Vr})`}_makeShadingPattern(yr){switch(typeof yr=="string"&&(yr=this.objs.get(yr)),yr[0]){case"RadialAxial":const br=`shading${vr++}`,_r=yr[3];let xr;switch(yr[1]){case"axial":const Nr=yr[4],zr=yr[5];xr=this.svgFactory.createElement("svg:linearGradient"),xr.setAttributeNS(null,"id",br),xr.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),xr.setAttributeNS(null,"x1",Nr[0]),xr.setAttributeNS(null,"y1",Nr[1]),xr.setAttributeNS(null,"x2",zr[0]),xr.setAttributeNS(null,"y2",zr[1]);break;case"radial":const Tr=yr[4],Br=yr[5],Jr=yr[6],Yr=yr[7];xr=this.svgFactory.createElement("svg:radialGradient"),xr.setAttributeNS(null,"id",br),xr.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),xr.setAttributeNS(null,"cx",Br[0]),xr.setAttributeNS(null,"cy",Br[1]),xr.setAttributeNS(null,"r",Yr),xr.setAttributeNS(null,"fx",Tr[0]),xr.setAttributeNS(null,"fy",Tr[1]),xr.setAttributeNS(null,"fr",Jr);break;default:throw new Error(`Unknown RadialAxial type: ${yr[1]}`)}for(const Nr of _r){const zr=this.svgFactory.createElement("svg:stop");zr.setAttributeNS(null,"offset",Nr[0]),zr.setAttributeNS(null,"stop-color",Nr[1]),xr.append(zr)}return this.defs.append(xr),`url(#${br})`;case"Mesh":return(0,ir.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${yr[0]}`)}}setDash(yr,br){this.current.dashArray=yr,this.current.dashPhase=br}constructPath(yr,br){const _r=this.current;let xr=_r.x,Nr=_r.y,zr=[],Tr=0;for(const Br of yr)switch(Br|0){case ir.OPS.rectangle:xr=br[Tr++],Nr=br[Tr++];const Jr=br[Tr++],Yr=br[Tr++],Xr=xr+Jr,Vr=Nr+Yr;zr.push("M",lr(xr),lr(Nr),"L",lr(Xr),lr(Nr),"L",lr(Xr),lr(Vr),"L",lr(xr),lr(Vr),"Z");break;case ir.OPS.moveTo:xr=br[Tr++],Nr=br[Tr++],zr.push("M",lr(xr),lr(Nr));break;case ir.OPS.lineTo:xr=br[Tr++],Nr=br[Tr++],zr.push("L",lr(xr),lr(Nr));break;case ir.OPS.curveTo:xr=br[Tr+4],Nr=br[Tr+5],zr.push("C",lr(br[Tr]),lr(br[Tr+1]),lr(br[Tr+2]),lr(br[Tr+3]),lr(xr),lr(Nr)),Tr+=6;break;case ir.OPS.curveTo2:zr.push("C",lr(xr),lr(Nr),lr(br[Tr]),lr(br[Tr+1]),lr(br[Tr+2]),lr(br[Tr+3])),xr=br[Tr+2],Nr=br[Tr+3],Tr+=4;break;case ir.OPS.curveTo3:xr=br[Tr+2],Nr=br[Tr+3],zr.push("C",lr(br[Tr]),lr(br[Tr+1]),lr(xr),lr(Nr),lr(xr),lr(Nr)),Tr+=4;break;case ir.OPS.closePath:zr.push("Z");break}zr=zr.join(" "),_r.path&&yr.length>0&&yr[0]!==ir.OPS.rectangle&&yr[0]!==ir.OPS.moveTo?zr=_r.path.getAttributeNS(null,"d")+zr:(_r.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(_r.path)),_r.path.setAttributeNS(null,"d",zr),_r.path.setAttributeNS(null,"fill","none"),_r.element=_r.path,_r.setCurrentPoint(xr,Nr)}endPath(){const yr=this.current;if(yr.path=null,!this.pendingClip)return;if(!yr.element){this.pendingClip=null;return}const br=`clippath${pr++}`,_r=this.svgFactory.createElement("svg:clipPath");_r.setAttributeNS(null,"id",br),_r.setAttributeNS(null,"transform",sr(this.transformMatrix));const xr=yr.element.cloneNode(!0);if(this.pendingClip==="evenodd"?xr.setAttributeNS(null,"clip-rule","evenodd"):xr.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,_r.append(xr),this.defs.append(_r),yr.activeClipUrl){yr.clipGroup=null;for(const Nr of this.extraStack)Nr.clipGroup=null;_r.setAttributeNS(null,"clip-path",yr.activeClipUrl)}yr.activeClipUrl=`url(#${br})`,this.tgrp=null}clip(yr){this.pendingClip=yr}closePath(){const yr=this.current;if(yr.path){const br=`${yr.path.getAttributeNS(null,"d")}Z`;yr.path.setAttributeNS(null,"d",br)}}setLeading(yr){this.current.leading=-yr}setTextRise(yr){this.current.textRise=yr}setTextRenderingMode(yr){this.current.textRenderingMode=yr}setHScale(yr){this.current.textHScale=yr/100}setRenderingIntent(yr){}setFlatness(yr){}setGState(yr){for(const[br,_r]of yr)switch(br){case"LW":this.setLineWidth(_r);break;case"LC":this.setLineCap(_r);break;case"LJ":this.setLineJoin(_r);break;case"ML":this.setMiterLimit(_r);break;case"D":this.setDash(_r[0],_r[1]);break;case"RI":this.setRenderingIntent(_r);break;case"FL":this.setFlatness(_r);break;case"Font":this.setFont(_r);break;case"CA":this.setStrokeAlpha(_r);break;case"ca":this.setFillAlpha(_r);break;default:(0,ir.warn)(`Unimplemented graphic state operator ${br}`);break}}fill(){const yr=this.current;yr.element&&(yr.element.setAttributeNS(null,"fill",yr.fillColor),yr.element.setAttributeNS(null,"fill-opacity",yr.fillAlpha),this.endPath())}stroke(){const yr=this.current;yr.element&&(this._setStrokeAttributes(yr.element),yr.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(yr,br=1){const _r=this.current;let xr=_r.dashArray;br!==1&&xr.length>0&&(xr=xr.map(function(Nr){return br*Nr})),yr.setAttributeNS(null,"stroke",_r.strokeColor),yr.setAttributeNS(null,"stroke-opacity",_r.strokeAlpha),yr.setAttributeNS(null,"stroke-miterlimit",lr(_r.miterLimit)),yr.setAttributeNS(null,"stroke-linecap",_r.lineCap),yr.setAttributeNS(null,"stroke-linejoin",_r.lineJoin),yr.setAttributeNS(null,"stroke-width",lr(br*_r.lineWidth)+"px"),yr.setAttributeNS(null,"stroke-dasharray",xr.map(lr).join(" ")),yr.setAttributeNS(null,"stroke-dashoffset",lr(br*_r.dashPhase)+"px")}eoFill(){var yr;(yr=this.current.element)==null||yr.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var yr;(yr=this.current.element)==null||yr.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const yr=this.svgFactory.createElement("svg:rect");yr.setAttributeNS(null,"x","0"),yr.setAttributeNS(null,"y","0"),yr.setAttributeNS(null,"width","1px"),yr.setAttributeNS(null,"height","1px"),yr.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(yr)}paintImageXObject(yr){const br=this.getObject(yr);if(!br){(0,ir.warn)(`Dependent image with object ID ${yr} is not ready yet`);return}this.paintInlineImageXObject(br)}paintInlineImageXObject(yr,br){const _r=yr.width,xr=yr.height,Nr=er(yr,this.forceDataSchema,!!br),zr=this.svgFactory.createElement("svg:rect");zr.setAttributeNS(null,"x","0"),zr.setAttributeNS(null,"y","0"),zr.setAttributeNS(null,"width",lr(_r)),zr.setAttributeNS(null,"height",lr(xr)),this.current.element=zr,this.clip("nonzero");const Tr=this.svgFactory.createElement("svg:image");Tr.setAttributeNS(hr,"xlink:href",Nr),Tr.setAttributeNS(null,"x","0"),Tr.setAttributeNS(null,"y",lr(-xr)),Tr.setAttributeNS(null,"width",lr(_r)+"px"),Tr.setAttributeNS(null,"height",lr(xr)+"px"),Tr.setAttributeNS(null,"transform",`scale(${lr(1/_r)} ${lr(-1/xr)})`),br?br.append(Tr):this._ensureTransformGroup().append(Tr)}paintImageMaskXObject(yr){const br=this.getObject(yr.data,yr);if(br.bitmap){(0,ir.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const _r=this.current,xr=br.width,Nr=br.height,zr=_r.fillColor;_r.maskId=`mask${mr++}`;const Tr=this.svgFactory.createElement("svg:mask");Tr.setAttributeNS(null,"id",_r.maskId);const Br=this.svgFactory.createElement("svg:rect");Br.setAttributeNS(null,"x","0"),Br.setAttributeNS(null,"y","0"),Br.setAttributeNS(null,"width",lr(xr)),Br.setAttributeNS(null,"height",lr(Nr)),Br.setAttributeNS(null,"fill",zr),Br.setAttributeNS(null,"mask",`url(#${_r.maskId})`),this.defs.append(Tr),this._ensureTransformGroup().append(Br),this.paintInlineImageXObject(br,Tr)}paintFormXObjectBegin(yr,br){if(Array.isArray(yr)&&yr.length===6&&this.transform(yr[0],yr[1],yr[2],yr[3],yr[4],yr[5]),br){const _r=br[2]-br[0],xr=br[3]-br[1],Nr=this.svgFactory.createElement("svg:rect");Nr.setAttributeNS(null,"x",br[0]),Nr.setAttributeNS(null,"y",br[1]),Nr.setAttributeNS(null,"width",lr(_r)),Nr.setAttributeNS(null,"height",lr(xr)),this.current.element=Nr,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(yr){const br=this.svgFactory.create(yr.width,yr.height),_r=this.svgFactory.createElement("svg:defs");br.append(_r),this.defs=_r;const xr=this.svgFactory.createElement("svg:g");return xr.setAttributeNS(null,"transform",sr(yr.transform)),br.append(xr),this.svg=xr,br}_ensureClipGroup(){if(!this.current.clipGroup){const yr=this.svgFactory.createElement("svg:g");yr.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(yr),this.current.clipGroup=yr}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",sr(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}},(St,e,_e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNodeStream=void 0;var _i=_e(1),ir=_e(32);const rr=require$$2,gr=require$$2,cr=require$$2,tr=require$$2,hr=/^file:\/\/\/[a-zA-Z]:\//;function ur(mr){const vr=tr.parse(mr);return vr.protocol==="file:"||vr.host?vr:/^[a-z]:[/\\]/i.test(mr)?tr.parse(`file:///${mr}`):(vr.host||(vr.protocol="file:"),vr)}class or{constructor(vr){this.source=vr,this.url=ur(vr.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&vr.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var vr,yr;return(yr=(vr=this._fullRequestReader)==null?void 0:vr._loaded)!=null?yr:0}getFullReader(){return(0,_i.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new sr(this):new dr(this),this._fullRequestReader}getRangeReader(vr,yr){if(yr<=this._progressiveDataLength)return null;const br=this.isFsUrl?new pr(this,vr,yr):new lr(this,vr,yr);return this._rangeRequestReaders.push(br),br}cancelAllRequests(vr){var yr;(yr=this._fullRequestReader)==null||yr.cancel(vr);for(const br of this._rangeRequestReaders.slice(0))br.cancel(vr)}}e.PDFNodeStream=or;class nr{constructor(vr){this._url=vr.url,this._done=!1,this._storedError=null,this.onProgress=null;const yr=vr.source;this._contentLength=yr.length,this._loaded=0,this._filename=null,this._disableRange=yr.disableRange||!1,this._rangeChunkSize=yr.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!yr.disableStream,this._isRangeSupported=!yr.disableRange,this._readableStream=null,this._readCapability=(0,_i.createPromiseCapability)(),this._headersCapability=(0,_i.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var br;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const vr=this._readableStream.read();return vr===null?(this._readCapability=(0,_i.createPromiseCapability)(),this.read()):(this._loaded+=vr.length,(br=this.onProgress)==null||br.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(vr).buffer,done:!1})}cancel(vr){if(!this._readableStream){this._error(vr);return}this._readableStream.destroy(vr)}_error(vr){this._storedError=vr,this._readCapability.resolve()}_setReadableStream(vr){this._readableStream=vr,vr.on("readable",()=>{this._readCapability.resolve()}),vr.on("end",()=>{vr.destroy(),this._done=!0,this._readCapability.resolve()}),vr.on("error",yr=>{this._error(yr)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new _i.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class er{constructor(vr){this._url=vr.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,_i.createPromiseCapability)();const yr=vr.source;this._isStreamingSupported=!yr.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var br;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const vr=this._readableStream.read();return vr===null?(this._readCapability=(0,_i.createPromiseCapability)(),this.read()):(this._loaded+=vr.length,(br=this.onProgress)==null||br.call(this,{loaded:this._loaded}),{value:new Uint8Array(vr).buffer,done:!1})}cancel(vr){if(!this._readableStream){this._error(vr);return}this._readableStream.destroy(vr)}_error(vr){this._storedError=vr,this._readCapability.resolve()}_setReadableStream(vr){this._readableStream=vr,vr.on("readable",()=>{this._readCapability.resolve()}),vr.on("end",()=>{vr.destroy(),this._done=!0,this._readCapability.resolve()}),vr.on("error",yr=>{this._error(yr)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function ar(mr,vr){return{protocol:mr.protocol,auth:mr.auth,host:mr.hostname,port:mr.port,path:mr.path,method:"GET",headers:vr}}class dr extends nr{constructor(vr){super(vr);const yr=br=>{if(br.statusCode===404){const zr=new _i.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=zr,this._headersCapability.reject(zr);return}this._headersCapability.resolve(),this._setReadableStream(br);const _r=zr=>this._readableStream.headers[zr.toLowerCase()],{allowRangeRequests:xr,suggestedLength:Nr}=(0,ir.validateRangeRequestCapabilities)({getResponseHeader:_r,isHttp:vr.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=xr,this._contentLength=Nr||this._contentLength,this._filename=(0,ir.extractFilenameFromHeader)(_r)};this._request=null,this._url.protocol==="http:"?this._request=gr.request(ar(this._url,vr.httpHeaders),yr):this._request=cr.request(ar(this._url,vr.httpHeaders),yr),this._request.on("error",br=>{this._storedError=br,this._headersCapability.reject(br)}),this._request.end()}}class lr extends er{constructor(vr,yr,br){super(vr),this._httpHeaders={};for(const xr in vr.httpHeaders){const Nr=vr.httpHeaders[xr];typeof Nr>"u"||(this._httpHeaders[xr]=Nr)}this._httpHeaders.Range=`bytes=${yr}-${br-1}`;const _r=xr=>{if(xr.statusCode===404){const Nr=new _i.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Nr;return}this._setReadableStream(xr)};this._request=null,this._url.protocol==="http:"?this._request=gr.request(ar(this._url,this._httpHeaders),_r):this._request=cr.request(ar(this._url,this._httpHeaders),_r),this._request.on("error",xr=>{this._storedError=xr}),this._request.end()}}class sr extends nr{constructor(vr){super(vr);let yr=decodeURIComponent(this._url.path);hr.test(this._url.href)&&(yr=yr.replace(/^\//,"")),rr.lstat(yr,(br,_r)=>{if(br){br.code==="ENOENT"&&(br=new _i.MissingPDFException(`Missing PDF "${yr}".`)),this._storedError=br,this._headersCapability.reject(br);return}this._contentLength=_r.size,this._setReadableStream(rr.createReadStream(yr)),this._headersCapability.resolve()})}}class pr extends er{constructor(vr,yr,br){super(vr);let _r=decodeURIComponent(this._url.path);hr.test(this._url.href)&&(_r=_r.replace(/^\//,"")),this._setReadableStream(rr.createReadStream(_r,{start:yr,end:br-1}))}}},(St,e,_e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createResponseStatusError=tr,e.extractFilenameFromHeader=cr,e.validateRangeRequestCapabilities=gr,e.validateResponseStatus=hr;var _i=_e(1),ir=_e(33),rr=_e(6);function gr({getResponseHeader:ur,isHttp:or,rangeChunkSize:nr,disableRange:er}){const ar={allowRangeRequests:!1,suggestedLength:void 0},dr=parseInt(ur("Content-Length"),10);return!Number.isInteger(dr)||(ar.suggestedLength=dr,dr<=2*nr)||er||!or||ur("Accept-Ranges")!=="bytes"||(ur("Content-Encoding")||"identity")!=="identity"||(ar.allowRangeRequests=!0),ar}function cr(ur){const or=ur("Content-Disposition");if(or){let nr=(0,ir.getFilenameFromContentDispositionHeader)(or);if(nr.includes("%"))try{nr=decodeURIComponent(nr)}catch{}if((0,rr.isPdfFile)(nr))return nr}return null}function tr(ur,or){return ur===404||ur===0&&or.startsWith("file:")?new _i.MissingPDFException('Missing PDF "'+or+'".'):new _i.UnexpectedResponseException(`Unexpected server response (${ur}) while retrieving PDF "${or}".`,ur)}function hr(ur){return ur===200||ur===206}},(St,e,_e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getFilenameFromContentDispositionHeader=ir;var _i=_e(1);function ir(rr){let gr=!0,cr=tr("filename\\*","i").exec(rr);if(cr){cr=cr[1];let dr=nr(cr);return dr=unescape(dr),dr=er(dr),dr=ar(dr),ur(dr)}if(cr=or(rr),cr){const dr=ar(cr);return ur(dr)}if(cr=tr("filename","i").exec(rr),cr){cr=cr[1];let dr=nr(cr);return dr=ar(dr),ur(dr)}function tr(dr,lr){return new RegExp("(?:^|;)\\s*"+dr+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',lr)}function hr(dr,lr){if(dr){if(!/^[\x00-\xFF]+$/.test(lr))return lr;try{const sr=new TextDecoder(dr,{fatal:!0}),pr=(0,_i.stringToBytes)(lr);lr=sr.decode(pr),gr=!1}catch{}}return lr}function ur(dr){return gr&&/[\x80-\xff]/.test(dr)&&(dr=hr("utf-8",dr),gr&&(dr=hr("iso-8859-1",dr))),dr}function or(dr){const lr=[];let sr;const pr=tr("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(sr=pr.exec(dr))!==null;){let[,vr,yr,br]=sr;if(vr=parseInt(vr,10),vr in lr){if(vr===0)break;continue}lr[vr]=[yr,br]}const mr=[];for(let vr=0;vr<lr.length&&vr in lr;++vr){let[yr,br]=lr[vr];br=nr(br),yr&&(br=unescape(br),vr===0&&(br=er(br))),mr.push(br)}return mr.join("")}function nr(dr){if(dr.startsWith('"')){const lr=dr.slice(1).split('\\"');for(let sr=0;sr<lr.length;++sr){const pr=lr[sr].indexOf('"');pr!==-1&&(lr[sr]=lr[sr].slice(0,pr),lr.length=sr+1),lr[sr]=lr[sr].replace(/\\(.)/g,"$1")}dr=lr.join('"')}return dr}function er(dr){const lr=dr.indexOf("'");if(lr===-1)return dr;const sr=dr.slice(0,lr),mr=dr.slice(lr+1).replace(/^[^']*'/,"");return hr(sr,mr)}function ar(dr){return!dr.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(dr)?dr:dr.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(lr,sr,pr,mr){if(pr==="q"||pr==="Q")return mr=mr.replace(/_/g," "),mr=mr.replace(/=([0-9a-fA-F]{2})/g,function(vr,yr){return String.fromCharCode(parseInt(yr,16))}),hr(sr,mr);try{mr=atob(mr)}catch{}return hr(sr,mr)})}return""}},(St,e,_e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNetworkStream=void 0;var _i=_e(1),ir=_e(32);const rr=200,gr=206;function cr(nr){const er=nr.response;return typeof er!="string"?er:(0,_i.stringToBytes)(er).buffer}class tr{constructor(er,ar={}){this.url=er,this.isHttp=/^https?:/i.test(er),this.httpHeaders=this.isHttp&&ar.httpHeaders||Object.create(null),this.withCredentials=ar.withCredentials||!1,this.getXhr=ar.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(er,ar,dr){const lr={begin:er,end:ar};for(const sr in dr)lr[sr]=dr[sr];return this.request(lr)}requestFull(er){return this.request(er)}request(er){const ar=this.getXhr(),dr=this.currXhrId++,lr=this.pendingRequests[dr]={xhr:ar};ar.open("GET",this.url),ar.withCredentials=this.withCredentials;for(const sr in this.httpHeaders){const pr=this.httpHeaders[sr];typeof pr>"u"||ar.setRequestHeader(sr,pr)}return this.isHttp&&"begin"in er&&"end"in er?(ar.setRequestHeader("Range",`bytes=${er.begin}-${er.end-1}`),lr.expectedStatus=gr):lr.expectedStatus=rr,ar.responseType="arraybuffer",er.onError&&(ar.onerror=function(sr){er.onError(ar.status)}),ar.onreadystatechange=this.onStateChange.bind(this,dr),ar.onprogress=this.onProgress.bind(this,dr),lr.onHeadersReceived=er.onHeadersReceived,lr.onDone=er.onDone,lr.onError=er.onError,lr.onProgress=er.onProgress,ar.send(null),dr}onProgress(er,ar){var lr;const dr=this.pendingRequests[er];!dr||(lr=dr.onProgress)==null||lr.call(dr,ar)}onStateChange(er,ar){var vr,yr,br;const dr=this.pendingRequests[er];if(!dr)return;const lr=dr.xhr;if(lr.readyState>=2&&dr.onHeadersReceived&&(dr.onHeadersReceived(),delete dr.onHeadersReceived),lr.readyState!==4||!(er in this.pendingRequests))return;if(delete this.pendingRequests[er],lr.status===0&&this.isHttp){(vr=dr.onError)==null||vr.call(dr,lr.status);return}const sr=lr.status||rr;if(!(sr===rr&&dr.expectedStatus===gr)&&sr!==dr.expectedStatus){(yr=dr.onError)==null||yr.call(dr,lr.status);return}const mr=cr(lr);if(sr===gr){const _r=lr.getResponseHeader("Content-Range"),xr=/bytes (\d+)-(\d+)\/(\d+)/.exec(_r);dr.onDone({begin:parseInt(xr[1],10),chunk:mr})}else mr?dr.onDone({begin:0,chunk:mr}):(br=dr.onError)==null||br.call(dr,lr.status)}getRequestXhr(er){return this.pendingRequests[er].xhr}isPendingRequest(er){return er in this.pendingRequests}abortRequest(er){const ar=this.pendingRequests[er].xhr;delete this.pendingRequests[er],ar.abort()}}class hr{constructor(er){this._source=er,this._manager=new tr(er.url,{httpHeaders:er.httpHeaders,withCredentials:er.withCredentials}),this._rangeChunkSize=er.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(er){const ar=this._rangeRequestReaders.indexOf(er);ar>=0&&this._rangeRequestReaders.splice(ar,1)}getFullReader(){return(0,_i.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new ur(this._manager,this._source),this._fullRequestReader}getRangeReader(er,ar){const dr=new or(this._manager,er,ar);return dr.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(dr),dr}cancelAllRequests(er){var ar;(ar=this._fullRequestReader)==null||ar.cancel(er);for(const dr of this._rangeRequestReaders.slice(0))dr.cancel(er)}}e.PDFNetworkStream=hr;class ur{constructor(er,ar){this._manager=er;const dr={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=ar.url,this._fullRequestId=er.requestFull(dr),this._headersReceivedCapability=(0,_i.createPromiseCapability)(),this._disableRange=ar.disableRange||!1,this._contentLength=ar.length,this._rangeChunkSize=ar.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const er=this._fullRequestId,ar=this._manager.getRequestXhr(er),dr=pr=>ar.getResponseHeader(pr),{allowRangeRequests:lr,suggestedLength:sr}=(0,ir.validateRangeRequestCapabilities)({getResponseHeader:dr,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});lr&&(this._isRangeSupported=!0),this._contentLength=sr||this._contentLength,this._filename=(0,ir.extractFilenameFromHeader)(dr),this._isRangeSupported&&this._manager.abortRequest(er),this._headersReceivedCapability.resolve()}_onDone(er){if(er&&(this._requests.length>0?this._requests.shift().resolve({value:er.chunk,done:!1}):this._cachedChunks.push(er.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const ar of this._requests)ar.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(er){this._storedError=(0,ir.createResponseStatusError)(er,this._url),this._headersReceivedCapability.reject(this._storedError);for(const ar of this._requests)ar.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(er){var ar;(ar=this.onProgress)==null||ar.call(this,{loaded:er.loaded,total:er.lengthComputable?er.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const er=(0,_i.createPromiseCapability)();return this._requests.push(er),er.promise}cancel(er){this._done=!0,this._headersReceivedCapability.reject(er);for(const ar of this._requests)ar.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class or{constructor(er,ar,dr){this._manager=er;const lr={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=er.url,this._requestId=er.requestRange(ar,dr,lr),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var er;(er=this.onClosed)==null||er.call(this,this)}_onDone(er){const ar=er.chunk;this._requests.length>0?this._requests.shift().resolve({value:ar,done:!1}):this._queuedChunk=ar,this._done=!0;for(const dr of this._requests)dr.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(er){this._storedError=(0,ir.createResponseStatusError)(er,this._url);for(const ar of this._requests)ar.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(er){var ar;this.isStreamingSupported||(ar=this.onProgress)==null||ar.call(this,{loaded:er.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const ar=this._queuedChunk;return this._queuedChunk=null,{value:ar,done:!1}}if(this._done)return{value:void 0,done:!0};const er=(0,_i.createPromiseCapability)();return this._requests.push(er),er.promise}cancel(er){this._done=!0;for(const ar of this._requests)ar.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(St,e,_e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFetchStream=void 0;var _i=_e(1),ir=_e(32);function rr(ur,or,nr){return{method:"GET",headers:ur,signal:nr.signal,mode:"cors",credentials:or?"include":"same-origin",redirect:"follow"}}function gr(ur){const or=new Headers;for(const nr in ur){const er=ur[nr];typeof er>"u"||or.append(nr,er)}return or}class cr{constructor(or){this.source=or,this.isHttp=/^https?:/i.test(or.url),this.httpHeaders=this.isHttp&&or.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var or,nr;return(nr=(or=this._fullRequestReader)==null?void 0:or._loaded)!=null?nr:0}getFullReader(){return(0,_i.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new tr(this),this._fullRequestReader}getRangeReader(or,nr){if(nr<=this._progressiveDataLength)return null;const er=new hr(this,or,nr);return this._rangeRequestReaders.push(er),er}cancelAllRequests(or){var nr;(nr=this._fullRequestReader)==null||nr.cancel(or);for(const er of this._rangeRequestReaders.slice(0))er.cancel(or)}}e.PDFFetchStream=cr;class tr{constructor(or){this._stream=or,this._reader=null,this._loaded=0,this._filename=null;const nr=or.source;this._withCredentials=nr.withCredentials||!1,this._contentLength=nr.length,this._headersCapability=(0,_i.createPromiseCapability)(),this._disableRange=nr.disableRange||!1,this._rangeChunkSize=nr.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!nr.disableStream,this._isRangeSupported=!nr.disableRange,this._headers=gr(this._stream.httpHeaders);const er=nr.url;fetch(er,rr(this._headers,this._withCredentials,this._abortController)).then(ar=>{if(!(0,ir.validateResponseStatus)(ar.status))throw(0,ir.createResponseStatusError)(ar.status,er);this._reader=ar.body.getReader(),this._headersCapability.resolve();const dr=pr=>ar.headers.get(pr),{allowRangeRequests:lr,suggestedLength:sr}=(0,ir.validateRangeRequestCapabilities)({getResponseHeader:dr,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=lr,this._contentLength=sr||this._contentLength,this._filename=(0,ir.extractFilenameFromHeader)(dr),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new _i.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ar;await this._headersCapability.promise;const{value:or,done:nr}=await this._reader.read();return nr?{value:or,done:nr}:(this._loaded+=or.byteLength,(ar=this.onProgress)==null||ar.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(or).buffer,done:!1})}cancel(or){var nr;(nr=this._reader)==null||nr.cancel(or),this._abortController.abort()}}class hr{constructor(or,nr,er){this._stream=or,this._reader=null,this._loaded=0;const ar=or.source;this._withCredentials=ar.withCredentials||!1,this._readCapability=(0,_i.createPromiseCapability)(),this._isStreamingSupported=!ar.disableStream,this._abortController=new AbortController,this._headers=gr(this._stream.httpHeaders),this._headers.append("Range",`bytes=${nr}-${er-1}`);const dr=ar.url;fetch(dr,rr(this._headers,this._withCredentials,this._abortController)).then(lr=>{if(!(0,ir.validateResponseStatus)(lr.status))throw(0,ir.createResponseStatusError)(lr.status,dr);this._readCapability.resolve(),this._reader=lr.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ar;await this._readCapability.promise;const{value:or,done:nr}=await this._reader.read();return nr?{value:or,done:nr}:(this._loaded+=or.byteLength,(ar=this.onProgress)==null||ar.call(this,{loaded:this._loaded}),{value:new Uint8Array(or).buffer,done:!1})}cancel(or){var nr;(nr=this._reader)==null||nr.cancel(or),this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(St){var e=__webpack_module_cache__[St];if(e!==void 0)return e.exports;var _e=__webpack_module_cache__[St]={exports:{}};return __webpack_modules__[St](_e,_e.exports,__w_pdfjs_require__),_e.exports}var __webpack_exports__={};return(()=>{var St=__webpack_exports__;Object.defineProperty(St,"__esModule",{value:!0}),Object.defineProperty(St,"AnnotationEditorLayer",{enumerable:!0,get:function(){return ir.AnnotationEditorLayer}}),Object.defineProperty(St,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return e.AnnotationEditorParamsType}}),Object.defineProperty(St,"AnnotationEditorType",{enumerable:!0,get:function(){return e.AnnotationEditorType}}),Object.defineProperty(St,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return rr.AnnotationEditorUIManager}}),Object.defineProperty(St,"AnnotationLayer",{enumerable:!0,get:function(){return gr.AnnotationLayer}}),Object.defineProperty(St,"AnnotationMode",{enumerable:!0,get:function(){return e.AnnotationMode}}),Object.defineProperty(St,"CMapCompressionType",{enumerable:!0,get:function(){return e.CMapCompressionType}}),Object.defineProperty(St,"GlobalWorkerOptions",{enumerable:!0,get:function(){return cr.GlobalWorkerOptions}}),Object.defineProperty(St,"InvalidPDFException",{enumerable:!0,get:function(){return e.InvalidPDFException}}),Object.defineProperty(St,"MissingPDFException",{enumerable:!0,get:function(){return e.MissingPDFException}}),Object.defineProperty(St,"OPS",{enumerable:!0,get:function(){return e.OPS}}),Object.defineProperty(St,"PDFDataRangeTransport",{enumerable:!0,get:function(){return _e.PDFDataRangeTransport}}),Object.defineProperty(St,"PDFDateString",{enumerable:!0,get:function(){return _i.PDFDateString}}),Object.defineProperty(St,"PDFWorker",{enumerable:!0,get:function(){return _e.PDFWorker}}),Object.defineProperty(St,"PasswordResponses",{enumerable:!0,get:function(){return e.PasswordResponses}}),Object.defineProperty(St,"PermissionFlag",{enumerable:!0,get:function(){return e.PermissionFlag}}),Object.defineProperty(St,"PixelsPerInch",{enumerable:!0,get:function(){return _i.PixelsPerInch}}),Object.defineProperty(St,"RenderingCancelledException",{enumerable:!0,get:function(){return _i.RenderingCancelledException}}),Object.defineProperty(St,"SVGGraphics",{enumerable:!0,get:function(){return ur.SVGGraphics}}),Object.defineProperty(St,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return e.UNSUPPORTED_FEATURES}}),Object.defineProperty(St,"UnexpectedResponseException",{enumerable:!0,get:function(){return e.UnexpectedResponseException}}),Object.defineProperty(St,"Util",{enumerable:!0,get:function(){return e.Util}}),Object.defineProperty(St,"VerbosityLevel",{enumerable:!0,get:function(){return e.VerbosityLevel}}),Object.defineProperty(St,"XfaLayer",{enumerable:!0,get:function(){return or.XfaLayer}}),Object.defineProperty(St,"build",{enumerable:!0,get:function(){return _e.build}}),Object.defineProperty(St,"createPromiseCapability",{enumerable:!0,get:function(){return e.createPromiseCapability}}),Object.defineProperty(St,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return e.createValidAbsoluteUrl}}),Object.defineProperty(St,"getDocument",{enumerable:!0,get:function(){return _e.getDocument}}),Object.defineProperty(St,"getFilenameFromUrl",{enumerable:!0,get:function(){return _i.getFilenameFromUrl}}),Object.defineProperty(St,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return _i.getPdfFilenameFromUrl}}),Object.defineProperty(St,"getXfaPageViewport",{enumerable:!0,get:function(){return _i.getXfaPageViewport}}),Object.defineProperty(St,"isPdfFile",{enumerable:!0,get:function(){return _i.isPdfFile}}),Object.defineProperty(St,"loadScript",{enumerable:!0,get:function(){return _i.loadScript}}),Object.defineProperty(St,"renderTextLayer",{enumerable:!0,get:function(){return hr.renderTextLayer}}),Object.defineProperty(St,"shadow",{enumerable:!0,get:function(){return e.shadow}}),Object.defineProperty(St,"version",{enumerable:!0,get:function(){return _e.version}});var e=__w_pdfjs_require__(1),_e=__w_pdfjs_require__(2),_i=__w_pdfjs_require__(6),ir=__w_pdfjs_require__(21),rr=__w_pdfjs_require__(5),gr=__w_pdfjs_require__(26),cr=__w_pdfjs_require__(14),tr=__w_pdfjs_require__(12),hr=__w_pdfjs_require__(29),ur=__w_pdfjs_require__(30),or=__w_pdfjs_require__(28);if(tr.isNodeJS){const{PDFNodeStream:nr}=__w_pdfjs_require__(31);(0,_e.setPDFNetworkStreamFactory)(er=>new nr(er))}else{const{PDFNetworkStream:nr}=__w_pdfjs_require__(34),{PDFFetchStream:er}=__w_pdfjs_require__(35);(0,_e.setPDFNetworkStreamFactory)(ar=>(0,_i.isValidFetchUrl)(ar.url)?new er(ar):new nr(ar))}})(),__webpack_exports__})())})(pdf);const pdfWorker=""+new URL("pdf.worker.c97837ee.js",import.meta.url).href,scriptRel="modulepreload",assetsURL=function(St,e){return new URL(St,e).href},seen={},__vitePreload=function St(e,_e,_i){if(!_e||_e.length===0)return e();const ir=document.getElementsByTagName("link");return Promise.all(_e.map(rr=>{if(rr=assetsURL(rr,_i),rr in seen)return;seen[rr]=!0;const gr=rr.endsWith(".css"),cr=gr?'[rel="stylesheet"]':"";if(!!_i)for(let ur=ir.length-1;ur>=0;ur--){const or=ir[ur];if(or.href===rr&&(!gr||or.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${rr}"]${cr}`))return;const hr=document.createElement("link");if(hr.rel=gr?"stylesheet":scriptRel,gr||(hr.as="script",hr.crossOrigin=""),hr.href=rr,document.head.appendChild(hr),gr)return new Promise((ur,or)=>{hr.addEventListener("load",ur),hr.addEventListener("error",()=>or(new Error(`Unable to preload CSS for ${rr}`)))})})).then(()=>e())};function _typeof(St){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(St)}var u8=Uint8Array,u16=Uint16Array,u32=Uint32Array,fleb=new u8([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fdeb=new u8([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),clim=new u8([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),freb=function(St,e){for(var _e=new u16(31),_i=0;_i<31;++_i)_e[_i]=e+=1<<St[_i-1];for(var ir=new u32(_e[30]),_i=1;_i<30;++_i)for(var rr=_e[_i];rr<_e[_i+1];++rr)ir[rr]=rr-_e[_i]<<5|_i;return[_e,ir]},_a=freb(fleb,2),fl=_a[0],revfl=_a[1];fl[28]=258,revfl[258]=28;var _b=freb(fdeb,0),fd=_b[0],revfd=_b[1],rev=new u16(32768);for(var i$1=0;i$1<32768;++i$1){var x$1=(i$1&43690)>>>1|(i$1&21845)<<1;x$1=(x$1&52428)>>>2|(x$1&13107)<<2,x$1=(x$1&61680)>>>4|(x$1&3855)<<4,rev[i$1]=((x$1&65280)>>>8|(x$1&255)<<8)>>>1}var hMap=function(St,e,_e){for(var _i=St.length,ir=0,rr=new u16(e);ir<_i;++ir)++rr[St[ir]-1];var gr=new u16(e);for(ir=0;ir<e;++ir)gr[ir]=gr[ir-1]+rr[ir-1]<<1;var cr;if(_e){cr=new u16(1<<e);var tr=15-e;for(ir=0;ir<_i;++ir)if(St[ir])for(var hr=ir<<4|St[ir],ur=e-St[ir],or=gr[St[ir]-1]++<<ur,nr=or|(1<<ur)-1;or<=nr;++or)cr[rev[or]>>>tr]=hr}else for(cr=new u16(_i),ir=0;ir<_i;++ir)cr[ir]=rev[gr[St[ir]-1]++]>>>15-St[ir];return cr},flt=new u8(288);for(var i$1=0;i$1<144;++i$1)flt[i$1]=8;for(var i$1=144;i$1<256;++i$1)flt[i$1]=9;for(var i$1=256;i$1<280;++i$1)flt[i$1]=7;for(var i$1=280;i$1<288;++i$1)flt[i$1]=8;var fdt=new u8(32);for(var i$1=0;i$1<32;++i$1)fdt[i$1]=5;var flm=hMap(flt,9,0),flrm=hMap(flt,9,1),fdm=hMap(fdt,5,0),fdrm=hMap(fdt,5,1),max=function(St){for(var e=St[0],_e=1;_e<St.length;++_e)St[_e]>e&&(e=St[_e]);return e},bits=function(St,e,_e){var _i=e/8>>0;return(St[_i]|St[_i+1]<<8)>>>(e&7)&_e},bits16=function(St,e){var _e=e/8>>0;return(St[_e]|St[_e+1]<<8|St[_e+2]<<16)>>>(e&7)},shft=function(St){return(St/8>>0)+(St&7&&1)},slc=function(St,e,_e){(e==null||e<0)&&(e=0),(_e==null||_e>St.length)&&(_e=St.length);var _i=new(St instanceof u16?u16:St instanceof u32?u32:u8)(_e-e);return _i.set(St.subarray(e,_e)),_i},inflt=function(St,e,_e){var _i=St.length,ir=!e||_e,rr=!_e||_e.i;_e||(_e={}),e||(e=new u8(_i*3));var gr=function(jr){var Wr=e.length;if(jr>Wr){var Kr=new u8(Math.max(Wr*2,jr));Kr.set(e),e=Kr}},cr=_e.f||0,tr=_e.p||0,hr=_e.b||0,ur=_e.l,or=_e.d,nr=_e.m,er=_e.n,ar=_i*8;do{if(!ur){_e.f=cr=bits(St,tr,1);var dr=bits(St,tr+1,3);if(tr+=3,dr)if(dr==1)ur=flrm,or=fdrm,nr=9,er=5;else if(dr==2){var mr=bits(St,tr,31)+257,vr=bits(St,tr+10,15)+4,yr=mr+bits(St,tr+5,31)+1;tr+=14;for(var br=new u8(yr),_r=new u8(19),xr=0;xr<vr;++xr)_r[clim[xr]]=bits(St,tr+xr*3,7);tr+=vr*3;var Nr=max(_r),zr=(1<<Nr)-1;if(!rr&&tr+yr*(Nr+7)>ar)break;for(var Tr=hMap(_r,Nr,1),xr=0;xr<yr;){var Br=Tr[bits(St,tr,zr)];tr+=Br&15;var lr=Br>>>4;if(lr<16)br[xr++]=lr;else{var Jr=0,Yr=0;for(lr==16?(Yr=3+bits(St,tr,3),tr+=2,Jr=br[xr-1]):lr==17?(Yr=3+bits(St,tr,7),tr+=3):lr==18&&(Yr=11+bits(St,tr,127),tr+=7);Yr--;)br[xr++]=Jr}}var Xr=br.subarray(0,mr),Vr=br.subarray(mr);nr=max(Xr),er=max(Vr),ur=hMap(Xr,nr,1),or=hMap(Vr,er,1)}else throw"invalid block type";else{var lr=shft(tr)+4,sr=St[lr-4]|St[lr-3]<<8,pr=lr+sr;if(pr>_i){if(rr)throw"unexpected EOF";break}ir&&gr(hr+sr),e.set(St.subarray(lr,pr),hr),_e.b=hr+=sr,_e.p=tr=pr*8;continue}if(tr>ar)throw"unexpected EOF"}ir&&gr(hr+131072);for(var $r=(1<<nr)-1,Lr=(1<<er)-1,Er=nr+er+18;rr||tr+Er<ar;){var Jr=ur[bits16(St,tr)&$r],Hr=Jr>>>4;if(tr+=Jr&15,tr>ar)throw"unexpected EOF";if(!Jr)throw"invalid length/literal";if(Hr<256)e[hr++]=Hr;else if(Hr==256){ur=null;break}else{var Gr=Hr-254;if(Hr>264){var xr=Hr-257,Cr=fleb[xr];Gr=bits(St,tr,(1<<Cr)-1)+fl[xr],tr+=Cr}var kr=or[bits16(St,tr)&Lr],Sr=kr>>>4;if(!kr)throw"invalid distance";tr+=kr&15;var Vr=fd[Sr];if(Sr>3){var Cr=fdeb[Sr];Vr+=bits16(St,tr)&(1<<Cr)-1,tr+=Cr}if(tr>ar)throw"unexpected EOF";ir&&gr(hr+131072);for(var Pr=hr+Gr;hr<Pr;hr+=4)e[hr]=e[hr-Vr],e[hr+1]=e[hr+1-Vr],e[hr+2]=e[hr+2-Vr],e[hr+3]=e[hr+3-Vr];hr=Pr}}_e.l=ur,_e.p=tr,_e.b=hr,ur&&(cr=1,_e.m=nr,_e.d=or,_e.n=er)}while(!cr);return hr==e.length?e:slc(e,0,hr)},wbits=function(St,e,_e){_e<<=e&7;var _i=e/8>>0;St[_i]|=_e,St[_i+1]|=_e>>>8},wbits16=function(St,e,_e){_e<<=e&7;var _i=e/8>>0;St[_i]|=_e,St[_i+1]|=_e>>>8,St[_i+2]|=_e>>>16},hTree=function(St,e){for(var _e=[],_i=0;_i<St.length;++_i)St[_i]&&_e.push({s:_i,f:St[_i]});var ir=_e.length,rr=_e.slice();if(!ir)return[new u8(0),0];if(ir==1){var gr=new u8(_e[0].s+1);return gr[_e[0].s]=1,[gr,1]}_e.sort(function(yr,br){return yr.f-br.f}),_e.push({s:-1,f:25001});var cr=_e[0],tr=_e[1],hr=0,ur=1,or=2;for(_e[0]={s:-1,f:cr.f+tr.f,l:cr,r:tr};ur!=ir-1;)cr=_e[_e[hr].f<_e[or].f?hr++:or++],tr=_e[hr!=ur&&_e[hr].f<_e[or].f?hr++:or++],_e[ur++]={s:-1,f:cr.f+tr.f,l:cr,r:tr};for(var nr=rr[0].s,_i=1;_i<ir;++_i)rr[_i].s>nr&&(nr=rr[_i].s);var er=new u16(nr+1),ar=ln(_e[ur-1],er,0);if(ar>e){var _i=0,dr=0,lr=ar-e,sr=1<<lr;for(rr.sort(function(br,_r){return er[_r.s]-er[br.s]||br.f-_r.f});_i<ir;++_i){var pr=rr[_i].s;if(er[pr]>e)dr+=sr-(1<<ar-er[pr]),er[pr]=e;else break}for(dr>>>=lr;dr>0;){var mr=rr[_i].s;er[mr]<e?dr-=1<<e-er[mr]++-1:++_i}for(;_i>=0&&dr;--_i){var vr=rr[_i].s;er[vr]==e&&(--er[vr],++dr)}ar=e}return[new u8(er),ar]},ln=function(St,e,_e){return St.s==-1?Math.max(ln(St.l,e,_e+1),ln(St.r,e,_e+1)):e[St.s]=_e},lc=function(St){for(var e=St.length;e&&!St[--e];);for(var _e=new u16(++e),_i=0,ir=St[0],rr=1,gr=function(tr){_e[_i++]=tr},cr=1;cr<=e;++cr)if(St[cr]==ir&&cr!=e)++rr;else{if(!ir&&rr>2){for(;rr>138;rr-=138)gr(32754);rr>2&&(gr(rr>10?rr-11<<5|28690:rr-3<<5|12305),rr=0)}else if(rr>3){for(gr(ir),--rr;rr>6;rr-=6)gr(8304);rr>2&&(gr(rr-3<<5|8208),rr=0)}for(;rr--;)gr(ir);rr=1,ir=St[cr]}return[_e.subarray(0,_i),e]},clen=function(St,e){for(var _e=0,_i=0;_i<e.length;++_i)_e+=St[_i]*e[_i];return _e},wfblk=function(St,e,_e){var _i=_e.length,ir=shft(e+2);St[ir]=_i&255,St[ir+1]=_i>>>8,St[ir+2]=St[ir]^255,St[ir+3]=St[ir+1]^255;for(var rr=0;rr<_i;++rr)St[ir+rr+4]=_e[rr];return(ir+4+_i)*8},wblk=function(St,e,_e,_i,ir,rr,gr,cr,tr,hr,ur){wbits(e,ur++,_e),++ir[256];for(var or=hTree(ir,15),nr=or[0],er=or[1],ar=hTree(rr,15),dr=ar[0],lr=ar[1],sr=lc(nr),pr=sr[0],mr=sr[1],vr=lc(dr),yr=vr[0],br=vr[1],_r=new u16(19),xr=0;xr<pr.length;++xr)_r[pr[xr]&31]++;for(var xr=0;xr<yr.length;++xr)_r[yr[xr]&31]++;for(var Nr=hTree(_r,7),zr=Nr[0],Tr=Nr[1],Br=19;Br>4&&!zr[clim[Br-1]];--Br);var Jr=hr+5<<3,Yr=clen(ir,flt)+clen(rr,fdt)+gr,Xr=clen(ir,nr)+clen(rr,dr)+gr+14+3*Br+clen(_r,zr)+(2*_r[16]+3*_r[17]+7*_r[18]);if(Jr<=Yr&&Jr<=Xr)return wfblk(e,ur,St.subarray(tr,tr+hr));var Vr,$r,Lr,Er;if(wbits(e,ur,1+(Xr<Yr)),ur+=2,Xr<Yr){Vr=hMap(nr,er,0),$r=nr,Lr=hMap(dr,lr,0),Er=dr;var Hr=hMap(zr,Tr,0);wbits(e,ur,mr-257),wbits(e,ur+5,br-1),wbits(e,ur+10,Br-4),ur+=14;for(var xr=0;xr<Br;++xr)wbits(e,ur+3*xr,zr[clim[xr]]);ur+=3*Br;for(var Gr=[pr,yr],Cr=0;Cr<2;++Cr)for(var kr=Gr[Cr],xr=0;xr<kr.length;++xr){var Sr=kr[xr]&31;wbits(e,ur,Hr[Sr]),ur+=zr[Sr],Sr>15&&(wbits(e,ur,kr[xr]>>>5&127),ur+=kr[xr]>>>12)}}else Vr=flm,$r=flt,Lr=fdm,Er=fdt;for(var xr=0;xr<cr;++xr)if(_i[xr]>255){var Sr=_i[xr]>>>18&31;wbits16(e,ur,Vr[Sr+257]),ur+=$r[Sr+257],Sr>7&&(wbits(e,ur,_i[xr]>>>23&31),ur+=fleb[Sr]);var Pr=_i[xr]&31;wbits16(e,ur,Lr[Pr]),ur+=Er[Pr],Pr>3&&(wbits16(e,ur,_i[xr]>>>5&8191),ur+=fdeb[Pr])}else wbits16(e,ur,Vr[_i[xr]]),ur+=$r[_i[xr]];return wbits16(e,ur,Vr[256]),ur+$r[256]},deo=new u32([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),et$1=new u8(0),dflt=function(St,e,_e,_i,ir,rr){var gr=St.length,cr=new u8(_i+gr+5*(1+Math.floor(gr/7e3))+ir),tr=cr.subarray(_i,cr.length-ir),hr=0;if(!e||gr<8)for(var ur=0;ur<=gr;ur+=65535){var or=ur+65535;or<gr?hr=wfblk(tr,hr,St.subarray(ur,or)):(tr[ur]=rr,hr=wfblk(tr,hr,St.subarray(ur,gr)))}else{for(var nr=deo[e-1],er=nr>>>13,ar=nr&8191,dr=(1<<_e)-1,lr=new u16(32768),sr=new u16(dr+1),pr=Math.ceil(_e/3),mr=2*pr,vr=function(Ir){return(St[Ir]^St[Ir+1]<<pr^St[Ir+2]<<mr)&dr},yr=new u32(25e3),br=new u16(288),_r=new u16(32),xr=0,Nr=0,ur=0,zr=0,Tr=0,Br=0;ur<gr;++ur){var Jr=vr(ur),Yr=ur&32767,Xr=sr[Jr];if(lr[Yr]=Xr,sr[Jr]=Yr,Tr<=ur){var Vr=gr-ur;if((xr>7e3||zr>24576)&&Vr>423){hr=wblk(St,tr,0,yr,br,_r,Nr,zr,Br,ur-Br,hr),zr=xr=Nr=0,Br=ur;for(var $r=0;$r<286;++$r)br[$r]=0;for(var $r=0;$r<30;++$r)_r[$r]=0}var Lr=2,Er=0,Hr=ar,Gr=Yr-Xr&32767;if(Vr>2&&Jr==vr(ur-Gr))for(var Cr=Math.min(er,Vr)-1,kr=Math.min(32767,ur),Sr=Math.min(258,Vr);Gr<=kr&&--Hr&&Yr!=Xr;){if(St[ur+Lr]==St[ur+Lr-Gr]){for(var Pr=0;Pr<Sr&&St[ur+Pr]==St[ur+Pr-Gr];++Pr);if(Pr>Lr){if(Lr=Pr,Er=Gr,Pr>Cr)break;for(var jr=Math.min(Gr,Pr-2),Wr=0,$r=0;$r<jr;++$r){var Kr=ur-Gr+$r+32768&32767,Qr=lr[Kr],on=Kr-Qr+32768&32767;on>Wr&&(Wr=on,Xr=Kr)}}}Yr=Xr,Xr=lr[Yr],Gr+=Yr-Xr+32768&32767}if(Er){yr[zr++]=268435456|revfl[Lr]<<18|revfd[Er];var pn=revfl[Lr]&31,fn=revfd[Er]&31;Nr+=fleb[pn]+fdeb[fn],++br[257+pn],++_r[fn],Tr=ur+Lr,++xr}else yr[zr++]=St[ur],++br[St[ur]]}}hr=wblk(St,tr,rr,yr,br,_r,Nr,zr,Br,ur-Br,hr),rr||(hr=wfblk(tr,hr,et$1))}return slc(cr,0,_i+shft(hr)+ir)},adler=function(){var St=1,e=0;return{p:function(_e){for(var _i=St,ir=e,rr=_e.length,gr=0;gr!=rr;){for(var cr=Math.min(gr+5552,rr);gr<cr;++gr)_i+=_e[gr],ir+=_i;_i%=65521,ir%=65521}St=_i,e=ir},d:function(){return(St>>>8<<16|(e&255)<<8|e>>>8)+((St&255)<<23)*2}}},dopt=function(St,e,_e,_i,ir){return dflt(St,e.level==null?6:e.level,e.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(St.length)))*1.5):12+e.mem,_e,_i,!ir)},wbytes=function(St,e,_e){for(;_e;++e)St[e]=_e,_e>>>=8},zlh=function(St,e){var _e=e.level,_i=_e==0?0:_e<6?1:_e==9?3:2;St[0]=120,St[1]=_i<<6|(_i?32-2*_i:1)},zlv=function(St){if((St[0]&15)!=8||St[0]>>>4>7||(St[0]<<8|St[1])%31)throw"invalid zlib data";if(St[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function zlibSync(St,e){e===void 0&&(e={});var _e=adler();_e.p(St);var _i=dopt(St,e,2,4);return zlh(_i,e),wbytes(_i,_i.length-4,_e.d()),_i}function unzlibSync(St,e){return inflt((zlv(St),St.subarray(2,-4)),e)}var n$1=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function i(){n$1.console&&typeof n$1.console.log=="function"&&n$1.console.log.apply(n$1.console,arguments)}var a={log:i,warn:function(St){n$1.console&&(typeof n$1.console.warn=="function"?n$1.console.warn.apply(n$1.console,arguments):i.call(null,arguments))},error:function(St){n$1.console&&(typeof n$1.console.error=="function"?n$1.console.error.apply(n$1.console,arguments):i(St))}};function o(St,e,_e){var _i=new XMLHttpRequest;_i.open("GET",St),_i.responseType="blob",_i.onload=function(){l$1(_i.response,e,_e)},_i.onerror=function(){a.error("could not download file")},_i.send()}function s(St){var e=new XMLHttpRequest;e.open("HEAD",St,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function c(St){try{St.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),St.dispatchEvent(e)}}var u,h$1,l$1=n$1.saveAs||((typeof window>"u"?"undefined":_typeof(window))!=="object"||window!==n$1?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(St,e,_e){var _i=n$1.URL||n$1.webkitURL,ir=document.createElement("a");e=e||St.name||"download",ir.download=e,ir.rel="noopener",typeof St=="string"?(ir.href=St,ir.origin!==location.origin?s(ir.href)?o(St,e,_e):c(ir,ir.target="_blank"):c(ir)):(ir.href=_i.createObjectURL(St),setTimeout(function(){_i.revokeObjectURL(ir.href)},4e4),setTimeout(function(){c(ir)},0))}:"msSaveOrOpenBlob"in navigator?function(St,e,_e){if(e=e||St.name||"download",typeof St=="string")if(s(St))o(St,e,_e);else{var _i=document.createElement("a");_i.href=St,_i.target="_blank",setTimeout(function(){c(_i)})}else navigator.msSaveOrOpenBlob(function(ir,rr){return rr===void 0?rr={autoBom:!1}:_typeof(rr)!=="object"&&(a.warn("Deprecated: Expected third argument to be a object"),rr={autoBom:!rr}),rr.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(ir.type)?new Blob([String.fromCharCode(65279),ir],{type:ir.type}):ir}(St,_e),e)}:function(St,e,_e,_i){if((_i=_i||open("","_blank"))&&(_i.document.title=_i.document.body.innerText="downloading..."),typeof St=="string")return o(St,e,_e);var ir=St.type==="application/octet-stream",rr=/constructor/i.test(n$1.HTMLElement)||n$1.safari,gr=/CriOS\/[\d]+/.test(navigator.userAgent);if((gr||ir&&rr)&&(typeof FileReader>"u"?"undefined":_typeof(FileReader))==="object"){var cr=new FileReader;cr.onloadend=function(){var ur=cr.result;ur=gr?ur:ur.replace(/^data:[^;]*;/,"data:attachment/file;"),_i?_i.location.href=ur:location=ur,_i=null},cr.readAsDataURL(St)}else{var tr=n$1.URL||n$1.webkitURL,hr=tr.createObjectURL(St);_i?_i.location=hr:location.href=hr,_i=null,setTimeout(function(){tr.revokeObjectURL(hr)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function f$1(St){var e;St=St||"",this.ok=!1,St.charAt(0)=="#"&&(St=St.substr(1,6)),St={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[St=(St=St.replace(/ /g,"")).toLowerCase()]||St;for(var _e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(cr){return[parseInt(cr[1]),parseInt(cr[2]),parseInt(cr[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(cr){return[parseInt(cr[1],16),parseInt(cr[2],16),parseInt(cr[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(cr){return[parseInt(cr[1]+cr[1],16),parseInt(cr[2]+cr[2],16),parseInt(cr[3]+cr[3],16)]}}],_i=0;_i<_e.length;_i++){var ir=_e[_i].re,rr=_e[_i].process,gr=ir.exec(St);gr&&(e=rr(gr),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var cr=this.r.toString(16),tr=this.g.toString(16),hr=this.b.toString(16);return cr.length==1&&(cr="0"+cr),tr.length==1&&(tr="0"+tr),hr.length==1&&(hr="0"+hr),"#"+cr+tr+hr}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function d(St,e){var _e=St[0],_i=St[1],ir=St[2],rr=St[3];_e=g(_e,_i,ir,rr,e[0],7,-680876936),rr=g(rr,_e,_i,ir,e[1],12,-389564586),ir=g(ir,rr,_e,_i,e[2],17,606105819),_i=g(_i,ir,rr,_e,e[3],22,-1044525330),_e=g(_e,_i,ir,rr,e[4],7,-176418897),rr=g(rr,_e,_i,ir,e[5],12,1200080426),ir=g(ir,rr,_e,_i,e[6],17,-1473231341),_i=g(_i,ir,rr,_e,e[7],22,-45705983),_e=g(_e,_i,ir,rr,e[8],7,1770035416),rr=g(rr,_e,_i,ir,e[9],12,-1958414417),ir=g(ir,rr,_e,_i,e[10],17,-42063),_i=g(_i,ir,rr,_e,e[11],22,-1990404162),_e=g(_e,_i,ir,rr,e[12],7,1804603682),rr=g(rr,_e,_i,ir,e[13],12,-40341101),ir=g(ir,rr,_e,_i,e[14],17,-1502002290),_e=m$1(_e,_i=g(_i,ir,rr,_e,e[15],22,1236535329),ir,rr,e[1],5,-165796510),rr=m$1(rr,_e,_i,ir,e[6],9,-1069501632),ir=m$1(ir,rr,_e,_i,e[11],14,643717713),_i=m$1(_i,ir,rr,_e,e[0],20,-373897302),_e=m$1(_e,_i,ir,rr,e[5],5,-701558691),rr=m$1(rr,_e,_i,ir,e[10],9,38016083),ir=m$1(ir,rr,_e,_i,e[15],14,-660478335),_i=m$1(_i,ir,rr,_e,e[4],20,-405537848),_e=m$1(_e,_i,ir,rr,e[9],5,568446438),rr=m$1(rr,_e,_i,ir,e[14],9,-1019803690),ir=m$1(ir,rr,_e,_i,e[3],14,-187363961),_i=m$1(_i,ir,rr,_e,e[8],20,1163531501),_e=m$1(_e,_i,ir,rr,e[13],5,-1444681467),rr=m$1(rr,_e,_i,ir,e[2],9,-51403784),ir=m$1(ir,rr,_e,_i,e[7],14,1735328473),_e=v$1(_e,_i=m$1(_i,ir,rr,_e,e[12],20,-1926607734),ir,rr,e[5],4,-378558),rr=v$1(rr,_e,_i,ir,e[8],11,-2022574463),ir=v$1(ir,rr,_e,_i,e[11],16,1839030562),_i=v$1(_i,ir,rr,_e,e[14],23,-35309556),_e=v$1(_e,_i,ir,rr,e[1],4,-1530992060),rr=v$1(rr,_e,_i,ir,e[4],11,1272893353),ir=v$1(ir,rr,_e,_i,e[7],16,-155497632),_i=v$1(_i,ir,rr,_e,e[10],23,-1094730640),_e=v$1(_e,_i,ir,rr,e[13],4,681279174),rr=v$1(rr,_e,_i,ir,e[0],11,-358537222),ir=v$1(ir,rr,_e,_i,e[3],16,-722521979),_i=v$1(_i,ir,rr,_e,e[6],23,76029189),_e=v$1(_e,_i,ir,rr,e[9],4,-640364487),rr=v$1(rr,_e,_i,ir,e[12],11,-421815835),ir=v$1(ir,rr,_e,_i,e[15],16,530742520),_e=b(_e,_i=v$1(_i,ir,rr,_e,e[2],23,-995338651),ir,rr,e[0],6,-198630844),rr=b(rr,_e,_i,ir,e[7],10,1126891415),ir=b(ir,rr,_e,_i,e[14],15,-1416354905),_i=b(_i,ir,rr,_e,e[5],21,-57434055),_e=b(_e,_i,ir,rr,e[12],6,1700485571),rr=b(rr,_e,_i,ir,e[3],10,-1894986606),ir=b(ir,rr,_e,_i,e[10],15,-1051523),_i=b(_i,ir,rr,_e,e[1],21,-2054922799),_e=b(_e,_i,ir,rr,e[8],6,1873313359),rr=b(rr,_e,_i,ir,e[15],10,-30611744),ir=b(ir,rr,_e,_i,e[6],15,-1560198380),_i=b(_i,ir,rr,_e,e[13],21,1309151649),_e=b(_e,_i,ir,rr,e[4],6,-145523070),rr=b(rr,_e,_i,ir,e[11],10,-1120210379),ir=b(ir,rr,_e,_i,e[2],15,718787259),_i=b(_i,ir,rr,_e,e[9],21,-343485551),St[0]=_(_e,St[0]),St[1]=_(_i,St[1]),St[2]=_(ir,St[2]),St[3]=_(rr,St[3])}function p$1(St,e,_e,_i,ir,rr){return e=_(_(e,St),_(_i,rr)),_(e<<ir|e>>>32-ir,_e)}function g(St,e,_e,_i,ir,rr,gr){return p$1(e&_e|~e&_i,St,e,ir,rr,gr)}function m$1(St,e,_e,_i,ir,rr,gr){return p$1(e&_i|_e&~_i,St,e,ir,rr,gr)}function v$1(St,e,_e,_i,ir,rr,gr){return p$1(e^_e^_i,St,e,ir,rr,gr)}function b(St,e,_e,_i,ir,rr,gr){return p$1(_e^(e|~_i),St,e,ir,rr,gr)}function y(St){var e,_e=St.length,_i=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=St.length;e+=64)d(_i,w$1(St.substring(e-64,e)));St=St.substring(e-64);var ir=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<St.length;e++)ir[e>>2]|=St.charCodeAt(e)<<(e%4<<3);if(ir[e>>2]|=128<<(e%4<<3),e>55)for(d(_i,ir),e=0;e<16;e++)ir[e]=0;return ir[14]=8*_e,d(_i,ir),_i}function w$1(St){var e,_e=[];for(e=0;e<64;e+=4)_e[e>>2]=St.charCodeAt(e)+(St.charCodeAt(e+1)<<8)+(St.charCodeAt(e+2)<<16)+(St.charCodeAt(e+3)<<24);return _e}u=n$1.atob.bind(n$1),h$1=n$1.btoa.bind(n$1);var N="0123456789abcdef".split("");function L(St){for(var e="",_e=0;_e<4;_e++)e+=N[St>>8*_e+4&15]+N[St>>8*_e&15];return e}function A(St){return String.fromCharCode((255&St)>>0,(65280&St)>>8,(16711680&St)>>16,(4278190080&St)>>24)}function x(St){return y(St).map(A).join("")}var S=function(St){for(var e=0;e<St.length;e++)St[e]=L(St[e]);return St.join("")}(y("hello"))!="5d41402abc4b2a76b9719d911017c592";function _(St,e){if(S){var _e=(65535&St)+(65535&e);return(St>>16)+(e>>16)+(_e>>16)<<16|65535&_e}return St+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function P(St,e){var _e,_i,ir,rr;if(St!==_e){for(var gr=(ir=St,rr=1+(256/St.length>>0),new Array(rr+1).join(ir)),cr=[],tr=0;tr<256;tr++)cr[tr]=tr;var hr=0;for(tr=0;tr<256;tr++){var ur=cr[tr];hr=(hr+ur+gr.charCodeAt(tr))%256,cr[tr]=cr[hr],cr[hr]=ur}_e=St,_i=cr}else cr=_i;var or=e.length,nr=0,er=0,ar="";for(tr=0;tr<or;tr++)er=(er+(ur=cr[nr=(nr+1)%256]))%256,cr[nr]=cr[er],cr[er]=ur,gr=cr[(cr[nr]+cr[er])%256],ar+=String.fromCharCode(e.charCodeAt(tr)^gr);return ar}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var k$1={print:4,modify:8,copy:16,"annot-forms":32};function I(St,e,_e,_i){this.v=1,this.r=2;var ir=192;St.forEach(function(cr){if(k$1.perm!==void 0)throw new Error("Invalid permission: "+cr);ir+=k$1[cr]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var rr=(e+this.padding).substr(0,32),gr=(_e+this.padding).substr(0,32);this.O=this.processOwnerPassword(rr,gr),this.P=-(1+(255^ir)),this.encryptionKey=x(rr+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(_i)).substr(0,5),this.U=P(this.encryptionKey,this.padding)}function F(St){if(/[^\u0000-\u00ff]/.test(St))throw new Error("Invalid PDF Name Object: "+St+", Only accept ASCII characters.");for(var e="",_e=St.length,_i=0;_i<_e;_i++){var ir=St.charCodeAt(_i);ir<33||ir===35||ir===37||ir===40||ir===41||ir===47||ir===60||ir===62||ir===91||ir===93||ir===123||ir===125||ir>126?e+="#"+("0"+ir.toString(16)).slice(-2):e+=St[_i]}return e}function C(St){if(_typeof(St)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(_e,_i,ir){if(ir=ir||!1,typeof _e!="string"||typeof _i!="function"||typeof ir!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(_e)||(e[_e]={});var rr=Math.random().toString(35);return e[_e][rr]=[_i,!!ir],rr},this.unsubscribe=function(_e){for(var _i in e)if(e[_i][_e])return delete e[_i][_e],Object.keys(e[_i]).length===0&&delete e[_i],!0;return!1},this.publish=function(_e){if(e.hasOwnProperty(_e)){var _i=Array.prototype.slice.call(arguments,1),ir=[];for(var rr in e[_e]){var gr=e[_e][rr];try{gr[0].apply(St,_i)}catch(cr){n$1.console&&a.error("jsPDF PubSub Error",cr.message,cr)}gr[1]&&ir.push(rr)}ir.length&&ir.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function j(St){if(!(this instanceof j))return new j(St);var e="opacity,stroke-opacity".split(",");for(var _e in St)St.hasOwnProperty(_e)&&e.indexOf(_e)>=0&&(this[_e]=St[_e]);this.id="",this.objectNumber=-1}function O(St,e){this.gState=St,this.matrix=e,this.id="",this.objectNumber=-1}function B(St,e,_e,_i,ir){if(!(this instanceof B))return new B(St,e,_e,_i,ir);this.type=St==="axial"?2:3,this.coords=e,this.colors=_e,O.call(this,_i,ir)}function M(St,e,_e,_i,ir){if(!(this instanceof M))return new M(St,e,_e,_i,ir);this.boundingBox=St,this.xStep=e,this.yStep=_e,this.stream="",this.cloneIndex=0,O.call(this,_i,ir)}function E(St){var e,_e=typeof arguments[0]=="string"?arguments[0]:"p",_i=arguments[1],ir=arguments[2],rr=arguments[3],gr=[],cr=1,tr=16,hr="S",ur=null;_typeof(St=St||{})==="object"&&(_e=St.orientation,_i=St.unit||_i,ir=St.format||ir,rr=St.compress||St.compressPdf||rr,(ur=St.encryption||null)!==null&&(ur.userPassword=ur.userPassword||"",ur.ownerPassword=ur.ownerPassword||"",ur.userPermissions=ur.userPermissions||[]),cr=typeof St.userUnit=="number"?Math.abs(St.userUnit):1,St.precision!==void 0&&(e=St.precision),St.floatPrecision!==void 0&&(tr=St.floatPrecision),hr=St.defaultPathOperation||"S"),gr=St.filters||(rr===!0?["FlateEncode"]:gr),_i=_i||"mm",_e=(""+(_e||"P")).toLowerCase();var or=St.putOnlyUsedFonts||!1,nr={},er={internal:{},__private__:{}};er.__private__.PubSub=C;var ar="1.3",dr=er.__private__.getPdfVersion=function(){return ar};er.__private__.setPdfVersion=function(Fr){ar=Fr};var lr={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};er.__private__.getPageFormats=function(){return lr};var sr=er.__private__.getPageFormat=function(Fr){return lr[Fr]};ir=ir||"a4";var pr={COMPAT:"compat",ADVANCED:"advanced"},mr=pr.COMPAT;function vr(){this.saveGraphicsState(),Mr(new os(Nn,0,0,-Nn,0,No()*Nn).toString()+" cm"),this.setFontSize(this.getFontSize()/Nn),hr="n",mr=pr.ADVANCED}function yr(){this.restoreGraphicsState(),hr="S",mr=pr.COMPAT}var br=er.__private__.combineFontStyleAndFontWeight=function(Fr,sn){if(Fr=="bold"&&sn=="normal"||Fr=="bold"&&sn==400||Fr=="normal"&&sn=="italic"||Fr=="bold"&&sn=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return sn&&(Fr=sn==400||sn==="normal"?Fr==="italic"?"italic":"normal":sn!=700&&sn!=="bold"||Fr!=="normal"?(sn==700?"bold":sn)+""+Fr:"bold"),Fr};er.advancedAPI=function(Fr){var sn=mr===pr.COMPAT;return sn&&vr.call(this),typeof Fr!="function"||(Fr(this),sn&&yr.call(this)),this},er.compatAPI=function(Fr){var sn=mr===pr.ADVANCED;return sn&&yr.call(this),typeof Fr!="function"||(Fr(this),sn&&vr.call(this)),this},er.isAdvancedAPI=function(){return mr===pr.ADVANCED};var _r,xr=function(Fr){if(mr!==pr.ADVANCED)throw new Error(Fr+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Nr=er.roundToPrecision=er.__private__.roundToPrecision=function(Fr,sn){var Sn=e||sn;if(isNaN(Fr)||isNaN(Sn))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return Fr.toFixed(Sn).replace(/0+$/,"")};_r=er.hpf=er.__private__.hpf=typeof tr=="number"?function(Fr){if(isNaN(Fr))throw new Error("Invalid argument passed to jsPDF.hpf");return Nr(Fr,tr)}:tr==="smart"?function(Fr){if(isNaN(Fr))throw new Error("Invalid argument passed to jsPDF.hpf");return Nr(Fr,Fr>-1&&Fr<1?16:5)}:function(Fr){if(isNaN(Fr))throw new Error("Invalid argument passed to jsPDF.hpf");return Nr(Fr,16)};var zr=er.f2=er.__private__.f2=function(Fr){if(isNaN(Fr))throw new Error("Invalid argument passed to jsPDF.f2");return Nr(Fr,2)},Tr=er.__private__.f3=function(Fr){if(isNaN(Fr))throw new Error("Invalid argument passed to jsPDF.f3");return Nr(Fr,3)},Br=er.scale=er.__private__.scale=function(Fr){if(isNaN(Fr))throw new Error("Invalid argument passed to jsPDF.scale");return mr===pr.COMPAT?Fr*Nn:mr===pr.ADVANCED?Fr:void 0},Jr=function(Fr){return mr===pr.COMPAT?No()-Fr:mr===pr.ADVANCED?Fr:void 0},Yr=function(Fr){return Br(Jr(Fr))};er.__private__.setPrecision=er.setPrecision=function(Fr){typeof parseInt(Fr,10)=="number"&&(e=parseInt(Fr,10))};var Xr,Vr="00000000000000000000000000000000",$r=er.__private__.getFileId=function(){return Vr},Lr=er.__private__.setFileId=function(Fr){return Vr=Fr!==void 0&&/^[a-fA-F0-9]{32}$/.test(Fr)?Fr.toUpperCase():Vr.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),ur!==null&&(to=new I(ur.userPermissions,ur.userPassword,ur.ownerPassword,Vr)),Vr};er.setFileId=function(Fr){return Lr(Fr),this},er.getFileId=function(){return $r()};var Er=er.__private__.convertDateToPDFDate=function(Fr){var sn=Fr.getTimezoneOffset(),Sn=sn<0?"+":"-",kn=Math.floor(Math.abs(sn/60)),On=Math.abs(sn%60),Un=[Sn,Sr(kn),"'",Sr(On),"'"].join("");return["D:",Fr.getFullYear(),Sr(Fr.getMonth()+1),Sr(Fr.getDate()),Sr(Fr.getHours()),Sr(Fr.getMinutes()),Sr(Fr.getSeconds()),Un].join("")},Hr=er.__private__.convertPDFDateToDate=function(Fr){var sn=parseInt(Fr.substr(2,4),10),Sn=parseInt(Fr.substr(6,2),10)-1,kn=parseInt(Fr.substr(8,2),10),On=parseInt(Fr.substr(10,2),10),Un=parseInt(Fr.substr(12,2),10),Jn=parseInt(Fr.substr(14,2),10);return new Date(sn,Sn,kn,On,Un,Jn,0)},Gr=er.__private__.setCreationDate=function(Fr){var sn;if(Fr===void 0&&(Fr=new Date),Fr instanceof Date)sn=Er(Fr);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(Fr))throw new Error("Invalid argument passed to jsPDF.setCreationDate");sn=Fr}return Xr=sn},Cr=er.__private__.getCreationDate=function(Fr){var sn=Xr;return Fr==="jsDate"&&(sn=Hr(Xr)),sn};er.setCreationDate=function(Fr){return Gr(Fr),this},er.getCreationDate=function(Fr){return Cr(Fr)};var kr,Sr=er.__private__.padd2=function(Fr){return("0"+parseInt(Fr)).slice(-2)},Pr=er.__private__.padd2Hex=function(Fr){return("00"+(Fr=Fr.toString())).substr(Fr.length)},jr=0,Wr=[],Kr=[],Qr=0,on=[],pn=[],fn=!1,en=Kr,Ir=function(){jr=0,Qr=0,Kr=[],Wr=[],on=[],Xs=Ts(),Ys=Ts()};er.__private__.setCustomOutputDestination=function(Fr){fn=!0,en=Fr};var Ur=function(Fr){fn||(en=Fr)};er.__private__.resetCustomOutputDestination=function(){fn=!1,en=Kr};var Mr=er.__private__.out=function(Fr){return Fr=Fr.toString(),Qr+=Fr.length+1,en.push(Fr),en},Zr=er.__private__.write=function(Fr){return Mr(arguments.length===1?Fr.toString():Array.prototype.join.call(arguments," "))},tn=er.__private__.getArrayBuffer=function(Fr){for(var sn=Fr.length,Sn=new ArrayBuffer(sn),kn=new Uint8Array(Sn);sn--;)kn[sn]=Fr.charCodeAt(sn);return Sn},an=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];er.__private__.getStandardFonts=function(){return an};var vn=St.fontSize||16;er.__private__.setFontSize=er.setFontSize=function(Fr){return vn=mr===pr.ADVANCED?Fr/Nn:Fr,this};var _n,dn=er.__private__.getFontSize=er.getFontSize=function(){return mr===pr.COMPAT?vn:vn*Nn},Pn=St.R2L||!1;er.__private__.setR2L=er.setR2L=function(Fr){return Pn=Fr,this},er.__private__.getR2L=er.getR2L=function(){return Pn};var gn,In=er.__private__.setZoomMode=function(Fr){var sn=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(Fr))_n=Fr;else if(isNaN(Fr)){if(sn.indexOf(Fr)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+Fr+'" is not recognized.');_n=Fr}else _n=parseInt(Fr,10)};er.__private__.getZoomMode=function(){return _n};var Rn,zn=er.__private__.setPageMode=function(Fr){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(Fr)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+Fr+'" is not recognized.');gn=Fr};er.__private__.getPageMode=function(){return gn};var Cn=er.__private__.setLayoutMode=function(Fr){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(Fr)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+Fr+'" is not recognized.');Rn=Fr};er.__private__.getLayoutMode=function(){return Rn},er.__private__.setDisplayMode=er.setDisplayMode=function(Fr,sn,Sn){return In(Fr),Cn(sn),zn(Sn),this};var Dn={title:"",subject:"",author:"",keywords:"",creator:""};er.__private__.getDocumentProperty=function(Fr){if(Object.keys(Dn).indexOf(Fr)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Dn[Fr]},er.__private__.getDocumentProperties=function(){return Dn},er.__private__.setDocumentProperties=er.setProperties=er.setDocumentProperties=function(Fr){for(var sn in Dn)Dn.hasOwnProperty(sn)&&Fr[sn]&&(Dn[sn]=Fr[sn]);return this},er.__private__.setDocumentProperty=function(Fr,sn){if(Object.keys(Dn).indexOf(Fr)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Dn[Fr]=sn};var Kn,Nn,ds,as,cs,Ss={},Ms={},xn=[],bn={},En={},Wn={},es={},fs=null,Zn=0,ts=[],us=new C(er),vs=St.hotfixes||[],ys={},Cs={},gs=[],os=function Fr(sn,Sn,kn,On,Un,Jn){if(!(this instanceof Fr))return new Fr(sn,Sn,kn,On,Un,Jn);isNaN(sn)&&(sn=1),isNaN(Sn)&&(Sn=0),isNaN(kn)&&(kn=0),isNaN(On)&&(On=1),isNaN(Un)&&(Un=0),isNaN(Jn)&&(Jn=0),this._matrix=[sn,Sn,kn,On,Un,Jn]};Object.defineProperty(os.prototype,"sx",{get:function(){return this._matrix[0]},set:function(Fr){this._matrix[0]=Fr}}),Object.defineProperty(os.prototype,"shy",{get:function(){return this._matrix[1]},set:function(Fr){this._matrix[1]=Fr}}),Object.defineProperty(os.prototype,"shx",{get:function(){return this._matrix[2]},set:function(Fr){this._matrix[2]=Fr}}),Object.defineProperty(os.prototype,"sy",{get:function(){return this._matrix[3]},set:function(Fr){this._matrix[3]=Fr}}),Object.defineProperty(os.prototype,"tx",{get:function(){return this._matrix[4]},set:function(Fr){this._matrix[4]=Fr}}),Object.defineProperty(os.prototype,"ty",{get:function(){return this._matrix[5]},set:function(Fr){this._matrix[5]=Fr}}),Object.defineProperty(os.prototype,"a",{get:function(){return this._matrix[0]},set:function(Fr){this._matrix[0]=Fr}}),Object.defineProperty(os.prototype,"b",{get:function(){return this._matrix[1]},set:function(Fr){this._matrix[1]=Fr}}),Object.defineProperty(os.prototype,"c",{get:function(){return this._matrix[2]},set:function(Fr){this._matrix[2]=Fr}}),Object.defineProperty(os.prototype,"d",{get:function(){return this._matrix[3]},set:function(Fr){this._matrix[3]=Fr}}),Object.defineProperty(os.prototype,"e",{get:function(){return this._matrix[4]},set:function(Fr){this._matrix[4]=Fr}}),Object.defineProperty(os.prototype,"f",{get:function(){return this._matrix[5]},set:function(Fr){this._matrix[5]=Fr}}),Object.defineProperty(os.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(os.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(os.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(os.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),os.prototype.join=function(Fr){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(_r).join(Fr)},os.prototype.multiply=function(Fr){var sn=Fr.sx*this.sx+Fr.shy*this.shx,Sn=Fr.sx*this.shy+Fr.shy*this.sy,kn=Fr.shx*this.sx+Fr.sy*this.shx,On=Fr.shx*this.shy+Fr.sy*this.sy,Un=Fr.tx*this.sx+Fr.ty*this.shx+this.tx,Jn=Fr.tx*this.shy+Fr.ty*this.sy+this.ty;return new os(sn,Sn,kn,On,Un,Jn)},os.prototype.decompose=function(){var Fr=this.sx,sn=this.shy,Sn=this.shx,kn=this.sy,On=this.tx,Un=this.ty,Jn=Math.sqrt(Fr*Fr+sn*sn),ss=(Fr/=Jn)*Sn+(sn/=Jn)*kn;Sn-=Fr*ss,kn-=sn*ss;var ps=Math.sqrt(Sn*Sn+kn*kn);return ss/=ps,Fr*(kn/=ps)<sn*(Sn/=ps)&&(Fr=-Fr,sn=-sn,ss=-ss,Jn=-Jn),{scale:new os(Jn,0,0,ps,0,0),translate:new os(1,0,0,1,On,Un),rotate:new os(Fr,sn,-sn,Fr,0,0),skew:new os(1,0,ss,1,0,0)}},os.prototype.toString=function(Fr){return this.join(" ")},os.prototype.inversed=function(){var Fr=this.sx,sn=this.shy,Sn=this.shx,kn=this.sy,On=this.tx,Un=this.ty,Jn=1/(Fr*kn-sn*Sn),ss=kn*Jn,ps=-sn*Jn,_s=-Sn*Jn,xs=Fr*Jn;return new os(ss,ps,_s,xs,-ss*On-_s*Un,-ps*On-xs*Un)},os.prototype.applyToPoint=function(Fr){var sn=Fr.x*this.sx+Fr.y*this.shx+this.tx,Sn=Fr.x*this.shy+Fr.y*this.sy+this.ty;return new ru(sn,Sn)},os.prototype.applyToRectangle=function(Fr){var sn=this.applyToPoint(Fr),Sn=this.applyToPoint(new ru(Fr.x+Fr.w,Fr.y+Fr.h));return new Mu(sn.x,sn.y,Sn.x-sn.x,Sn.y-sn.y)},os.prototype.clone=function(){var Fr=this.sx,sn=this.shy,Sn=this.shx,kn=this.sy,On=this.tx,Un=this.ty;return new os(Fr,sn,Sn,kn,On,Un)},er.Matrix=os;var ws=er.matrixMult=function(Fr,sn){return sn.multiply(Fr)},Ns=new os(1,0,0,1,0,0);er.unitMatrix=er.identityMatrix=Ns;var Ls=function(Fr,sn){if(!En[Fr]){var Sn=(sn instanceof B?"Sh":"P")+(Object.keys(bn).length+1).toString(10);sn.id=Sn,En[Fr]=Sn,bn[Sn]=sn,us.publish("addPattern",sn)}};er.ShadingPattern=B,er.TilingPattern=M,er.addShadingPattern=function(Fr,sn){return xr("addShadingPattern()"),Ls(Fr,sn),this},er.beginTilingPattern=function(Fr){xr("beginTilingPattern()"),lp(Fr.boundingBox[0],Fr.boundingBox[1],Fr.boundingBox[2]-Fr.boundingBox[0],Fr.boundingBox[3]-Fr.boundingBox[1],Fr.matrix)},er.endTilingPattern=function(Fr,sn){xr("endTilingPattern()"),sn.stream=pn[kr].join(`
`),Ls(Fr,sn),us.publish("endTilingPattern",sn),gs.pop().restore()};var Es=er.__private__.newObject=function(){var Fr=Ts();return Vs(Fr,!0),Fr},Ts=er.__private__.newObjectDeferred=function(){return jr++,Wr[jr]=function(){return Qr},jr},Vs=function(Fr,sn){return sn=typeof sn=="boolean"&&sn,Wr[Fr]=Qr,sn&&Mr(Fr+" 0 obj"),Fr},zs=er.__private__.newAdditionalObject=function(){var Fr={objId:Ts(),content:""};return on.push(Fr),Fr},Xs=Ts(),Ys=Ts(),$a=er.__private__.decodeColorString=function(Fr){var sn=Fr.split(" ");if(sn.length!==2||sn[1]!=="g"&&sn[1]!=="G")sn.length===5&&(sn[4]==="k"||sn[4]==="K")&&(sn=[(1-sn[0])*(1-sn[3]),(1-sn[1])*(1-sn[3]),(1-sn[2])*(1-sn[3]),"r"]);else{var Sn=parseFloat(sn[0]);sn=[Sn,Sn,Sn,"r"]}for(var kn="#",On=0;On<3;On++)kn+=("0"+Math.floor(255*parseFloat(sn[On])).toString(16)).slice(-2);return kn},lo=er.__private__.encodeColorString=function(Fr){var sn;typeof Fr=="string"&&(Fr={ch1:Fr});var Sn=Fr.ch1,kn=Fr.ch2,On=Fr.ch3,Un=Fr.ch4,Jn=Fr.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Sn=="string"&&Sn.charAt(0)!=="#"){var ss=new f$1(Sn);if(ss.ok)Sn=ss.toHex();else if(!/^\d*\.?\d*$/.test(Sn))throw new Error('Invalid color "'+Sn+'" passed to jsPDF.encodeColorString.')}if(typeof Sn=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Sn)&&(Sn="#"+Sn[1]+Sn[1]+Sn[2]+Sn[2]+Sn[3]+Sn[3]),typeof Sn=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Sn)){var ps=parseInt(Sn.substr(1),16);Sn=ps>>16&255,kn=ps>>8&255,On=255&ps}if(kn===void 0||Un===void 0&&Sn===kn&&kn===On)if(typeof Sn=="string")sn=Sn+" "+Jn[0];else switch(Fr.precision){case 2:sn=zr(Sn/255)+" "+Jn[0];break;case 3:default:sn=Tr(Sn/255)+" "+Jn[0]}else if(Un===void 0||_typeof(Un)==="object"){if(Un&&!isNaN(Un.a)&&Un.a===0)return sn=["1.","1.","1.",Jn[1]].join(" ");if(typeof Sn=="string")sn=[Sn,kn,On,Jn[1]].join(" ");else switch(Fr.precision){case 2:sn=[zr(Sn/255),zr(kn/255),zr(On/255),Jn[1]].join(" ");break;default:case 3:sn=[Tr(Sn/255),Tr(kn/255),Tr(On/255),Jn[1]].join(" ")}}else if(typeof Sn=="string")sn=[Sn,kn,On,Un,Jn[2]].join(" ");else switch(Fr.precision){case 2:sn=[zr(Sn),zr(kn),zr(On),zr(Un),Jn[2]].join(" ");break;case 3:default:sn=[Tr(Sn),Tr(kn),Tr(On),Tr(Un),Jn[2]].join(" ")}return sn},Mo=er.__private__.getFilters=function(){return gr},ho=er.__private__.putStream=function(Fr){var sn=(Fr=Fr||{}).data||"",Sn=Fr.filters||Mo(),kn=Fr.alreadyAppliedFilters||[],On=Fr.addLength1||!1,Un=sn.length,Jn=Fr.objectId,ss=function(eo){return eo};if(ur!==null&&Jn===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");ur!==null&&(ss=to.encryptor(Jn,0));var ps={};Sn===!0&&(Sn=["FlateEncode"]);var _s=Fr.additionalKeyValues||[],xs=(ps=E.API.processDataByFilters!==void 0?E.API.processDataByFilters(sn,Sn):{data:sn,reverseChain:[]}).reverseChain+(Array.isArray(kn)?kn.join(" "):kn.toString());if(ps.data.length!==0&&(_s.push({key:"Length",value:ps.data.length}),On===!0&&_s.push({key:"Length1",value:Un})),xs.length!=0)if(xs.split("/").length-1==1)_s.push({key:"Filter",value:xs});else{_s.push({key:"Filter",value:"["+xs+"]"});for(var ks=0;ks<_s.length;ks+=1)if(_s[ks].key==="DecodeParms"){for(var Hs=[],Ws=0;Ws<ps.reverseChain.split("/").length-1;Ws+=1)Hs.push("null");Hs.push(_s[ks].value),_s[ks].value="["+Hs.join(" ")+"]"}}Mr("<<");for(var Ks=0;Ks<_s.length;Ks++)Mr("/"+_s[Ks].key+" "+_s[Ks].value);Mr(">>"),ps.data.length!==0&&(Mr("stream"),Mr(ss(ps.data)),Mr("endstream"))},co=er.__private__.putPage=function(Fr){var sn=Fr.number,Sn=Fr.data,kn=Fr.objId,On=Fr.contentsObjId;Vs(kn,!0),Mr("<</Type /Page"),Mr("/Parent "+Fr.rootDictionaryObjId+" 0 R"),Mr("/Resources "+Fr.resourceDictionaryObjId+" 0 R"),Mr("/MediaBox ["+parseFloat(_r(Fr.mediaBox.bottomLeftX))+" "+parseFloat(_r(Fr.mediaBox.bottomLeftY))+" "+_r(Fr.mediaBox.topRightX)+" "+_r(Fr.mediaBox.topRightY)+"]"),Fr.cropBox!==null&&Mr("/CropBox ["+_r(Fr.cropBox.bottomLeftX)+" "+_r(Fr.cropBox.bottomLeftY)+" "+_r(Fr.cropBox.topRightX)+" "+_r(Fr.cropBox.topRightY)+"]"),Fr.bleedBox!==null&&Mr("/BleedBox ["+_r(Fr.bleedBox.bottomLeftX)+" "+_r(Fr.bleedBox.bottomLeftY)+" "+_r(Fr.bleedBox.topRightX)+" "+_r(Fr.bleedBox.topRightY)+"]"),Fr.trimBox!==null&&Mr("/TrimBox ["+_r(Fr.trimBox.bottomLeftX)+" "+_r(Fr.trimBox.bottomLeftY)+" "+_r(Fr.trimBox.topRightX)+" "+_r(Fr.trimBox.topRightY)+"]"),Fr.artBox!==null&&Mr("/ArtBox ["+_r(Fr.artBox.bottomLeftX)+" "+_r(Fr.artBox.bottomLeftY)+" "+_r(Fr.artBox.topRightX)+" "+_r(Fr.artBox.topRightY)+"]"),typeof Fr.userUnit=="number"&&Fr.userUnit!==1&&Mr("/UserUnit "+Fr.userUnit),us.publish("putPage",{objId:kn,pageContext:ts[sn],pageNumber:sn,page:Sn}),Mr("/Contents "+On+" 0 R"),Mr(">>"),Mr("endobj");var Un=Sn.join(`
`);return mr===pr.ADVANCED&&(Un+=`
Q`),Vs(On,!0),ho({data:Un,filters:Mo(),objectId:On}),Mr("endobj"),kn},yl=er.__private__.putPages=function(){var Fr,sn,Sn=[];for(Fr=1;Fr<=Zn;Fr++)ts[Fr].objId=Ts(),ts[Fr].contentsObjId=Ts();for(Fr=1;Fr<=Zn;Fr++)Sn.push(co({number:Fr,data:pn[Fr],objId:ts[Fr].objId,contentsObjId:ts[Fr].contentsObjId,mediaBox:ts[Fr].mediaBox,cropBox:ts[Fr].cropBox,bleedBox:ts[Fr].bleedBox,trimBox:ts[Fr].trimBox,artBox:ts[Fr].artBox,userUnit:ts[Fr].userUnit,rootDictionaryObjId:Xs,resourceDictionaryObjId:Ys}));Vs(Xs,!0),Mr("<</Type /Pages");var kn="/Kids [";for(sn=0;sn<Zn;sn++)kn+=Sn[sn]+" 0 R ";Mr(kn+"]"),Mr("/Count "+Zn),Mr(">>"),Mr("endobj"),us.publish("postPutPages")},Ho=function(Fr){us.publish("putFont",{font:Fr,out:Mr,newObject:Es,putStream:ho}),Fr.isAlreadyPutted!==!0&&(Fr.objectNumber=Es(),Mr("<<"),Mr("/Type /Font"),Mr("/BaseFont /"+F(Fr.postScriptName)),Mr("/Subtype /Type1"),typeof Fr.encoding=="string"&&Mr("/Encoding /"+Fr.encoding),Mr("/FirstChar 32"),Mr("/LastChar 255"),Mr(">>"),Mr("endobj"))},Zs=function(){for(var Fr in Ss)Ss.hasOwnProperty(Fr)&&(or===!1||or===!0&&nr.hasOwnProperty(Fr))&&Ho(Ss[Fr])},Wl=function(Fr){Fr.objectNumber=Es();var sn=[];sn.push({key:"Type",value:"/XObject"}),sn.push({key:"Subtype",value:"/Form"}),sn.push({key:"BBox",value:"["+[_r(Fr.x),_r(Fr.y),_r(Fr.x+Fr.width),_r(Fr.y+Fr.height)].join(" ")+"]"}),sn.push({key:"Matrix",value:"["+Fr.matrix.toString()+"]"});var Sn=Fr.pages[1].join(`
`);ho({data:Sn,additionalKeyValues:sn,objectId:Fr.objectNumber}),Mr("endobj")},Gl=function(){for(var Fr in ys)ys.hasOwnProperty(Fr)&&Wl(ys[Fr])},Hu=function(Fr,sn){var Sn,kn=[],On=1/(sn-1);for(Sn=0;Sn<1;Sn+=On)kn.push(Sn);if(kn.push(1),Fr[0].offset!=0){var Un={offset:0,color:Fr[0].color};Fr.unshift(Un)}if(Fr[Fr.length-1].offset!=1){var Jn={offset:1,color:Fr[Fr.length-1].color};Fr.push(Jn)}for(var ss="",ps=0,_s=0;_s<kn.length;_s++){for(Sn=kn[_s];Sn>Fr[ps+1].offset;)ps++;var xs=Fr[ps].offset,ks=(Sn-xs)/(Fr[ps+1].offset-xs),Hs=Fr[ps].color,Ws=Fr[ps+1].color;ss+=Pr(Math.round((1-ks)*Hs[0]+ks*Ws[0]).toString(16))+Pr(Math.round((1-ks)*Hs[1]+ks*Ws[1]).toString(16))+Pr(Math.round((1-ks)*Hs[2]+ks*Ws[2]).toString(16))}return ss.trim()},Wu=function(Fr,sn){sn||(sn=21);var Sn=Es(),kn=Hu(Fr.colors,sn),On=[];On.push({key:"FunctionType",value:"0"}),On.push({key:"Domain",value:"[0.0 1.0]"}),On.push({key:"Size",value:"["+sn+"]"}),On.push({key:"BitsPerSample",value:"8"}),On.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),On.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ho({data:kn,additionalKeyValues:On,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Sn}),Mr("endobj"),Fr.objectNumber=Es(),Mr("<< /ShadingType "+Fr.type),Mr("/ColorSpace /DeviceRGB");var Un="/Coords ["+_r(parseFloat(Fr.coords[0]))+" "+_r(parseFloat(Fr.coords[1]))+" ";Fr.type===2?Un+=_r(parseFloat(Fr.coords[2]))+" "+_r(parseFloat(Fr.coords[3])):Un+=_r(parseFloat(Fr.coords[2]))+" "+_r(parseFloat(Fr.coords[3]))+" "+_r(parseFloat(Fr.coords[4]))+" "+_r(parseFloat(Fr.coords[5])),Mr(Un+="]"),Fr.matrix&&Mr("/Matrix ["+Fr.matrix.toString()+"]"),Mr("/Function "+Sn+" 0 R"),Mr("/Extend [true true]"),Mr(">>"),Mr("endobj")},gp=function(Fr,sn){var Sn=Ts(),kn=Es();sn.push({resourcesOid:Sn,objectOid:kn}),Fr.objectNumber=kn;var On=[];On.push({key:"Type",value:"/Pattern"}),On.push({key:"PatternType",value:"1"}),On.push({key:"PaintType",value:"1"}),On.push({key:"TilingType",value:"1"}),On.push({key:"BBox",value:"["+Fr.boundingBox.map(_r).join(" ")+"]"}),On.push({key:"XStep",value:_r(Fr.xStep)}),On.push({key:"YStep",value:_r(Fr.yStep)}),On.push({key:"Resources",value:Sn+" 0 R"}),Fr.matrix&&On.push({key:"Matrix",value:"["+Fr.matrix.toString()+"]"}),ho({data:Fr.stream,additionalKeyValues:On,objectId:Fr.objectNumber}),Mr("endobj")},Xl=function(Fr){var sn;for(sn in bn)bn.hasOwnProperty(sn)&&(bn[sn]instanceof B?Wu(bn[sn]):bn[sn]instanceof M&&gp(bn[sn],Fr))},Gu=function(Fr){for(var sn in Fr.objectNumber=Es(),Mr("<<"),Fr)switch(sn){case"opacity":Mr("/ca "+zr(Fr[sn]));break;case"stroke-opacity":Mr("/CA "+zr(Fr[sn]))}Mr(">>"),Mr("endobj")},qu=function(){var Fr;for(Fr in Wn)Wn.hasOwnProperty(Fr)&&Gu(Wn[Fr])},Su=function(){for(var Fr in Mr("/XObject <<"),ys)ys.hasOwnProperty(Fr)&&ys[Fr].objectNumber>=0&&Mr("/"+Fr+" "+ys[Fr].objectNumber+" 0 R");us.publish("putXobjectDict"),Mr(">>")},Xu=function(){to.oid=Es(),Mr("<<"),Mr("/Filter /Standard"),Mr("/V "+to.v),Mr("/R "+to.r),Mr("/U <"+to.toHexString(to.U)+">"),Mr("/O <"+to.toHexString(to.O)+">"),Mr("/P "+to.P),Mr(">>"),Mr("endobj")},Yu=function(){for(var Fr in Mr("/Font <<"),Ss)Ss.hasOwnProperty(Fr)&&(or===!1||or===!0&&nr.hasOwnProperty(Fr))&&Mr("/"+Fr+" "+Ss[Fr].objectNumber+" 0 R");Mr(">>")},vp=function(){if(Object.keys(bn).length>0){for(var Fr in Mr("/Shading <<"),bn)bn.hasOwnProperty(Fr)&&bn[Fr]instanceof B&&bn[Fr].objectNumber>=0&&Mr("/"+Fr+" "+bn[Fr].objectNumber+" 0 R");us.publish("putShadingPatternDict"),Mr(">>")}},Yl=function(Fr){if(Object.keys(bn).length>0){for(var sn in Mr("/Pattern <<"),bn)bn.hasOwnProperty(sn)&&bn[sn]instanceof er.TilingPattern&&bn[sn].objectNumber>=0&&bn[sn].objectNumber<Fr&&Mr("/"+sn+" "+bn[sn].objectNumber+" 0 R");us.publish("putTilingPatternDict"),Mr(">>")}},yp=function(){if(Object.keys(Wn).length>0){var Fr;for(Fr in Mr("/ExtGState <<"),Wn)Wn.hasOwnProperty(Fr)&&Wn[Fr].objectNumber>=0&&Mr("/"+Fr+" "+Wn[Fr].objectNumber+" 0 R");us.publish("putGStateDict"),Mr(">>")}},qs=function(Fr){Vs(Fr.resourcesOid,!0),Mr("<<"),Mr("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Yu(),vp(),Yl(Fr.objectOid),yp(),Su(),Mr(">>"),Mr("endobj")},Ku=function(){var Fr=[];Zs(),qu(),Gl(),Xl(Fr),us.publish("putResources"),Fr.forEach(qs),qs({resourcesOid:Ys,objectOid:Number.MAX_SAFE_INTEGER}),us.publish("postPutResources")},Qu=function(){us.publish("putAdditionalObjects");for(var Fr=0;Fr<on.length;Fr++){var sn=on[Fr];Vs(sn.objId,!0),Mr(sn.content),Mr("endobj")}us.publish("postPutAdditionalObjects")},Au=function(Fr){Ms[Fr.fontName]=Ms[Fr.fontName]||{},Ms[Fr.fontName][Fr.fontStyle]=Fr.id},Kl=function(Fr,sn,Sn,kn,On){var Un={id:"F"+(Object.keys(Ss).length+1).toString(10),postScriptName:Fr,fontName:sn,fontStyle:Sn,encoding:kn,isStandardFont:On||!1,metadata:{}};return us.publish("addFont",{font:Un,instance:this}),Ss[Un.id]=Un,Au(Un),Un.id},bp=function(Fr){for(var sn=0,Sn=an.length;sn<Sn;sn++){var kn=Kl.call(this,Fr[sn][0],Fr[sn][1],Fr[sn][2],an[sn][3],!0);or===!1&&(nr[kn]=!0);var On=Fr[sn][0].split("-");Au({id:kn,fontName:On[0],fontStyle:On[1]||""})}us.publish("addFonts",{fonts:Ss,dictionary:Ms})},Ao=function(Fr){return Fr.foo=function(){try{return Fr.apply(this,arguments)}catch(kn){var sn=kn.stack||"";~sn.indexOf(" at ")&&(sn=sn.split(" at ")[1]);var Sn="Error in function "+sn.split(`
`)[0].split("<")[0]+": "+kn.message;if(!n$1.console)throw new Error(Sn);n$1.console.error(Sn,kn),n$1.alert&&alert(Sn)}},Fr.foo.bar=Fr,Fr.foo},Ql=function(Fr,sn){var Sn,kn,On,Un,Jn,ss,ps,_s,xs;if(On=(sn=sn||{}).sourceEncoding||"Unicode",Jn=sn.outputEncoding,(sn.autoencode||Jn)&&Ss[Kn].metadata&&Ss[Kn].metadata[On]&&Ss[Kn].metadata[On].encoding&&(Un=Ss[Kn].metadata[On].encoding,!Jn&&Ss[Kn].encoding&&(Jn=Ss[Kn].encoding),!Jn&&Un.codePages&&(Jn=Un.codePages[0]),typeof Jn=="string"&&(Jn=Un[Jn]),Jn)){for(ps=!1,ss=[],Sn=0,kn=Fr.length;Sn<kn;Sn++)(_s=Jn[Fr.charCodeAt(Sn)])?ss.push(String.fromCharCode(_s)):ss.push(Fr[Sn]),ss[Sn].charCodeAt(0)>>8&&(ps=!0);Fr=ss.join("")}for(Sn=Fr.length;ps===void 0&&Sn!==0;)Fr.charCodeAt(Sn-1)>>8&&(ps=!0),Sn--;if(!ps)return Fr;for(ss=sn.noBOM?[]:[254,255],Sn=0,kn=Fr.length;Sn<kn;Sn++){if((xs=(_s=Fr.charCodeAt(Sn))>>8)>>8)throw new Error("Character at position "+Sn+" of string '"+Fr+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ss.push(xs),ss.push(_s-(xs<<8))}return String.fromCharCode.apply(void 0,ss)},so=er.__private__.pdfEscape=er.pdfEscape=function(Fr,sn){return Ql(Fr,sn).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Cu=er.__private__.beginPage=function(Fr){pn[++Zn]=[],ts[Zn]={objId:0,contentsObjId:0,userUnit:Number(cr),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(Fr[0]),topRightY:Number(Fr[1])}},Eu(Zn),Ur(pn[kr])},Ju=function(Fr,sn){var Sn,kn,On;switch(_e=sn||_e,typeof Fr=="string"&&(Sn=sr(Fr.toLowerCase()),Array.isArray(Sn)&&(kn=Sn[0],On=Sn[1])),Array.isArray(Fr)&&(kn=Fr[0]*Nn,On=Fr[1]*Nn),isNaN(kn)&&(kn=ir[0],On=ir[1]),(kn>14400||On>14400)&&(a.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),kn=Math.min(14400,kn),On=Math.min(14400,On)),ir=[kn,On],_e.substr(0,1)){case"l":On>kn&&(ir=[On,kn]);break;case"p":kn>On&&(ir=[On,kn])}Cu(ir),Fu(Tu),Mr(Co),iu!==0&&Mr(iu+" J"),Nl!==0&&Mr(Nl+" j"),us.publish("addPage",{pageNumber:Zn})},_l=function(Fr){Fr>0&&Fr<=Zn&&(pn.splice(Fr,1),ts.splice(Fr,1),Zn--,kr>Zn&&(kr=Zn),this.setPage(kr))},Eu=function(Fr){Fr>0&&Fr<=Zn&&(kr=Fr)},wp=er.__private__.getNumberOfPages=er.getNumberOfPages=function(){return pn.length-1},Jl=function(Fr,sn,Sn){var kn,On=void 0;return Sn=Sn||{},Fr=Fr!==void 0?Fr:Ss[Kn].fontName,sn=sn!==void 0?sn:Ss[Kn].fontStyle,kn=Fr.toLowerCase(),Ms[kn]!==void 0&&Ms[kn][sn]!==void 0?On=Ms[kn][sn]:Ms[Fr]!==void 0&&Ms[Fr][sn]!==void 0?On=Ms[Fr][sn]:Sn.disableWarning===!1&&a.warn("Unable to look up font label for font '"+Fr+"', '"+sn+"'. Refer to getFontList() for available fonts."),On||Sn.noFallback||(On=Ms.times[sn])==null&&(On=Ms.times.normal),On},Zu=er.__private__.putInfo=function(){var Fr=Es(),sn=function(kn){return kn};for(var Sn in ur!==null&&(sn=to.encryptor(Fr,0)),Mr("<<"),Mr("/Producer ("+so(sn("jsPDF "+E.version))+")"),Dn)Dn.hasOwnProperty(Sn)&&Dn[Sn]&&Mr("/"+Sn.substr(0,1).toUpperCase()+Sn.substr(1)+" ("+so(sn(Dn[Sn]))+")");Mr("/CreationDate ("+so(sn(Xr))+")"),Mr(">>"),Mr("endobj")},ku=er.__private__.putCatalog=function(Fr){var sn=(Fr=Fr||{}).rootDictionaryObjId||Xs;switch(Es(),Mr("<<"),Mr("/Type /Catalog"),Mr("/Pages "+sn+" 0 R"),_n||(_n="fullwidth"),_n){case"fullwidth":Mr("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Mr("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Mr("/OpenAction [3 0 R /Fit]");break;case"original":Mr("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Sn=""+_n;Sn.substr(Sn.length-1)==="%"&&(_n=parseInt(_n)/100),typeof _n=="number"&&Mr("/OpenAction [3 0 R /XYZ null null "+zr(_n)+"]")}switch(Rn||(Rn="continuous"),Rn){case"continuous":Mr("/PageLayout /OneColumn");break;case"single":Mr("/PageLayout /SinglePage");break;case"two":case"twoleft":Mr("/PageLayout /TwoColumnLeft");break;case"tworight":Mr("/PageLayout /TwoColumnRight")}gn&&Mr("/PageMode /"+gn),us.publish("putCatalog"),Mr(">>"),Mr("endobj")},_p=er.__private__.putTrailer=function(){Mr("trailer"),Mr("<<"),Mr("/Size "+(jr+1)),Mr("/Root "+jr+" 0 R"),Mr("/Info "+(jr-1)+" 0 R"),ur!==null&&Mr("/Encrypt "+to.oid+" 0 R"),Mr("/ID [ <"+Vr+"> <"+Vr+"> ]"),Mr(">>")},xp=er.__private__.putHeader=function(){Mr("%PDF-"+ar),Mr("%\xBA\xDF\xAC\xE0")},Sp=er.__private__.putXRef=function(){var Fr="0000000000";Mr("xref"),Mr("0 "+(jr+1)),Mr("0000000000 65535 f ");for(var sn=1;sn<=jr;sn++)typeof Wr[sn]=="function"?Mr((Fr+Wr[sn]()).slice(-10)+" 00000 n "):Wr[sn]!==void 0?Mr((Fr+Wr[sn]).slice(-10)+" 00000 n "):Mr("0000000000 00000 n ")},Wo=er.__private__.buildDocument=function(){Ir(),Ur(Kr),us.publish("buildDocument"),xp(),yl(),Qu(),Ku(),ur!==null&&Xu(),Zu(),ku();var Fr=Qr;return Sp(),_p(),Mr("startxref"),Mr(""+Fr),Mr("%%EOF"),Ur(pn[kr]),Kr.join(`
`)},Zl=er.__private__.getBlob=function(Fr){return new Blob([tn(Fr)],{type:"application/pdf"})},Io=er.output=er.__private__.output=Ao(function(Fr,sn){switch(typeof(sn=sn||{})=="string"?sn={filename:sn}:sn.filename=sn.filename||"generated.pdf",Fr){case void 0:return Wo();case"save":er.save(sn.filename);break;case"arraybuffer":return tn(Wo());case"blob":return Zl(Wo());case"bloburi":case"bloburl":if(n$1.URL!==void 0&&typeof n$1.URL.createObjectURL=="function")return n$1.URL&&n$1.URL.createObjectURL(Zl(Wo()))||void 0;a.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Sn="",kn=Wo();try{Sn=h$1(kn)}catch{Sn=h$1(unescape(encodeURIComponent(kn)))}return"data:application/pdf;filename="+sn.filename+";base64,"+Sn;case"pdfobjectnewwindow":if(Object.prototype.toString.call(n$1)==="[object Window]"){var On="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Un=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';sn.pdfObjectUrl&&(On=sn.pdfObjectUrl,Un="");var Jn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+On+'"'+Un+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(sn)+");<\/script></body></html>",ss=n$1.open();return ss!==null&&ss.document.write(Jn),ss}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(n$1)==="[object Window]"){var ps='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(sn.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+sn.filename+'" width="500px" height="400px" /></body></html>',_s=n$1.open();if(_s!==null){_s.document.write(ps);var xs=this;_s.document.documentElement.querySelector("#pdfViewer").onload=function(){_s.document.title=sn.filename,_s.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(xs.output("bloburl"))}}return _s}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(n$1)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ks='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",sn)+'"></iframe></body></html>',Hs=n$1.open();if(Hs!==null&&(Hs.document.write(ks),Hs.document.title=sn.filename),Hs||typeof safari>"u")return Hs;break;case"datauri":case"dataurl":return n$1.document.location.href=this.output("datauristring",sn);default:return null}}),_f=function(Fr){return Array.isArray(vs)===!0&&vs.indexOf(Fr)>-1};switch(_i){case"pt":Nn=1;break;case"mm":Nn=72/25.4;break;case"cm":Nn=72/2.54;break;case"in":Nn=72;break;case"px":Nn=_f("px_scaling")==1?.75:96/72;break;case"pc":case"em":Nn=12;break;case"ex":Nn=6;break;default:if(typeof _i!="number")throw new Error("Invalid unit: "+_i);Nn=_i}var to=null;Gr(),Lr();var Ap=function(Fr){return ur!==null?to.encryptor(Fr,0):function(sn){return sn}},_d=er.__private__.getPageInfo=er.getPageInfo=function(Fr){if(isNaN(Fr)||Fr%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ts[Fr].objId,pageNumber:Fr,pageContext:ts[Fr]}},bs=er.__private__.getPageInfoByObjId=function(Fr){if(isNaN(Fr)||Fr%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var sn in ts)if(ts[sn].objId===Fr)break;return _d(sn)},Cp=er.__private__.getCurrentPageInfo=er.getCurrentPageInfo=function(){return{objId:ts[kr].objId,pageNumber:kr,pageContext:ts[kr]}};er.addPage=function(){return Ju.apply(this,arguments),this},er.setPage=function(){return Eu.apply(this,arguments),Ur.call(this,pn[kr]),this},er.insertPage=function(Fr){return this.addPage(),this.movePage(kr,Fr),this},er.movePage=function(Fr,sn){var Sn,kn;if(Fr>sn){Sn=pn[Fr],kn=ts[Fr];for(var On=Fr;On>sn;On--)pn[On]=pn[On-1],ts[On]=ts[On-1];pn[sn]=Sn,ts[sn]=kn,this.setPage(sn)}else if(Fr<sn){Sn=pn[Fr],kn=ts[Fr];for(var Un=Fr;Un<sn;Un++)pn[Un]=pn[Un+1],ts[Un]=ts[Un+1];pn[sn]=Sn,ts[sn]=kn,this.setPage(sn)}return this},er.deletePage=function(){return _l.apply(this,arguments),this},er.__private__.text=er.text=function(Fr,sn,Sn,kn,On){var Un,Jn,ss,ps,_s,xs,ks,Hs,Ws,Ks=(kn=kn||{}).scope||this;if(typeof Fr=="number"&&typeof sn=="number"&&(typeof Sn=="string"||Array.isArray(Sn))){var eo=Sn;Sn=sn,sn=Fr,Fr=eo}if(arguments[3]instanceof os?(xr("The transform parameter of text() with a Matrix value"),Ws=On):(ss=arguments[4],ps=arguments[5],_typeof(ks=arguments[3])==="object"&&ks!==null||(typeof ss=="string"&&(ps=ss,ss=null),typeof ks=="string"&&(ps=ks,ks=null),typeof ks=="number"&&(ss=ks,ks=null),kn={flags:ks,angle:ss,align:ps})),isNaN(sn)||isNaN(Sn)||Fr==null)throw new Error("Invalid arguments passed to jsPDF.text");if(Fr.length===0)return Ks;var ga="",mo=!1,uo=typeof kn.lineHeightFactor=="number"?kn.lineHeightFactor:Il,Ro=Ks.internal.scaleFactor;function ou(Rs){return Rs=Rs.split("	").join(Array(kn.TabLen||9).join(" ")),so(Rs,ks)}function Ou(Rs){for(var Bs,Gs=Rs.concat(),na=[],Ko=Gs.length;Ko--;)typeof(Bs=Gs.shift())=="string"?na.push(Bs):Array.isArray(Rs)&&(Bs.length===1||Bs[1]===void 0&&Bs[2]===void 0)?na.push(Bs[0]):na.push([Bs[0],Bs[1],Bs[2]]);return na}function Du(Rs,Bs){var Gs;if(typeof Rs=="string")Gs=Bs(Rs)[0];else if(Array.isArray(Rs)){for(var na,Ko,Pl=Rs.concat(),ao=[],Qo=Pl.length;Qo--;)typeof(na=Pl.shift())=="string"?ao.push(Bs(na)[0]):Array.isArray(na)&&typeof na[0]=="string"&&(Ko=Bs(na[0],na[1],na[2]),ao.push([Ko[0],Ko[1],Ko[2]]));Gs=ao}return Gs}var lu=!1,Al=!0;if(typeof Fr=="string")lu=!0;else if(Array.isArray(Fr)){var Nu=Fr.concat();Jn=[];for(var hu,fo=Nu.length;fo--;)(typeof(hu=Nu.shift())!="string"||Array.isArray(hu)&&typeof hu[0]!="string")&&(Al=!1);lu=Al}if(lu===!1)throw new Error('Type of text must be string or Array. "'+Fr+'" is not recognized.');typeof Fr=="string"&&(Fr=Fr.match(/[\r?\n]/)?Fr.split(/\r\n|\r|\n/g):[Fr]);var cu=vn/Ks.internal.scaleFactor,Bl=cu*(uo-1);switch(kn.baseline){case"bottom":Sn-=Bl;break;case"top":Sn+=cu-Bl;break;case"hanging":Sn+=cu-2*Bl;break;case"middle":Sn+=cu/2-Bl}if((xs=kn.maxWidth||0)>0&&(typeof Fr=="string"?Fr=Ks.splitTextToSize(Fr,xs):Object.prototype.toString.call(Fr)==="[object Array]"&&(Fr=Fr.reduce(function(Rs,Bs){return Rs.concat(Ks.splitTextToSize(Bs,xs))},[]))),Un={text:Fr,x:sn,y:Sn,options:kn,mutex:{pdfEscape:so,activeFontKey:Kn,fonts:Ss,activeFontSize:vn}},us.publish("preProcessText",Un),Fr=Un.text,ss=(kn=Un.options).angle,!(Ws instanceof os)&&ss&&typeof ss=="number"){ss*=Math.PI/180,kn.rotationDirection===0&&(ss=-ss),mr===pr.ADVANCED&&(ss=-ss);var uu=Math.cos(ss),Ru=Math.sin(ss);Ws=new os(uu,Ru,-Ru,uu,0,0)}else ss&&ss instanceof os&&(Ws=ss);mr!==pr.ADVANCED||Ws||(Ws=Ns),(_s=kn.charSpace||eu)!==void 0&&(ga+=_r(Br(_s))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Hs=kn.horizontalScale)!==void 0&&(ga+=_r(100*Hs)+` Tz
`),kn.lang;var po=-1,Ip=kn.renderingMode!==void 0?kn.renderingMode:kn.stroke,fu=Ks.internal.getCurrentPageInfo().pageContext;switch(Ip){case 0:case!1:case"fill":po=0;break;case 1:case!0:case"stroke":po=1;break;case 2:case"fillThenStroke":po=2;break;case 3:case"invisible":po=3;break;case 4:case"fillAndAddForClipping":po=4;break;case 5:case"strokeAndAddPathForClipping":po=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":po=6;break;case 7:case"addToPathForClipping":po=7}var Bu=fu.usedRenderingMode!==void 0?fu.usedRenderingMode:-1;po!==-1?ga+=po+` Tr
`:Bu!==-1&&(ga+=`0 Tr
`),po!==-1&&(fu.usedRenderingMode=po),ps=kn.align||"left";var Eo,ju=vn*uo,Op=Ks.internal.pageSize.getWidth(),hp=Ss[Kn];_s=kn.charSpace||eu,xs=kn.maxWidth||0,ks=Object.assign({autoencode:!0,noBOM:!0},kn.flags);var Bo=[];if(Object.prototype.toString.call(Fr)==="[object Array]"){var wo;Jn=Ou(Fr),ps!=="left"&&(Eo=Jn.map(function(Rs){return Ks.getStringUnitWidth(Rs,{font:hp,charSpace:_s,fontSize:vn,doKerning:!1})*vn/Ro}));var ko,Cl=0;if(ps==="right"){sn-=Eo[0],Fr=[],fo=Jn.length;for(var jo=0;jo<fo;jo++)jo===0?(ko=Go(sn),wo=xl(Sn)):(ko=Br(Cl-Eo[jo]),wo=-ju),Fr.push([Jn[jo],ko,wo]),Cl=Eo[jo]}else if(ps==="center"){sn-=Eo[0]/2,Fr=[],fo=Jn.length;for(var zo=0;zo<fo;zo++)zo===0?(ko=Go(sn),wo=xl(Sn)):(ko=Br((Cl-Eo[zo])/2),wo=-ju),Fr.push([Jn[zo],ko,wo]),Cl=Eo[zo]}else if(ps==="left"){Fr=[],fo=Jn.length;for(var du=0;du<fo;du++)Fr.push(Jn[du])}else{if(ps!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');Fr=[],fo=Jn.length,xs=xs!==0?xs:Op;for(var Po=0;Po<fo;Po++)wo=Po===0?xl(Sn):-ju,ko=Po===0?Go(sn):0,Po<fo-1?Bo.push(_r(Br((xs-Eo[Po])/(Jn[Po].split(" ").length-1)))):Bo.push(0),Fr.push([Jn[Po],ko,wo])}}var pu=typeof kn.R2L=="boolean"?kn.R2L:Pn;pu===!0&&(Fr=Du(Fr,function(Rs,Bs,Gs){return[Rs.split("").reverse().join(""),Bs,Gs]})),Un={text:Fr,x:sn,y:Sn,options:kn,mutex:{pdfEscape:so,activeFontKey:Kn,fonts:Ss,activeFontSize:vn}},us.publish("postProcessText",Un),Fr=Un.text,mo=Un.mutex.isHex||!1;var zu=Ss[Kn].encoding;zu!=="WinAnsiEncoding"&&zu!=="StandardEncoding"||(Fr=Du(Fr,function(Rs,Bs,Gs){return[ou(Rs),Bs,Gs]})),Jn=Ou(Fr),Fr=[];for(var El,To,qo,zl=0,mu=1,go=Array.isArray(Jn[0])?mu:zl,Xo="",$u=function(Rs,Bs,Gs){var na="";return Gs instanceof os?(Gs=typeof kn.angle=="number"?ws(Gs,new os(1,0,0,1,Rs,Bs)):ws(new os(1,0,0,1,Rs,Bs),Gs),mr===pr.ADVANCED&&(Gs=ws(new os(1,0,0,-1,0,0),Gs)),na=Gs.join(" ")+` Tm
`):na=_r(Rs)+" "+_r(Bs)+` Td
`,na},vo=0;vo<Jn.length;vo++){switch(Xo="",go){case mu:qo=(mo?"<":"(")+Jn[vo][0]+(mo?">":")"),El=parseFloat(Jn[vo][1]),To=parseFloat(Jn[vo][2]);break;case zl:qo=(mo?"<":"(")+Jn[vo]+(mo?">":")"),El=Go(sn),To=xl(Sn)}Bo!==void 0&&Bo[vo]!==void 0&&(Xo=Bo[vo]+` Tw
`),vo===0?Fr.push(Xo+$u(El,To,Ws)+qo):go===zl?Fr.push(Xo+qo):go===mu&&Fr.push(Xo+$u(El,To,Ws)+qo)}Fr=go===zl?Fr.join(` Tj
T* `):Fr.join(` Tj
`),Fr+=` Tj
`;var Yo=`BT
/`;return Yo+=Kn+" "+vn+` Tf
`,Yo+=_r(vn*uo)+` TL
`,Yo+=Dl+`
`,Yo+=ga,Yo+=Fr,Mr(Yo+="ET"),nr[Kn]=!0,Ks};var Ep=er.__private__.clip=er.clip=function(Fr){return Mr(Fr==="evenodd"?"W*":"W"),this};er.clipEvenOdd=function(){return Ep("evenodd")},er.__private__.discardPath=er.discardPath=function(){return Mr("n"),this};var Oo=er.__private__.isValidStyle=function(Fr){var sn=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(Fr)!==-1&&(sn=!0),sn};er.__private__.setDefaultPathOperation=er.setDefaultPathOperation=function(Fr){return Oo(Fr)&&(hr=Fr),this};var tp=er.__private__.getStyle=er.getStyle=function(Fr){var sn=hr;switch(Fr){case"D":case"S":sn="S";break;case"F":sn="f";break;case"FD":case"DF":sn="B";break;case"f":case"f*":case"B":case"B*":sn=Fr}return sn},ep=er.close=function(){return Mr("h"),this};er.stroke=function(){return Mr("S"),this},er.fill=function(Fr){return _h("f",Fr),this},er.fillEvenOdd=function(Fr){return _h("f*",Fr),this},er.fillStroke=function(Fr){return _h("B",Fr),this},er.fillStrokeEvenOdd=function(Fr){return _h("B*",Fr),this};var _h=function(Fr,sn){_typeof(sn)==="object"?tu(sn,Fr):Mr(Fr)},_c=function(Fr){Fr===null||mr===pr.ADVANCED&&Fr===void 0||(Fr=tp(Fr),Mr(Fr))};function kp(Fr,sn,Sn,kn,On){var Un=new M(sn||this.boundingBox,Sn||this.xStep,kn||this.yStep,this.gState,On||this.matrix);Un.stream=this.stream;var Jn=Fr+"$$"+this.cloneIndex+++"$$";return Ls(Jn,Un),Un}var tu=function(Fr,sn){var Sn=En[Fr.key],kn=bn[Sn];if(kn instanceof B)Mr("q"),Mr(Pp(sn)),kn.gState&&er.setGState(kn.gState),Mr(Fr.matrix.toString()+" cm"),Mr("/"+Sn+" sh"),Mr("Q");else if(kn instanceof M){var On=new os(1,0,0,-1,0,No());Fr.matrix&&(On=On.multiply(Fr.matrix||Ns),Sn=kp.call(kn,Fr.key,Fr.boundingBox,Fr.xStep,Fr.yStep,On).id),Mr("q"),Mr("/Pattern cs"),Mr("/"+Sn+" scn"),kn.gState&&er.setGState(kn.gState),Mr(sn),Mr("Q")}},Pp=function(Fr){switch(Fr){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Pu=er.moveTo=function(Fr,sn){return Mr(_r(Br(Fr))+" "+_r(Yr(sn))+" m"),this},Ml=er.lineTo=function(Fr,sn){return Mr(_r(Br(Fr))+" "+_r(Yr(sn))+" l"),this},bo=er.curveTo=function(Fr,sn,Sn,kn,On,Un){return Mr([_r(Br(Fr)),_r(Yr(sn)),_r(Br(Sn)),_r(Yr(kn)),_r(Br(On)),_r(Yr(Un)),"c"].join(" ")),this};er.__private__.line=er.line=function(Fr,sn,Sn,kn,On){if(isNaN(Fr)||isNaN(sn)||isNaN(Sn)||isNaN(kn)||!Oo(On))throw new Error("Invalid arguments passed to jsPDF.line");return mr===pr.COMPAT?this.lines([[Sn-Fr,kn-sn]],Fr,sn,[1,1],On||"S"):this.lines([[Sn-Fr,kn-sn]],Fr,sn,[1,1]).stroke()},er.__private__.lines=er.lines=function(Fr,sn,Sn,kn,On,Un){var Jn,ss,ps,_s,xs,ks,Hs,Ws,Ks,eo,ga,mo;if(typeof Fr=="number"&&(mo=Sn,Sn=sn,sn=Fr,Fr=mo),kn=kn||[1,1],Un=Un||!1,isNaN(sn)||isNaN(Sn)||!Array.isArray(Fr)||!Array.isArray(kn)||!Oo(On)||typeof Un!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Pu(sn,Sn),Jn=kn[0],ss=kn[1],_s=Fr.length,eo=sn,ga=Sn,ps=0;ps<_s;ps++)(xs=Fr[ps]).length===2?(eo=xs[0]*Jn+eo,ga=xs[1]*ss+ga,Ml(eo,ga)):(ks=xs[0]*Jn+eo,Hs=xs[1]*ss+ga,Ws=xs[2]*Jn+eo,Ks=xs[3]*ss+ga,eo=xs[4]*Jn+eo,ga=xs[5]*ss+ga,bo(ks,Hs,Ws,Ks,eo,ga));return Un&&ep(),_c(On),this},er.path=function(Fr){for(var sn=0;sn<Fr.length;sn++){var Sn=Fr[sn],kn=Sn.c;switch(Sn.op){case"m":Pu(kn[0],kn[1]);break;case"l":Ml(kn[0],kn[1]);break;case"c":bo.apply(this,kn);break;case"h":ep()}}return this},er.__private__.rect=er.rect=function(Fr,sn,Sn,kn,On){if(isNaN(Fr)||isNaN(sn)||isNaN(Sn)||isNaN(kn)||!Oo(On))throw new Error("Invalid arguments passed to jsPDF.rect");return mr===pr.COMPAT&&(kn=-kn),Mr([_r(Br(Fr)),_r(Yr(sn)),_r(Br(Sn)),_r(Br(kn)),"re"].join(" ")),_c(On),this},er.__private__.triangle=er.triangle=function(Fr,sn,Sn,kn,On,Un,Jn){if(isNaN(Fr)||isNaN(sn)||isNaN(Sn)||isNaN(kn)||isNaN(On)||isNaN(Un)||!Oo(Jn))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Sn-Fr,kn-sn],[On-Sn,Un-kn],[Fr-On,sn-Un]],Fr,sn,[1,1],Jn,!0),this},er.__private__.roundedRect=er.roundedRect=function(Fr,sn,Sn,kn,On,Un,Jn){if(isNaN(Fr)||isNaN(sn)||isNaN(Sn)||isNaN(kn)||isNaN(On)||isNaN(Un)||!Oo(Jn))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ss=4/3*(Math.SQRT2-1);return On=Math.min(On,.5*Sn),Un=Math.min(Un,.5*kn),this.lines([[Sn-2*On,0],[On*ss,0,On,Un-Un*ss,On,Un],[0,kn-2*Un],[0,Un*ss,-On*ss,Un,-On,Un],[2*On-Sn,0],[-On*ss,0,-On,-Un*ss,-On,-Un],[0,2*Un-kn],[0,-Un*ss,On*ss,-Un,On,-Un]],Fr+On,sn,[1,1],Jn,!0),this},er.__private__.ellipse=er.ellipse=function(Fr,sn,Sn,kn,On){if(isNaN(Fr)||isNaN(sn)||isNaN(Sn)||isNaN(kn)||!Oo(On))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Un=4/3*(Math.SQRT2-1)*Sn,Jn=4/3*(Math.SQRT2-1)*kn;return Pu(Fr+Sn,sn),bo(Fr+Sn,sn-Jn,Fr+Un,sn-kn,Fr,sn-kn),bo(Fr-Un,sn-kn,Fr-Sn,sn-Jn,Fr-Sn,sn),bo(Fr-Sn,sn+Jn,Fr-Un,sn+kn,Fr,sn+kn),bo(Fr+Un,sn+kn,Fr+Sn,sn+Jn,Fr+Sn,sn),_c(On),this},er.__private__.circle=er.circle=function(Fr,sn,Sn,kn){if(isNaN(Fr)||isNaN(sn)||isNaN(Sn)||!Oo(kn))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(Fr,sn,Sn,Sn,kn)},er.setFont=function(Fr,sn,Sn){return Sn&&(sn=br(sn,Sn)),Kn=Jl(Fr,sn,{disableWarning:!1}),this};var Tp=er.__private__.getFont=er.getFont=function(){return Ss[Jl.apply(er,arguments)]};er.__private__.getFontList=er.getFontList=function(){var Fr,sn,Sn={};for(Fr in Ms)if(Ms.hasOwnProperty(Fr))for(sn in Sn[Fr]=[],Ms[Fr])Ms[Fr].hasOwnProperty(sn)&&Sn[Fr].push(sn);return Sn},er.addFont=function(Fr,sn,Sn,kn,On){var Un=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Un.indexOf(arguments[3])!==-1?On=arguments[3]:arguments[3]&&Un.indexOf(arguments[3])==-1&&(Sn=br(Sn,kn)),On=On||"Identity-H",Kl.call(this,Fr,sn,Sn,On)};var Il,Tu=St.lineWidth||.200025,Ol=er.__private__.getLineWidth=er.getLineWidth=function(){return Tu},Fu=er.__private__.setLineWidth=er.setLineWidth=function(Fr){return Tu=Fr,Mr(_r(Br(Fr))+" w"),this};er.__private__.setLineDash=E.API.setLineDash=E.API.setLineDashPattern=function(Fr,sn){if(Fr=Fr||[],sn=sn||0,isNaN(sn)||!Array.isArray(Fr))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return Fr=Fr.map(function(Sn){return _r(Br(Sn))}).join(" "),sn=_r(Br(sn)),Mr("["+Fr+"] "+sn+" d"),this};var Lu=er.__private__.getLineHeight=er.getLineHeight=function(){return vn*Il};er.__private__.getLineHeight=er.getLineHeight=function(){return vn*Il};var rp=er.__private__.setLineHeightFactor=er.setLineHeightFactor=function(Fr){return typeof(Fr=Fr||1.15)=="number"&&(Il=Fr),this},np=er.__private__.getLineHeightFactor=er.getLineHeightFactor=function(){return Il};rp(St.lineHeight);var Go=er.__private__.getHorizontalCoordinate=function(Fr){return Br(Fr)},xl=er.__private__.getVerticalCoordinate=function(Fr){return mr===pr.ADVANCED?Fr:ts[kr].mediaBox.topRightY-ts[kr].mediaBox.bottomLeftY-Br(Fr)},Fp=er.__private__.getHorizontalCoordinateString=er.getHorizontalCoordinateString=function(Fr){return _r(Go(Fr))},Sl=er.__private__.getVerticalCoordinateString=er.getVerticalCoordinateString=function(Fr){return _r(xl(Fr))},Co=St.strokeColor||"0 G";er.__private__.getStrokeColor=er.getDrawColor=function(){return $a(Co)},er.__private__.setStrokeColor=er.setDrawColor=function(Fr,sn,Sn,kn){return Co=lo({ch1:Fr,ch2:sn,ch3:Sn,ch4:kn,pdfColorType:"draw",precision:2}),Mr(Co),this};var Do=St.fillColor||"0 g";er.__private__.getFillColor=er.getFillColor=function(){return $a(Do)},er.__private__.setFillColor=er.setFillColor=function(Fr,sn,Sn,kn){return Do=lo({ch1:Fr,ch2:sn,ch3:Sn,ch4:kn,pdfColorType:"fill",precision:2}),Mr(Do),this};var Dl=St.textColor||"0 g",Lp=er.__private__.getTextColor=er.getTextColor=function(){return $a(Dl)};er.__private__.setTextColor=er.setTextColor=function(Fr,sn,Sn,kn){return Dl=lo({ch1:Fr,ch2:sn,ch3:Sn,ch4:kn,pdfColorType:"text",precision:3}),this};var eu=St.charSpace,sp=er.__private__.getCharSpace=er.getCharSpace=function(){return parseFloat(eu||0)};er.__private__.setCharSpace=er.setCharSpace=function(Fr){if(isNaN(Fr))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return eu=Fr,this};var iu=0;er.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},er.__private__.setLineCap=er.setLineCap=function(Fr){var sn=er.CapJoinStyles[Fr];if(sn===void 0)throw new Error("Line cap style of '"+Fr+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return iu=sn,Mr(sn+" J"),this};var Nl=0;er.__private__.setLineJoin=er.setLineJoin=function(Fr){var sn=er.CapJoinStyles[Fr];if(sn===void 0)throw new Error("Line join style of '"+Fr+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Nl=sn,Mr(sn+" j"),this},er.__private__.setLineMiterLimit=er.__private__.setMiterLimit=er.setLineMiterLimit=er.setMiterLimit=function(Fr){if(Fr=Fr||0,isNaN(Fr))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Mr(_r(Br(Fr))+" M"),this},er.GState=j,er.setGState=function(Fr){(Fr=typeof Fr=="string"?Wn[es[Fr]]:ap(null,Fr)).equals(fs)||(Mr("/"+Fr.id+" gs"),fs=Fr)};var ap=function(Fr,sn){if(!Fr||!es[Fr]){var Sn=!1;for(var kn in Wn)if(Wn.hasOwnProperty(kn)&&Wn[kn].equals(sn)){Sn=!0;break}if(Sn)sn=Wn[kn];else{var On="GS"+(Object.keys(Wn).length+1).toString(10);Wn[On]=sn,sn.id=On}return Fr&&(es[Fr]=sn.id),us.publish("addGState",sn),sn}};er.addGState=function(Fr,sn){return ap(Fr,sn),this},er.saveGraphicsState=function(){return Mr("q"),xn.push({key:Kn,size:vn,color:Dl}),this},er.restoreGraphicsState=function(){Mr("Q");var Fr=xn.pop();return Kn=Fr.key,vn=Fr.size,Dl=Fr.color,fs=null,this},er.setCurrentTransformationMatrix=function(Fr){return Mr(Fr.toString()+" cm"),this},er.comment=function(Fr){return Mr("#"+Fr),this};var ru=function(Fr,sn){var Sn=Fr||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Sn},set:function(Un){isNaN(Un)||(Sn=parseFloat(Un))}});var kn=sn||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return kn},set:function(Un){isNaN(Un)||(kn=parseFloat(Un))}});var On="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return On},set:function(Un){On=Un.toString()}}),this},Mu=function(Fr,sn,Sn,kn){ru.call(this,Fr,sn),this.type="rect";var On=Sn||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return On},set:function(Jn){isNaN(Jn)||(On=parseFloat(Jn))}});var Un=kn||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Un},set:function(Jn){isNaN(Jn)||(Un=parseFloat(Jn))}}),this},Iu=function(){this.page=Zn,this.currentPage=kr,this.pages=pn.slice(0),this.pagesContext=ts.slice(0),this.x=ds,this.y=as,this.matrix=cs,this.width=Rl(kr),this.height=No(kr),this.outputDestination=en,this.id="",this.objectNumber=-1};Iu.prototype.restore=function(){Zn=this.page,kr=this.currentPage,ts=this.pagesContext,pn=this.pages,ds=this.x,as=this.y,cs=this.matrix,su(kr,this.width),au(kr,this.height),en=this.outputDestination};var lp=function(Fr,sn,Sn,kn,On){gs.push(new Iu),Zn=kr=0,pn=[],ds=Fr,as=sn,cs=On,Cu([Sn,kn])},Mp=function(Fr){if(Cs[Fr])gs.pop().restore();else{var sn=new Iu,Sn="Xo"+(Object.keys(ys).length+1).toString(10);sn.id=Sn,Cs[Fr]=Sn,ys[Sn]=sn,us.publish("addFormObject",sn),gs.pop().restore()}};for(var nu in er.beginFormObject=function(Fr,sn,Sn,kn,On){return lp(Fr,sn,Sn,kn,On),this},er.endFormObject=function(Fr){return Mp(Fr),this},er.doFormObject=function(Fr,sn){var Sn=ys[Cs[Fr]];return Mr("q"),Mr(sn.toString()+" cm"),Mr("/"+Sn.id+" Do"),Mr("Q"),this},er.getFormObject=function(Fr){var sn=ys[Cs[Fr]];return{x:sn.x,y:sn.y,width:sn.width,height:sn.height,matrix:sn.matrix}},er.save=function(Fr,sn){return Fr=Fr||"generated.pdf",(sn=sn||{}).returnPromise=sn.returnPromise||!1,sn.returnPromise===!1?(l$1(Zl(Wo()),Fr),typeof l$1.unload=="function"&&n$1.setTimeout&&setTimeout(l$1.unload,911),this):new Promise(function(Sn,kn){try{var On=l$1(Zl(Wo()),Fr);typeof l$1.unload=="function"&&n$1.setTimeout&&setTimeout(l$1.unload,911),Sn(On)}catch(Un){kn(Un.message)}})},E.API)E.API.hasOwnProperty(nu)&&(nu==="events"&&E.API.events.length?function(Fr,sn){var Sn,kn,On;for(On=sn.length-1;On!==-1;On--)Sn=sn[On][0],kn=sn[On][1],Fr.subscribe.apply(Fr,[Sn].concat(typeof kn=="function"?[kn]:kn))}(us,E.API.events):er[nu]=E.API[nu]);var Rl=er.getPageWidth=function(Fr){return(ts[Fr=Fr||kr].mediaBox.topRightX-ts[Fr].mediaBox.bottomLeftX)/Nn},su=er.setPageWidth=function(Fr,sn){ts[Fr].mediaBox.topRightX=sn*Nn+ts[Fr].mediaBox.bottomLeftX},No=er.getPageHeight=function(Fr){return(ts[Fr=Fr||kr].mediaBox.topRightY-ts[Fr].mediaBox.bottomLeftY)/Nn},au=er.setPageHeight=function(Fr,sn){ts[Fr].mediaBox.topRightY=sn*Nn+ts[Fr].mediaBox.bottomLeftY};return er.internal={pdfEscape:so,getStyle:tp,getFont:Tp,getFontSize:dn,getCharSpace:sp,getTextColor:Lp,getLineHeight:Lu,getLineHeightFactor:np,getLineWidth:Ol,write:Zr,getHorizontalCoordinate:Go,getVerticalCoordinate:xl,getCoordinateString:Fp,getVerticalCoordinateString:Sl,collections:{},newObject:Es,newAdditionalObject:zs,newObjectDeferred:Ts,newObjectDeferredBegin:Vs,getFilters:Mo,putStream:ho,events:us,scaleFactor:Nn,pageSize:{getWidth:function(){return Rl(kr)},setWidth:function(Fr){su(kr,Fr)},getHeight:function(){return No(kr)},setHeight:function(Fr){au(kr,Fr)}},encryptionOptions:ur,encryption:to,getEncryptor:Ap,output:Io,getNumberOfPages:wp,pages:pn,out:Mr,f2:zr,f3:Tr,getPageInfo:_d,getPageInfoByObjId:bs,getCurrentPageInfo:Cp,getPDFVersion:dr,Point:ru,Rectangle:Mu,Matrix:os,hasHotfix:_f},Object.defineProperty(er.internal.pageSize,"width",{get:function(){return Rl(kr)},set:function(Fr){su(kr,Fr)},enumerable:!0,configurable:!0}),Object.defineProperty(er.internal.pageSize,"height",{get:function(){return No(kr)},set:function(Fr){au(kr,Fr)},enumerable:!0,configurable:!0}),bp.call(er,an),Kn="F1",Ju(ir,_e),us.publish("initialized"),er}I.prototype.lsbFirstWord=function(St){return String.fromCharCode(St>>0&255,St>>8&255,St>>16&255,St>>24&255)},I.prototype.toHexString=function(St){return St.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},I.prototype.hexToBytes=function(St){for(var e=[],_e=0;_e<St.length;_e+=2)e.push(String.fromCharCode(parseInt(St.substr(_e,2),16)));return e.join("")},I.prototype.processOwnerPassword=function(St,e){return P(x(e).substr(0,5),St)},I.prototype.encryptor=function(St,e){var _e=x(this.encryptionKey+String.fromCharCode(255&St,St>>8&255,St>>16&255,255&e,e>>8&255)).substr(0,10);return function(_i){return P(_e,_i)}},j.prototype.equals=function(St){var e,_e="id,objectNumber,equals";if(!St||_typeof(St)!==_typeof(this))return!1;var _i=0;for(e in this)if(!(_e.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!St.hasOwnProperty(e)||this[e]!==St[e])return!1;_i++}for(e in St)St.hasOwnProperty(e)&&_e.indexOf(e)<0&&_i--;return _i===0},E.API={events:[]},E.version="2.5.1";var q$1=E.API,D=1,R=function(St){return St.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},T=function(St){return St.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},U=function(St){return St.toFixed(2)},z=function(St){return St.toFixed(5)};q$1.__acroform__={};var H=function(St,e){St.prototype=Object.create(e.prototype),St.prototype.constructor=St},W=function(St){return St*D},V=function(St){var e=new ut,_e=At.internal.getHeight(St)||0,_i=At.internal.getWidth(St)||0;return e.BBox=[0,0,Number(U(_i)),Number(U(_e))],e},G=q$1.__acroform__.setBit=function(St,e){if(St=St||0,e=e||0,isNaN(St)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return St|=1<<e},Y=q$1.__acroform__.clearBit=function(St,e){if(St=St||0,e=e||0,isNaN(St)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return St&=~(1<<e)},J=q$1.__acroform__.getBit=function(St,e){if(isNaN(St)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(St&1<<e)==0?0:1},X=q$1.__acroform__.getBitForPdf=function(St,e){if(isNaN(St)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return J(St,e-1)},K=q$1.__acroform__.setBitForPdf=function(St,e){if(isNaN(St)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return G(St,e-1)},Z=q$1.__acroform__.clearBitForPdf=function(St,e){if(isNaN(St)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Y(St,e-1)},$=q$1.__acroform__.calculateCoordinates=function(St,e){var _e=e.internal.getHorizontalCoordinate,_i=e.internal.getVerticalCoordinate,ir=St[0],rr=St[1],gr=St[2],cr=St[3],tr={};return tr.lowerLeft_X=_e(ir)||0,tr.lowerLeft_Y=_i(rr+cr)||0,tr.upperRight_X=_e(ir+gr)||0,tr.upperRight_Y=_i(rr)||0,[Number(U(tr.lowerLeft_X)),Number(U(tr.lowerLeft_Y)),Number(U(tr.upperRight_X)),Number(U(tr.upperRight_Y))]},Q=function(St){if(St.appearanceStreamContent)return St.appearanceStreamContent;if(St.V||St.DV){var e=[],_e=St._V||St.DV,_i=tt(St,_e),ir=St.scope.internal.getFont(St.fontName,St.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(St.scope.__private__.encodeColorString(St.color)),e.push("/"+ir+" "+U(_i.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(_i.text),e.push("ET"),e.push("Q"),e.push("EMC");var rr=V(St);return rr.scope=St.scope,rr.stream=e.join(`
`),rr}},tt=function(St,e){var _e=St.fontSize===0?St.maxFontSize:St.fontSize,_i={text:"",fontSize:""},ir=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");ir=St.multiline?ir.map(function(Tr){return Tr.split(`
`)}):ir.map(function(Tr){return[Tr]});var rr=_e,gr=At.internal.getHeight(St)||0;gr=gr<0?-gr:gr;var cr=At.internal.getWidth(St)||0;cr=cr<0?-cr:cr;var tr=function(Tr,Br,Jr){if(Tr+1<ir.length){var Yr=Br+" "+ir[Tr+1][0];return et(Yr,St,Jr).width<=cr-4}return!1};rr++;t:for(;rr>0;){e="",rr--;var hr,ur,or=et("3",St,rr).height,nr=St.multiline?gr-rr:(gr-or)/2,er=nr+=2,ar=0,dr=0,lr=0;if(rr<=0){e=`(...) Tj
`,e+="% Width of Text: "+et(e,St,rr=12).width+", FieldWidth:"+cr+`
`;break}for(var sr="",pr=0,mr=0;mr<ir.length;mr++)if(ir.hasOwnProperty(mr)){var vr=!1;if(ir[mr].length!==1&&lr!==ir[mr].length-1){if((or+2)*(pr+2)+2>gr)continue t;sr+=ir[mr][lr],vr=!0,dr=mr,mr--}else{sr=(sr+=ir[mr][lr]+" ").substr(sr.length-1)==" "?sr.substr(0,sr.length-1):sr;var yr=parseInt(mr),br=tr(yr,sr,rr),_r=mr>=ir.length-1;if(br&&!_r){sr+=" ",lr=0;continue}if(br||_r){if(_r)dr=yr;else if(St.multiline&&(or+2)*(pr+2)+2>gr)continue t}else{if(!St.multiline||(or+2)*(pr+2)+2>gr)continue t;dr=yr}}for(var xr="",Nr=ar;Nr<=dr;Nr++){var zr=ir[Nr];if(St.multiline){if(Nr===dr){xr+=zr[lr]+" ",lr=(lr+1)%zr.length;continue}if(Nr===ar){xr+=zr[zr.length-1]+" ";continue}}xr+=zr[0]+" "}switch(xr=xr.substr(xr.length-1)==" "?xr.substr(0,xr.length-1):xr,ur=et(xr,St,rr).width,St.textAlign){case"right":hr=cr-ur-2;break;case"center":hr=(cr-ur)/2;break;case"left":default:hr=2}e+=U(hr)+" "+U(er)+` Td
`,e+="("+R(xr)+`) Tj
`,e+=-U(hr)+` 0 Td
`,er=-(rr+2),ur=0,ar=vr?dr:dr+1,pr++,sr=""}break}return _i.text=e,_i.fontSize=rr,_i},et=function(St,e,_e){var _i=e.scope.internal.getFont(e.fontName,e.fontStyle),ir=e.scope.getStringUnitWidth(St,{font:_i,fontSize:parseFloat(_e),charSpace:0})*parseFloat(_e);return{height:e.scope.getStringUnitWidth("3",{font:_i,fontSize:parseFloat(_e),charSpace:0})*parseFloat(_e)*1.5,width:ir}},rt={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},nt=function(St,e){var _e={type:"reference",object:St};e.internal.getPageInfo(St.page).pageContext.annotations.find(function(_i){return _i.type===_e.type&&_i.object===_e.object})===void 0&&e.internal.getPageInfo(St.page).pageContext.annotations.push(_e)},it=function(St,e){for(var _e in St)if(St.hasOwnProperty(_e)){var _i=_e,ir=St[_e];e.internal.newObjectDeferredBegin(ir.objId,!0),_typeof(ir)==="object"&&typeof ir.putStream=="function"&&ir.putStream(),delete St[_i]}},at=function(St,e){if(e.scope=St,St.internal!==void 0&&(St.internal.acroformPlugin===void 0||St.internal.acroformPlugin.isInitialized===!1)){if(lt.FieldNum=0,St.internal.acroformPlugin=JSON.parse(JSON.stringify(rt)),St.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");D=St.internal.scaleFactor,St.internal.acroformPlugin.acroFormDictionaryRoot=new ht,St.internal.acroformPlugin.acroFormDictionaryRoot.scope=St,St.internal.acroformPlugin.acroFormDictionaryRoot._eventID=St.internal.events.subscribe("postPutResources",function(){(function(_e){_e.internal.events.unsubscribe(_e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete _e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,_e.internal.acroformPlugin.printedOut=!0})(St)}),St.internal.events.subscribe("buildDocument",function(){(function(_e){_e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var _i=_e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var ir in _i)if(_i.hasOwnProperty(ir)){var rr=_i[ir];rr.objId=void 0,rr.hasAnnotation&&nt(rr,_e)}})(St)}),St.internal.events.subscribe("putCatalog",function(){(function(_e){if(_e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");_e.internal.write("/AcroForm "+_e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(St)}),St.internal.events.subscribe("postPutPages",function(_e){(function(_i,ir){var rr=!_i;for(var gr in _i||(ir.internal.newObjectDeferredBegin(ir.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),ir.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),_i=_i||ir.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(_i.hasOwnProperty(gr)){var cr=_i[gr],tr=[],hr=cr.Rect;if(cr.Rect&&(cr.Rect=$(cr.Rect,ir)),ir.internal.newObjectDeferredBegin(cr.objId,!0),cr.DA=At.createDefaultAppearanceStream(cr),_typeof(cr)==="object"&&typeof cr.getKeyValueListForStream=="function"&&(tr=cr.getKeyValueListForStream()),cr.Rect=hr,cr.hasAppearanceStream&&!cr.appearanceStreamContent){var ur=Q(cr);tr.push({key:"AP",value:"<</N "+ur+">>"}),ir.internal.acroformPlugin.xForms.push(ur)}if(cr.appearanceStreamContent){var or="";for(var nr in cr.appearanceStreamContent)if(cr.appearanceStreamContent.hasOwnProperty(nr)){var er=cr.appearanceStreamContent[nr];if(or+="/"+nr+" ",or+="<<",Object.keys(er).length>=1||Array.isArray(er)){for(var gr in er)if(er.hasOwnProperty(gr)){var ar=er[gr];typeof ar=="function"&&(ar=ar.call(ir,cr)),or+="/"+gr+" "+ar+" ",ir.internal.acroformPlugin.xForms.indexOf(ar)>=0||ir.internal.acroformPlugin.xForms.push(ar)}}else typeof(ar=er)=="function"&&(ar=ar.call(ir,cr)),or+="/"+gr+" "+ar,ir.internal.acroformPlugin.xForms.indexOf(ar)>=0||ir.internal.acroformPlugin.xForms.push(ar);or+=">>"}tr.push({key:"AP",value:`<<
`+or+">>"})}ir.internal.putStream({additionalKeyValues:tr,objectId:cr.objId}),ir.internal.out("endobj")}rr&&it(ir.internal.acroformPlugin.xForms,ir)})(_e,St)}),St.internal.acroformPlugin.isInitialized=!0}},ot=q$1.__acroform__.arrayToPdfArray=function(St,e,_e){var _i=function(gr){return gr};if(Array.isArray(St)){for(var ir="[",rr=0;rr<St.length;rr++)switch(rr!==0&&(ir+=" "),_typeof(St[rr])){case"boolean":case"number":case"object":ir+=St[rr].toString();break;case"string":St[rr].substr(0,1)!=="/"?(e!==void 0&&_e&&(_i=_e.internal.getEncryptor(e)),ir+="("+R(_i(St[rr].toString()))+")"):ir+=St[rr].toString()}return ir+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},st=function(St,e,_e){var _i=function(ir){return ir};return e!==void 0&&_e&&(_i=_e.internal.getEncryptor(e)),(St=St||"").toString(),St="("+R(_i(St))+")"},ct=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(St){this._objId=St}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ct.prototype.toString=function(){return this.objId+" 0 R"},ct.prototype.putStream=function(){var St=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:St,objectId:this.objId}),this.scope.internal.out("endobj")},ct.prototype.getKeyValueListForStream=function(){var St=[],e=Object.getOwnPropertyNames(this).filter(function(rr){return rr!="content"&&rr!="appearanceStreamContent"&&rr!="scope"&&rr!="objId"&&rr.substring(0,1)!="_"});for(var _e in e)if(Object.getOwnPropertyDescriptor(this,e[_e]).configurable===!1){var _i=e[_e],ir=this[_i];ir&&(Array.isArray(ir)?St.push({key:_i,value:ot(ir,this.objId,this.scope)}):ir instanceof ct?(ir.scope=this.scope,St.push({key:_i,value:ir.objId+" 0 R"})):typeof ir!="function"&&St.push({key:_i,value:ir}))}return St};var ut=function(){ct.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var St,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(_e){e=_e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(_e){St=_e.trim()},get:function(){return St||null}})};H(ut,ct);var ht=function(){ct.call(this);var St,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(St){var _e=function(_i){return _i};return this.scope&&(_e=this.scope.internal.getEncryptor(this.objId)),"("+R(_e(St))+")"}},set:function(_e){St=_e}})};H(ht,ct);var lt=function St(){ct.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(sr){if(isNaN(sr))throw new Error('Invalid value "'+sr+'" for attribute F supplied.');e=sr}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(e,3))},set:function(sr){Boolean(sr)===!0?this.F=K(e,3):this.F=Z(e,3)}});var _e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return _e},set:function(sr){if(isNaN(sr))throw new Error('Invalid value "'+sr+'" for attribute Ff supplied.');_e=sr}});var _i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(_i.length!==0)return _i},set:function(sr){_i=sr!==void 0?sr:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!_i||isNaN(_i[0])?0:_i[0]},set:function(sr){_i[0]=sr}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!_i||isNaN(_i[1])?0:_i[1]},set:function(sr){_i[1]=sr}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!_i||isNaN(_i[2])?0:_i[2]},set:function(sr){_i[2]=sr}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!_i||isNaN(_i[3])?0:_i[3]},set:function(sr){_i[3]=sr}});var ir="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return ir},set:function(sr){switch(sr){case"/Btn":case"/Tx":case"/Ch":case"/Sig":ir=sr;break;default:throw new Error('Invalid value "'+sr+'" for attribute FT supplied.')}}});var rr=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!rr||rr.length<1){if(this instanceof yt)return;rr="FieldObject"+St.FieldNum++}var sr=function(pr){return pr};return this.scope&&(sr=this.scope.internal.getEncryptor(this.objId)),"("+R(sr(rr))+")"},set:function(sr){rr=sr.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return rr},set:function(sr){rr=sr}});var gr="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return gr},set:function(sr){gr=sr}});var cr="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return cr},set:function(sr){cr=sr}});var tr=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return tr},set:function(sr){tr=sr}});var hr=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return hr===void 0?50/D:hr},set:function(sr){hr=sr}});var ur="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return ur},set:function(sr){ur=sr}});var or="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!or||this instanceof yt||this instanceof Nt))return st(or,this.objId,this.scope)},set:function(sr){sr=sr.toString(),or=sr}});var nr=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(nr)return this instanceof mt?nr:st(nr,this.objId,this.scope)},set:function(sr){sr=sr.toString(),nr=this instanceof mt?sr:sr.substr(0,1)==="("?T(sr.substr(1,sr.length-2)):T(sr)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt?T(nr.substr(1,nr.length-1)):nr},set:function(sr){sr=sr.toString(),nr=this instanceof mt?"/"+sr:sr}});var er=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(er)return er},set:function(sr){this.V=sr}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(er)return this instanceof mt?er:st(er,this.objId,this.scope)},set:function(sr){sr=sr.toString(),er=this instanceof mt?sr:sr.substr(0,1)==="("?T(sr.substr(1,sr.length-2)):T(sr)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt?T(er.substr(1,er.length-1)):er},set:function(sr){sr=sr.toString(),er=this instanceof mt?"/"+sr:sr}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var ar,dr=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return dr},set:function(sr){sr=Boolean(sr),dr=sr}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(ar)return ar},set:function(sr){ar=sr}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,1))},set:function(sr){Boolean(sr)===!0?this.Ff=K(this.Ff,1):this.Ff=Z(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,2))},set:function(sr){Boolean(sr)===!0?this.Ff=K(this.Ff,2):this.Ff=Z(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,3))},set:function(sr){Boolean(sr)===!0?this.Ff=K(this.Ff,3):this.Ff=Z(this.Ff,3)}});var lr=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(lr!==null)return lr},set:function(sr){if([0,1,2].indexOf(sr)===-1)throw new Error('Invalid value "'+sr+'" for attribute Q supplied.');lr=sr}}),Object.defineProperty(this,"textAlign",{get:function(){var sr;switch(lr){case 0:default:sr="left";break;case 1:sr="center";break;case 2:sr="right"}return sr},configurable:!0,enumerable:!0,set:function(sr){switch(sr){case"right":case 2:lr=2;break;case"center":case 1:lr=1;break;case"left":case 0:default:lr=0}}})};H(lt,ct);var ft=function(){lt.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var St=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return St},set:function(_e){St=_e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return St},set:function(_e){St=_e}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ot(e,this.objId,this.scope)},set:function(_e){var _i,ir;ir=[],typeof(_i=_e)=="string"&&(ir=function(rr,gr,cr){cr||(cr=1);for(var tr,hr=[];tr=gr.exec(rr);)hr.push(tr[cr]);return hr}(_i,/\((.*?)\)/g)),e=ir}}),this.getOptions=function(){return e},this.setOptions=function(_e){e=_e,this.sort&&e.sort()},this.addOption=function(_e){_e=(_e=_e||"").toString(),e.push(_e),this.sort&&e.sort()},this.removeOption=function(_e,_i){for(_i=_i||!1,_e=(_e=_e||"").toString();e.indexOf(_e)!==-1&&(e.splice(e.indexOf(_e),1),_i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,18))},set:function(_e){Boolean(_e)===!0?this.Ff=K(this.Ff,18):this.Ff=Z(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,19))},set:function(_e){this.combo===!0&&(Boolean(_e)===!0?this.Ff=K(this.Ff,19):this.Ff=Z(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,20))},set:function(_e){Boolean(_e)===!0?(this.Ff=K(this.Ff,20),e.sort()):this.Ff=Z(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,22))},set:function(_e){Boolean(_e)===!0?this.Ff=K(this.Ff,22):this.Ff=Z(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,23))},set:function(_e){Boolean(_e)===!0?this.Ff=K(this.Ff,23):this.Ff=Z(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,27))},set:function(_e){Boolean(_e)===!0?this.Ff=K(this.Ff,27):this.Ff=Z(this.Ff,27)}}),this.hasAppearanceStream=!1};H(ft,lt);var dt=function(){ft.call(this),this.fontName="helvetica",this.combo=!1};H(dt,ft);var pt=function(){dt.call(this),this.combo=!0};H(pt,dt);var gt=function(){pt.call(this),this.edit=!0};H(gt,pt);var mt=function(){lt.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,15))},set:function(_e){Boolean(_e)===!0?this.Ff=K(this.Ff,15):this.Ff=Z(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,16))},set:function(_e){Boolean(_e)===!0?this.Ff=K(this.Ff,16):this.Ff=Z(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,17))},set:function(_e){Boolean(_e)===!0?this.Ff=K(this.Ff,17):this.Ff=Z(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,26))},set:function(_e){Boolean(_e)===!0?this.Ff=K(this.Ff,26):this.Ff=Z(this.Ff,26)}});var St,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var _e=function(rr){return rr};if(this.scope&&(_e=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var _i,ir=[];for(_i in ir.push("<<"),e)ir.push("/"+_i+" ("+R(_e(e[_i]))+")");return ir.push(">>"),ir.join(`
`)}},set:function(_e){_typeof(_e)==="object"&&(e=_e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(_e){typeof _e=="string"&&(e.CA=_e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return St},set:function(_e){St=_e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return St.substr(1,St.length-1)},set:function(_e){St="/"+_e}})};H(mt,lt);var vt=function(){mt.call(this),this.pushButton=!0};H(vt,mt);var bt=function(){mt.call(this),this.radio=!0,this.pushButton=!1;var St=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return St},set:function(e){St=e!==void 0?e:[]}})};H(bt,mt);var yt=function(){var St,e;lt.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return St},set:function(ir){St=ir}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(ir){e=ir}});var _e,_i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var ir=function(cr){return cr};this.scope&&(ir=this.scope.internal.getEncryptor(this.objId));var rr,gr=[];for(rr in gr.push("<<"),_i)gr.push("/"+rr+" ("+R(ir(_i[rr]))+")");return gr.push(">>"),gr.join(`
`)},set:function(ir){_typeof(ir)==="object"&&(_i=ir)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return _i.CA||""},set:function(ir){typeof ir=="string"&&(_i.CA=ir)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return _e},set:function(ir){_e=ir}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return _e.substr(1,_e.length-1)},set:function(ir){_e="/"+ir}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=At.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};H(yt,lt),bt.prototype.setAppearance=function(St){if(!("createAppearanceStream"in St)||!("getCA"in St))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var _e=this.Kids[e];_e.appearanceStreamContent=St.createAppearanceStream(_e.optionName),_e.caption=St.getCA()}},bt.prototype.createOption=function(St){var e=new yt;return e.Parent=this,e.optionName=St,this.Kids.push(e),xt.call(this.scope,e),e};var wt=function(){mt.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=At.CheckBox.createAppearanceStream()};H(wt,mt);var Nt=function(){lt.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,13))},set:function(e){Boolean(e)===!0?this.Ff=K(this.Ff,13):this.Ff=Z(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,21))},set:function(e){Boolean(e)===!0?this.Ff=K(this.Ff,21):this.Ff=Z(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,23))},set:function(e){Boolean(e)===!0?this.Ff=K(this.Ff,23):this.Ff=Z(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,24))},set:function(e){Boolean(e)===!0?this.Ff=K(this.Ff,24):this.Ff=Z(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,25))},set:function(e){Boolean(e)===!0?this.Ff=K(this.Ff,25):this.Ff=Z(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,26))},set:function(e){Boolean(e)===!0?this.Ff=K(this.Ff,26):this.Ff=Z(this.Ff,26)}});var St=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return St},set:function(e){St=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return St},set:function(e){Number.isInteger(e)&&(St=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};H(Nt,lt);var Lt=function(){Nt.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,14))},set:function(St){Boolean(St)===!0?this.Ff=K(this.Ff,14):this.Ff=Z(this.Ff,14)}}),this.password=!0};H(Lt,Nt);var At={CheckBox:{createAppearanceStream:function(){return{N:{On:At.CheckBox.YesNormal},D:{On:At.CheckBox.YesPushDown,Off:At.CheckBox.OffPushDown}}},YesPushDown:function(St){var e=V(St);e.scope=St.scope;var _e=[],_i=St.scope.internal.getFont(St.fontName,St.fontStyle).id,ir=St.scope.__private__.encodeColorString(St.color),rr=tt(St,St.caption);return _e.push("0.749023 g"),_e.push("0 0 "+U(At.internal.getWidth(St))+" "+U(At.internal.getHeight(St))+" re"),_e.push("f"),_e.push("BMC"),_e.push("q"),_e.push("0 0 1 rg"),_e.push("/"+_i+" "+U(rr.fontSize)+" Tf "+ir),_e.push("BT"),_e.push(rr.text),_e.push("ET"),_e.push("Q"),_e.push("EMC"),e.stream=_e.join(`
`),e},YesNormal:function(St){var e=V(St);e.scope=St.scope;var _e=St.scope.internal.getFont(St.fontName,St.fontStyle).id,_i=St.scope.__private__.encodeColorString(St.color),ir=[],rr=At.internal.getHeight(St),gr=At.internal.getWidth(St),cr=tt(St,St.caption);return ir.push("1 g"),ir.push("0 0 "+U(gr)+" "+U(rr)+" re"),ir.push("f"),ir.push("q"),ir.push("0 0 1 rg"),ir.push("0 0 "+U(gr-1)+" "+U(rr-1)+" re"),ir.push("W"),ir.push("n"),ir.push("0 g"),ir.push("BT"),ir.push("/"+_e+" "+U(cr.fontSize)+" Tf "+_i),ir.push(cr.text),ir.push("ET"),ir.push("Q"),e.stream=ir.join(`
`),e},OffPushDown:function(St){var e=V(St);e.scope=St.scope;var _e=[];return _e.push("0.749023 g"),_e.push("0 0 "+U(At.internal.getWidth(St))+" "+U(At.internal.getHeight(St))+" re"),_e.push("f"),e.stream=_e.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(St){var e={D:{Off:At.RadioButton.Circle.OffPushDown},N:{}};return e.N[St]=At.RadioButton.Circle.YesNormal,e.D[St]=At.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(St){var e=V(St);e.scope=St.scope;var _e=[],_i=At.internal.getWidth(St)<=At.internal.getHeight(St)?At.internal.getWidth(St)/4:At.internal.getHeight(St)/4;_i=Number((.9*_i).toFixed(5));var ir=At.internal.Bezier_C,rr=Number((_i*ir).toFixed(5));return _e.push("q"),_e.push("1 0 0 1 "+z(At.internal.getWidth(St)/2)+" "+z(At.internal.getHeight(St)/2)+" cm"),_e.push(_i+" 0 m"),_e.push(_i+" "+rr+" "+rr+" "+_i+" 0 "+_i+" c"),_e.push("-"+rr+" "+_i+" -"+_i+" "+rr+" -"+_i+" 0 c"),_e.push("-"+_i+" -"+rr+" -"+rr+" -"+_i+" 0 -"+_i+" c"),_e.push(rr+" -"+_i+" "+_i+" -"+rr+" "+_i+" 0 c"),_e.push("f"),_e.push("Q"),e.stream=_e.join(`
`),e},YesPushDown:function(St){var e=V(St);e.scope=St.scope;var _e=[],_i=At.internal.getWidth(St)<=At.internal.getHeight(St)?At.internal.getWidth(St)/4:At.internal.getHeight(St)/4;_i=Number((.9*_i).toFixed(5));var ir=Number((2*_i).toFixed(5)),rr=Number((ir*At.internal.Bezier_C).toFixed(5)),gr=Number((_i*At.internal.Bezier_C).toFixed(5));return _e.push("0.749023 g"),_e.push("q"),_e.push("1 0 0 1 "+z(At.internal.getWidth(St)/2)+" "+z(At.internal.getHeight(St)/2)+" cm"),_e.push(ir+" 0 m"),_e.push(ir+" "+rr+" "+rr+" "+ir+" 0 "+ir+" c"),_e.push("-"+rr+" "+ir+" -"+ir+" "+rr+" -"+ir+" 0 c"),_e.push("-"+ir+" -"+rr+" -"+rr+" -"+ir+" 0 -"+ir+" c"),_e.push(rr+" -"+ir+" "+ir+" -"+rr+" "+ir+" 0 c"),_e.push("f"),_e.push("Q"),_e.push("0 g"),_e.push("q"),_e.push("1 0 0 1 "+z(At.internal.getWidth(St)/2)+" "+z(At.internal.getHeight(St)/2)+" cm"),_e.push(_i+" 0 m"),_e.push(_i+" "+gr+" "+gr+" "+_i+" 0 "+_i+" c"),_e.push("-"+gr+" "+_i+" -"+_i+" "+gr+" -"+_i+" 0 c"),_e.push("-"+_i+" -"+gr+" -"+gr+" -"+_i+" 0 -"+_i+" c"),_e.push(gr+" -"+_i+" "+_i+" -"+gr+" "+_i+" 0 c"),_e.push("f"),_e.push("Q"),e.stream=_e.join(`
`),e},OffPushDown:function(St){var e=V(St);e.scope=St.scope;var _e=[],_i=At.internal.getWidth(St)<=At.internal.getHeight(St)?At.internal.getWidth(St)/4:At.internal.getHeight(St)/4;_i=Number((.9*_i).toFixed(5));var ir=Number((2*_i).toFixed(5)),rr=Number((ir*At.internal.Bezier_C).toFixed(5));return _e.push("0.749023 g"),_e.push("q"),_e.push("1 0 0 1 "+z(At.internal.getWidth(St)/2)+" "+z(At.internal.getHeight(St)/2)+" cm"),_e.push(ir+" 0 m"),_e.push(ir+" "+rr+" "+rr+" "+ir+" 0 "+ir+" c"),_e.push("-"+rr+" "+ir+" -"+ir+" "+rr+" -"+ir+" 0 c"),_e.push("-"+ir+" -"+rr+" -"+rr+" -"+ir+" 0 -"+ir+" c"),_e.push(rr+" -"+ir+" "+ir+" -"+rr+" "+ir+" 0 c"),_e.push("f"),_e.push("Q"),e.stream=_e.join(`
`),e}},Cross:{createAppearanceStream:function(St){var e={D:{Off:At.RadioButton.Cross.OffPushDown},N:{}};return e.N[St]=At.RadioButton.Cross.YesNormal,e.D[St]=At.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(St){var e=V(St);e.scope=St.scope;var _e=[],_i=At.internal.calculateCross(St);return _e.push("q"),_e.push("1 1 "+U(At.internal.getWidth(St)-2)+" "+U(At.internal.getHeight(St)-2)+" re"),_e.push("W"),_e.push("n"),_e.push(U(_i.x1.x)+" "+U(_i.x1.y)+" m"),_e.push(U(_i.x2.x)+" "+U(_i.x2.y)+" l"),_e.push(U(_i.x4.x)+" "+U(_i.x4.y)+" m"),_e.push(U(_i.x3.x)+" "+U(_i.x3.y)+" l"),_e.push("s"),_e.push("Q"),e.stream=_e.join(`
`),e},YesPushDown:function(St){var e=V(St);e.scope=St.scope;var _e=At.internal.calculateCross(St),_i=[];return _i.push("0.749023 g"),_i.push("0 0 "+U(At.internal.getWidth(St))+" "+U(At.internal.getHeight(St))+" re"),_i.push("f"),_i.push("q"),_i.push("1 1 "+U(At.internal.getWidth(St)-2)+" "+U(At.internal.getHeight(St)-2)+" re"),_i.push("W"),_i.push("n"),_i.push(U(_e.x1.x)+" "+U(_e.x1.y)+" m"),_i.push(U(_e.x2.x)+" "+U(_e.x2.y)+" l"),_i.push(U(_e.x4.x)+" "+U(_e.x4.y)+" m"),_i.push(U(_e.x3.x)+" "+U(_e.x3.y)+" l"),_i.push("s"),_i.push("Q"),e.stream=_i.join(`
`),e},OffPushDown:function(St){var e=V(St);e.scope=St.scope;var _e=[];return _e.push("0.749023 g"),_e.push("0 0 "+U(At.internal.getWidth(St))+" "+U(At.internal.getHeight(St))+" re"),_e.push("f"),e.stream=_e.join(`
`),e}}},createDefaultAppearanceStream:function(St){var e=St.scope.internal.getFont(St.fontName,St.fontStyle).id,_e=St.scope.__private__.encodeColorString(St.color);return"/"+e+" "+St.fontSize+" Tf "+_e}};At.internal={Bezier_C:.551915024494,calculateCross:function(St){var e=At.internal.getWidth(St),_e=At.internal.getHeight(St),_i=Math.min(e,_e);return{x1:{x:(e-_i)/2,y:(_e-_i)/2+_i},x2:{x:(e-_i)/2+_i,y:(_e-_i)/2},x3:{x:(e-_i)/2,y:(_e-_i)/2},x4:{x:(e-_i)/2+_i,y:(_e-_i)/2+_i}}}},At.internal.getWidth=function(St){var e=0;return _typeof(St)==="object"&&(e=W(St.Rect[2])),e},At.internal.getHeight=function(St){var e=0;return _typeof(St)==="object"&&(e=W(St.Rect[3])),e};var xt=q$1.addField=function(St){if(at(this,St),!(St instanceof lt))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=St).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),St.page=St.scope.internal.getCurrentPageInfo().pageNumber,this};q$1.AcroFormChoiceField=ft,q$1.AcroFormListBox=dt,q$1.AcroFormComboBox=pt,q$1.AcroFormEditBox=gt,q$1.AcroFormButton=mt,q$1.AcroFormPushButton=vt,q$1.AcroFormRadioButton=bt,q$1.AcroFormCheckBox=wt,q$1.AcroFormTextField=Nt,q$1.AcroFormPasswordField=Lt,q$1.AcroFormAppearance=At,q$1.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt,EditBox:gt,Button:mt,PushButton:vt,RadioButton:bt,CheckBox:wt,TextField:Nt,PasswordField:Lt,Appearance:At},E.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt,EditBox:gt,Button:mt,PushButton:vt,RadioButton:bt,CheckBox:wt,TextField:Nt,PasswordField:Lt,Appearance:At};E.AcroForm;function _t(St){return St.reduce(function(e,_e,_i){return e[_e]=_i,e},{})}(function(St){St.__addimage__={};var e="UNKNOWN",_e={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},_i=St.__addimage__.getImageFileTypeByImageData=function(Tr,Br){var Jr,Yr,Xr,Vr,$r,Lr=e;if((Br=Br||e)==="RGBA"||Tr.data!==void 0&&Tr.data instanceof Uint8ClampedArray&&"height"in Tr&&"width"in Tr)return"RGBA";if(br(Tr))for($r in _e)for(Xr=_e[$r],Jr=0;Jr<Xr.length;Jr+=1){for(Vr=!0,Yr=0;Yr<Xr[Jr].length;Yr+=1)if(Xr[Jr][Yr]!==void 0&&Xr[Jr][Yr]!==Tr[Yr]){Vr=!1;break}if(Vr===!0){Lr=$r;break}}else for($r in _e)for(Xr=_e[$r],Jr=0;Jr<Xr.length;Jr+=1){for(Vr=!0,Yr=0;Yr<Xr[Jr].length;Yr+=1)if(Xr[Jr][Yr]!==void 0&&Xr[Jr][Yr]!==Tr.charCodeAt(Yr)){Vr=!1;break}if(Vr===!0){Lr=$r;break}}return Lr===e&&Br!==e&&(Lr=Br),Lr},ir=function Tr(Br){for(var Jr=this.internal.write,Yr=this.internal.putStream,Xr=(0,this.internal.getFilters)();Xr.indexOf("FlateEncode")!==-1;)Xr.splice(Xr.indexOf("FlateEncode"),1);Br.objectId=this.internal.newObject();var Vr=[];if(Vr.push({key:"Type",value:"/XObject"}),Vr.push({key:"Subtype",value:"/Image"}),Vr.push({key:"Width",value:Br.width}),Vr.push({key:"Height",value:Br.height}),Br.colorSpace===lr.INDEXED?Vr.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(Br.palette.length/3-1)+" "+("sMask"in Br&&Br.sMask!==void 0?Br.objectId+2:Br.objectId+1)+" 0 R]"}):(Vr.push({key:"ColorSpace",value:"/"+Br.colorSpace}),Br.colorSpace===lr.DEVICE_CMYK&&Vr.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Vr.push({key:"BitsPerComponent",value:Br.bitsPerComponent}),"decodeParameters"in Br&&Br.decodeParameters!==void 0&&Vr.push({key:"DecodeParms",value:"<<"+Br.decodeParameters+">>"}),"transparency"in Br&&Array.isArray(Br.transparency)){for(var $r="",Lr=0,Er=Br.transparency.length;Lr<Er;Lr++)$r+=Br.transparency[Lr]+" "+Br.transparency[Lr]+" ";Vr.push({key:"Mask",value:"["+$r+"]"})}Br.sMask!==void 0&&Vr.push({key:"SMask",value:Br.objectId+1+" 0 R"});var Hr=Br.filter!==void 0?["/"+Br.filter]:void 0;if(Yr({data:Br.data,additionalKeyValues:Vr,alreadyAppliedFilters:Hr,objectId:Br.objectId}),Jr("endobj"),"sMask"in Br&&Br.sMask!==void 0){var Gr="/Predictor "+Br.predictor+" /Colors 1 /BitsPerComponent "+Br.bitsPerComponent+" /Columns "+Br.width,Cr={width:Br.width,height:Br.height,colorSpace:"DeviceGray",bitsPerComponent:Br.bitsPerComponent,decodeParameters:Gr,data:Br.sMask};"filter"in Br&&(Cr.filter=Br.filter),Tr.call(this,Cr)}if(Br.colorSpace===lr.INDEXED){var kr=this.internal.newObject();Yr({data:xr(new Uint8Array(Br.palette)),objectId:kr}),Jr("endobj")}},rr=function(){var Tr=this.internal.collections.addImage_images;for(var Br in Tr)ir.call(this,Tr[Br])},gr=function(){var Tr,Br=this.internal.collections.addImage_images,Jr=this.internal.write;for(var Yr in Br)Jr("/I"+(Tr=Br[Yr]).index,Tr.objectId,"0","R")},cr=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",rr),this.internal.events.subscribe("putXobjectDict",gr))},tr=function(){var Tr=this.internal.collections.addImage_images;return cr.call(this),Tr},hr=function(){return Object.keys(this.internal.collections.addImage_images).length},ur=function(Tr){return typeof St["process"+Tr.toUpperCase()]=="function"},or=function(Tr){return _typeof(Tr)==="object"&&Tr.nodeType===1},nr=function(Tr,Br){if(Tr.nodeName==="IMG"&&Tr.hasAttribute("src")){var Jr=""+Tr.getAttribute("src");if(Jr.indexOf("data:image/")===0)return u(unescape(Jr).split("base64,").pop());var Yr=St.loadFile(Jr,!0);if(Yr!==void 0)return Yr}if(Tr.nodeName==="CANVAS"){if(Tr.width===0||Tr.height===0)throw new Error("Given canvas must have data. Canvas width: "+Tr.width+", height: "+Tr.height);var Xr;switch(Br){case"PNG":Xr="image/png";break;case"WEBP":Xr="image/webp";break;case"JPEG":case"JPG":default:Xr="image/jpeg"}return u(Tr.toDataURL(Xr,1).split("base64,").pop())}},er=function(Tr){var Br=this.internal.collections.addImage_images;if(Br){for(var Jr in Br)if(Tr===Br[Jr].alias)return Br[Jr]}},ar=function(Tr,Br,Jr){return Tr||Br||(Tr=-96,Br=-96),Tr<0&&(Tr=-1*Jr.width*72/Tr/this.internal.scaleFactor),Br<0&&(Br=-1*Jr.height*72/Br/this.internal.scaleFactor),Tr===0&&(Tr=Br*Jr.width/Jr.height),Br===0&&(Br=Tr*Jr.height/Jr.width),[Tr,Br]},dr=function(Tr,Br,Jr,Yr,Xr,Vr){var $r=ar.call(this,Jr,Yr,Xr),Lr=this.internal.getCoordinateString,Er=this.internal.getVerticalCoordinateString,Hr=tr.call(this);if(Jr=$r[0],Yr=$r[1],Hr[Xr.index]=Xr,Vr){Vr*=Math.PI/180;var Gr=Math.cos(Vr),Cr=Math.sin(Vr),kr=function(Pr){return Pr.toFixed(4)},Sr=[kr(Gr),kr(Cr),kr(-1*Cr),kr(Gr),0,0,"cm"]}this.internal.write("q"),Vr?(this.internal.write([1,"0","0",1,Lr(Tr),Er(Br+Yr),"cm"].join(" ")),this.internal.write(Sr.join(" ")),this.internal.write([Lr(Jr),"0","0",Lr(Yr),"0","0","cm"].join(" "))):this.internal.write([Lr(Jr),"0","0",Lr(Yr),Lr(Tr),Er(Br+Yr),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Xr.index+" Do"),this.internal.write("Q")},lr=St.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};St.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var sr=St.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},pr=St.__addimage__.sHashCode=function(Tr){var Br,Jr,Yr=0;if(typeof Tr=="string")for(Jr=Tr.length,Br=0;Br<Jr;Br++)Yr=(Yr<<5)-Yr+Tr.charCodeAt(Br),Yr|=0;else if(br(Tr))for(Jr=Tr.byteLength/2,Br=0;Br<Jr;Br++)Yr=(Yr<<5)-Yr+Tr[Br],Yr|=0;return Yr},mr=St.__addimage__.validateStringAsBase64=function(Tr){(Tr=Tr||"").toString().trim();var Br=!0;return Tr.length===0&&(Br=!1),Tr.length%4!=0&&(Br=!1),/^[A-Za-z0-9+/]+$/.test(Tr.substr(0,Tr.length-2))===!1&&(Br=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(Tr.substr(-2))===!1&&(Br=!1),Br},vr=St.__addimage__.extractImageFromDataUrl=function(Tr){var Br=(Tr=Tr||"").split("base64,"),Jr=null;if(Br.length===2){var Yr=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(Br[0]);Array.isArray(Yr)&&(Jr={mimeType:Yr[1],charset:Yr[2],data:Br[1]})}return Jr},yr=St.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};St.__addimage__.isArrayBuffer=function(Tr){return yr()&&Tr instanceof ArrayBuffer};var br=St.__addimage__.isArrayBufferView=function(Tr){return yr()&&typeof Uint32Array<"u"&&(Tr instanceof Int8Array||Tr instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&Tr instanceof Uint8ClampedArray||Tr instanceof Int16Array||Tr instanceof Uint16Array||Tr instanceof Int32Array||Tr instanceof Uint32Array||Tr instanceof Float32Array||Tr instanceof Float64Array)},_r=St.__addimage__.binaryStringToUint8Array=function(Tr){for(var Br=Tr.length,Jr=new Uint8Array(Br),Yr=0;Yr<Br;Yr++)Jr[Yr]=Tr.charCodeAt(Yr);return Jr},xr=St.__addimage__.arrayBufferToBinaryString=function(Tr){for(var Br="",Jr=br(Tr)?Tr:new Uint8Array(Tr),Yr=0;Yr<Jr.length;Yr+=8192)Br+=String.fromCharCode.apply(null,Jr.subarray(Yr,Yr+8192));return Br};St.addImage=function(){var Tr,Br,Jr,Yr,Xr,Vr,$r,Lr,Er;if(typeof arguments[1]=="number"?(Br=e,Jr=arguments[1],Yr=arguments[2],Xr=arguments[3],Vr=arguments[4],$r=arguments[5],Lr=arguments[6],Er=arguments[7]):(Br=arguments[1],Jr=arguments[2],Yr=arguments[3],Xr=arguments[4],Vr=arguments[5],$r=arguments[6],Lr=arguments[7],Er=arguments[8]),_typeof(Tr=arguments[0])==="object"&&!or(Tr)&&"imageData"in Tr){var Hr=Tr;Tr=Hr.imageData,Br=Hr.format||Br||e,Jr=Hr.x||Jr||0,Yr=Hr.y||Yr||0,Xr=Hr.w||Hr.width||Xr,Vr=Hr.h||Hr.height||Vr,$r=Hr.alias||$r,Lr=Hr.compression||Lr,Er=Hr.rotation||Hr.angle||Er}var Gr=this.internal.getFilters();if(Lr===void 0&&Gr.indexOf("FlateEncode")!==-1&&(Lr="SLOW"),isNaN(Jr)||isNaN(Yr))throw new Error("Invalid coordinates passed to jsPDF.addImage");cr.call(this);var Cr=Nr.call(this,Tr,Br,$r,Lr);return dr.call(this,Jr,Yr,Xr,Vr,Cr,Er),this};var Nr=function(Tr,Br,Jr,Yr){var Xr,Vr,$r;if(typeof Tr=="string"&&_i(Tr)===e){Tr=unescape(Tr);var Lr=zr(Tr,!1);(Lr!==""||(Lr=St.loadFile(Tr,!0))!==void 0)&&(Tr=Lr)}if(or(Tr)&&(Tr=nr(Tr,Br)),Br=_i(Tr,Br),!ur(Br))throw new Error("addImage does not support files of type '"+Br+"', please ensure that a plugin for '"+Br+"' support is added.");if((($r=Jr)==null||$r.length===0)&&(Jr=function(Er){return typeof Er=="string"||br(Er)?pr(Er):br(Er.data)?pr(Er.data):null}(Tr)),(Xr=er.call(this,Jr))||(yr()&&(Tr instanceof Uint8Array||Br==="RGBA"||(Vr=Tr,Tr=_r(Tr))),Xr=this["process"+Br.toUpperCase()](Tr,hr.call(this),Jr,function(Er){return Er&&typeof Er=="string"&&(Er=Er.toUpperCase()),Er in St.image_compression?Er:sr.NONE}(Yr),Vr)),!Xr)throw new Error("An unknown error occurred whilst processing the image.");return Xr},zr=St.__addimage__.convertBase64ToBinaryString=function(Tr,Br){var Jr;Br=typeof Br!="boolean"||Br;var Yr,Xr="";if(typeof Tr=="string"){Yr=(Jr=vr(Tr))!==null?Jr.data:Tr;try{Xr=u(Yr)}catch(Vr){if(Br)throw mr(Yr)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Vr.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Xr};St.getImageProperties=function(Tr){var Br,Jr,Yr="";if(or(Tr)&&(Tr=nr(Tr)),typeof Tr=="string"&&_i(Tr)===e&&((Yr=zr(Tr,!1))===""&&(Yr=St.loadFile(Tr)||""),Tr=Yr),Jr=_i(Tr),!ur(Jr))throw new Error("addImage does not support files of type '"+Jr+"', please ensure that a plugin for '"+Jr+"' support is added.");if(!yr()||Tr instanceof Uint8Array||(Tr=_r(Tr)),!(Br=this["process"+Jr.toUpperCase()](Tr)))throw new Error("An unknown error occurred whilst processing the image");return Br.fileType=Jr,Br}})(E.API),function(St){var e=function(_e){if(_e!==void 0&&_e!="")return!0};E.API.events.push(["addPage",function(_e){this.internal.getPageInfo(_e.pageNumber).pageContext.annotations=[]}]),St.events.push(["putPage",function(_e){for(var _i,ir,rr,gr=this.internal.getCoordinateString,cr=this.internal.getVerticalCoordinateString,tr=this.internal.getPageInfoByObjId(_e.objId),hr=_e.pageContext.annotations,ur=!1,or=0;or<hr.length&&!ur;or++)switch((_i=hr[or]).type){case"link":(e(_i.options.url)||e(_i.options.pageNumber))&&(ur=!0);break;case"reference":case"text":case"freetext":ur=!0}if(ur!=0){this.internal.write("/Annots [");for(var nr=0;nr<hr.length;nr++){_i=hr[nr];var er=this.internal.pdfEscape,ar=this.internal.getEncryptor(_e.objId);switch(_i.type){case"reference":this.internal.write(" "+_i.object.objId+" 0 R ");break;case"text":var dr=this.internal.newAdditionalObject(),lr=this.internal.newAdditionalObject(),sr=this.internal.getEncryptor(dr.objId),pr=_i.title||"Note";rr="<</Type /Annot /Subtype /Text "+(ir="/Rect ["+gr(_i.bounds.x)+" "+cr(_i.bounds.y+_i.bounds.h)+" "+gr(_i.bounds.x+_i.bounds.w)+" "+cr(_i.bounds.y)+"] ")+"/Contents ("+er(sr(_i.contents))+")",rr+=" /Popup "+lr.objId+" 0 R",rr+=" /P "+tr.objId+" 0 R",rr+=" /T ("+er(sr(pr))+") >>",dr.content=rr;var mr=dr.objId+" 0 R";rr="<</Type /Annot /Subtype /Popup "+(ir="/Rect ["+gr(_i.bounds.x+30)+" "+cr(_i.bounds.y+_i.bounds.h)+" "+gr(_i.bounds.x+_i.bounds.w+30)+" "+cr(_i.bounds.y)+"] ")+" /Parent "+mr,_i.open&&(rr+=" /Open true"),rr+=" >>",lr.content=rr,this.internal.write(dr.objId,"0 R",lr.objId,"0 R");break;case"freetext":ir="/Rect ["+gr(_i.bounds.x)+" "+cr(_i.bounds.y)+" "+gr(_i.bounds.x+_i.bounds.w)+" "+cr(_i.bounds.y+_i.bounds.h)+"] ";var vr=_i.color||"#000000";rr="<</Type /Annot /Subtype /FreeText "+ir+"/Contents ("+er(ar(_i.contents))+")",rr+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+vr+")",rr+=" /Border [0 0 0]",rr+=" >>",this.internal.write(rr);break;case"link":if(_i.options.name){var yr=this.annotations._nameMap[_i.options.name];_i.options.pageNumber=yr.page,_i.options.top=yr.y}else _i.options.top||(_i.options.top=0);if(ir="/Rect ["+_i.finalBounds.x+" "+_i.finalBounds.y+" "+_i.finalBounds.w+" "+_i.finalBounds.h+"] ",rr="",_i.options.url)rr="<</Type /Annot /Subtype /Link "+ir+"/Border [0 0 0] /A <</S /URI /URI ("+er(ar(_i.options.url))+") >>";else if(_i.options.pageNumber)switch(rr="<</Type /Annot /Subtype /Link "+ir+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(_i.options.pageNumber).objId+" 0 R",_i.options.magFactor=_i.options.magFactor||"XYZ",_i.options.magFactor){case"Fit":rr+=" /Fit]";break;case"FitH":rr+=" /FitH "+_i.options.top+"]";break;case"FitV":_i.options.left=_i.options.left||0,rr+=" /FitV "+_i.options.left+"]";break;case"XYZ":default:var br=cr(_i.options.top);_i.options.left=_i.options.left||0,_i.options.zoom===void 0&&(_i.options.zoom=0),rr+=" /XYZ "+_i.options.left+" "+br+" "+_i.options.zoom+"]"}rr!=""&&(rr+=" >>",this.internal.write(rr))}}this.internal.write("]")}}]),St.createAnnotation=function(_e){var _i=this.internal.getCurrentPageInfo();switch(_e.type){case"link":this.link(_e.bounds.x,_e.bounds.y,_e.bounds.w,_e.bounds.h,_e);break;case"text":case"freetext":_i.pageContext.annotations.push(_e)}},St.link=function(_e,_i,ir,rr,gr){var cr=this.internal.getCurrentPageInfo(),tr=this.internal.getCoordinateString,hr=this.internal.getVerticalCoordinateString;cr.pageContext.annotations.push({finalBounds:{x:tr(_e),y:hr(_i),w:tr(_e+ir),h:hr(_i+rr)},options:gr,type:"link"})},St.textWithLink=function(_e,_i,ir,rr){var gr,cr,tr=this.getTextWidth(_e),hr=this.internal.getLineHeight()/this.internal.scaleFactor;if(rr.maxWidth!==void 0){cr=rr.maxWidth;var ur=this.splitTextToSize(_e,cr).length;gr=Math.ceil(hr*ur)}else cr=tr,gr=hr;return this.text(_e,_i,ir,rr),ir+=.2*hr,rr.align==="center"&&(_i-=tr/2),rr.align==="right"&&(_i-=tr),this.link(_i,ir-hr,cr,gr,rr),tr},St.getTextWidth=function(_e){var _i=this.internal.getFontSize();return this.getStringUnitWidth(_e)*_i/this.internal.scaleFactor}}(E.API),function(St){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},_e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},_i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},ir=[1570,1571,1573,1575];St.__arabicParser__={};var rr=St.__arabicParser__.isInArabicSubstitutionA=function(dr){return e[dr.charCodeAt(0)]!==void 0},gr=St.__arabicParser__.isArabicLetter=function(dr){return typeof dr=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(dr)},cr=St.__arabicParser__.isArabicEndLetter=function(dr){return gr(dr)&&rr(dr)&&e[dr.charCodeAt(0)].length<=2},tr=St.__arabicParser__.isArabicAlfLetter=function(dr){return gr(dr)&&ir.indexOf(dr.charCodeAt(0))>=0};St.__arabicParser__.arabicLetterHasIsolatedForm=function(dr){return gr(dr)&&rr(dr)&&e[dr.charCodeAt(0)].length>=1};var hr=St.__arabicParser__.arabicLetterHasFinalForm=function(dr){return gr(dr)&&rr(dr)&&e[dr.charCodeAt(0)].length>=2};St.__arabicParser__.arabicLetterHasInitialForm=function(dr){return gr(dr)&&rr(dr)&&e[dr.charCodeAt(0)].length>=3};var ur=St.__arabicParser__.arabicLetterHasMedialForm=function(dr){return gr(dr)&&rr(dr)&&e[dr.charCodeAt(0)].length==4},or=St.__arabicParser__.resolveLigatures=function(dr){var lr=0,sr=_e,pr="",mr=0;for(lr=0;lr<dr.length;lr+=1)sr[dr.charCodeAt(lr)]!==void 0?(mr++,typeof(sr=sr[dr.charCodeAt(lr)])=="number"&&(pr+=String.fromCharCode(sr),sr=_e,mr=0),lr===dr.length-1&&(sr=_e,pr+=dr.charAt(lr-(mr-1)),lr-=mr-1,mr=0)):(sr=_e,pr+=dr.charAt(lr-mr),lr-=mr,mr=0);return pr};St.__arabicParser__.isArabicDiacritic=function(dr){return dr!==void 0&&_i[dr.charCodeAt(0)]!==void 0};var nr=St.__arabicParser__.getCorrectForm=function(dr,lr,sr){return gr(dr)?rr(dr)===!1?-1:!hr(dr)||!gr(lr)&&!gr(sr)||!gr(sr)&&cr(lr)||cr(dr)&&!gr(lr)||cr(dr)&&tr(lr)||cr(dr)&&cr(lr)?0:ur(dr)&&gr(lr)&&!cr(lr)&&gr(sr)&&hr(sr)?3:cr(dr)||!gr(sr)?1:2:-1},er=function(dr){var lr=0,sr=0,pr=0,mr="",vr="",yr="",br=(dr=dr||"").split("\\s+"),_r=[];for(lr=0;lr<br.length;lr+=1){for(_r.push(""),sr=0;sr<br[lr].length;sr+=1)mr=br[lr][sr],vr=br[lr][sr-1],yr=br[lr][sr+1],gr(mr)?(pr=nr(mr,vr,yr),_r[lr]+=pr!==-1?String.fromCharCode(e[mr.charCodeAt(0)][pr]):mr):_r[lr]+=mr;_r[lr]=or(_r[lr])}return _r.join(" ")},ar=St.__arabicParser__.processArabic=St.processArabic=function(){var dr,lr=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,sr=[];if(Array.isArray(lr)){var pr=0;for(sr=[],pr=0;pr<lr.length;pr+=1)Array.isArray(lr[pr])?sr.push([er(lr[pr][0]),lr[pr][1],lr[pr][2]]):sr.push([er(lr[pr])]);dr=sr}else dr=er(lr);return typeof arguments[0]=="string"?dr:(arguments[0].text=dr,arguments[0])};St.events.push(["preProcessText",ar])}(E.API),E.API.autoPrint=function(St){var e;switch((St=St||{}).variant=St.variant||"non-conform",St.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(St){var e=function(){var _e=void 0;Object.defineProperty(this,"pdf",{get:function(){return _e},set:function(cr){_e=cr}});var _i=150;Object.defineProperty(this,"width",{get:function(){return _i},set:function(cr){_i=isNaN(cr)||Number.isInteger(cr)===!1||cr<0?150:cr,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=_i+1)}});var ir=300;Object.defineProperty(this,"height",{get:function(){return ir},set:function(cr){ir=isNaN(cr)||Number.isInteger(cr)===!1||cr<0?300:cr,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=ir+1)}});var rr=[];Object.defineProperty(this,"childNodes",{get:function(){return rr},set:function(cr){rr=cr}});var gr={};Object.defineProperty(this,"style",{get:function(){return gr},set:function(cr){gr=cr}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(_e,_i){var ir;if((_e=_e||"2d")!=="2d")return null;for(ir in _i)this.pdf.context2d.hasOwnProperty(ir)&&(this.pdf.context2d[ir]=_i[ir]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},St.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(E.API),function(St){var e={left:0,top:0,bottom:0,right:0},_e=!1,_i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),ir.call(this))},ir=function(){this.internal.__cell__.lastCell=new rr,this.internal.__cell__.pages=1},rr=function(){var tr=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return tr},set:function(dr){tr=dr}});var hr=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return hr},set:function(dr){hr=dr}});var ur=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return ur},set:function(dr){ur=dr}});var or=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return or},set:function(dr){or=dr}});var nr=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return nr},set:function(dr){nr=dr}});var er=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return er},set:function(dr){er=dr}});var ar=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return ar},set:function(dr){ar=dr}}),this};rr.prototype.clone=function(){return new rr(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},rr.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},St.setHeaderFunction=function(tr){return _i.call(this),this.internal.__cell__.headerFunction=typeof tr=="function"?tr:void 0,this},St.getTextDimensions=function(tr,hr){_i.call(this);var ur=(hr=hr||{}).fontSize||this.getFontSize(),or=hr.font||this.getFont(),nr=hr.scaleFactor||this.internal.scaleFactor,er=0,ar=0,dr=0,lr=this;if(!Array.isArray(tr)&&typeof tr!="string"){if(typeof tr!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");tr=String(tr)}var sr=hr.maxWidth;sr>0?typeof tr=="string"?tr=this.splitTextToSize(tr,sr):Object.prototype.toString.call(tr)==="[object Array]"&&(tr=tr.reduce(function(mr,vr){return mr.concat(lr.splitTextToSize(vr,sr))},[])):tr=Array.isArray(tr)?tr:[tr];for(var pr=0;pr<tr.length;pr++)er<(dr=this.getStringUnitWidth(tr[pr],{font:or})*ur)&&(er=dr);return er!==0&&(ar=tr.length),{w:er/=nr,h:Math.max((ar*ur*this.getLineHeightFactor()-ur*(this.getLineHeightFactor()-1))/nr,0)}},St.cellAddPage=function(){_i.call(this),this.addPage();var tr=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new rr(tr.left,tr.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var gr=St.cell=function(){var tr;tr=arguments[0]instanceof rr?arguments[0]:new rr(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),_i.call(this);var hr=this.internal.__cell__.lastCell,ur=this.internal.__cell__.padding,or=this.internal.__cell__.margins||e,nr=this.internal.__cell__.tableHeaderRow,er=this.internal.__cell__.printHeaders;return hr.lineNumber!==void 0&&(hr.lineNumber===tr.lineNumber?(tr.x=(hr.x||0)+(hr.width||0),tr.y=hr.y||0):hr.y+hr.height+tr.height+or.bottom>this.getPageHeight()?(this.cellAddPage(),tr.y=or.top,er&&nr&&(this.printHeaderRow(tr.lineNumber,!0),tr.y+=nr[0].height)):tr.y=hr.y+hr.height||tr.y),tr.text[0]!==void 0&&(this.rect(tr.x,tr.y,tr.width,tr.height,_e===!0?"FD":void 0),tr.align==="right"?this.text(tr.text,tr.x+tr.width-ur,tr.y+ur,{align:"right",baseline:"top"}):tr.align==="center"?this.text(tr.text,tr.x+tr.width/2,tr.y+ur,{align:"center",baseline:"top",maxWidth:tr.width-ur-ur}):this.text(tr.text,tr.x+ur,tr.y+ur,{align:"left",baseline:"top",maxWidth:tr.width-ur-ur})),this.internal.__cell__.lastCell=tr,this};St.table=function(tr,hr,ur,or,nr){if(_i.call(this),!ur)throw new Error("No data for PDF table.");var er,ar,dr,lr,sr=[],pr=[],mr=[],vr={},yr={},br=[],_r=[],xr=(nr=nr||{}).autoSize||!1,Nr=nr.printHeaders!==!1,zr=nr.css&&nr.css["font-size"]!==void 0?16*nr.css["font-size"]:nr.fontSize||12,Tr=nr.margins||Object.assign({width:this.getPageWidth()},e),Br=typeof nr.padding=="number"?nr.padding:3,Jr=nr.headerBackgroundColor||"#c8c8c8",Yr=nr.headerTextColor||"#000";if(ir.call(this),this.internal.__cell__.printHeaders=Nr,this.internal.__cell__.margins=Tr,this.internal.__cell__.table_font_size=zr,this.internal.__cell__.padding=Br,this.internal.__cell__.headerBackgroundColor=Jr,this.internal.__cell__.headerTextColor=Yr,this.setFontSize(zr),or==null)pr=sr=Object.keys(ur[0]),mr=sr.map(function(){return"left"});else if(Array.isArray(or)&&_typeof(or[0])==="object")for(sr=or.map(function(Hr){return Hr.name}),pr=or.map(function(Hr){return Hr.prompt||Hr.name||""}),mr=or.map(function(Hr){return Hr.align||"left"}),er=0;er<or.length;er+=1)yr[or[er].name]=or[er].width*(19.049976/25.4);else Array.isArray(or)&&typeof or[0]=="string"&&(pr=sr=or,mr=sr.map(function(){return"left"}));if(xr||Array.isArray(or)&&typeof or[0]=="string")for(er=0;er<sr.length;er+=1){for(vr[lr=sr[er]]=ur.map(function(Hr){return Hr[lr]}),this.setFont(void 0,"bold"),br.push(this.getTextDimensions(pr[er],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),ar=vr[lr],this.setFont(void 0,"normal"),dr=0;dr<ar.length;dr+=1)br.push(this.getTextDimensions(ar[dr],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);yr[lr]=Math.max.apply(null,br)+Br+Br,br=[]}if(Nr){var Xr={};for(er=0;er<sr.length;er+=1)Xr[sr[er]]={},Xr[sr[er]].text=pr[er],Xr[sr[er]].align=mr[er];var Vr=cr.call(this,Xr,yr);_r=sr.map(function(Hr){return new rr(tr,hr,yr[Hr],Vr,Xr[Hr].text,void 0,Xr[Hr].align)}),this.setTableHeaderRow(_r),this.printHeaderRow(1,!1)}var $r=or.reduce(function(Hr,Gr){return Hr[Gr.name]=Gr.align,Hr},{});for(er=0;er<ur.length;er+=1){"rowStart"in nr&&nr.rowStart instanceof Function&&nr.rowStart({row:er,data:ur[er]},this);var Lr=cr.call(this,ur[er],yr);for(dr=0;dr<sr.length;dr+=1){var Er=ur[er][sr[dr]];"cellStart"in nr&&nr.cellStart instanceof Function&&nr.cellStart({row:er,col:dr,data:Er},this),gr.call(this,new rr(tr,hr,yr[sr[dr]],Lr,Er,er+2,$r[sr[dr]]))}}return this.internal.__cell__.table_x=tr,this.internal.__cell__.table_y=hr,this};var cr=function(tr,hr){var ur=this.internal.__cell__.padding,or=this.internal.__cell__.table_font_size,nr=this.internal.scaleFactor;return Object.keys(tr).map(function(er){var ar=tr[er];return this.splitTextToSize(ar.hasOwnProperty("text")?ar.text:ar,hr[er]-ur-ur)},this).map(function(er){return this.getLineHeightFactor()*er.length*or/nr+ur+ur},this).reduce(function(er,ar){return Math.max(er,ar)},0)};St.setTableHeaderRow=function(tr){_i.call(this),this.internal.__cell__.tableHeaderRow=tr},St.printHeaderRow=function(tr,hr){if(_i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var ur;if(_e=!0,typeof this.internal.__cell__.headerFunction=="function"){var or=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new rr(or[0],or[1],or[2],or[3],void 0,-1)}this.setFont(void 0,"bold");for(var nr=[],er=0;er<this.internal.__cell__.tableHeaderRow.length;er+=1){ur=this.internal.__cell__.tableHeaderRow[er].clone(),hr&&(ur.y=this.internal.__cell__.margins.top||0,nr.push(ur)),ur.lineNumber=tr;var ar=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),gr.call(this,ur),this.setTextColor(ar)}nr.length>0&&this.setTableHeaderRow(nr),this.setFont(void 0,"normal"),_e=!1}}(E.API);var Pt={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},kt=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],It=_t(kt),Ft=[100,200,300,400,500,600,700,800,900],Ct=_t(Ft);function jt(St){var e=St.family.replace(/"|'/g,"").toLowerCase(),_e=function(rr){return Pt[rr=rr||"normal"]?rr:"normal"}(St.style),_i=function(rr){if(!rr)return 400;if(typeof rr=="number")return rr>=100&&rr<=900&&rr%100==0?rr:400;if(/^\d00$/.test(rr))return parseInt(rr);switch(rr){case"bold":return 700;case"normal":default:return 400}}(St.weight),ir=function(rr){return typeof It[rr=rr||"normal"]=="number"?rr:"normal"}(St.stretch);return{family:e,style:_e,weight:_i,stretch:ir,src:St.src||[],ref:St.ref||{name:e,style:[ir,_e,_i].join(" ")}}}function Ot(St,e,_e,_i){var ir;for(ir=_e;ir>=0&&ir<e.length;ir+=_i)if(St[e[ir]])return St[e[ir]];for(ir=_e;ir>=0&&ir<e.length;ir-=_i)if(St[e[ir]])return St[e[ir]]}var Bt={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Mt={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Et(St){return[St.stretch,St.style,St.weight,St.family].join(" ")}function qt(St,e,_e){for(var _i=(_e=_e||{}).defaultFontFamily||"times",ir=Object.assign({},Bt,_e.genericFontFamilies||{}),rr=null,gr=null,cr=0;cr<e.length;++cr)if(ir[(rr=jt(e[cr])).family]&&(rr.family=ir[rr.family]),St.hasOwnProperty(rr.family)){gr=St[rr.family];break}if(!(gr=gr||St[_i]))throw new Error("Could not find a font-family for the rule '"+Et(rr)+"' and default family '"+_i+"'.");if(gr=function(tr,hr){if(hr[tr])return hr[tr];var ur=It[tr],or=ur<=It.normal?-1:1,nr=Ot(hr,kt,ur,or);if(!nr)throw new Error("Could not find a matching font-stretch value for "+tr);return nr}(rr.stretch,gr),gr=function(tr,hr){if(hr[tr])return hr[tr];for(var ur=Pt[tr],or=0;or<ur.length;++or)if(hr[ur[or]])return hr[ur[or]];throw new Error("Could not find a matching font-style for "+tr)}(rr.style,gr),!(gr=function(tr,hr){if(hr[tr])return hr[tr];if(tr===400&&hr[500])return hr[500];if(tr===500&&hr[400])return hr[400];var ur=Ct[tr],or=Ot(hr,Ft,ur,tr<400?-1:1);if(!or)throw new Error("Could not find a matching font-weight for value "+tr);return or}(rr.weight,gr)))throw new Error("Failed to resolve a font for the rule '"+Et(rr)+"'.");return gr}function Dt(St){return St.trimLeft()}function Rt(St,e){for(var _e=0;_e<St.length;){if(St.charAt(_e)===e)return[St.substring(0,_e),St.substring(_e+1)];_e+=1}return null}function Tt(St){var e=St.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],St.substring(e[0].length)]}var Ut,zt,Ht,Wt=["times"];(function(St){var e,_e,_i,ir,rr,gr,cr,tr,hr,ur=function(Cr){return Cr=Cr||{},this.isStrokeTransparent=Cr.isStrokeTransparent||!1,this.strokeOpacity=Cr.strokeOpacity||1,this.strokeStyle=Cr.strokeStyle||"#000000",this.fillStyle=Cr.fillStyle||"#000000",this.isFillTransparent=Cr.isFillTransparent||!1,this.fillOpacity=Cr.fillOpacity||1,this.font=Cr.font||"10px sans-serif",this.textBaseline=Cr.textBaseline||"alphabetic",this.textAlign=Cr.textAlign||"left",this.lineWidth=Cr.lineWidth||1,this.lineJoin=Cr.lineJoin||"miter",this.lineCap=Cr.lineCap||"butt",this.path=Cr.path||[],this.transform=Cr.transform!==void 0?Cr.transform.clone():new tr,this.globalCompositeOperation=Cr.globalCompositeOperation||"normal",this.globalAlpha=Cr.globalAlpha||1,this.clip_path=Cr.clip_path||[],this.currentPoint=Cr.currentPoint||new gr,this.miterLimit=Cr.miterLimit||10,this.lastPoint=Cr.lastPoint||new gr,this.lineDashOffset=Cr.lineDashOffset||0,this.lineDash=Cr.lineDash||[],this.margin=Cr.margin||[0,0,0,0],this.prevPageLastElemOffset=Cr.prevPageLastElemOffset||0,this.ignoreClearRect=typeof Cr.ignoreClearRect!="boolean"||Cr.ignoreClearRect,this};St.events.push(["initialized",function(){this.context2d=new or(this),e=this.internal.f2,_e=this.internal.getCoordinateString,_i=this.internal.getVerticalCoordinateString,ir=this.internal.getHorizontalCoordinate,rr=this.internal.getVerticalCoordinate,gr=this.internal.Point,cr=this.internal.Rectangle,tr=this.internal.Matrix,hr=new ur}]);var or=function(Cr){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var kr=Cr;Object.defineProperty(this,"pdf",{get:function(){return kr}});var Sr=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Sr},set:function(Ur){Sr=Boolean(Ur)}});var Pr=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Pr},set:function(Ur){Pr=Boolean(Ur)}});var jr=0;Object.defineProperty(this,"posX",{get:function(){return jr},set:function(Ur){isNaN(Ur)||(jr=Ur)}});var Wr=0;Object.defineProperty(this,"posY",{get:function(){return Wr},set:function(Ur){isNaN(Ur)||(Wr=Ur)}}),Object.defineProperty(this,"margin",{get:function(){return hr.margin},set:function(Ur){var Mr;typeof Ur=="number"?Mr=[Ur,Ur,Ur,Ur]:((Mr=new Array(4))[0]=Ur[0],Mr[1]=Ur.length>=2?Ur[1]:Mr[0],Mr[2]=Ur.length>=3?Ur[2]:Mr[0],Mr[3]=Ur.length>=4?Ur[3]:Mr[1]),hr.margin=Mr}});var Kr=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Kr},set:function(Ur){Kr=Ur}});var Qr=0;Object.defineProperty(this,"lastBreak",{get:function(){return Qr},set:function(Ur){Qr=Ur}});var on=[];Object.defineProperty(this,"pageBreaks",{get:function(){return on},set:function(Ur){on=Ur}}),Object.defineProperty(this,"ctx",{get:function(){return hr},set:function(Ur){Ur instanceof ur&&(hr=Ur)}}),Object.defineProperty(this,"path",{get:function(){return hr.path},set:function(Ur){hr.path=Ur}});var pn=[];Object.defineProperty(this,"ctxStack",{get:function(){return pn},set:function(Ur){pn=Ur}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ur){var Mr;Mr=nr(Ur),this.ctx.fillStyle=Mr.style,this.ctx.isFillTransparent=Mr.a===0,this.ctx.fillOpacity=Mr.a,this.pdf.setFillColor(Mr.r,Mr.g,Mr.b,{a:Mr.a}),this.pdf.setTextColor(Mr.r,Mr.g,Mr.b,{a:Mr.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ur){var Mr=nr(Ur);this.ctx.strokeStyle=Mr.style,this.ctx.isStrokeTransparent=Mr.a===0,this.ctx.strokeOpacity=Mr.a,Mr.a===0?this.pdf.setDrawColor(255,255,255):(Mr.a,this.pdf.setDrawColor(Mr.r,Mr.g,Mr.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ur){["butt","round","square"].indexOf(Ur)!==-1&&(this.ctx.lineCap=Ur,this.pdf.setLineCap(Ur))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ur){isNaN(Ur)||(this.ctx.lineWidth=Ur,this.pdf.setLineWidth(Ur))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ur){["bevel","round","miter"].indexOf(Ur)!==-1&&(this.ctx.lineJoin=Ur,this.pdf.setLineJoin(Ur))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ur){isNaN(Ur)||(this.ctx.miterLimit=Ur,this.pdf.setMiterLimit(Ur))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ur){this.ctx.textBaseline=Ur}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ur){["right","end","center","left","start"].indexOf(Ur)!==-1&&(this.ctx.textAlign=Ur)}});var fn=null;function en(Ur,Mr){if(fn===null){var Zr=function(tn){var an=[];return Object.keys(tn).forEach(function(vn){tn[vn].forEach(function(_n){var dn=null;switch(_n){case"bold":dn={family:vn,weight:"bold"};break;case"italic":dn={family:vn,style:"italic"};break;case"bolditalic":dn={family:vn,weight:"bold",style:"italic"};break;case"":case"normal":dn={family:vn}}dn!==null&&(dn.ref={name:vn,style:_n},an.push(dn))})}),an}(Ur.getFontList());fn=function(tn){for(var an={},vn=0;vn<tn.length;++vn){var _n=jt(tn[vn]),dn=_n.family,Pn=_n.stretch,gn=_n.style,In=_n.weight;an[dn]=an[dn]||{},an[dn][Pn]=an[dn][Pn]||{},an[dn][Pn][gn]=an[dn][Pn][gn]||{},an[dn][Pn][gn][In]=_n}return an}(Zr.concat(Mr))}return fn}var Ir=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ir},set:function(Ur){fn=null,Ir=Ur}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ur){var Mr;if(this.ctx.font=Ur,(Mr=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ur))!==null){var Zr=Mr[1],tn=(Mr[2],Mr[3]),an=Mr[4],vn=(Mr[5],Mr[6]),_n=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(an)[2];an=Math.floor(_n==="px"?parseFloat(an)*this.pdf.internal.scaleFactor:_n==="em"?parseFloat(an)*this.pdf.getFontSize():parseFloat(an)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(an);var dn=function(Dn){var Kn,Nn,ds=[],as=Dn.trim();if(as==="")return Wt;if(as in Mt)return[Mt[as]];for(;as!=="";){switch(Nn=null,Kn=(as=Dt(as)).charAt(0)){case'"':case"'":Nn=Rt(as.substring(1),Kn);break;default:Nn=Tt(as)}if(Nn===null||(ds.push(Nn[0]),(as=Dt(Nn[1]))!==""&&as.charAt(0)!==","))return Wt;as=as.replace(/^,/,"")}return ds}(vn);if(this.fontFaces){var Pn=qt(en(this.pdf,this.fontFaces),dn.map(function(Dn){return{family:Dn,stretch:"normal",weight:tn,style:Zr}}));this.pdf.setFont(Pn.ref.name,Pn.ref.style)}else{var gn="";(tn==="bold"||parseInt(tn,10)>=700||Zr==="bold")&&(gn="bold"),Zr==="italic"&&(gn+="italic"),gn.length===0&&(gn="normal");for(var In="",Rn={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},zn=0;zn<dn.length;zn++){if(this.pdf.internal.getFont(dn[zn],gn,{noFallback:!0,disableWarning:!0})!==void 0){In=dn[zn];break}if(gn==="bolditalic"&&this.pdf.internal.getFont(dn[zn],"bold",{noFallback:!0,disableWarning:!0})!==void 0)In=dn[zn],gn="bold";else if(this.pdf.internal.getFont(dn[zn],"normal",{noFallback:!0,disableWarning:!0})!==void 0){In=dn[zn],gn="normal";break}}if(In===""){for(var Cn=0;Cn<dn.length;Cn++)if(Rn[dn[Cn]]){In=Rn[dn[Cn]];break}}In=In===""?"Times":In,this.pdf.setFont(In,gn)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ur){this.ctx.globalCompositeOperation=Ur}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ur){this.ctx.globalAlpha=Ur}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ur){this.ctx.lineDashOffset=Ur,Gr.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ur){this.ctx.lineDash=Ur,Gr.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ur){this.ctx.ignoreClearRect=Boolean(Ur)}})};or.prototype.setLineDash=function(Cr){this.lineDash=Cr},or.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},or.prototype.fill=function(){vr.call(this,"fill",!1)},or.prototype.stroke=function(){vr.call(this,"stroke",!1)},or.prototype.beginPath=function(){this.path=[{type:"begin"}]},or.prototype.moveTo=function(Cr,kr){if(isNaN(Cr)||isNaN(kr))throw a.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Sr=this.ctx.transform.applyToPoint(new gr(Cr,kr));this.path.push({type:"mt",x:Sr.x,y:Sr.y}),this.ctx.lastPoint=new gr(Cr,kr)},or.prototype.closePath=function(){var Cr=new gr(0,0),kr=0;for(kr=this.path.length-1;kr!==-1;kr--)if(this.path[kr].type==="begin"&&_typeof(this.path[kr+1])==="object"&&typeof this.path[kr+1].x=="number"){Cr=new gr(this.path[kr+1].x,this.path[kr+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new gr(Cr.x,Cr.y)},or.prototype.lineTo=function(Cr,kr){if(isNaN(Cr)||isNaN(kr))throw a.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Sr=this.ctx.transform.applyToPoint(new gr(Cr,kr));this.path.push({type:"lt",x:Sr.x,y:Sr.y}),this.ctx.lastPoint=new gr(Sr.x,Sr.y)},or.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),vr.call(this,null,!0)},or.prototype.quadraticCurveTo=function(Cr,kr,Sr,Pr){if(isNaN(Sr)||isNaN(Pr)||isNaN(Cr)||isNaN(kr))throw a.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var jr=this.ctx.transform.applyToPoint(new gr(Sr,Pr)),Wr=this.ctx.transform.applyToPoint(new gr(Cr,kr));this.path.push({type:"qct",x1:Wr.x,y1:Wr.y,x:jr.x,y:jr.y}),this.ctx.lastPoint=new gr(jr.x,jr.y)},or.prototype.bezierCurveTo=function(Cr,kr,Sr,Pr,jr,Wr){if(isNaN(jr)||isNaN(Wr)||isNaN(Cr)||isNaN(kr)||isNaN(Sr)||isNaN(Pr))throw a.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Kr=this.ctx.transform.applyToPoint(new gr(jr,Wr)),Qr=this.ctx.transform.applyToPoint(new gr(Cr,kr)),on=this.ctx.transform.applyToPoint(new gr(Sr,Pr));this.path.push({type:"bct",x1:Qr.x,y1:Qr.y,x2:on.x,y2:on.y,x:Kr.x,y:Kr.y}),this.ctx.lastPoint=new gr(Kr.x,Kr.y)},or.prototype.arc=function(Cr,kr,Sr,Pr,jr,Wr){if(isNaN(Cr)||isNaN(kr)||isNaN(Sr)||isNaN(Pr)||isNaN(jr))throw a.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Wr=Boolean(Wr),!this.ctx.transform.isIdentity){var Kr=this.ctx.transform.applyToPoint(new gr(Cr,kr));Cr=Kr.x,kr=Kr.y;var Qr=this.ctx.transform.applyToPoint(new gr(0,Sr)),on=this.ctx.transform.applyToPoint(new gr(0,0));Sr=Math.sqrt(Math.pow(Qr.x-on.x,2)+Math.pow(Qr.y-on.y,2))}Math.abs(jr-Pr)>=2*Math.PI&&(Pr=0,jr=2*Math.PI),this.path.push({type:"arc",x:Cr,y:kr,radius:Sr,startAngle:Pr,endAngle:jr,counterclockwise:Wr})},or.prototype.arcTo=function(Cr,kr,Sr,Pr,jr){throw new Error("arcTo not implemented.")},or.prototype.rect=function(Cr,kr,Sr,Pr){if(isNaN(Cr)||isNaN(kr)||isNaN(Sr)||isNaN(Pr))throw a.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(Cr,kr),this.lineTo(Cr+Sr,kr),this.lineTo(Cr+Sr,kr+Pr),this.lineTo(Cr,kr+Pr),this.lineTo(Cr,kr),this.lineTo(Cr+Sr,kr),this.lineTo(Cr,kr)},or.prototype.fillRect=function(Cr,kr,Sr,Pr){if(isNaN(Cr)||isNaN(kr)||isNaN(Sr)||isNaN(Pr))throw a.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!er.call(this)){var jr={};this.lineCap!=="butt"&&(jr.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(jr.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(Cr,kr,Sr,Pr),this.fill(),jr.hasOwnProperty("lineCap")&&(this.lineCap=jr.lineCap),jr.hasOwnProperty("lineJoin")&&(this.lineJoin=jr.lineJoin)}},or.prototype.strokeRect=function(Cr,kr,Sr,Pr){if(isNaN(Cr)||isNaN(kr)||isNaN(Sr)||isNaN(Pr))throw a.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");ar.call(this)||(this.beginPath(),this.rect(Cr,kr,Sr,Pr),this.stroke())},or.prototype.clearRect=function(Cr,kr,Sr,Pr){if(isNaN(Cr)||isNaN(kr)||isNaN(Sr)||isNaN(Pr))throw a.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(Cr,kr,Sr,Pr))},or.prototype.save=function(Cr){Cr=typeof Cr!="boolean"||Cr;for(var kr=this.pdf.internal.getCurrentPageInfo().pageNumber,Sr=0;Sr<this.pdf.internal.getNumberOfPages();Sr++)this.pdf.setPage(Sr+1),this.pdf.internal.out("q");if(this.pdf.setPage(kr),Cr){this.ctx.fontSize=this.pdf.internal.getFontSize();var Pr=new ur(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Pr}},or.prototype.restore=function(Cr){Cr=typeof Cr!="boolean"||Cr;for(var kr=this.pdf.internal.getCurrentPageInfo().pageNumber,Sr=0;Sr<this.pdf.internal.getNumberOfPages();Sr++)this.pdf.setPage(Sr+1),this.pdf.internal.out("Q");this.pdf.setPage(kr),Cr&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},or.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var nr=function(Cr){var kr,Sr,Pr,jr;if(Cr.isCanvasGradient===!0&&(Cr=Cr.getColor()),!Cr)return{r:0,g:0,b:0,a:0,style:Cr};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(Cr))kr=0,Sr=0,Pr=0,jr=0;else{var Wr=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(Cr);if(Wr!==null)kr=parseInt(Wr[1]),Sr=parseInt(Wr[2]),Pr=parseInt(Wr[3]),jr=1;else if((Wr=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(Cr))!==null)kr=parseInt(Wr[1]),Sr=parseInt(Wr[2]),Pr=parseInt(Wr[3]),jr=parseFloat(Wr[4]);else{if(jr=1,typeof Cr=="string"&&Cr.charAt(0)!=="#"){var Kr=new f$1(Cr);Cr=Kr.ok?Kr.toHex():"#000000"}Cr.length===4?(kr=Cr.substring(1,2),kr+=kr,Sr=Cr.substring(2,3),Sr+=Sr,Pr=Cr.substring(3,4),Pr+=Pr):(kr=Cr.substring(1,3),Sr=Cr.substring(3,5),Pr=Cr.substring(5,7)),kr=parseInt(kr,16),Sr=parseInt(Sr,16),Pr=parseInt(Pr,16)}}return{r:kr,g:Sr,b:Pr,a:jr,style:Cr}},er=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},ar=function(){return Boolean(this.ctx.isStrokeTransparent||this.globalAlpha==0)};or.prototype.fillText=function(Cr,kr,Sr,Pr){if(isNaN(kr)||isNaN(Sr)||typeof Cr!="string")throw a.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Pr=isNaN(Pr)?void 0:Pr,!er.call(this)){var jr=Lr(this.ctx.transform.rotation),Wr=this.ctx.transform.scaleX;Br.call(this,{text:Cr,x:kr,y:Sr,scale:Wr,angle:jr,align:this.textAlign,maxWidth:Pr})}},or.prototype.strokeText=function(Cr,kr,Sr,Pr){if(isNaN(kr)||isNaN(Sr)||typeof Cr!="string")throw a.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!ar.call(this)){Pr=isNaN(Pr)?void 0:Pr;var jr=Lr(this.ctx.transform.rotation),Wr=this.ctx.transform.scaleX;Br.call(this,{text:Cr,x:kr,y:Sr,scale:Wr,renderingMode:"stroke",angle:jr,align:this.textAlign,maxWidth:Pr})}},or.prototype.measureText=function(Cr){if(typeof Cr!="string")throw a.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var kr=this.pdf,Sr=this.pdf.internal.scaleFactor,Pr=kr.internal.getFontSize(),jr=kr.getStringUnitWidth(Cr)*Pr/kr.internal.scaleFactor,Wr=function(Kr){var Qr=(Kr=Kr||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Qr}}),this};return new Wr({width:jr*=Math.round(96*Sr/72*1e4)/1e4})},or.prototype.scale=function(Cr,kr){if(isNaN(Cr)||isNaN(kr))throw a.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Sr=new tr(Cr,0,0,kr,0,0);this.ctx.transform=this.ctx.transform.multiply(Sr)},or.prototype.rotate=function(Cr){if(isNaN(Cr))throw a.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var kr=new tr(Math.cos(Cr),Math.sin(Cr),-Math.sin(Cr),Math.cos(Cr),0,0);this.ctx.transform=this.ctx.transform.multiply(kr)},or.prototype.translate=function(Cr,kr){if(isNaN(Cr)||isNaN(kr))throw a.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Sr=new tr(1,0,0,1,Cr,kr);this.ctx.transform=this.ctx.transform.multiply(Sr)},or.prototype.transform=function(Cr,kr,Sr,Pr,jr,Wr){if(isNaN(Cr)||isNaN(kr)||isNaN(Sr)||isNaN(Pr)||isNaN(jr)||isNaN(Wr))throw a.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Kr=new tr(Cr,kr,Sr,Pr,jr,Wr);this.ctx.transform=this.ctx.transform.multiply(Kr)},or.prototype.setTransform=function(Cr,kr,Sr,Pr,jr,Wr){Cr=isNaN(Cr)?1:Cr,kr=isNaN(kr)?0:kr,Sr=isNaN(Sr)?0:Sr,Pr=isNaN(Pr)?1:Pr,jr=isNaN(jr)?0:jr,Wr=isNaN(Wr)?0:Wr,this.ctx.transform=new tr(Cr,kr,Sr,Pr,jr,Wr)};var dr=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};or.prototype.drawImage=function(Cr,kr,Sr,Pr,jr,Wr,Kr,Qr,on){var pn=this.pdf.getImageProperties(Cr),fn=1,en=1,Ir=1,Ur=1;Pr!==void 0&&Qr!==void 0&&(Ir=Qr/Pr,Ur=on/jr,fn=pn.width/Pr*Qr/Pr,en=pn.height/jr*on/jr),Wr===void 0&&(Wr=kr,Kr=Sr,kr=0,Sr=0),Pr!==void 0&&Qr===void 0&&(Qr=Pr,on=jr),Pr===void 0&&Qr===void 0&&(Qr=pn.width,on=pn.height);for(var Mr,Zr=this.ctx.transform.decompose(),tn=Lr(Zr.rotate.shx),an=new tr,vn=(an=(an=(an=an.multiply(Zr.translate)).multiply(Zr.skew)).multiply(Zr.scale)).applyToRectangle(new cr(Wr-kr*Ir,Kr-Sr*Ur,Pr*fn,jr*en)),_n=lr.call(this,vn),dn=[],Pn=0;Pn<_n.length;Pn+=1)dn.indexOf(_n[Pn])===-1&&dn.push(_n[Pn]);if(mr(dn),this.autoPaging)for(var gn=dn[0],In=dn[dn.length-1],Rn=gn;Rn<In+1;Rn++){this.pdf.setPage(Rn);var zn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Cn=Rn===1?this.posY+this.margin[0]:this.margin[0],Dn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Kn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Nn=Rn===1?0:Dn+(Rn-2)*Kn;if(this.ctx.clip_path.length!==0){var ds=this.path;Mr=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=pr(Mr,this.posX+this.margin[3],-Nn+Cn+this.ctx.prevPageLastElemOffset),yr.call(this,"fill",!0),this.path=ds}var as=JSON.parse(JSON.stringify(vn));as=pr([as],this.posX+this.margin[3],-Nn+Cn+this.ctx.prevPageLastElemOffset)[0];var cs=(Rn>gn||Rn<In)&&dr.call(this);cs&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],zn,Kn,null).clip().discardPath()),this.pdf.addImage(Cr,"JPEG",as.x,as.y,as.w,as.h,null,null,tn),cs&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(Cr,"JPEG",vn.x,vn.y,vn.w,vn.h,null,null,tn)};var lr=function(Cr,kr,Sr){var Pr=[];kr=kr||this.pdf.internal.pageSize.width,Sr=Sr||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var jr=this.posY+this.ctx.prevPageLastElemOffset;switch(Cr.type){default:case"mt":case"lt":Pr.push(Math.floor((Cr.y+jr)/Sr)+1);break;case"arc":Pr.push(Math.floor((Cr.y+jr-Cr.radius)/Sr)+1),Pr.push(Math.floor((Cr.y+jr+Cr.radius)/Sr)+1);break;case"qct":var Wr=Er(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Cr.x1,Cr.y1,Cr.x,Cr.y);Pr.push(Math.floor((Wr.y+jr)/Sr)+1),Pr.push(Math.floor((Wr.y+Wr.h+jr)/Sr)+1);break;case"bct":var Kr=Hr(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Cr.x1,Cr.y1,Cr.x2,Cr.y2,Cr.x,Cr.y);Pr.push(Math.floor((Kr.y+jr)/Sr)+1),Pr.push(Math.floor((Kr.y+Kr.h+jr)/Sr)+1);break;case"rect":Pr.push(Math.floor((Cr.y+jr)/Sr)+1),Pr.push(Math.floor((Cr.y+Cr.h+jr)/Sr)+1)}for(var Qr=0;Qr<Pr.length;Qr+=1)for(;this.pdf.internal.getNumberOfPages()<Pr[Qr];)sr.call(this);return Pr},sr=function(){var Cr=this.fillStyle,kr=this.strokeStyle,Sr=this.font,Pr=this.lineCap,jr=this.lineWidth,Wr=this.lineJoin;this.pdf.addPage(),this.fillStyle=Cr,this.strokeStyle=kr,this.font=Sr,this.lineCap=Pr,this.lineWidth=jr,this.lineJoin=Wr},pr=function(Cr,kr,Sr){for(var Pr=0;Pr<Cr.length;Pr++)switch(Cr[Pr].type){case"bct":Cr[Pr].x2+=kr,Cr[Pr].y2+=Sr;case"qct":Cr[Pr].x1+=kr,Cr[Pr].y1+=Sr;case"mt":case"lt":case"arc":default:Cr[Pr].x+=kr,Cr[Pr].y+=Sr}return Cr},mr=function(Cr){return Cr.sort(function(kr,Sr){return kr-Sr})},vr=function(Cr,kr){for(var Sr,Pr,jr=this.fillStyle,Wr=this.strokeStyle,Kr=this.lineCap,Qr=this.lineWidth,on=Math.abs(Qr*this.ctx.transform.scaleX),pn=this.lineJoin,fn=JSON.parse(JSON.stringify(this.path)),en=JSON.parse(JSON.stringify(this.path)),Ir=[],Ur=0;Ur<en.length;Ur++)if(en[Ur].x!==void 0)for(var Mr=lr.call(this,en[Ur]),Zr=0;Zr<Mr.length;Zr+=1)Ir.indexOf(Mr[Zr])===-1&&Ir.push(Mr[Zr]);for(var tn=0;tn<Ir.length;tn++)for(;this.pdf.internal.getNumberOfPages()<Ir[tn];)sr.call(this);if(mr(Ir),this.autoPaging)for(var an=Ir[0],vn=Ir[Ir.length-1],_n=an;_n<vn+1;_n++){this.pdf.setPage(_n),this.fillStyle=jr,this.strokeStyle=Wr,this.lineCap=Kr,this.lineWidth=on,this.lineJoin=pn;var dn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Pn=_n===1?this.posY+this.margin[0]:this.margin[0],gn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],In=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Rn=_n===1?0:gn+(_n-2)*In;if(this.ctx.clip_path.length!==0){var zn=this.path;Sr=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=pr(Sr,this.posX+this.margin[3],-Rn+Pn+this.ctx.prevPageLastElemOffset),yr.call(this,Cr,!0),this.path=zn}if(Pr=JSON.parse(JSON.stringify(fn)),this.path=pr(Pr,this.posX+this.margin[3],-Rn+Pn+this.ctx.prevPageLastElemOffset),kr===!1||_n===0){var Cn=(_n>an||_n<vn)&&dr.call(this);Cn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],dn,In,null).clip().discardPath()),yr.call(this,Cr,kr),Cn&&this.pdf.restoreGraphicsState()}this.lineWidth=Qr}else this.lineWidth=on,yr.call(this,Cr,kr),this.lineWidth=Qr;this.path=fn},yr=function(Cr,kr){if((Cr!=="stroke"||kr||!ar.call(this))&&(Cr==="stroke"||kr||!er.call(this))){for(var Sr,Pr,jr=[],Wr=this.path,Kr=0;Kr<Wr.length;Kr++){var Qr=Wr[Kr];switch(Qr.type){case"begin":jr.push({begin:!0});break;case"close":jr.push({close:!0});break;case"mt":jr.push({start:Qr,deltas:[],abs:[]});break;case"lt":var on=jr.length;if(Wr[Kr-1]&&!isNaN(Wr[Kr-1].x)&&(Sr=[Qr.x-Wr[Kr-1].x,Qr.y-Wr[Kr-1].y],on>0)){for(;on>=0;on--)if(jr[on-1].close!==!0&&jr[on-1].begin!==!0){jr[on-1].deltas.push(Sr),jr[on-1].abs.push(Qr);break}}break;case"bct":Sr=[Qr.x1-Wr[Kr-1].x,Qr.y1-Wr[Kr-1].y,Qr.x2-Wr[Kr-1].x,Qr.y2-Wr[Kr-1].y,Qr.x-Wr[Kr-1].x,Qr.y-Wr[Kr-1].y],jr[jr.length-1].deltas.push(Sr);break;case"qct":var pn=Wr[Kr-1].x+2/3*(Qr.x1-Wr[Kr-1].x),fn=Wr[Kr-1].y+2/3*(Qr.y1-Wr[Kr-1].y),en=Qr.x+2/3*(Qr.x1-Qr.x),Ir=Qr.y+2/3*(Qr.y1-Qr.y),Ur=Qr.x,Mr=Qr.y;Sr=[pn-Wr[Kr-1].x,fn-Wr[Kr-1].y,en-Wr[Kr-1].x,Ir-Wr[Kr-1].y,Ur-Wr[Kr-1].x,Mr-Wr[Kr-1].y],jr[jr.length-1].deltas.push(Sr);break;case"arc":jr.push({deltas:[],abs:[],arc:!0}),Array.isArray(jr[jr.length-1].abs)&&jr[jr.length-1].abs.push(Qr)}}Pr=kr?null:Cr==="stroke"?"stroke":"fill";for(var Zr=!1,tn=0;tn<jr.length;tn++)if(jr[tn].arc)for(var an=jr[tn].abs,vn=0;vn<an.length;vn++){var _n=an[vn];_n.type==="arc"?xr.call(this,_n.x,_n.y,_n.radius,_n.startAngle,_n.endAngle,_n.counterclockwise,void 0,kr,!Zr):Jr.call(this,_n.x,_n.y),Zr=!0}else if(jr[tn].close===!0)this.pdf.internal.out("h"),Zr=!1;else if(jr[tn].begin!==!0){var dn=jr[tn].start.x,Pn=jr[tn].start.y;Yr.call(this,jr[tn].deltas,dn,Pn),Zr=!0}Pr&&Nr.call(this,Pr),kr&&zr.call(this)}},br=function(Cr){var kr=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Sr=kr*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return Cr-Sr;case"top":return Cr+kr-Sr;case"hanging":return Cr+kr-2*Sr;case"middle":return Cr+kr/2-Sr;case"ideographic":return Cr;case"alphabetic":default:return Cr}},_r=function(Cr){return Cr+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};or.prototype.createLinearGradient=function(){var Cr=function(){};return Cr.colorStops=[],Cr.addColorStop=function(kr,Sr){this.colorStops.push([kr,Sr])},Cr.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},Cr.isCanvasGradient=!0,Cr},or.prototype.createPattern=function(){return this.createLinearGradient()},or.prototype.createRadialGradient=function(){return this.createLinearGradient()};var xr=function(Cr,kr,Sr,Pr,jr,Wr,Kr,Qr,on){for(var pn=Vr.call(this,Sr,Pr,jr,Wr),fn=0;fn<pn.length;fn++){var en=pn[fn];fn===0&&(on?Tr.call(this,en.x1+Cr,en.y1+kr):Jr.call(this,en.x1+Cr,en.y1+kr)),Xr.call(this,Cr,kr,en.x2,en.y2,en.x3,en.y3,en.x4,en.y4)}Qr?zr.call(this):Nr.call(this,Kr)},Nr=function(Cr){switch(Cr){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},zr=function(){this.pdf.clip(),this.pdf.discardPath()},Tr=function(Cr,kr){this.pdf.internal.out(_e(Cr)+" "+_i(kr)+" m")},Br=function(Cr){var kr;switch(Cr.align){case"right":case"end":kr="right";break;case"center":kr="center";break;case"left":case"start":default:kr="left"}var Sr=this.pdf.getTextDimensions(Cr.text),Pr=br.call(this,Cr.y),jr=_r.call(this,Pr)-Sr.h,Wr=this.ctx.transform.applyToPoint(new gr(Cr.x,Pr)),Kr=this.ctx.transform.decompose(),Qr=new tr;Qr=(Qr=(Qr=Qr.multiply(Kr.translate)).multiply(Kr.skew)).multiply(Kr.scale);for(var on,pn,fn,en=this.ctx.transform.applyToRectangle(new cr(Cr.x,Pr,Sr.w,Sr.h)),Ir=Qr.applyToRectangle(new cr(Cr.x,jr,Sr.w,Sr.h)),Ur=lr.call(this,Ir),Mr=[],Zr=0;Zr<Ur.length;Zr+=1)Mr.indexOf(Ur[Zr])===-1&&Mr.push(Ur[Zr]);if(mr(Mr),this.autoPaging)for(var tn=Mr[0],an=Mr[Mr.length-1],vn=tn;vn<an+1;vn++){this.pdf.setPage(vn);var _n=vn===1?this.posY+this.margin[0]:this.margin[0],dn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Pn=this.pdf.internal.pageSize.height-this.margin[2],gn=Pn-this.margin[0],In=this.pdf.internal.pageSize.width-this.margin[1],Rn=In-this.margin[3],zn=vn===1?0:dn+(vn-2)*gn;if(this.ctx.clip_path.length!==0){var Cn=this.path;on=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=pr(on,this.posX+this.margin[3],-1*zn+_n),yr.call(this,"fill",!0),this.path=Cn}var Dn=pr([JSON.parse(JSON.stringify(Ir))],this.posX+this.margin[3],-zn+_n+this.ctx.prevPageLastElemOffset)[0];Cr.scale>=.01&&(pn=this.pdf.internal.getFontSize(),this.pdf.setFontSize(pn*Cr.scale),fn=this.lineWidth,this.lineWidth=fn*Cr.scale);var Kn=this.autoPaging!=="text";if(Kn||Dn.y+Dn.h<=Pn){if(Kn||Dn.y>=_n&&Dn.x<=In){var Nn=Kn?Cr.text:this.pdf.splitTextToSize(Cr.text,Cr.maxWidth||In-Dn.x)[0],ds=pr([JSON.parse(JSON.stringify(en))],this.posX+this.margin[3],-zn+_n+this.ctx.prevPageLastElemOffset)[0],as=Kn&&(vn>tn||vn<an)&&dr.call(this);as&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Rn,gn,null).clip().discardPath()),this.pdf.text(Nn,ds.x,ds.y,{angle:Cr.angle,align:kr,renderingMode:Cr.renderingMode}),as&&this.pdf.restoreGraphicsState()}}else Dn.y<Pn&&(this.ctx.prevPageLastElemOffset+=Pn-Dn.y);Cr.scale>=.01&&(this.pdf.setFontSize(pn),this.lineWidth=fn)}else Cr.scale>=.01&&(pn=this.pdf.internal.getFontSize(),this.pdf.setFontSize(pn*Cr.scale),fn=this.lineWidth,this.lineWidth=fn*Cr.scale),this.pdf.text(Cr.text,Wr.x+this.posX,Wr.y+this.posY,{angle:Cr.angle,align:kr,renderingMode:Cr.renderingMode,maxWidth:Cr.maxWidth}),Cr.scale>=.01&&(this.pdf.setFontSize(pn),this.lineWidth=fn)},Jr=function(Cr,kr,Sr,Pr){Sr=Sr||0,Pr=Pr||0,this.pdf.internal.out(_e(Cr+Sr)+" "+_i(kr+Pr)+" l")},Yr=function(Cr,kr,Sr){return this.pdf.lines(Cr,kr,Sr,null,null)},Xr=function(Cr,kr,Sr,Pr,jr,Wr,Kr,Qr){this.pdf.internal.out([e(ir(Sr+Cr)),e(rr(Pr+kr)),e(ir(jr+Cr)),e(rr(Wr+kr)),e(ir(Kr+Cr)),e(rr(Qr+kr)),"c"].join(" "))},Vr=function(Cr,kr,Sr,Pr){for(var jr=2*Math.PI,Wr=Math.PI/2;kr>Sr;)kr-=jr;var Kr=Math.abs(Sr-kr);Kr<jr&&Pr&&(Kr=jr-Kr);for(var Qr=[],on=Pr?-1:1,pn=kr;Kr>1e-5;){var fn=pn+on*Math.min(Kr,Wr);Qr.push($r.call(this,Cr,pn,fn)),Kr-=Math.abs(fn-pn),pn=fn}return Qr},$r=function(Cr,kr,Sr){var Pr=(Sr-kr)/2,jr=Cr*Math.cos(Pr),Wr=Cr*Math.sin(Pr),Kr=jr,Qr=-Wr,on=Kr*Kr+Qr*Qr,pn=on+Kr*jr+Qr*Wr,fn=4/3*(Math.sqrt(2*on*pn)-pn)/(Kr*Wr-Qr*jr),en=Kr-fn*Qr,Ir=Qr+fn*Kr,Ur=en,Mr=-Ir,Zr=Pr+kr,tn=Math.cos(Zr),an=Math.sin(Zr);return{x1:Cr*Math.cos(kr),y1:Cr*Math.sin(kr),x2:en*tn-Ir*an,y2:en*an+Ir*tn,x3:Ur*tn-Mr*an,y3:Ur*an+Mr*tn,x4:Cr*Math.cos(Sr),y4:Cr*Math.sin(Sr)}},Lr=function(Cr){return 180*Cr/Math.PI},Er=function(Cr,kr,Sr,Pr,jr,Wr){var Kr=Cr+.5*(Sr-Cr),Qr=kr+.5*(Pr-kr),on=jr+.5*(Sr-jr),pn=Wr+.5*(Pr-Wr),fn=Math.min(Cr,jr,Kr,on),en=Math.max(Cr,jr,Kr,on),Ir=Math.min(kr,Wr,Qr,pn),Ur=Math.max(kr,Wr,Qr,pn);return new cr(fn,Ir,en-fn,Ur-Ir)},Hr=function(Cr,kr,Sr,Pr,jr,Wr,Kr,Qr){var on,pn,fn,en,Ir,Ur,Mr,Zr,tn,an,vn,_n,dn,Pn,gn=Sr-Cr,In=Pr-kr,Rn=jr-Sr,zn=Wr-Pr,Cn=Kr-jr,Dn=Qr-Wr;for(pn=0;pn<41;pn++)tn=(Mr=(fn=Cr+(on=pn/40)*gn)+on*((Ir=Sr+on*Rn)-fn))+on*(Ir+on*(jr+on*Cn-Ir)-Mr),an=(Zr=(en=kr+on*In)+on*((Ur=Pr+on*zn)-en))+on*(Ur+on*(Wr+on*Dn-Ur)-Zr),pn==0?(vn=tn,_n=an,dn=tn,Pn=an):(vn=Math.min(vn,tn),_n=Math.min(_n,an),dn=Math.max(dn,tn),Pn=Math.max(Pn,an));return new cr(Math.round(vn),Math.round(_n),Math.round(dn-vn),Math.round(Pn-_n))},Gr=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var Cr,kr,Sr=(Cr=this.ctx.lineDash,kr=this.ctx.lineDashOffset,JSON.stringify({lineDash:Cr,lineDashOffset:kr}));this.prevLineDash!==Sr&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Sr)}}})(E.API),function(St){var e=function(rr){var gr,cr,tr,hr,ur,or,nr,er,ar,dr;for(/[^\x00-\xFF]/.test(rr),cr=[],tr=0,hr=(rr+=gr="\0\0\0\0".slice(rr.length%4||4)).length;hr>tr;tr+=4)(ur=(rr.charCodeAt(tr)<<24)+(rr.charCodeAt(tr+1)<<16)+(rr.charCodeAt(tr+2)<<8)+rr.charCodeAt(tr+3))!==0?(or=(ur=((ur=((ur=((ur=(ur-(dr=ur%85))/85)-(ar=ur%85))/85)-(er=ur%85))/85)-(nr=ur%85))/85)%85,cr.push(or+33,nr+33,er+33,ar+33,dr+33)):cr.push(122);return function(lr,sr){for(var pr=sr;pr>0;pr--)lr.pop()}(cr,gr.length),String.fromCharCode.apply(String,cr)+"~>"},_e=function(rr){var gr,cr,tr,hr,ur,or=String,nr="length",er=255,ar="charCodeAt",dr="slice",lr="replace";for(rr[dr](-2),rr=rr[dr](0,-2)[lr](/\s/g,"")[lr]("z","!!!!!"),tr=[],hr=0,ur=(rr+=gr="uuuuu"[dr](rr[nr]%5||5))[nr];ur>hr;hr+=5)cr=52200625*(rr[ar](hr)-33)+614125*(rr[ar](hr+1)-33)+7225*(rr[ar](hr+2)-33)+85*(rr[ar](hr+3)-33)+(rr[ar](hr+4)-33),tr.push(er&cr>>24,er&cr>>16,er&cr>>8,er&cr);return function(sr,pr){for(var mr=pr;mr>0;mr--)sr.pop()}(tr,gr[nr]),or.fromCharCode.apply(or,tr)},_i=function(rr){var gr=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((rr=rr.replace(/\s/g,"")).indexOf(">")!==-1&&(rr=rr.substr(0,rr.indexOf(">"))),rr.length%2&&(rr+="0"),gr.test(rr)===!1)return"";for(var cr="",tr=0;tr<rr.length;tr+=2)cr+=String.fromCharCode("0x"+(rr[tr]+rr[tr+1]));return cr},ir=function(rr){for(var gr=new Uint8Array(rr.length),cr=rr.length;cr--;)gr[cr]=rr.charCodeAt(cr);return rr=(gr=zlibSync(gr)).reduce(function(tr,hr){return tr+String.fromCharCode(hr)},"")};St.processDataByFilters=function(rr,gr){var cr=0,tr=rr||"",hr=[];for(typeof(gr=gr||[])=="string"&&(gr=[gr]),cr=0;cr<gr.length;cr+=1)switch(gr[cr]){case"ASCII85Decode":case"/ASCII85Decode":tr=_e(tr),hr.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":tr=e(tr),hr.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":tr=_i(tr),hr.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":tr=tr.split("").map(function(ur){return("0"+ur.charCodeAt().toString(16)).slice(-2)}).join("")+">",hr.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":tr=ir(tr),hr.push("/FlateDecode");break;default:throw new Error('The filter: "'+gr[cr]+'" is not implemented')}return{data:tr,reverseChain:hr.reverse().join(" ")}}}(E.API),function(St){St.loadFile=function(e,_e,_i){return function(ir,rr,gr){rr=rr!==!1,gr=typeof gr=="function"?gr:function(){};var cr=void 0;try{cr=function(tr,hr,ur){var or=new XMLHttpRequest,nr=0,er=function(ar){var dr=ar.length,lr=[],sr=String.fromCharCode;for(nr=0;nr<dr;nr+=1)lr.push(sr(255&ar.charCodeAt(nr)));return lr.join("")};if(or.open("GET",tr,!hr),or.overrideMimeType("text/plain; charset=x-user-defined"),hr===!1&&(or.onload=function(){or.status===200?ur(er(this.responseText)):ur(void 0)}),or.send(null),hr&&or.status===200)return er(or.responseText)}(ir,rr,gr)}catch{}return cr}(e,_e,_i)},St.loadImageFile=St.loadFile}(E.API),function(St){function e(){return(n$1.html2canvas?Promise.resolve(n$1.html2canvas):__vitePreload(()=>import("./html2canvas.esm.0eae2bf4.js"),[],import.meta.url)).catch(function(gr){return Promise.reject(new Error("Could not load html2canvas: "+gr))}).then(function(gr){return gr.default?gr.default:gr})}function _e(){return(n$1.DOMPurify?Promise.resolve(n$1.DOMPurify):__vitePreload(()=>import("./purify.es.b8146866.js"),[],import.meta.url)).catch(function(gr){return Promise.reject(new Error("Could not load dompurify: "+gr))}).then(function(gr){return gr.default?gr.default:gr})}var _i=function(gr){var cr=_typeof(gr);return cr==="undefined"?"undefined":cr==="string"||gr instanceof String?"string":cr==="number"||gr instanceof Number?"number":cr==="function"||gr instanceof Function?"function":gr&&gr.constructor===Array?"array":gr&&gr.nodeType===1?"element":cr==="object"?"object":"unknown"},ir=function(gr,cr){var tr=document.createElement(gr);for(var hr in cr.className&&(tr.className=cr.className),cr.innerHTML&&cr.dompurify&&(tr.innerHTML=cr.dompurify.sanitize(cr.innerHTML)),cr.style)tr.style[hr]=cr.style[hr];return tr},rr=function gr(cr){var tr=Object.assign(gr.convert(Promise.resolve()),JSON.parse(JSON.stringify(gr.template))),hr=gr.convert(Promise.resolve(),tr);return hr=(hr=hr.setProgress(1,gr,1,[gr])).set(cr)};(rr.prototype=Object.create(Promise.prototype)).constructor=rr,rr.convert=function(gr,cr){return gr.__proto__=cr||rr.prototype,gr},rr.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},rr.prototype.from=function(gr,cr){return this.then(function(){switch(cr=cr||function(tr){switch(_i(tr)){case"string":return"string";case"element":return tr.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(gr)){case"string":return this.then(_e).then(function(tr){return this.set({src:ir("div",{innerHTML:gr,dompurify:tr})})});case"element":return this.set({src:gr});case"canvas":return this.set({canvas:gr});case"img":return this.set({img:gr});default:return this.error("Unknown source type.")}})},rr.prototype.to=function(gr){switch(gr){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},rr.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var gr={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},cr=function tr(hr,ur){for(var or=hr.nodeType===3?document.createTextNode(hr.nodeValue):hr.cloneNode(!1),nr=hr.firstChild;nr;nr=nr.nextSibling)ur!==!0&&nr.nodeType===1&&nr.nodeName==="SCRIPT"||or.appendChild(tr(nr,ur));return hr.nodeType===1&&(hr.nodeName==="CANVAS"?(or.width=hr.width,or.height=hr.height,or.getContext("2d").drawImage(hr,0,0)):hr.nodeName!=="TEXTAREA"&&hr.nodeName!=="SELECT"||(or.value=hr.value),or.addEventListener("load",function(){or.scrollTop=hr.scrollTop,or.scrollLeft=hr.scrollLeft},!0)),or}(this.prop.src,this.opt.html2canvas.javascriptEnabled);cr.tagName==="BODY"&&(gr.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=ir("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=ir("div",{className:"html2pdf__container",style:gr}),this.prop.container.appendChild(cr),this.prop.container.firstChild.appendChild(ir("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},rr.prototype.toCanvas=function(){var gr=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(gr).then(e).then(function(cr){var tr=Object.assign({},this.opt.html2canvas);return delete tr.onrendered,cr(this.prop.container,tr)}).then(function(cr){(this.opt.html2canvas.onrendered||function(){})(cr),this.prop.canvas=cr,document.body.removeChild(this.prop.overlay)})},rr.prototype.toContext2d=function(){var gr=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(gr).then(e).then(function(cr){var tr=this.opt.jsPDF,hr=this.opt.fontFaces,ur=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,or=Object.assign({async:!0,allowTaint:!0,scale:ur,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete or.onrendered,tr.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,tr.context2d.posX=this.opt.x,tr.context2d.posY=this.opt.y,tr.context2d.margin=this.opt.margin,tr.context2d.fontFaces=hr,hr)for(var nr=0;nr<hr.length;++nr){var er=hr[nr],ar=er.src.find(function(dr){return dr.format==="truetype"});ar&&tr.addFont(ar.url,er.ref.name,er.ref.style)}return or.windowHeight=or.windowHeight||0,or.windowHeight=or.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):or.windowHeight,tr.context2d.save(!0),cr(this.prop.container,or)}).then(function(cr){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(cr),this.prop.canvas=cr,document.body.removeChild(this.prop.overlay)})},rr.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var gr=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=gr})},rr.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},rr.prototype.output=function(gr,cr,tr){return(tr=tr||"pdf").toLowerCase()==="img"||tr.toLowerCase()==="image"?this.outputImg(gr,cr):this.outputPdf(gr,cr)},rr.prototype.outputPdf=function(gr,cr){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(gr,cr)})},rr.prototype.outputImg=function(gr){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(gr){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+gr+'" is not supported.'}})},rr.prototype.save=function(gr){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(gr?{filename:gr}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},rr.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},rr.prototype.set=function(gr){if(_i(gr)!=="object")return this;var cr=Object.keys(gr||{}).map(function(tr){if(tr in rr.template.prop)return function(){this.prop[tr]=gr[tr]};switch(tr){case"margin":return this.setMargin.bind(this,gr.margin);case"jsPDF":return function(){return this.opt.jsPDF=gr.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,gr.pageSize);default:return function(){this.opt[tr]=gr[tr]}}},this);return this.then(function(){return this.thenList(cr)})},rr.prototype.get=function(gr,cr){return this.then(function(){var tr=gr in rr.template.prop?this.prop[gr]:this.opt[gr];return cr?cr(tr):tr})},rr.prototype.setMargin=function(gr){return this.then(function(){switch(_i(gr)){case"number":gr=[gr,gr,gr,gr];case"array":if(gr.length===2&&(gr=[gr[0],gr[1],gr[0],gr[1]]),gr.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=gr}).then(this.setPageSize)},rr.prototype.setPageSize=function(gr){function cr(tr,hr){return Math.floor(tr*hr/72*96)}return this.then(function(){(gr=gr||E.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(gr.inner={width:gr.width-this.opt.margin[1]-this.opt.margin[3],height:gr.height-this.opt.margin[0]-this.opt.margin[2]},gr.inner.px={width:cr(gr.inner.width,gr.k),height:cr(gr.inner.height,gr.k)},gr.inner.ratio=gr.inner.height/gr.inner.width),this.prop.pageSize=gr})},rr.prototype.setProgress=function(gr,cr,tr,hr){return gr!=null&&(this.progress.val=gr),cr!=null&&(this.progress.state=cr),tr!=null&&(this.progress.n=tr),hr!=null&&(this.progress.stack=hr),this.progress.ratio=this.progress.val/this.progress.state,this},rr.prototype.updateProgress=function(gr,cr,tr,hr){return this.setProgress(gr?this.progress.val+gr:null,cr||null,tr?this.progress.n+tr:null,hr?this.progress.stack.concat(hr):null)},rr.prototype.then=function(gr,cr){var tr=this;return this.thenCore(gr,cr,function(hr,ur){return tr.updateProgress(null,null,1,[hr]),Promise.prototype.then.call(this,function(or){return tr.updateProgress(null,hr),or}).then(hr,ur).then(function(or){return tr.updateProgress(1),or})})},rr.prototype.thenCore=function(gr,cr,tr){tr=tr||Promise.prototype.then,gr&&(gr=gr.bind(this)),cr&&(cr=cr.bind(this));var hr=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:rr.convert(Object.assign({},this),Promise.prototype),ur=tr.call(hr,gr,cr);return rr.convert(ur,this.__proto__)},rr.prototype.thenExternal=function(gr,cr){return Promise.prototype.then.call(this,gr,cr)},rr.prototype.thenList=function(gr){var cr=this;return gr.forEach(function(tr){cr=cr.thenCore(tr)}),cr},rr.prototype.catch=function(gr){gr&&(gr=gr.bind(this));var cr=Promise.prototype.catch.call(this,gr);return rr.convert(cr,this)},rr.prototype.catchExternal=function(gr){return Promise.prototype.catch.call(this,gr)},rr.prototype.error=function(gr){return this.then(function(){throw new Error(gr)})},rr.prototype.using=rr.prototype.set,rr.prototype.saveAs=rr.prototype.save,rr.prototype.export=rr.prototype.output,rr.prototype.run=rr.prototype.then,E.getPageSize=function(gr,cr,tr){if(_typeof(gr)==="object"){var hr=gr;gr=hr.orientation,cr=hr.unit||cr,tr=hr.format||tr}cr=cr||"mm",tr=tr||"a4",gr=(""+(gr||"P")).toLowerCase();var ur,or=(""+tr).toLowerCase(),nr={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(cr){case"pt":ur=1;break;case"mm":ur=72/25.4;break;case"cm":ur=72/2.54;break;case"in":ur=72;break;case"px":ur=.75;break;case"pc":case"em":ur=12;break;case"ex":ur=6;break;default:throw"Invalid unit: "+cr}var er,ar=0,dr=0;if(nr.hasOwnProperty(or))ar=nr[or][1]/ur,dr=nr[or][0]/ur;else try{ar=tr[1],dr=tr[0]}catch{throw new Error("Invalid format: "+tr)}if(gr==="p"||gr==="portrait")gr="p",dr>ar&&(er=dr,dr=ar,ar=er);else{if(gr!=="l"&&gr!=="landscape")throw"Invalid orientation: "+gr;gr="l",ar>dr&&(er=dr,dr=ar,ar=er)}return{width:dr,height:ar,unit:cr,k:ur,orientation:gr}},St.html=function(gr,cr){(cr=cr||{}).callback=cr.callback||function(){},cr.html2canvas=cr.html2canvas||{},cr.html2canvas.canvas=cr.html2canvas.canvas||this.canvas,cr.jsPDF=cr.jsPDF||this,cr.fontFaces=cr.fontFaces?cr.fontFaces.map(jt):null;var tr=new rr(cr);return cr.worker?tr:tr.from(gr).doCallback()}}(E.API),E.API.addJS=function(St){return Ht=St,this.internal.events.subscribe("postPutResources",function(){Ut=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ut+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),zt=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ht+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ut!==void 0&&zt!==void 0&&this.internal.out("/Names <</JavaScript "+Ut+" 0 R>>")}),this},function(St){var e;St.events.push(["postPutResources",function(){var _e=this,_i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var ir=_e.outline.render().split(/\r\n/),rr=0;rr<ir.length;rr++){var gr=ir[rr],cr=_i.exec(gr);if(cr!=null){var tr=cr[1];_e.internal.newObjectDeferredBegin(tr,!1)}_e.internal.write(gr)}if(this.outline.createNamedDestinations){var hr=this.internal.pages.length,ur=[];for(rr=0;rr<hr;rr++){var or=_e.internal.newObject();ur.push(or);var nr=_e.internal.getPageInfo(rr+1);_e.internal.write("<< /D["+nr.objId+" 0 R /XYZ null null null]>> endobj")}var er=_e.internal.newObject();for(_e.internal.write("<< /Names [ "),rr=0;rr<ur.length;rr++)_e.internal.write("(page_"+(rr+1)+")"+ur[rr]+" 0 R");_e.internal.write(" ] >>","endobj"),e=_e.internal.newObject(),_e.internal.write("<< /Dests "+er+" 0 R"),_e.internal.write(">>","endobj")}}]),St.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),St.events.push(["initialized",function(){var _e=this;_e.outline={createNamedDestinations:!1,root:{children:[]}},_e.outline.add=function(_i,ir,rr){var gr={title:ir,options:rr,children:[]};return _i==null&&(_i=this.root),_i.children.push(gr),gr},_e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=_e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},_e.outline.genIds_r=function(_i){_i.id=_e.internal.newObjectDeferred();for(var ir=0;ir<_i.children.length;ir++)this.genIds_r(_i.children[ir])},_e.outline.renderRoot=function(_i){this.objStart(_i),this.line("/Type /Outlines"),_i.children.length>0&&(this.line("/First "+this.makeRef(_i.children[0])),this.line("/Last "+this.makeRef(_i.children[_i.children.length-1]))),this.line("/Count "+this.count_r({count:0},_i)),this.objEnd()},_e.outline.renderItems=function(_i){for(var ir=this.ctx.pdf.internal.getVerticalCoordinateString,rr=0;rr<_i.children.length;rr++){var gr=_i.children[rr];this.objStart(gr),this.line("/Title "+this.makeString(gr.title)),this.line("/Parent "+this.makeRef(_i)),rr>0&&this.line("/Prev "+this.makeRef(_i.children[rr-1])),rr<_i.children.length-1&&this.line("/Next "+this.makeRef(_i.children[rr+1])),gr.children.length>0&&(this.line("/First "+this.makeRef(gr.children[0])),this.line("/Last "+this.makeRef(gr.children[gr.children.length-1])));var cr=this.count=this.count_r({count:0},gr);if(cr>0&&this.line("/Count "+cr),gr.options&&gr.options.pageNumber){var tr=_e.internal.getPageInfo(gr.options.pageNumber);this.line("/Dest ["+tr.objId+" 0 R /XYZ 0 "+ir(0)+" 0]")}this.objEnd()}for(var hr=0;hr<_i.children.length;hr++)this.renderItems(_i.children[hr])},_e.outline.line=function(_i){this.ctx.val+=_i+`\r
`},_e.outline.makeRef=function(_i){return _i.id+" 0 R"},_e.outline.makeString=function(_i){return"("+_e.internal.pdfEscape(_i)+")"},_e.outline.objStart=function(_i){this.ctx.val+=`\r
`+_i.id+` 0 obj\r
<<\r
`},_e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},_e.outline.count_r=function(_i,ir){for(var rr=0;rr<ir.children.length;rr++)_i.count++,this.count_r(_i,ir.children[rr]);return _i.count}}])}(E.API),function(St){var e=[192,193,194,195,196,197,198,199];St.processJPEG=function(_e,_i,ir,rr,gr,cr){var tr,hr=this.decode.DCT_DECODE,ur=null;if(typeof _e=="string"||this.__addimage__.isArrayBuffer(_e)||this.__addimage__.isArrayBufferView(_e)){switch(_e=gr||_e,_e=this.__addimage__.isArrayBuffer(_e)?new Uint8Array(_e):_e,(tr=function(or){for(var nr,er=256*or.charCodeAt(4)+or.charCodeAt(5),ar=or.length,dr={width:0,height:0,numcomponents:1},lr=4;lr<ar;lr+=2){if(lr+=er,e.indexOf(or.charCodeAt(lr+1))!==-1){nr=256*or.charCodeAt(lr+5)+or.charCodeAt(lr+6),dr={width:256*or.charCodeAt(lr+7)+or.charCodeAt(lr+8),height:nr,numcomponents:or.charCodeAt(lr+9)};break}er=256*or.charCodeAt(lr+2)+or.charCodeAt(lr+3)}return dr}(_e=this.__addimage__.isArrayBufferView(_e)?this.__addimage__.arrayBufferToBinaryString(_e):_e)).numcomponents){case 1:cr=this.color_spaces.DEVICE_GRAY;break;case 4:cr=this.color_spaces.DEVICE_CMYK;break;case 3:cr=this.color_spaces.DEVICE_RGB}ur={data:_e,width:tr.width,height:tr.height,colorSpace:cr,bitsPerComponent:8,filter:hr,index:_i,alias:ir}}return ur}}(E.API);var Vt,Gt,Yt,Jt,Xt,Kt=function(){var St,e,_e;function _i(rr){var gr,cr,tr,hr,ur,or,nr,er,ar,dr,lr,sr,pr,mr;for(this.data=rr,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},or=null;;){switch(gr=this.readUInt32(),ar=function(){var vr,yr;for(yr=[],vr=0;vr<4;++vr)yr.push(String.fromCharCode(this.data[this.pos++]));return yr}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(gr);break;case"fcTL":or&&this.animation.frames.push(or),this.pos+=4,or={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},ur=this.readUInt16(),hr=this.readUInt16()||100,or.delay=1e3*ur/hr,or.disposeOp=this.data[this.pos++],or.blendOp=this.data[this.pos++],or.data=[];break;case"IDAT":case"fdAT":for(ar==="fdAT"&&(this.pos+=4,gr-=4),rr=(or!=null?or.data:void 0)||this.imgData,sr=0;0<=gr?sr<gr:sr>gr;0<=gr?++sr:--sr)rr.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(tr=this.palette.length/3,this.transparency.indexed=this.read(gr),this.transparency.indexed.length>tr)throw new Error("More transparent colors than palette size");if((dr=tr-this.transparency.indexed.length)>0)for(pr=0;0<=dr?pr<dr:pr>dr;0<=dr?++pr:--pr)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(gr)[0];break;case 2:this.transparency.rgb=this.read(gr)}break;case"tEXt":nr=(lr=this.read(gr)).indexOf(0),er=String.fromCharCode.apply(String,lr.slice(0,nr)),this.text[er]=String.fromCharCode.apply(String,lr.slice(nr+1));break;case"IEND":return or&&this.animation.frames.push(or),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=(mr=this.colorType)===4||mr===6,cr=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*cr,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=gr}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}_i.prototype.read=function(rr){var gr,cr;for(cr=[],gr=0;0<=rr?gr<rr:gr>rr;0<=rr?++gr:--gr)cr.push(this.data[this.pos++]);return cr},_i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},_i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},_i.prototype.decodePixels=function(rr){var gr=this.pixelBitlength/8,cr=new Uint8Array(this.width*this.height*gr),tr=0,hr=this;if(rr==null&&(rr=this.imgData),rr.length===0)return new Uint8Array(0);function ur(or,nr,er,ar){var dr,lr,sr,pr,mr,vr,yr,br,_r,xr,Nr,zr,Tr,Br,Jr,Yr,Xr,Vr,$r,Lr,Er,Hr=Math.ceil((hr.width-or)/er),Gr=Math.ceil((hr.height-nr)/ar),Cr=hr.width==Hr&&hr.height==Gr;for(Br=gr*Hr,zr=Cr?cr:new Uint8Array(Br*Gr),vr=rr.length,Tr=0,lr=0;Tr<Gr&&tr<vr;){switch(rr[tr++]){case 0:for(pr=Xr=0;Xr<Br;pr=Xr+=1)zr[lr++]=rr[tr++];break;case 1:for(pr=Vr=0;Vr<Br;pr=Vr+=1)dr=rr[tr++],mr=pr<gr?0:zr[lr-gr],zr[lr++]=(dr+mr)%256;break;case 2:for(pr=$r=0;$r<Br;pr=$r+=1)dr=rr[tr++],sr=(pr-pr%gr)/gr,Jr=Tr&&zr[(Tr-1)*Br+sr*gr+pr%gr],zr[lr++]=(Jr+dr)%256;break;case 3:for(pr=Lr=0;Lr<Br;pr=Lr+=1)dr=rr[tr++],sr=(pr-pr%gr)/gr,mr=pr<gr?0:zr[lr-gr],Jr=Tr&&zr[(Tr-1)*Br+sr*gr+pr%gr],zr[lr++]=(dr+Math.floor((mr+Jr)/2))%256;break;case 4:for(pr=Er=0;Er<Br;pr=Er+=1)dr=rr[tr++],sr=(pr-pr%gr)/gr,mr=pr<gr?0:zr[lr-gr],Tr===0?Jr=Yr=0:(Jr=zr[(Tr-1)*Br+sr*gr+pr%gr],Yr=sr&&zr[(Tr-1)*Br+(sr-1)*gr+pr%gr]),yr=mr+Jr-Yr,br=Math.abs(yr-mr),xr=Math.abs(yr-Jr),Nr=Math.abs(yr-Yr),_r=br<=xr&&br<=Nr?mr:xr<=Nr?Jr:Yr,zr[lr++]=(dr+_r)%256;break;default:throw new Error("Invalid filter algorithm: "+rr[tr-1])}if(!Cr){var kr=((nr+Tr*ar)*hr.width+or)*gr,Sr=Tr*Br;for(pr=0;pr<Hr;pr+=1){for(var Pr=0;Pr<gr;Pr+=1)cr[kr++]=zr[Sr++];kr+=(er-1)*gr}}Tr++}}return rr=unzlibSync(rr),hr.interlaceMethod==1?(ur(0,0,8,8),ur(4,0,8,8),ur(0,4,4,8),ur(2,0,4,4),ur(0,2,2,4),ur(1,0,2,2),ur(0,1,1,2)):ur(0,0,1,1),cr},_i.prototype.decodePalette=function(){var rr,gr,cr,tr,hr,ur,or,nr,er;for(cr=this.palette,ur=this.transparency.indexed||[],hr=new Uint8Array((ur.length||0)+cr.length),tr=0,rr=0,gr=or=0,nr=cr.length;or<nr;gr=or+=3)hr[tr++]=cr[gr],hr[tr++]=cr[gr+1],hr[tr++]=cr[gr+2],hr[tr++]=(er=ur[rr++])!=null?er:255;return hr},_i.prototype.copyToImageData=function(rr,gr){var cr,tr,hr,ur,or,nr,er,ar,dr,lr,sr;if(tr=this.colors,dr=null,cr=this.hasAlphaChannel,this.palette.length&&(dr=(sr=this._decodedPalette)!=null?sr:this._decodedPalette=this.decodePalette(),tr=4,cr=!0),ar=(hr=rr.data||rr).length,or=dr||gr,ur=nr=0,tr===1)for(;ur<ar;)er=dr?4*gr[ur/4]:nr,lr=or[er++],hr[ur++]=lr,hr[ur++]=lr,hr[ur++]=lr,hr[ur++]=cr?or[er++]:255,nr=er;else for(;ur<ar;)er=dr?4*gr[ur/4]:nr,hr[ur++]=or[er++],hr[ur++]=or[er++],hr[ur++]=or[er++],hr[ur++]=cr?or[er++]:255,nr=er},_i.prototype.decode=function(){var rr;return rr=new Uint8Array(this.width*this.height*4),this.copyToImageData(rr,this.decodePixels()),rr};var ir=function(){if(Object.prototype.toString.call(n$1)==="[object Window]"){try{e=n$1.document.createElement("canvas"),_e=e.getContext("2d")}catch{return!1}return!0}return!1};return ir(),St=function(rr){var gr;if(ir()===!0)return _e.width=rr.width,_e.height=rr.height,_e.clearRect(0,0,rr.width,rr.height),_e.putImageData(rr,0,0),(gr=new Image).src=e.toDataURL(),gr;throw new Error("This method requires a Browser with Canvas-capability.")},_i.prototype.decodeFrames=function(rr){var gr,cr,tr,hr,ur,or,nr,er;if(this.animation){for(er=[],cr=ur=0,or=(nr=this.animation.frames).length;ur<or;cr=++ur)gr=nr[cr],tr=rr.createImageData(gr.width,gr.height),hr=this.decodePixels(new Uint8Array(gr.data)),this.copyToImageData(tr,hr),gr.imageData=tr,er.push(gr.image=St(tr));return er}},_i.prototype.renderFrame=function(rr,gr){var cr,tr,hr;return cr=(tr=this.animation.frames)[gr],hr=tr[gr-1],gr===0&&rr.clearRect(0,0,this.width,this.height),(hr!=null?hr.disposeOp:void 0)===1?rr.clearRect(hr.xOffset,hr.yOffset,hr.width,hr.height):(hr!=null?hr.disposeOp:void 0)===2&&rr.putImageData(hr.imageData,hr.xOffset,hr.yOffset),cr.blendOp===0&&rr.clearRect(cr.xOffset,cr.yOffset,cr.width,cr.height),rr.drawImage(cr.image,cr.xOffset,cr.yOffset)},_i.prototype.animate=function(rr){var gr,cr,tr,hr,ur,or,nr=this;return cr=0,or=this.animation,hr=or.numFrames,tr=or.frames,ur=or.numPlays,(gr=function(){var er,ar;if(er=cr++%hr,ar=tr[er],nr.renderFrame(rr,er),hr>1&&cr/hr<ur)return nr.animation._timeout=setTimeout(gr,ar.delay)})()},_i.prototype.stopAnimation=function(){var rr;return clearTimeout((rr=this.animation)!=null?rr._timeout:void 0)},_i.prototype.render=function(rr){var gr,cr;return rr._png&&rr._png.stopAnimation(),rr._png=this,rr.width=this.width,rr.height=this.height,gr=rr.getContext("2d"),this.animation?(this.decodeFrames(gr),this.animate(gr)):(cr=gr.createImageData(this.width,this.height),this.copyToImageData(cr,this.decodePixels()),gr.putImageData(cr,0,0))},_i}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Zt(St){var e=0;if(St[e++]!==71||St[e++]!==73||St[e++]!==70||St[e++]!==56||(St[e++]+1&253)!=56||St[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var _e=St[e++]|St[e++]<<8,_i=St[e++]|St[e++]<<8,ir=St[e++],rr=ir>>7,gr=1<<(7&ir)+1;St[e++],St[e++];var cr=null,tr=null;rr&&(cr=e,tr=gr,e+=3*gr);var hr=!0,ur=[],or=0,nr=null,er=0,ar=null;for(this.width=_e,this.height=_i;hr&&e<St.length;)switch(St[e++]){case 33:switch(St[e++]){case 255:if(St[e]!==11||St[e+1]==78&&St[e+2]==69&&St[e+3]==84&&St[e+4]==83&&St[e+5]==67&&St[e+6]==65&&St[e+7]==80&&St[e+8]==69&&St[e+9]==50&&St[e+10]==46&&St[e+11]==48&&St[e+12]==3&&St[e+13]==1&&St[e+16]==0)e+=14,ar=St[e++]|St[e++]<<8,e++;else for(e+=12;;){if(!((Tr=St[e++])>=0))throw Error("Invalid block size");if(Tr===0)break;e+=Tr}break;case 249:if(St[e++]!==4||St[e+4]!==0)throw new Error("Invalid graphics extension block.");var dr=St[e++];or=St[e++]|St[e++]<<8,nr=St[e++],(1&dr)==0&&(nr=null),er=dr>>2&7,e++;break;case 254:for(;;){if(!((Tr=St[e++])>=0))throw Error("Invalid block size");if(Tr===0)break;e+=Tr}break;default:throw new Error("Unknown graphic control label: 0x"+St[e-1].toString(16))}break;case 44:var lr=St[e++]|St[e++]<<8,sr=St[e++]|St[e++]<<8,pr=St[e++]|St[e++]<<8,mr=St[e++]|St[e++]<<8,vr=St[e++],yr=vr>>6&1,br=1<<(7&vr)+1,_r=cr,xr=tr,Nr=!1;vr>>7&&(Nr=!0,_r=e,xr=br,e+=3*br);var zr=e;for(e++;;){var Tr;if(!((Tr=St[e++])>=0))throw Error("Invalid block size");if(Tr===0)break;e+=Tr}ur.push({x:lr,y:sr,width:pr,height:mr,has_local_palette:Nr,palette_offset:_r,palette_size:xr,data_offset:zr,data_length:e-zr,transparent_index:nr,interlaced:!!yr,delay:or,disposal:er});break;case 59:hr=!1;break;default:throw new Error("Unknown gif block: 0x"+St[e-1].toString(16))}this.numFrames=function(){return ur.length},this.loopCount=function(){return ar},this.frameInfo=function(Br){if(Br<0||Br>=ur.length)throw new Error("Frame index out of range.");return ur[Br]},this.decodeAndBlitFrameBGRA=function(Br,Jr){var Yr=this.frameInfo(Br),Xr=Yr.width*Yr.height,Vr=new Uint8Array(Xr);$t(St,Yr.data_offset,Vr,Xr);var $r=Yr.palette_offset,Lr=Yr.transparent_index;Lr===null&&(Lr=256);var Er=Yr.width,Hr=_e-Er,Gr=Er,Cr=4*(Yr.y*_e+Yr.x),kr=4*((Yr.y+Yr.height)*_e+Yr.x),Sr=Cr,Pr=4*Hr;Yr.interlaced===!0&&(Pr+=4*_e*7);for(var jr=8,Wr=0,Kr=Vr.length;Wr<Kr;++Wr){var Qr=Vr[Wr];if(Gr===0&&(Gr=Er,(Sr+=Pr)>=kr&&(Pr=4*Hr+4*_e*(jr-1),Sr=Cr+(Er+Hr)*(jr<<1),jr>>=1)),Qr===Lr)Sr+=4;else{var on=St[$r+3*Qr],pn=St[$r+3*Qr+1],fn=St[$r+3*Qr+2];Jr[Sr++]=fn,Jr[Sr++]=pn,Jr[Sr++]=on,Jr[Sr++]=255}--Gr}},this.decodeAndBlitFrameRGBA=function(Br,Jr){var Yr=this.frameInfo(Br),Xr=Yr.width*Yr.height,Vr=new Uint8Array(Xr);$t(St,Yr.data_offset,Vr,Xr);var $r=Yr.palette_offset,Lr=Yr.transparent_index;Lr===null&&(Lr=256);var Er=Yr.width,Hr=_e-Er,Gr=Er,Cr=4*(Yr.y*_e+Yr.x),kr=4*((Yr.y+Yr.height)*_e+Yr.x),Sr=Cr,Pr=4*Hr;Yr.interlaced===!0&&(Pr+=4*_e*7);for(var jr=8,Wr=0,Kr=Vr.length;Wr<Kr;++Wr){var Qr=Vr[Wr];if(Gr===0&&(Gr=Er,(Sr+=Pr)>=kr&&(Pr=4*Hr+4*_e*(jr-1),Sr=Cr+(Er+Hr)*(jr<<1),jr>>=1)),Qr===Lr)Sr+=4;else{var on=St[$r+3*Qr],pn=St[$r+3*Qr+1],fn=St[$r+3*Qr+2];Jr[Sr++]=on,Jr[Sr++]=pn,Jr[Sr++]=fn,Jr[Sr++]=255}--Gr}}}function $t(St,e,_e,_i){for(var ir=St[e++],rr=1<<ir,gr=rr+1,cr=gr+1,tr=ir+1,hr=(1<<tr)-1,ur=0,or=0,nr=0,er=St[e++],ar=new Int32Array(4096),dr=null;;){for(;ur<16&&er!==0;)or|=St[e++]<<ur,ur+=8,er===1?er=St[e++]:--er;if(ur<tr)break;var lr=or&hr;if(or>>=tr,ur-=tr,lr!==rr){if(lr===gr)break;for(var sr=lr<cr?lr:dr,pr=0,mr=sr;mr>rr;)mr=ar[mr]>>8,++pr;var vr=mr;if(nr+pr+(sr!==lr?1:0)>_i)return void a.log("Warning, gif stream longer than expected.");_e[nr++]=vr;var yr=nr+=pr;for(sr!==lr&&(_e[nr++]=vr),mr=sr;pr--;)mr=ar[mr],_e[--yr]=255&mr,mr>>=8;dr!==null&&cr<4096&&(ar[cr++]=dr<<8|vr,cr>=hr+1&&tr<12&&(++tr,hr=hr<<1|1)),dr=lr}else cr=gr+1,hr=(1<<(tr=ir+1))-1,dr=null}return nr!==_i&&a.log("Warning, gif stream shorter than expected."),_e}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Qt(St){var e,_e,_i,ir,rr,gr=Math.floor,cr=new Array(64),tr=new Array(64),hr=new Array(64),ur=new Array(64),or=new Array(65535),nr=new Array(65535),er=new Array(64),ar=new Array(64),dr=[],lr=0,sr=7,pr=new Array(64),mr=new Array(64),vr=new Array(64),yr=new Array(256),br=new Array(2048),_r=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],xr=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Nr=[0,1,2,3,4,5,6,7,8,9,10,11],zr=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Tr=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Br=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Jr=[0,1,2,3,4,5,6,7,8,9,10,11],Yr=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Xr=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Vr(Cr,kr){for(var Sr=0,Pr=0,jr=new Array,Wr=1;Wr<=16;Wr++){for(var Kr=1;Kr<=Cr[Wr];Kr++)jr[kr[Pr]]=[],jr[kr[Pr]][0]=Sr,jr[kr[Pr]][1]=Wr,Pr++,Sr++;Sr*=2}return jr}function $r(Cr){for(var kr=Cr[0],Sr=Cr[1]-1;Sr>=0;)kr&1<<Sr&&(lr|=1<<sr),Sr--,--sr<0&&(lr==255?(Lr(255),Lr(0)):Lr(lr),sr=7,lr=0)}function Lr(Cr){dr.push(Cr)}function Er(Cr){Lr(Cr>>8&255),Lr(255&Cr)}function Hr(Cr,kr,Sr,Pr,jr){for(var Wr,Kr=jr[0],Qr=jr[240],on=function(an,vn){var _n,dn,Pn,gn,In,Rn,zn,Cn,Dn,Kn,Nn=0;for(Dn=0;Dn<8;++Dn){_n=an[Nn],dn=an[Nn+1],Pn=an[Nn+2],gn=an[Nn+3],In=an[Nn+4],Rn=an[Nn+5],zn=an[Nn+6];var ds=_n+(Cn=an[Nn+7]),as=_n-Cn,cs=dn+zn,Ss=dn-zn,Ms=Pn+Rn,xn=Pn-Rn,bn=gn+In,En=gn-In,Wn=ds+bn,es=ds-bn,fs=cs+Ms,Zn=cs-Ms;an[Nn]=Wn+fs,an[Nn+4]=Wn-fs;var ts=.707106781*(Zn+es);an[Nn+2]=es+ts,an[Nn+6]=es-ts;var us=.382683433*((Wn=En+xn)-(Zn=Ss+as)),vs=.5411961*Wn+us,ys=1.306562965*Zn+us,Cs=.707106781*(fs=xn+Ss),gs=as+Cs,os=as-Cs;an[Nn+5]=os+vs,an[Nn+3]=os-vs,an[Nn+1]=gs+ys,an[Nn+7]=gs-ys,Nn+=8}for(Nn=0,Dn=0;Dn<8;++Dn){_n=an[Nn],dn=an[Nn+8],Pn=an[Nn+16],gn=an[Nn+24],In=an[Nn+32],Rn=an[Nn+40],zn=an[Nn+48];var ws=_n+(Cn=an[Nn+56]),Ns=_n-Cn,Ls=dn+zn,Es=dn-zn,Ts=Pn+Rn,Vs=Pn-Rn,zs=gn+In,Xs=gn-In,Ys=ws+zs,$a=ws-zs,lo=Ls+Ts,Mo=Ls-Ts;an[Nn]=Ys+lo,an[Nn+32]=Ys-lo;var ho=.707106781*(Mo+$a);an[Nn+16]=$a+ho,an[Nn+48]=$a-ho;var co=.382683433*((Ys=Xs+Vs)-(Mo=Es+Ns)),yl=.5411961*Ys+co,Ho=1.306562965*Mo+co,Zs=.707106781*(lo=Vs+Es),Wl=Ns+Zs,Gl=Ns-Zs;an[Nn+40]=Gl+yl,an[Nn+24]=Gl-yl,an[Nn+8]=Wl+Ho,an[Nn+56]=Wl-Ho,Nn++}for(Dn=0;Dn<64;++Dn)Kn=an[Dn]*vn[Dn],er[Dn]=Kn>0?Kn+.5|0:Kn-.5|0;return er}(Cr,kr),pn=0;pn<64;++pn)ar[_r[pn]]=on[pn];var fn=ar[0]-Sr;Sr=ar[0],fn==0?$r(Pr[0]):($r(Pr[nr[Wr=32767+fn]]),$r(or[Wr]));for(var en=63;en>0&&ar[en]==0;)en--;if(en==0)return $r(Kr),Sr;for(var Ir,Ur=1;Ur<=en;){for(var Mr=Ur;ar[Ur]==0&&Ur<=en;)++Ur;var Zr=Ur-Mr;if(Zr>=16){Ir=Zr>>4;for(var tn=1;tn<=Ir;++tn)$r(Qr);Zr&=15}Wr=32767+ar[Ur],$r(jr[(Zr<<4)+nr[Wr]]),$r(or[Wr]),Ur++}return en!=63&&$r(Kr),Sr}function Gr(Cr){Cr=Math.min(Math.max(Cr,1),100),rr!=Cr&&(function(kr){for(var Sr=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Pr=0;Pr<64;Pr++){var jr=gr((Sr[Pr]*kr+50)/100);jr=Math.min(Math.max(jr,1),255),cr[_r[Pr]]=jr}for(var Wr=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Kr=0;Kr<64;Kr++){var Qr=gr((Wr[Kr]*kr+50)/100);Qr=Math.min(Math.max(Qr,1),255),tr[_r[Kr]]=Qr}for(var on=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],pn=0,fn=0;fn<8;fn++)for(var en=0;en<8;en++)hr[pn]=1/(cr[_r[pn]]*on[fn]*on[en]*8),ur[pn]=1/(tr[_r[pn]]*on[fn]*on[en]*8),pn++}(Cr<50?Math.floor(5e3/Cr):Math.floor(200-2*Cr)),rr=Cr)}this.encode=function(Cr,kr){kr&&Gr(kr),dr=new Array,lr=0,sr=7,Er(65496),Er(65504),Er(16),Lr(74),Lr(70),Lr(73),Lr(70),Lr(0),Lr(1),Lr(1),Lr(0),Er(1),Er(1),Lr(0),Lr(0),function(){Er(65499),Er(132),Lr(0);for(var dn=0;dn<64;dn++)Lr(cr[dn]);Lr(1);for(var Pn=0;Pn<64;Pn++)Lr(tr[Pn])}(),function(dn,Pn){Er(65472),Er(17),Lr(8),Er(Pn),Er(dn),Lr(3),Lr(1),Lr(17),Lr(0),Lr(2),Lr(17),Lr(1),Lr(3),Lr(17),Lr(1)}(Cr.width,Cr.height),function(){Er(65476),Er(418),Lr(0);for(var dn=0;dn<16;dn++)Lr(xr[dn+1]);for(var Pn=0;Pn<=11;Pn++)Lr(Nr[Pn]);Lr(16);for(var gn=0;gn<16;gn++)Lr(zr[gn+1]);for(var In=0;In<=161;In++)Lr(Tr[In]);Lr(1);for(var Rn=0;Rn<16;Rn++)Lr(Br[Rn+1]);for(var zn=0;zn<=11;zn++)Lr(Jr[zn]);Lr(17);for(var Cn=0;Cn<16;Cn++)Lr(Yr[Cn+1]);for(var Dn=0;Dn<=161;Dn++)Lr(Xr[Dn])}(),Er(65498),Er(12),Lr(3),Lr(1),Lr(0),Lr(2),Lr(17),Lr(3),Lr(17),Lr(0),Lr(63),Lr(0);var Sr=0,Pr=0,jr=0;lr=0,sr=7,this.encode.displayName="_encode_";for(var Wr,Kr,Qr,on,pn,fn,en,Ir,Ur,Mr=Cr.data,Zr=Cr.width,tn=Cr.height,an=4*Zr,vn=0;vn<tn;){for(Wr=0;Wr<an;){for(pn=an*vn+Wr,en=-1,Ir=0,Ur=0;Ur<64;Ur++)fn=pn+(Ir=Ur>>3)*an+(en=4*(7&Ur)),vn+Ir>=tn&&(fn-=an*(vn+1+Ir-tn)),Wr+en>=an&&(fn-=Wr+en-an+4),Kr=Mr[fn++],Qr=Mr[fn++],on=Mr[fn++],pr[Ur]=(br[Kr]+br[Qr+256>>0]+br[on+512>>0]>>16)-128,mr[Ur]=(br[Kr+768>>0]+br[Qr+1024>>0]+br[on+1280>>0]>>16)-128,vr[Ur]=(br[Kr+1280>>0]+br[Qr+1536>>0]+br[on+1792>>0]>>16)-128;Sr=Hr(pr,hr,Sr,e,_i),Pr=Hr(mr,ur,Pr,_e,ir),jr=Hr(vr,ur,jr,_e,ir),Wr+=32}vn+=8}if(sr>=0){var _n=[];_n[1]=sr+1,_n[0]=(1<<sr+1)-1,$r(_n)}return Er(65497),new Uint8Array(dr)},St=St||50,function(){for(var Cr=String.fromCharCode,kr=0;kr<256;kr++)yr[kr]=Cr(kr)}(),e=Vr(xr,Nr),_e=Vr(Br,Jr),_i=Vr(zr,Tr),ir=Vr(Yr,Xr),function(){for(var Cr=1,kr=2,Sr=1;Sr<=15;Sr++){for(var Pr=Cr;Pr<kr;Pr++)nr[32767+Pr]=Sr,or[32767+Pr]=[],or[32767+Pr][1]=Sr,or[32767+Pr][0]=Pr;for(var jr=-(kr-1);jr<=-Cr;jr++)nr[32767+jr]=Sr,or[32767+jr]=[],or[32767+jr][1]=Sr,or[32767+jr][0]=kr-1+jr;Cr<<=1,kr<<=1}}(),function(){for(var Cr=0;Cr<256;Cr++)br[Cr]=19595*Cr,br[Cr+256>>0]=38470*Cr,br[Cr+512>>0]=7471*Cr+32768,br[Cr+768>>0]=-11059*Cr,br[Cr+1024>>0]=-21709*Cr,br[Cr+1280>>0]=32768*Cr+8421375,br[Cr+1536>>0]=-27439*Cr,br[Cr+1792>>0]=-5329*Cr}(),Gr(St)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function te(St,e){if(this.pos=0,this.buffer=St,this.datav=new DataView(St.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ee(St){function e(xr){if(!xr)throw Error("assert :P")}function _e(xr,Nr,zr){for(var Tr=0;4>Tr;Tr++)if(xr[Nr+Tr]!=zr.charCodeAt(Tr))return!0;return!1}function _i(xr,Nr,zr,Tr,Br){for(var Jr=0;Jr<Br;Jr++)xr[Nr+Jr]=zr[Tr+Jr]}function ir(xr,Nr,zr,Tr){for(var Br=0;Br<Tr;Br++)xr[Nr+Br]=zr}function rr(xr){return new Int32Array(xr)}function gr(xr,Nr){for(var zr=[],Tr=0;Tr<xr;Tr++)zr.push(new Nr);return zr}function cr(xr,Nr){var zr=[];return function Tr(Br,Jr,Yr){for(var Xr=Yr[Jr],Vr=0;Vr<Xr&&(Br.push(Yr.length>Jr+1?[]:new Nr),!(Yr.length<Jr+1));Vr++)Tr(Br[Vr],Jr+1,Yr)}(zr,0,xr),zr}var tr=function(){var xr=this;function Nr(wr,Ar){for(var Or=1<<Ar-1>>>0;wr&Or;)Or>>>=1;return Or?(wr&Or-1)+Or:wr}function zr(wr,Ar,Or,qr,nn){e(!(qr%Or));do wr[Ar+(qr-=Or)]=nn;while(0<qr)}function Tr(wr,Ar,Or,qr,nn){if(e(2328>=nn),512>=nn)var hn=rr(512);else if((hn=rr(nn))==null)return 0;return function(cn,un,mn,wn,Tn,Bn){var jn,Mn,Xn=un,$n=1<<mn,Fn=rr(16),Ln=rr(16);for(e(Tn!=0),e(wn!=null),e(cn!=null),e(0<mn),Mn=0;Mn<Tn;++Mn){if(15<wn[Mn])return 0;++Fn[wn[Mn]]}if(Fn[0]==Tn)return 0;for(Ln[1]=0,jn=1;15>jn;++jn){if(Fn[jn]>1<<jn)return 0;Ln[jn+1]=Ln[jn]+Fn[jn]}for(Mn=0;Mn<Tn;++Mn)jn=wn[Mn],0<wn[Mn]&&(Bn[Ln[jn]++]=Mn);if(Ln[15]==1)return(wn=new Br).g=0,wn.value=Bn[0],zr(cn,Xn,1,$n,wn),$n;var Gn,Qn=-1,qn=$n-1,hs=0,rs=1,ms=1,ns=1<<mn;for(Mn=0,jn=1,Tn=2;jn<=mn;++jn,Tn<<=1){if(rs+=ms<<=1,0>(ms-=Fn[jn]))return 0;for(;0<Fn[jn];--Fn[jn])(wn=new Br).g=jn,wn.value=Bn[Mn++],zr(cn,Xn+hs,Tn,ns,wn),hs=Nr(hs,jn)}for(jn=mn+1,Tn=2;15>=jn;++jn,Tn<<=1){if(rs+=ms<<=1,0>(ms-=Fn[jn]))return 0;for(;0<Fn[jn];--Fn[jn]){if(wn=new Br,(hs&qn)!=Qn){for(Xn+=ns,Gn=1<<(Qn=jn)-mn;15>Qn&&!(0>=(Gn-=Fn[Qn]));)++Qn,Gn<<=1;$n+=ns=1<<(Gn=Qn-mn),cn[un+(Qn=hs&qn)].g=Gn+mn,cn[un+Qn].value=Xn-un-Qn}wn.g=jn-mn,wn.value=Bn[Mn++],zr(cn,Xn+(hs>>mn),Tn,ns,wn),hs=Nr(hs,jn)}}return rs!=2*Ln[15]-1?0:$n}(wr,Ar,Or,qr,nn,hn)}function Br(){this.value=this.g=0}function Jr(){this.value=this.g=0}function Yr(){this.G=gr(5,Br),this.H=rr(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=gr(fo,Jr)}function Xr(wr,Ar,Or,qr){e(wr!=null),e(Ar!=null),e(2147483648>qr),wr.Ca=254,wr.I=0,wr.b=-8,wr.Ka=0,wr.oa=Ar,wr.pa=Or,wr.Jd=Ar,wr.Yc=Or+qr,wr.Zc=4<=qr?Or+qr-4+1:Or,Wr(wr)}function Vr(wr,Ar){for(var Or=0;0<Ar--;)Or|=Qr(wr,128)<<Ar;return Or}function $r(wr,Ar){var Or=Vr(wr,Ar);return Kr(wr)?-Or:Or}function Lr(wr,Ar,Or,qr){var nn,hn=0;for(e(wr!=null),e(Ar!=null),e(4294967288>qr),wr.Sb=qr,wr.Ra=0,wr.u=0,wr.h=0,4<qr&&(qr=4),nn=0;nn<qr;++nn)hn+=Ar[Or+nn]<<8*nn;wr.Ra=hn,wr.bb=qr,wr.oa=Ar,wr.pa=Or}function Er(wr){for(;8<=wr.u&&wr.bb<wr.Sb;)wr.Ra>>>=8,wr.Ra+=wr.oa[wr.pa+wr.bb]<<uu-8>>>0,++wr.bb,wr.u-=8;Sr(wr)&&(wr.h=1,wr.u=0)}function Hr(wr,Ar){if(e(0<=Ar),!wr.h&&Ar<=Bl){var Or=kr(wr)&cu[Ar];return wr.u+=Ar,Er(wr),Or}return wr.h=1,wr.u=0}function Gr(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Cr(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function kr(wr){return wr.Ra>>>(wr.u&uu-1)>>>0}function Sr(wr){return e(wr.bb<=wr.Sb),wr.h||wr.bb==wr.Sb&&wr.u>uu}function Pr(wr,Ar){wr.u=Ar,wr.h=Sr(wr)}function jr(wr){wr.u>=Ru&&(e(wr.u>=Ru),Er(wr))}function Wr(wr){e(wr!=null&&wr.oa!=null),wr.pa<wr.Zc?(wr.I=(wr.oa[wr.pa++]|wr.I<<8)>>>0,wr.b+=8):(e(wr!=null&&wr.oa!=null),wr.pa<wr.Yc?(wr.b+=8,wr.I=wr.oa[wr.pa++]|wr.I<<8):wr.Ka?wr.b=0:(wr.I<<=8,wr.b+=8,wr.Ka=1))}function Kr(wr){return Vr(wr,1)}function Qr(wr,Ar){var Or=wr.Ca;0>wr.b&&Wr(wr);var qr=wr.b,nn=Or*Ar>>>8,hn=(wr.I>>>qr>nn)+0;for(hn?(Or-=nn,wr.I-=nn+1<<qr>>>0):Or=nn+1,qr=Or,nn=0;256<=qr;)nn+=8,qr>>=8;return qr=7^nn+po[qr],wr.b-=qr,wr.Ca=(Or<<qr)-1,hn}function on(wr,Ar,Or){wr[Ar+0]=Or>>24&255,wr[Ar+1]=Or>>16&255,wr[Ar+2]=Or>>8&255,wr[Ar+3]=Or>>0&255}function pn(wr,Ar){return wr[Ar+0]<<0|wr[Ar+1]<<8}function fn(wr,Ar){return pn(wr,Ar)|wr[Ar+2]<<16}function en(wr,Ar){return pn(wr,Ar)|pn(wr,Ar+2)<<16}function Ir(wr,Ar){var Or=1<<Ar;return e(wr!=null),e(0<Ar),wr.X=rr(Or),wr.X==null?0:(wr.Mb=32-Ar,wr.Xa=Ar,1)}function Ur(wr,Ar){e(wr!=null),e(Ar!=null),e(wr.Xa==Ar.Xa),_i(Ar.X,0,wr.X,0,1<<Ar.Xa)}function Mr(){this.X=[],this.Xa=this.Mb=0}function Zr(wr,Ar,Or,qr){e(Or!=null),e(qr!=null);var nn=Or[0],hn=qr[0];return nn==0&&(nn=(wr*hn+Ar/2)/Ar),hn==0&&(hn=(Ar*nn+wr/2)/wr),0>=nn||0>=hn?0:(Or[0]=nn,qr[0]=hn,1)}function tn(wr,Ar){return wr+(1<<Ar)-1>>>Ar}function an(wr,Ar){return((4278255360&wr)+(4278255360&Ar)>>>0&4278255360)+((16711935&wr)+(16711935&Ar)>>>0&16711935)>>>0}function vn(wr,Ar){xr[Ar]=function(Or,qr,nn,hn,cn,un,mn){var wn;for(wn=0;wn<cn;++wn){var Tn=xr[wr](un[mn+wn-1],nn,hn+wn);un[mn+wn]=an(Or[qr+wn],Tn)}}}function _n(){this.ud=this.hd=this.jd=0}function dn(wr,Ar){return((4278124286&(wr^Ar))>>>1)+(wr&Ar)>>>0}function Pn(wr){return 0<=wr&&256>wr?wr:0>wr?0:255<wr?255:void 0}function gn(wr,Ar){return Pn(wr+(wr-Ar+.5>>1))}function In(wr,Ar,Or){return Math.abs(Ar-Or)-Math.abs(wr-Or)}function Rn(wr,Ar,Or,qr,nn,hn,cn){for(qr=hn[cn-1],Or=0;Or<nn;++Or)hn[cn+Or]=qr=an(wr[Ar+Or],qr)}function zn(wr,Ar,Or,qr,nn){var hn;for(hn=0;hn<Or;++hn){var cn=wr[Ar+hn],un=cn>>8&255,mn=16711935&(mn=(mn=16711935&cn)+((un<<16)+un));qr[nn+hn]=(4278255360&cn)+mn>>>0}}function Cn(wr,Ar){Ar.jd=wr>>0&255,Ar.hd=wr>>8&255,Ar.ud=wr>>16&255}function Dn(wr,Ar,Or,qr,nn,hn){var cn;for(cn=0;cn<qr;++cn){var un=Ar[Or+cn],mn=un>>>8,wn=un,Tn=255&(Tn=(Tn=un>>>16)+((wr.jd<<24>>24)*(mn<<24>>24)>>>5));wn=255&(wn=(wn=wn+((wr.hd<<24>>24)*(mn<<24>>24)>>>5))+((wr.ud<<24>>24)*(Tn<<24>>24)>>>5)),nn[hn+cn]=(4278255360&un)+(Tn<<16)+wn}}function Kn(wr,Ar,Or,qr,nn){xr[Ar]=function(hn,cn,un,mn,wn,Tn,Bn,jn,Mn){for(mn=Bn;mn<jn;++mn)for(Bn=0;Bn<Mn;++Bn)wn[Tn++]=nn(un[qr(hn[cn++])])},xr[wr]=function(hn,cn,un,mn,wn,Tn,Bn){var jn=8>>hn.b,Mn=hn.Ea,Xn=hn.K[0],$n=hn.w;if(8>jn)for(hn=(1<<hn.b)-1,$n=(1<<jn)-1;cn<un;++cn){var Fn,Ln=0;for(Fn=0;Fn<Mn;++Fn)Fn&hn||(Ln=qr(mn[wn++])),Tn[Bn++]=nn(Xn[Ln&$n]),Ln>>=jn}else xr["VP8LMapColor"+Or](mn,wn,Xn,$n,Tn,Bn,cn,un,Mn)}}function Nn(wr,Ar,Or,qr,nn){for(Or=Ar+Or;Ar<Or;){var hn=wr[Ar++];qr[nn++]=hn>>16&255,qr[nn++]=hn>>8&255,qr[nn++]=hn>>0&255}}function ds(wr,Ar,Or,qr,nn){for(Or=Ar+Or;Ar<Or;){var hn=wr[Ar++];qr[nn++]=hn>>16&255,qr[nn++]=hn>>8&255,qr[nn++]=hn>>0&255,qr[nn++]=hn>>24&255}}function as(wr,Ar,Or,qr,nn){for(Or=Ar+Or;Ar<Or;){var hn=(cn=wr[Ar++])>>16&240|cn>>12&15,cn=cn>>0&240|cn>>28&15;qr[nn++]=hn,qr[nn++]=cn}}function cs(wr,Ar,Or,qr,nn){for(Or=Ar+Or;Ar<Or;){var hn=(cn=wr[Ar++])>>16&248|cn>>13&7,cn=cn>>5&224|cn>>3&31;qr[nn++]=hn,qr[nn++]=cn}}function Ss(wr,Ar,Or,qr,nn){for(Or=Ar+Or;Ar<Or;){var hn=wr[Ar++];qr[nn++]=hn>>0&255,qr[nn++]=hn>>8&255,qr[nn++]=hn>>16&255}}function Ms(wr,Ar,Or,qr,nn,hn){if(hn==0)for(Or=Ar+Or;Ar<Or;)on(qr,((hn=wr[Ar++])[0]>>24|hn[1]>>8&65280|hn[2]<<8&16711680|hn[3]<<24)>>>0),nn+=32;else _i(qr,nn,wr,Ar,Or)}function xn(wr,Ar){xr[Ar][0]=xr[wr+"0"],xr[Ar][1]=xr[wr+"1"],xr[Ar][2]=xr[wr+"2"],xr[Ar][3]=xr[wr+"3"],xr[Ar][4]=xr[wr+"4"],xr[Ar][5]=xr[wr+"5"],xr[Ar][6]=xr[wr+"6"],xr[Ar][7]=xr[wr+"7"],xr[Ar][8]=xr[wr+"8"],xr[Ar][9]=xr[wr+"9"],xr[Ar][10]=xr[wr+"10"],xr[Ar][11]=xr[wr+"11"],xr[Ar][12]=xr[wr+"12"],xr[Ar][13]=xr[wr+"13"],xr[Ar][14]=xr[wr+"0"],xr[Ar][15]=xr[wr+"0"]}function bn(wr){return wr==Tl||wr==Vu||wr==Kp||wr==mm}function En(){this.eb=[],this.size=this.A=this.fb=0}function Wn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function es(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new En,this.f.kb=new Wn,this.sd=null}function fs(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Zn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ts(wr){return alert("todo:WebPSamplerProcessPlane"),wr.T}function us(wr,Ar){var Or=wr.T,qr=Ar.ba.f.RGBA,nn=qr.eb,hn=qr.fb+wr.ka*qr.A,cn=$o[Ar.ba.S],un=wr.y,mn=wr.O,wn=wr.f,Tn=wr.N,Bn=wr.ea,jn=wr.W,Mn=Ar.cc,Xn=Ar.dc,$n=Ar.Mc,Fn=Ar.Nc,Ln=wr.ka,Gn=wr.ka+wr.T,Qn=wr.U,qn=Qn+1>>1;for(Ln==0?cn(un,mn,null,null,wn,Tn,Bn,jn,wn,Tn,Bn,jn,nn,hn,null,null,Qn):(cn(Ar.ec,Ar.fc,un,mn,Mn,Xn,$n,Fn,wn,Tn,Bn,jn,nn,hn-qr.A,nn,hn,Qn),++Or);Ln+2<Gn;Ln+=2)Mn=wn,Xn=Tn,$n=Bn,Fn=jn,Tn+=wr.Rc,jn+=wr.Rc,hn+=2*qr.A,cn(un,(mn+=2*wr.fa)-wr.fa,un,mn,Mn,Xn,$n,Fn,wn,Tn,Bn,jn,nn,hn-qr.A,nn,hn,Qn);return mn+=wr.fa,wr.j+Gn<wr.o?(_i(Ar.ec,Ar.fc,un,mn,Qn),_i(Ar.cc,Ar.dc,wn,Tn,qn),_i(Ar.Mc,Ar.Nc,Bn,jn,qn),Or--):1&Gn||cn(un,mn,null,null,wn,Tn,Bn,jn,wn,Tn,Bn,jn,nn,hn+qr.A,null,null,Qn),Or}function vs(wr,Ar,Or){var qr=wr.F,nn=[wr.J];if(qr!=null){var hn=wr.U,cn=Ar.ba.S,un=cn==Us||cn==Kp;Ar=Ar.ba.f.RGBA;var mn=[0],wn=wr.ka;mn[0]=wr.T,wr.Kb&&(wn==0?--mn[0]:(--wn,nn[0]-=wr.width),wr.j+wr.ka+wr.T==wr.o&&(mn[0]=wr.o-wr.j-wn));var Tn=Ar.eb;wn=Ar.fb+wn*Ar.A,wr=Qo(qr,nn[0],wr.width,hn,mn,Tn,wn+(un?0:3),Ar.A),e(Or==mn),wr&&bn(cn)&&Pl(Tn,wn,un,hn,mn,Ar.A)}return 0}function ys(wr){var Ar=wr.ma,Or=Ar.ba.S,qr=11>Or,nn=Or==An||Or==ls||Or==Us||Or==_o||Or==12||bn(Or);if(Ar.memory=null,Ar.Ib=null,Ar.Jb=null,Ar.Nd=null,!Al(Ar.Oa,wr,nn?11:12))return 0;if(nn&&bn(Or)&&Jn(),wr.da)alert("todo:use_scaling");else{if(qr){if(Ar.Ib=ts,wr.Kb){if(Or=wr.U+1>>1,Ar.memory=rr(wr.U+2*Or),Ar.memory==null)return 0;Ar.ec=Ar.memory,Ar.fc=0,Ar.cc=Ar.ec,Ar.dc=Ar.fc+wr.U,Ar.Mc=Ar.cc,Ar.Nc=Ar.dc+Or,Ar.Ib=us,Jn()}}else alert("todo:EmitYUV");nn&&(Ar.Jb=vs,qr&&On())}if(qr&&!e0){for(wr=0;256>wr;++wr)a1[wr]=89858*(wr-128)+Jp>>Qp,h1[wr]=-22014*(wr-128)+Jp,l1[wr]=-45773*(wr-128),o1[wr]=113618*(wr-128)+Jp>>Qp;for(wr=Rp;wr<ym;++wr)Ar=76283*(wr-16)+Jp>>Qp,c1[wr-Rp]=uo(Ar,255),u1[wr-Rp]=uo(Ar+8>>4,15);e0=1}return 1}function Cs(wr){var Ar=wr.ma,Or=wr.U,qr=wr.T;return e(!(1&wr.ka)),0>=Or||0>=qr?0:(Or=Ar.Ib(wr,Ar),Ar.Jb!=null&&Ar.Jb(wr,Ar,Or),Ar.Dc+=Or,1)}function gs(wr){wr.ma.memory=null}function os(wr,Ar,Or,qr){return Hr(wr,8)!=47?0:(Ar[0]=Hr(wr,14)+1,Or[0]=Hr(wr,14)+1,qr[0]=Hr(wr,1),Hr(wr,3)!=0?0:!wr.h)}function ws(wr,Ar){if(4>wr)return wr+1;var Or=wr-2>>1;return(2+(1&wr)<<Or)+Hr(Ar,Or)+1}function Ns(wr,Ar){return 120<Ar?Ar-120:1<=(Or=((Or=G0[Ar-1])>>4)*wr+(8-(15&Or)))?Or:1;var Or}function Ls(wr,Ar,Or){var qr=kr(Or),nn=wr[Ar+=255&qr].g-8;return 0<nn&&(Pr(Or,Or.u+8),qr=kr(Or),Ar+=wr[Ar].value,Ar+=qr&(1<<nn)-1),Pr(Or,Or.u+wr[Ar].g),wr[Ar].value}function Es(wr,Ar,Or){return Or.g+=wr.g,Or.value+=wr.value<<Ar>>>0,e(8>=Or.g),wr.g}function Ts(wr,Ar,Or){var qr=wr.xc;return e((Ar=qr==0?0:wr.vc[wr.md*(Or>>qr)+(Ar>>qr)])<wr.Wb),wr.Ya[Ar]}function Vs(wr,Ar,Or,qr){var nn=wr.ab,hn=wr.c*Ar,cn=wr.C;Ar=cn+Ar;var un=Or,mn=qr;for(qr=wr.Ta,Or=wr.Ua;0<nn--;){var wn=wr.gc[nn],Tn=cn,Bn=Ar,jn=un,Mn=mn,Xn=(mn=qr,un=Or,wn.Ea);switch(e(Tn<Bn),e(Bn<=wn.nc),wn.hc){case 2:Bu(jn,Mn,(Bn-Tn)*Xn,mn,un);break;case 0:var $n=Tn,Fn=Bn,Ln=mn,Gn=un,Qn=(ns=wn).Ea;$n==0&&(Ip(jn,Mn,null,null,1,Ln,Gn),Rn(jn,Mn+1,0,0,Qn-1,Ln,Gn+1),Mn+=Qn,Gn+=Qn,++$n);for(var qn=1<<ns.b,hs=qn-1,rs=tn(Qn,ns.b),ms=ns.K,ns=ns.w+($n>>ns.b)*rs;$n<Fn;){var Is=ms,Os=ns,Fs=1;for(fu(jn,Mn,Ln,Gn-Qn,1,Ln,Gn);Fs<Qn;){var Ps=(Fs&~hs)+qn;Ps>Qn&&(Ps=Qn),(0,Bo[Is[Os++]>>8&15])(jn,Mn+ +Fs,Ln,Gn+Fs-Qn,Ps-Fs,Ln,Gn+Fs),Fs=Ps}Mn+=Qn,Gn+=Qn,++$n&hs||(ns+=rs)}Bn!=wn.nc&&_i(mn,un-Xn,mn,un+(Bn-Tn-1)*Xn,Xn);break;case 1:for(Xn=jn,Fn=Mn,Qn=(jn=wn.Ea)-(Gn=jn&~(Ln=(Mn=1<<wn.b)-1)),$n=tn(jn,wn.b),qn=wn.K,wn=wn.w+(Tn>>wn.b)*$n;Tn<Bn;){for(hs=qn,rs=wn,ms=new _n,ns=Fn+Gn,Is=Fn+jn;Fn<ns;)Cn(hs[rs++],ms),wo(ms,Xn,Fn,Mn,mn,un),Fn+=Mn,un+=Mn;Fn<Is&&(Cn(hs[rs++],ms),wo(ms,Xn,Fn,Qn,mn,un),Fn+=Qn,un+=Qn),++Tn&Ln||(wn+=$n)}break;case 3:if(jn==mn&&Mn==un&&0<wn.b){for(Fn=mn,jn=Xn=un+(Bn-Tn)*Xn-(Gn=(Bn-Tn)*tn(wn.Ea,wn.b)),Mn=mn,Ln=un,$n=[],Gn=(Qn=Gn)-1;0<=Gn;--Gn)$n[Gn]=Mn[Ln+Gn];for(Gn=Qn-1;0<=Gn;--Gn)Fn[jn+Gn]=$n[Gn];Eo(wn,Tn,Bn,mn,Xn,mn,un)}else Eo(wn,Tn,Bn,jn,Mn,mn,un)}un=qr,mn=Or}mn!=Or&&_i(qr,Or,un,mn,hn)}function zs(wr,Ar){var Or=wr.V,qr=wr.Ba+wr.c*wr.C,nn=Ar-wr.C;if(e(Ar<=wr.l.o),e(16>=nn),0<nn){var hn=wr.l,cn=wr.Ta,un=wr.Ua,mn=hn.width;if(Vs(wr,nn,Or,qr),nn=un=[un],e((Or=wr.C)<(qr=Ar)),e(hn.v<hn.va),qr>hn.o&&(qr=hn.o),Or<hn.j){var wn=hn.j-Or;Or=hn.j,nn[0]+=wn*mn}if(Or>=qr?Or=0:(nn[0]+=4*hn.v,hn.ka=Or-hn.j,hn.U=hn.va-hn.v,hn.T=qr-Or,Or=1),Or){if(un=un[0],11>(Or=wr.ca).S){var Tn=Or.f.RGBA,Bn=(qr=Or.S,nn=hn.U,hn=hn.T,wn=Tn.eb,Tn.A),jn=hn;for(Tn=Tn.fb+wr.Ma*Tn.A;0<jn--;){var Mn=cn,Xn=un,$n=nn,Fn=wn,Ln=Tn;switch(qr){case rn:ko(Mn,Xn,$n,Fn,Ln);break;case An:Cl(Mn,Xn,$n,Fn,Ln);break;case Tl:Cl(Mn,Xn,$n,Fn,Ln),Pl(Fn,Ln,0,$n,1,0);break;case Hn:du(Mn,Xn,$n,Fn,Ln);break;case ls:Ms(Mn,Xn,$n,Fn,Ln,1);break;case Vu:Ms(Mn,Xn,$n,Fn,Ln,1),Pl(Fn,Ln,0,$n,1,0);break;case Us:Ms(Mn,Xn,$n,Fn,Ln,0);break;case Kp:Ms(Mn,Xn,$n,Fn,Ln,0),Pl(Fn,Ln,1,$n,1,0);break;case _o:jo(Mn,Xn,$n,Fn,Ln);break;case mm:jo(Mn,Xn,$n,Fn,Ln),ao(Fn,Ln,$n,1,0);break;case io:zo(Mn,Xn,$n,Fn,Ln);break;default:e(0)}un+=mn,Tn+=Bn}wr.Ma+=hn}else alert("todo:EmitRescaledRowsYUVA");e(wr.Ma<=Or.height)}}wr.C=Ar,e(wr.C<=wr.i)}function Xs(wr){var Ar;if(0<wr.ua)return 0;for(Ar=0;Ar<wr.Wb;++Ar){var Or=wr.Ya[Ar].G,qr=wr.Ya[Ar].H;if(0<Or[1][qr[1]+0].g||0<Or[2][qr[2]+0].g||0<Or[3][qr[3]+0].g)return 0}return 1}function Ys(wr,Ar,Or,qr,nn,hn){if(wr.Z!=0){var cn=wr.qd,un=wr.rd;for(e(vu[wr.Z]!=null);Ar<Or;++Ar)vu[wr.Z](cn,un,qr,nn,qr,nn,hn),cn=qr,un=nn,nn+=hn;wr.qd=cn,wr.rd=un}}function $a(wr,Ar){var Or=wr.l.ma,qr=Or.Z==0||Or.Z==1?wr.l.j:wr.C;if(qr=wr.C<qr?qr:wr.C,e(Ar<=wr.l.o),Ar>qr){var nn=wr.l.width,hn=Or.ca,cn=Or.tb+nn*qr,un=wr.V,mn=wr.Ba+wr.c*qr,wn=wr.gc;e(wr.ab==1),e(wn[0].hc==3),Op(wn[0],qr,Ar,un,mn,hn,cn),Ys(Or,qr,Ar,hn,cn,nn)}wr.C=wr.Ma=Ar}function lo(wr,Ar,Or,qr,nn,hn,cn){var un=wr.$/qr,mn=wr.$%qr,wn=wr.m,Tn=wr.s,Bn=Or+wr.$,jn=Bn;nn=Or+qr*nn;var Mn=Or+qr*hn,Xn=280+Tn.ua,$n=wr.Pb?un:16777216,Fn=0<Tn.ua?Tn.Wa:null,Ln=Tn.wc,Gn=Bn<Mn?Ts(Tn,mn,un):null;e(wr.C<hn),e(Mn<=nn);var Qn=!1;t:for(;;){for(;Qn||Bn<Mn;){var qn=0;if(un>=$n){var hs=Bn-Or;e(($n=wr).Pb),$n.wd=$n.m,$n.xd=hs,0<$n.s.ua&&Ur($n.s.Wa,$n.s.vb),$n=un+X0}if(mn&Ln||(Gn=Ts(Tn,mn,un)),e(Gn!=null),Gn.Qb&&(Ar[Bn]=Gn.qb,Qn=!0),!Qn)if(jr(wn),Gn.jc){qn=wn,hs=Ar;var rs=Bn,ms=Gn.pd[kr(qn)&fo-1];e(Gn.jc),256>ms.g?(Pr(qn,qn.u+ms.g),hs[rs]=ms.value,qn=0):(Pr(qn,qn.u+ms.g-256),e(256<=ms.value),qn=ms.value),qn==0&&(Qn=!0)}else qn=Ls(Gn.G[0],Gn.H[0],wn);if(wn.h)break;if(Qn||256>qn){if(!Qn)if(Gn.nd)Ar[Bn]=(Gn.qb|qn<<8)>>>0;else{if(jr(wn),Qn=Ls(Gn.G[1],Gn.H[1],wn),jr(wn),hs=Ls(Gn.G[2],Gn.H[2],wn),rs=Ls(Gn.G[3],Gn.H[3],wn),wn.h)break;Ar[Bn]=(rs<<24|Qn<<16|qn<<8|hs)>>>0}if(Qn=!1,++Bn,++mn>=qr&&(mn=0,++un,cn!=null&&un<=hn&&!(un%16)&&cn(wr,un),Fn!=null))for(;jn<Bn;)qn=Ar[jn++],Fn.X[(506832829*qn&4294967295)>>>Fn.Mb]=qn}else if(280>qn){if(qn=ws(qn-256,wn),hs=Ls(Gn.G[4],Gn.H[4],wn),jr(wn),hs=Ns(qr,hs=ws(hs,wn)),wn.h)break;if(Bn-Or<hs||nn-Bn<qn)break t;for(rs=0;rs<qn;++rs)Ar[Bn+rs]=Ar[Bn+rs-hs];for(Bn+=qn,mn+=qn;mn>=qr;)mn-=qr,++un,cn!=null&&un<=hn&&!(un%16)&&cn(wr,un);if(e(Bn<=nn),mn&Ln&&(Gn=Ts(Tn,mn,un)),Fn!=null)for(;jn<Bn;)qn=Ar[jn++],Fn.X[(506832829*qn&4294967295)>>>Fn.Mb]=qn}else{if(!(qn<Xn))break t;for(Qn=qn-280,e(Fn!=null);jn<Bn;)qn=Ar[jn++],Fn.X[(506832829*qn&4294967295)>>>Fn.Mb]=qn;qn=Bn,e(!(Qn>>>(hs=Fn).Xa)),Ar[qn]=hs.X[Qn],Qn=!0}Qn||e(wn.h==Sr(wn))}if(wr.Pb&&wn.h&&Bn<nn)e(wr.m.h),wr.a=5,wr.m=wr.wd,wr.$=wr.xd,0<wr.s.ua&&Ur(wr.s.vb,wr.s.Wa);else{if(wn.h)break t;cn!=null&&cn(wr,un>hn?hn:un),wr.a=0,wr.$=Bn-Or}return 1}return wr.a=3,0}function Mo(wr){e(wr!=null),wr.vc=null,wr.yc=null,wr.Ya=null;var Ar=wr.Wa;Ar!=null&&(Ar.X=null),wr.vb=null,e(wr!=null)}function ho(){var wr=new Mp;return wr==null?null:(wr.a=0,wr.xb=Km,xn("Predictor","VP8LPredictors"),xn("Predictor","VP8LPredictors_C"),xn("PredictorAdd","VP8LPredictorsAdd"),xn("PredictorAdd","VP8LPredictorsAdd_C"),Bu=zn,wo=Dn,ko=Nn,Cl=ds,jo=as,zo=cs,du=Ss,xr.VP8LMapColor32b=ju,xr.VP8LMapColor8b=hp,wr)}function co(wr,Ar,Or,qr,nn){var hn=1,cn=[wr],un=[Ar],mn=qr.m,wn=qr.s,Tn=null,Bn=0;t:for(;;){if(Or)for(;hn&&Hr(mn,1);){var jn=cn,Mn=un,Xn=qr,$n=1,Fn=Xn.m,Ln=Xn.gc[Xn.ab],Gn=Hr(Fn,2);if(Xn.Oc&1<<Gn)hn=0;else{switch(Xn.Oc|=1<<Gn,Ln.hc=Gn,Ln.Ea=jn[0],Ln.nc=Mn[0],Ln.K=[null],++Xn.ab,e(4>=Xn.ab),Gn){case 0:case 1:Ln.b=Hr(Fn,3)+2,$n=co(tn(Ln.Ea,Ln.b),tn(Ln.nc,Ln.b),0,Xn,Ln.K),Ln.K=Ln.K[0];break;case 3:var Qn,qn=Hr(Fn,8)+1,hs=16<qn?0:4<qn?1:2<qn?2:3;if(jn[0]=tn(Ln.Ea,hs),Ln.b=hs,Qn=$n=co(qn,1,0,Xn,Ln.K)){var rs,ms=qn,ns=Ln,Is=1<<(8>>ns.b),Os=rr(Is);if(Os==null)Qn=0;else{var Fs=ns.K[0],Ps=ns.w;for(Os[0]=ns.K[0][0],rs=1;rs<1*ms;++rs)Os[rs]=an(Fs[Ps+rs],Os[rs-1]);for(;rs<4*Is;++rs)Os[rs]=0;ns.K[0]=null,ns.K[0]=Os,Qn=1}}$n=Qn;break;case 2:break;default:e(0)}hn=$n}}if(cn=cn[0],un=un[0],hn&&Hr(mn,1)&&!(hn=1<=(Bn=Hr(mn,4))&&11>=Bn)){qr.a=3;break t}var $s;if($s=hn)e:{var js,As,ba,xo=qr,xa=cn,So=un,Ds=Bn,Fo=Or,Lo=xo.m,ro=xo.s,oo=[null],yo=1,Vo=0,Fl=q0[Ds];i:for(;;){if(Fo&&Hr(Lo,1)){var no=Hr(Lo,3)+2,Ul=tn(xa,no),Uu=tn(So,no),cp=Ul*Uu;if(!co(Ul,Uu,0,xo,oo))break i;for(oo=oo[0],ro.xc=no,js=0;js<cp;++js){var yu=oo[js]>>8&65535;oo[js]=yu,yu>=yo&&(yo=yu+1)}}if(Lo.h)break i;for(As=0;5>As;++As){var Qs=Xm[As];!As&&0<Ds&&(Qs+=1<<Ds),Vo<Qs&&(Vo=Qs)}var bm=gr(yo*Fl,Br),n0=yo,s0=gr(n0,Yr);if(s0==null)var tm=null;else e(65536>=n0),tm=s0;var Bp=rr(Vo);if(tm==null||Bp==null||bm==null){xo.a=1;break i}var em=bm;for(js=ba=0;js<yo;++js){var Zo=tm[js],up=Zo.G,fp=Zo.H,a0=0,im=1,o0=0;for(As=0;5>As;++As){Qs=Xm[As],up[As]=em,fp[As]=ba,!As&&0<Ds&&(Qs+=1<<Ds);n:{var rm,wm=Qs,sm=xo,jp=Bp,p1=em,m1=ba,_m=0,bu=sm.m,g1=Hr(bu,1);if(ir(jp,0,0,wm),g1){var v1=Hr(bu,1)+1,y1=Hr(bu,1),l0=Hr(bu,y1==0?1:8);jp[l0]=1,v1==2&&(jp[l0=Hr(bu,8)]=1);var am=1}else{var h0=rr(19),c0=Hr(bu,4)+4;if(19<c0){sm.a=3;var om=0;break n}for(rm=0;rm<c0;++rm)h0[W0[rm]]=Hr(bu,3);var xm=void 0,zp=void 0,u0=sm,b1=h0,lm=wm,f0=jp,Sm=0,wu=u0.m,d0=8,p0=gr(128,Br);r:for(;Tr(p0,0,7,b1,19);){if(Hr(wu,1)){var w1=2+2*Hr(wu,3);if((xm=2+Hr(wu,w1))>lm)break r}else xm=lm;for(zp=0;zp<lm&&xm--;){jr(wu);var m0=p0[0+(127&kr(wu))];Pr(wu,wu.u+m0.g);var dp=m0.value;if(16>dp)f0[zp++]=dp,dp!=0&&(d0=dp);else{var _1=dp==16,g0=dp-16,x1=U0[g0],v0=Hr(wu,V0[g0])+x1;if(zp+v0>lm)break r;for(var S1=_1?d0:0;0<v0--;)f0[zp++]=S1}}Sm=1;break r}Sm||(u0.a=3),am=Sm}(am=am&&!bu.h)&&(_m=Tr(p1,m1,8,jp,wm)),am&&_m!=0?om=_m:(sm.a=3,om=0)}if(om==0)break i;if(im&&H0[As]==1&&(im=em[ba].g==0),a0+=em[ba].g,ba+=om,3>=As){var $p,Am=Bp[0];for($p=1;$p<Qs;++$p)Bp[$p]>Am&&(Am=Bp[$p]);o0+=Am}}if(Zo.nd=im,Zo.Qb=0,im&&(Zo.qb=(up[3][fp[3]+0].value<<24|up[1][fp[1]+0].value<<16|up[2][fp[2]+0].value)>>>0,a0==0&&256>up[0][fp[0]+0].value&&(Zo.Qb=1,Zo.qb+=up[0][fp[0]+0].value<<8)),Zo.jc=!Zo.Qb&&6>o0,Zo.jc){var hm,Hl=Zo;for(hm=0;hm<fo;++hm){var _u=hm,xu=Hl.pd[_u],cm=Hl.G[0][Hl.H[0]+_u];256<=cm.value?(xu.g=cm.g+256,xu.value=cm.value):(xu.g=0,xu.value=0,_u>>=Es(cm,8,xu),_u>>=Es(Hl.G[1][Hl.H[1]+_u],16,xu),_u>>=Es(Hl.G[2][Hl.H[2]+_u],0,xu),Es(Hl.G[3][Hl.H[3]+_u],24,xu))}}}ro.vc=oo,ro.Wb=yo,ro.Ya=tm,ro.yc=bm,$s=1;break e}$s=0}if(!(hn=$s)){qr.a=3;break t}if(0<Bn){if(wn.ua=1<<Bn,!Ir(wn.Wa,Bn)){qr.a=1,hn=0;break t}}else wn.ua=0;var Cm=qr,y0=cn,A1=un,Em=Cm.s,km=Em.xc;if(Cm.c=y0,Cm.i=A1,Em.md=tn(y0,km),Em.wc=km==0?-1:(1<<km)-1,Or){qr.xb=e1;break t}if((Tn=rr(cn*un))==null){qr.a=1,hn=0;break t}hn=(hn=lo(qr,Tn,0,cn,un,un,null))&&!mn.h;break t}return hn?(nn!=null?nn[0]=Tn:(e(Tn==null),e(Or)),qr.$=0,Or||Mo(wn)):Mo(wn),hn}function yl(wr,Ar){var Or=wr.c*wr.i,qr=Or+Ar+16*Ar;return e(wr.c<=Ar),wr.V=rr(qr),wr.V==null?(wr.Ta=null,wr.Ua=0,wr.a=1,0):(wr.Ta=wr.V,wr.Ua=wr.Ba+Or+Ar,1)}function Ho(wr,Ar){var Or=wr.C,qr=Ar-Or,nn=wr.V,hn=wr.Ba+wr.c*Or;for(e(Ar<=wr.l.o);0<qr;){var cn=16<qr?16:qr,un=wr.l.ma,mn=wr.l.width,wn=mn*cn,Tn=un.ca,Bn=un.tb+mn*Or,jn=wr.Ta,Mn=wr.Ua;Vs(wr,cn,nn,hn),Hp(jn,Mn,Tn,Bn,wn),Ys(un,Or,Or+cn,Tn,Bn,mn),qr-=cn,nn+=cn*wr.c,Or+=cn}e(Or==Ar),wr.C=wr.Ma=Ar}function Zs(){this.ub=this.yd=this.td=this.Rb=0}function Wl(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Gl(){this.Fb=this.Bb=this.Cb=0,this.Zb=rr(4),this.Lb=rr(4)}function Hu(){this.Yb=function(){var wr=[];return function Ar(Or,qr,nn){for(var hn=nn[qr],cn=0;cn<hn&&(Or.push(nn.length>qr+1?[]:0),!(nn.length<qr+1));cn++)Ar(Or[cn],qr+1,nn)}(wr,0,[3,11]),wr}()}function Wu(){this.jb=rr(3),this.Wc=cr([4,8],Hu),this.Xc=cr([4,17],Hu)}function gp(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new rr(4),this.od=new rr(4)}function Xl(){this.ld=this.La=this.dd=this.tc=0}function Gu(){this.Na=this.la=0}function qu(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Su(){this.ad=rr(384),this.Za=0,this.Ob=rr(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Xu(){this.uc=this.M=this.Nb=0,this.wa=Array(new Xl),this.Y=0,this.ya=Array(new Su),this.aa=0,this.l=new Yl}function Yu(){this.y=rr(16),this.f=rr(8),this.ea=rr(8)}function vp(){this.cb=this.a=0,this.sc="",this.m=new Gr,this.Od=new Zs,this.Kc=new Wl,this.ed=new gp,this.Qa=new Gl,this.Ic=this.$c=this.Aa=0,this.D=new Xu,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=gr(8,Gr),this.ia=0,this.pb=gr(4,qu),this.Pa=new Wu,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Yu),this.Hd=0,this.rb=Array(new Gu),this.sb=0,this.wa=Array(new Xl),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Su),this.L=this.aa=0,this.gd=cr([4,2],Xl),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Yl(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function yp(){var wr=new vp;return wr!=null&&(wr.a=0,wr.sc="OK",wr.cb=0,wr.Xb=0,Np||(Np=Au)),wr}function qs(wr,Ar,Or){return wr.a==0&&(wr.a=Ar,wr.sc=Or,wr.cb=0),0}function Ku(wr,Ar,Or){return 3<=Or&&wr[Ar+0]==157&&wr[Ar+1]==1&&wr[Ar+2]==42}function Qu(wr,Ar){if(wr==null)return 0;if(wr.a=0,wr.sc="OK",Ar==null)return qs(wr,2,"null VP8Io passed to VP8GetHeaders()");var Or=Ar.data,qr=Ar.w,nn=Ar.ha;if(4>nn)return qs(wr,7,"Truncated header.");var hn=Or[qr+0]|Or[qr+1]<<8|Or[qr+2]<<16,cn=wr.Od;if(cn.Rb=!(1&hn),cn.td=hn>>1&7,cn.yd=hn>>4&1,cn.ub=hn>>5,3<cn.td)return qs(wr,3,"Incorrect keyframe parameters.");if(!cn.yd)return qs(wr,4,"Frame not displayable.");qr+=3,nn-=3;var un=wr.Kc;if(cn.Rb){if(7>nn)return qs(wr,7,"cannot parse picture header");if(!Ku(Or,qr,nn))return qs(wr,3,"Bad code word");un.c=16383&(Or[qr+4]<<8|Or[qr+3]),un.Td=Or[qr+4]>>6,un.i=16383&(Or[qr+6]<<8|Or[qr+5]),un.Ud=Or[qr+6]>>6,qr+=7,nn-=7,wr.za=un.c+15>>4,wr.Ub=un.i+15>>4,Ar.width=un.c,Ar.height=un.i,Ar.Da=0,Ar.j=0,Ar.v=0,Ar.va=Ar.width,Ar.o=Ar.height,Ar.da=0,Ar.ib=Ar.width,Ar.hb=Ar.height,Ar.U=Ar.width,Ar.T=Ar.height,ir((hn=wr.Pa).jb,0,255,hn.jb.length),e((hn=wr.Qa)!=null),hn.Cb=0,hn.Bb=0,hn.Fb=1,ir(hn.Zb,0,0,hn.Zb.length),ir(hn.Lb,0,0,hn.Lb)}if(cn.ub>nn)return qs(wr,7,"bad partition length");Xr(hn=wr.m,Or,qr,cn.ub),qr+=cn.ub,nn-=cn.ub,cn.Rb&&(un.Ld=Kr(hn),un.Kd=Kr(hn)),un=wr.Qa;var mn,wn=wr.Pa;if(e(hn!=null),e(un!=null),un.Cb=Kr(hn),un.Cb){if(un.Bb=Kr(hn),Kr(hn)){for(un.Fb=Kr(hn),mn=0;4>mn;++mn)un.Zb[mn]=Kr(hn)?$r(hn,7):0;for(mn=0;4>mn;++mn)un.Lb[mn]=Kr(hn)?$r(hn,6):0}if(un.Bb)for(mn=0;3>mn;++mn)wn.jb[mn]=Kr(hn)?Vr(hn,8):255}else un.Bb=0;if(hn.Ka)return qs(wr,3,"cannot parse segment header");if((un=wr.ed).zd=Kr(hn),un.Tb=Vr(hn,6),un.wb=Vr(hn,3),un.Pc=Kr(hn),un.Pc&&Kr(hn)){for(wn=0;4>wn;++wn)Kr(hn)&&(un.vd[wn]=$r(hn,6));for(wn=0;4>wn;++wn)Kr(hn)&&(un.od[wn]=$r(hn,6))}if(wr.L=un.Tb==0?0:un.zd?1:2,hn.Ka)return qs(wr,3,"cannot parse filter header");var Tn=nn;if(nn=mn=qr,qr=mn+Tn,un=Tn,wr.Xb=(1<<Vr(wr.m,2))-1,Tn<3*(wn=wr.Xb))Or=7;else{for(mn+=3*wn,un-=3*wn,Tn=0;Tn<wn;++Tn){var Bn=Or[nn+0]|Or[nn+1]<<8|Or[nn+2]<<16;Bn>un&&(Bn=un),Xr(wr.Jc[+Tn],Or,mn,Bn),mn+=Bn,un-=Bn,nn+=3}Xr(wr.Jc[+wn],Or,mn,un),Or=mn<qr?0:5}if(Or!=0)return qs(wr,Or,"cannot parse partitions");for(Or=Vr(mn=wr.m,7),nn=Kr(mn)?$r(mn,4):0,qr=Kr(mn)?$r(mn,4):0,un=Kr(mn)?$r(mn,4):0,wn=Kr(mn)?$r(mn,4):0,mn=Kr(mn)?$r(mn,4):0,Tn=wr.Qa,Bn=0;4>Bn;++Bn){if(Tn.Cb){var jn=Tn.Zb[Bn];Tn.Fb||(jn+=Or)}else{if(0<Bn){wr.pb[Bn]=wr.pb[0];continue}jn=Or}var Mn=wr.pb[Bn];Mn.Sc[0]=gm[uo(jn+nn,127)],Mn.Sc[1]=vm[uo(jn+0,127)],Mn.Eb[0]=2*gm[uo(jn+qr,127)],Mn.Eb[1]=101581*vm[uo(jn+un,127)]>>16,8>Mn.Eb[1]&&(Mn.Eb[1]=8),Mn.Qc[0]=gm[uo(jn+wn,117)],Mn.Qc[1]=vm[uo(jn+mn,127)],Mn.lc=jn+mn}if(!cn.Rb)return qs(wr,4,"Not a key frame.");for(Kr(hn),cn=wr.Pa,Or=0;4>Or;++Or){for(nn=0;8>nn;++nn)for(qr=0;3>qr;++qr)for(un=0;11>un;++un)wn=Qr(hn,Z0[Or][nn][qr][un])?Vr(hn,8):Q0[Or][nn][qr][un],cn.Wc[Or][nn].Yb[qr][un]=wn;for(nn=0;17>nn;++nn)cn.Xc[Or][nn]=cn.Wc[Or][t1[nn]]}return wr.kc=Kr(hn),wr.kc&&(wr.Bd=Vr(hn,8)),wr.cb=1}function Au(wr,Ar,Or,qr,nn,hn,cn){var un=Ar[nn].Yb[Or];for(Or=0;16>nn;++nn){if(!Qr(wr,un[Or+0]))return nn;for(;!Qr(wr,un[Or+1]);)if(un=Ar[++nn].Yb[0],Or=0,nn==16)return 16;var mn=Ar[nn+1].Yb;if(Qr(wr,un[Or+2])){var wn=wr,Tn=0;if(Qr(wn,(jn=un)[(Bn=Or)+3]))if(Qr(wn,jn[Bn+6])){for(un=0,Bn=2*(Tn=Qr(wn,jn[Bn+8]))+(jn=Qr(wn,jn[Bn+9+Tn])),Tn=0,jn=Y0[Bn];jn[un];++un)Tn+=Tn+Qr(wn,jn[un]);Tn+=3+(8<<Bn)}else Qr(wn,jn[Bn+7])?(Tn=7+2*Qr(wn,165),Tn+=Qr(wn,145)):Tn=5+Qr(wn,159);else Tn=Qr(wn,jn[Bn+4])?3+Qr(wn,jn[Bn+5]):2;un=mn[2]}else Tn=1,un=mn[1];mn=cn+K0[nn],0>(wn=wr).b&&Wr(wn);var Bn,jn=wn.b,Mn=(Bn=wn.Ca>>1)-(wn.I>>jn)>>31;--wn.b,wn.Ca+=Mn,wn.Ca|=1,wn.I-=(Bn+1&Mn)<<jn,hn[mn]=((Tn^Mn)-Mn)*qr[(0<nn)+0]}return 16}function Kl(wr){var Ar=wr.rb[wr.sb-1];Ar.la=0,Ar.Na=0,ir(wr.zc,0,0,wr.zc.length),wr.ja=0}function bp(wr,Ar){if(wr==null)return 0;if(Ar==null)return qs(wr,2,"NULL VP8Io parameter in VP8Decode().");if(!wr.cb&&!Qu(wr,Ar))return 0;if(e(wr.cb),Ar.ac==null||Ar.ac(Ar)){Ar.ob&&(wr.L=0);var Or=Zp[wr.L];if(wr.L==2?(wr.yb=0,wr.zb=0):(wr.yb=Ar.v-Or>>4,wr.zb=Ar.j-Or>>4,0>wr.yb&&(wr.yb=0),0>wr.zb&&(wr.zb=0)),wr.Va=Ar.o+15+Or>>4,wr.Hb=Ar.va+15+Or>>4,wr.Hb>wr.za&&(wr.Hb=wr.za),wr.Va>wr.Ub&&(wr.Va=wr.Ub),0<wr.L){var qr=wr.ed;for(Or=0;4>Or;++Or){var nn;if(wr.Qa.Cb){var hn=wr.Qa.Lb[Or];wr.Qa.Fb||(hn+=qr.Tb)}else hn=qr.Tb;for(nn=0;1>=nn;++nn){var cn=wr.gd[Or][nn],un=hn;if(qr.Pc&&(un+=qr.vd[0],nn&&(un+=qr.od[0])),0<(un=0>un?0:63<un?63:un)){var mn=un;0<qr.wb&&(mn=4<qr.wb?mn>>2:mn>>1)>9-qr.wb&&(mn=9-qr.wb),1>mn&&(mn=1),cn.dd=mn,cn.tc=2*un+mn,cn.ld=40<=un?2:15<=un?1:0}else cn.tc=0;cn.La=nn}}}Or=0}else qs(wr,6,"Frame setup failed"),Or=wr.a;if(Or=Or==0){if(Or){wr.$c=0,0<wr.Aa||(wr.Ic=d1);t:{Or=wr.Ic,qr=4*(mn=wr.za);var wn=32*mn,Tn=mn+1,Bn=0<wr.L?mn*(0<wr.Aa?2:1):0,jn=(wr.Aa==2?2:1)*mn;if((cn=qr+832+(nn=3*(16*Or+Zp[wr.L])/2*wn)+(hn=wr.Fa!=null&&0<wr.Fa.length?wr.Kc.c*wr.Kc.i:0))!=cn)Or=0;else{if(cn>wr.Vb){if(wr.Vb=0,wr.Ec=rr(cn),wr.Fc=0,wr.Ec==null){Or=qs(wr,1,"no memory during frame initialization.");break t}wr.Vb=cn}cn=wr.Ec,un=wr.Fc,wr.Ac=cn,wr.Bc=un,un+=qr,wr.Gd=gr(wn,Yu),wr.Hd=0,wr.rb=gr(Tn+1,Gu),wr.sb=1,wr.wa=Bn?gr(Bn,Xl):null,wr.Y=0,wr.D.Nb=0,wr.D.wa=wr.wa,wr.D.Y=wr.Y,0<wr.Aa&&(wr.D.Y+=mn),e(!0),wr.oc=cn,wr.pc=un,un+=832,wr.ya=gr(jn,Su),wr.aa=0,wr.D.ya=wr.ya,wr.D.aa=wr.aa,wr.Aa==2&&(wr.D.aa+=mn),wr.R=16*mn,wr.B=8*mn,mn=(wn=Zp[wr.L])*wr.R,wn=wn/2*wr.B,wr.sa=cn,wr.ta=un+mn,wr.qa=wr.sa,wr.ra=wr.ta+16*Or*wr.R+wn,wr.Ha=wr.qa,wr.Ia=wr.ra+8*Or*wr.B+wn,wr.$c=0,un+=nn,wr.mb=hn?cn:null,wr.nb=hn?un:null,e(un+hn<=wr.Fc+wr.Vb),Kl(wr),ir(wr.Ac,wr.Bc,0,qr),Or=1}}if(Or){if(Ar.ka=0,Ar.y=wr.sa,Ar.O=wr.ta,Ar.f=wr.qa,Ar.N=wr.ra,Ar.ea=wr.Ha,Ar.Vd=wr.Ia,Ar.fa=wr.R,Ar.Rc=wr.B,Ar.F=null,Ar.J=0,!Yp){for(Or=-255;255>=Or;++Or)Wp[255+Or]=0>Or?-Or:Or;for(Or=-1020;1020>=Or;++Or)Gp[1020+Or]=-128>Or?-128:127<Or?127:Or;for(Or=-112;112>=Or;++Or)qp[112+Or]=-16>Or?-16:15<Or?15:Or;for(Or=-255;510>=Or;++Or)Xp[255+Or]=0>Or?0:255<Or?255:Or;Yp=1}Po=Zu,pu=_l,El=Eu,To=wp,qo=Jl,zu=Ju,zl=Do,mu=Dl,go=sp,Xo=iu,$u=Lp,vo=eu,Yo=Nl,Rs=ap,Bs=np,Gs=Go,na=xl,Ko=Fp,Jo[0]=Oo,Jo[1]=_p,Jo[2]=Cp,Jo[3]=Ep,Jo[4]=tp,Jo[5]=_h,Jo[6]=ep,Jo[7]=_c,Jo[8]=tu,Jo[9]=kp,gu[0]=_f,gu[1]=Sp,gu[2]=Wo,gu[3]=Zl,gu[4]=to,gu[5]=Ap,gu[6]=_d,Vl[0]=bo,Vl[1]=xp,Vl[2]=Pp,Vl[3]=Pu,Vl[4]=Il,Vl[5]=Tp,Vl[6]=Tu,Or=1}else Or=0}Or&&(Or=function(Mn,Xn){for(Mn.M=0;Mn.M<Mn.Va;++Mn.M){var $n,Fn=Mn.Jc[Mn.M&Mn.Xb],Ln=Mn.m,Gn=Mn;for($n=0;$n<Gn.za;++$n){var Qn=Ln,qn=Gn,hs=qn.Ac,rs=qn.Bc+4*$n,ms=qn.zc,ns=qn.ya[qn.aa+$n];if(qn.Qa.Bb?ns.$b=Qr(Qn,qn.Pa.jb[0])?2+Qr(Qn,qn.Pa.jb[2]):Qr(Qn,qn.Pa.jb[1]):ns.$b=0,qn.kc&&(ns.Ad=Qr(Qn,qn.Bd)),ns.Za=!Qr(Qn,145)+0,ns.Za){var Is=ns.Ob,Os=0;for(qn=0;4>qn;++qn){var Fs,Ps=ms[0+qn];for(Fs=0;4>Fs;++Fs){Ps=J0[hs[rs+Fs]][Ps];for(var $s=Ym[Qr(Qn,Ps[0])];0<$s;)$s=Ym[2*$s+Qr(Qn,Ps[$s])];Ps=-$s,hs[rs+Fs]=Ps}_i(Is,Os,hs,rs,4),Os+=4,ms[0+qn]=Ps}}else Ps=Qr(Qn,156)?Qr(Qn,128)?1:3:Qr(Qn,163)?2:0,ns.Ob[0]=Ps,ir(hs,rs,Ps,4),ir(ms,0,Ps,4);ns.Dd=Qr(Qn,142)?Qr(Qn,114)?Qr(Qn,183)?1:3:2:0}if(Gn.m.Ka)return qs(Mn,7,"Premature end-of-partition0 encountered.");for(;Mn.ja<Mn.za;++Mn.ja){if(Gn=Fn,Qn=(Ln=Mn).rb[Ln.sb-1],hs=Ln.rb[Ln.sb+Ln.ja],$n=Ln.ya[Ln.aa+Ln.ja],rs=Ln.kc?$n.Ad:0)Qn.la=hs.la=0,$n.Za||(Qn.Na=hs.Na=0),$n.Hc=0,$n.Gc=0,$n.ia=0;else{var js,As;if(Qn=hs,hs=Gn,rs=Ln.Pa.Xc,ms=Ln.ya[Ln.aa+Ln.ja],ns=Ln.pb[ms.$b],qn=ms.ad,Is=0,Os=Ln.rb[Ln.sb-1],Ps=Fs=0,ir(qn,Is,0,384),ms.Za)var ba=0,xo=rs[3];else{$s=rr(16);var xa=Qn.Na+Os.Na;if(xa=Np(hs,rs[1],xa,ns.Eb,0,$s,0),Qn.Na=Os.Na=(0<xa)+0,1<xa)Po($s,0,qn,Is);else{var So=$s[0]+3>>3;for($s=0;256>$s;$s+=16)qn[Is+$s]=So}ba=1,xo=rs[0]}var Ds=15&Qn.la,Fo=15&Os.la;for($s=0;4>$s;++$s){var Lo=1&Fo;for(So=As=0;4>So;++So)Ds=Ds>>1|(Lo=(xa=Np(hs,xo,xa=Lo+(1&Ds),ns.Sc,ba,qn,Is))>ba)<<7,As=As<<2|(3<xa?3:1<xa?2:qn[Is+0]!=0),Is+=16;Ds>>=4,Fo=Fo>>1|Lo<<7,Fs=(Fs<<8|As)>>>0}for(xo=Ds,ba=Fo>>4,js=0;4>js;js+=2){for(As=0,Ds=Qn.la>>4+js,Fo=Os.la>>4+js,$s=0;2>$s;++$s){for(Lo=1&Fo,So=0;2>So;++So)xa=Lo+(1&Ds),Ds=Ds>>1|(Lo=0<(xa=Np(hs,rs[2],xa,ns.Qc,0,qn,Is)))<<3,As=As<<2|(3<xa?3:1<xa?2:qn[Is+0]!=0),Is+=16;Ds>>=2,Fo=Fo>>1|Lo<<5}Ps|=As<<4*js,xo|=Ds<<4<<js,ba|=(240&Fo)<<js}Qn.la=xo,Os.la=ba,ms.Hc=Fs,ms.Gc=Ps,ms.ia=43690&Ps?0:ns.ia,rs=!(Fs|Ps)}if(0<Ln.L&&(Ln.wa[Ln.Y+Ln.ja]=Ln.gd[$n.$b][$n.Za],Ln.wa[Ln.Y+Ln.ja].La|=!rs),Gn.Ka)return qs(Mn,7,"Premature end-of-file encountered.")}if(Kl(Mn),Ln=Xn,Gn=1,$n=(Fn=Mn).D,Qn=0<Fn.L&&Fn.M>=Fn.zb&&Fn.M<=Fn.Va,Fn.Aa==0)t:{if($n.M=Fn.M,$n.uc=Qn,Du(Fn,$n),Gn=1,$n=(As=Fn.D).Nb,Qn=(Ps=Zp[Fn.L])*Fn.R,hs=Ps/2*Fn.B,$s=16*$n*Fn.R,So=8*$n*Fn.B,rs=Fn.sa,ms=Fn.ta-Qn+$s,ns=Fn.qa,qn=Fn.ra-hs+So,Is=Fn.Ha,Os=Fn.Ia-hs+So,Fo=(Ds=As.M)==0,Fs=Ds>=Fn.Va-1,Fn.Aa==2&&Du(Fn,As),As.uc)for(Lo=(xa=Fn).D.M,e(xa.D.uc),As=xa.yb;As<xa.Hb;++As){ba=As,xo=Lo;var ro=(oo=(Qs=xa).D).Nb;js=Qs.R;var oo=oo.wa[oo.Y+ba],yo=Qs.sa,Vo=Qs.ta+16*ro*js+16*ba,Fl=oo.dd,no=oo.tc;if(no!=0)if(e(3<=no),Qs.L==1)0<ba&&Gs(yo,Vo,js,no+4),oo.La&&Ko(yo,Vo,js,no),0<xo&&Bs(yo,Vo,js,no+4),oo.La&&na(yo,Vo,js,no);else{var Ul=Qs.B,Uu=Qs.qa,cp=Qs.ra+8*ro*Ul+8*ba,yu=Qs.Ha,Qs=Qs.Ia+8*ro*Ul+8*ba;ro=oo.ld,0<ba&&(mu(yo,Vo,js,no+4,Fl,ro),Xo(Uu,cp,yu,Qs,Ul,no+4,Fl,ro)),oo.La&&(vo(yo,Vo,js,no,Fl,ro),Rs(Uu,cp,yu,Qs,Ul,no,Fl,ro)),0<xo&&(zl(yo,Vo,js,no+4,Fl,ro),go(Uu,cp,yu,Qs,Ul,no+4,Fl,ro)),oo.La&&($u(yo,Vo,js,no,Fl,ro),Yo(Uu,cp,yu,Qs,Ul,no,Fl,ro))}}if(Fn.ia&&alert("todo:DitherRow"),Ln.put!=null){if(As=16*Ds,Ds=16*(Ds+1),Fo?(Ln.y=Fn.sa,Ln.O=Fn.ta+$s,Ln.f=Fn.qa,Ln.N=Fn.ra+So,Ln.ea=Fn.Ha,Ln.W=Fn.Ia+So):(As-=Ps,Ln.y=rs,Ln.O=ms,Ln.f=ns,Ln.N=qn,Ln.ea=Is,Ln.W=Os),Fs||(Ds-=Ps),Ds>Ln.o&&(Ds=Ln.o),Ln.F=null,Ln.J=null,Fn.Fa!=null&&0<Fn.Fa.length&&As<Ds&&(Ln.J=au(Fn,Ln,As,Ds-As),Ln.F=Fn.mb,Ln.F==null&&Ln.F.length==0)){Gn=qs(Fn,3,"Could not decode alpha data.");break t}As<Ln.j&&(Ps=Ln.j-As,As=Ln.j,e(!(1&Ps)),Ln.O+=Fn.R*Ps,Ln.N+=Fn.B*(Ps>>1),Ln.W+=Fn.B*(Ps>>1),Ln.F!=null&&(Ln.J+=Ln.width*Ps)),As<Ds&&(Ln.O+=Ln.v,Ln.N+=Ln.v>>1,Ln.W+=Ln.v>>1,Ln.F!=null&&(Ln.J+=Ln.v),Ln.ka=As-Ln.j,Ln.U=Ln.va-Ln.v,Ln.T=Ds-As,Gn=Ln.put(Ln))}$n+1!=Fn.Ic||Fs||(_i(Fn.sa,Fn.ta-Qn,rs,ms+16*Fn.R,Qn),_i(Fn.qa,Fn.ra-hs,ns,qn+8*Fn.B,hs),_i(Fn.Ha,Fn.Ia-hs,Is,Os+8*Fn.B,hs))}if(!Gn)return qs(Mn,6,"Output aborted.")}return 1}(wr,Ar)),Ar.bc!=null&&Ar.bc(Ar),Or&=1}return Or?(wr.cb=0,Or):0}function Ao(wr,Ar,Or,qr,nn){nn=wr[Ar+Or+32*qr]+(nn>>3),wr[Ar+Or+32*qr]=-256&nn?0>nn?0:255:nn}function Ql(wr,Ar,Or,qr,nn,hn){Ao(wr,Ar,0,Or,qr+nn),Ao(wr,Ar,1,Or,qr+hn),Ao(wr,Ar,2,Or,qr-hn),Ao(wr,Ar,3,Or,qr-nn)}function so(wr){return(20091*wr>>16)+wr}function Cu(wr,Ar,Or,qr){var nn,hn=0,cn=rr(16);for(nn=0;4>nn;++nn){var un=wr[Ar+0]+wr[Ar+8],mn=wr[Ar+0]-wr[Ar+8],wn=(35468*wr[Ar+4]>>16)-so(wr[Ar+12]),Tn=so(wr[Ar+4])+(35468*wr[Ar+12]>>16);cn[hn+0]=un+Tn,cn[hn+1]=mn+wn,cn[hn+2]=mn-wn,cn[hn+3]=un-Tn,hn+=4,Ar++}for(nn=hn=0;4>nn;++nn)un=(wr=cn[hn+0]+4)+cn[hn+8],mn=wr-cn[hn+8],wn=(35468*cn[hn+4]>>16)-so(cn[hn+12]),Ao(Or,qr,0,0,un+(Tn=so(cn[hn+4])+(35468*cn[hn+12]>>16))),Ao(Or,qr,1,0,mn+wn),Ao(Or,qr,2,0,mn-wn),Ao(Or,qr,3,0,un-Tn),hn++,qr+=32}function Ju(wr,Ar,Or,qr){var nn=wr[Ar+0]+4,hn=35468*wr[Ar+4]>>16,cn=so(wr[Ar+4]),un=35468*wr[Ar+1]>>16;Ql(Or,qr,0,nn+cn,wr=so(wr[Ar+1]),un),Ql(Or,qr,1,nn+hn,wr,un),Ql(Or,qr,2,nn-hn,wr,un),Ql(Or,qr,3,nn-cn,wr,un)}function _l(wr,Ar,Or,qr,nn){Cu(wr,Ar,Or,qr),nn&&Cu(wr,Ar+16,Or,qr+4)}function Eu(wr,Ar,Or,qr){pu(wr,Ar+0,Or,qr,1),pu(wr,Ar+32,Or,qr+128,1)}function wp(wr,Ar,Or,qr){var nn;for(wr=wr[Ar+0]+4,nn=0;4>nn;++nn)for(Ar=0;4>Ar;++Ar)Ao(Or,qr,Ar,nn,wr)}function Jl(wr,Ar,Or,qr){wr[Ar+0]&&To(wr,Ar+0,Or,qr),wr[Ar+16]&&To(wr,Ar+16,Or,qr+4),wr[Ar+32]&&To(wr,Ar+32,Or,qr+128),wr[Ar+48]&&To(wr,Ar+48,Or,qr+128+4)}function Zu(wr,Ar,Or,qr){var nn,hn=rr(16);for(nn=0;4>nn;++nn){var cn=wr[Ar+0+nn]+wr[Ar+12+nn],un=wr[Ar+4+nn]+wr[Ar+8+nn],mn=wr[Ar+4+nn]-wr[Ar+8+nn],wn=wr[Ar+0+nn]-wr[Ar+12+nn];hn[0+nn]=cn+un,hn[8+nn]=cn-un,hn[4+nn]=wn+mn,hn[12+nn]=wn-mn}for(nn=0;4>nn;++nn)cn=(wr=hn[0+4*nn]+3)+hn[3+4*nn],un=hn[1+4*nn]+hn[2+4*nn],mn=hn[1+4*nn]-hn[2+4*nn],wn=wr-hn[3+4*nn],Or[qr+0]=cn+un>>3,Or[qr+16]=wn+mn>>3,Or[qr+32]=cn-un>>3,Or[qr+48]=wn-mn>>3,qr+=64}function ku(wr,Ar,Or){var qr,nn=Ar-32,hn=Dr,cn=255-wr[nn-1];for(qr=0;qr<Or;++qr){var un,mn=hn,wn=cn+wr[Ar-1];for(un=0;un<Or;++un)wr[Ar+un]=mn[wn+wr[nn+un]];Ar+=32}}function _p(wr,Ar){ku(wr,Ar,4)}function xp(wr,Ar){ku(wr,Ar,8)}function Sp(wr,Ar){ku(wr,Ar,16)}function Wo(wr,Ar){var Or;for(Or=0;16>Or;++Or)_i(wr,Ar+32*Or,wr,Ar-32,16)}function Zl(wr,Ar){var Or;for(Or=16;0<Or;--Or)ir(wr,Ar,wr[Ar-1],16),Ar+=32}function Io(wr,Ar,Or){var qr;for(qr=0;16>qr;++qr)ir(Ar,Or+32*qr,wr,16)}function _f(wr,Ar){var Or,qr=16;for(Or=0;16>Or;++Or)qr+=wr[Ar-1+32*Or]+wr[Ar+Or-32];Io(qr>>5,wr,Ar)}function to(wr,Ar){var Or,qr=8;for(Or=0;16>Or;++Or)qr+=wr[Ar-1+32*Or];Io(qr>>4,wr,Ar)}function Ap(wr,Ar){var Or,qr=8;for(Or=0;16>Or;++Or)qr+=wr[Ar+Or-32];Io(qr>>4,wr,Ar)}function _d(wr,Ar){Io(128,wr,Ar)}function bs(wr,Ar,Or){return wr+2*Ar+Or+2>>2}function Cp(wr,Ar){var Or,qr=Ar-32;for(qr=new Uint8Array([bs(wr[qr-1],wr[qr+0],wr[qr+1]),bs(wr[qr+0],wr[qr+1],wr[qr+2]),bs(wr[qr+1],wr[qr+2],wr[qr+3]),bs(wr[qr+2],wr[qr+3],wr[qr+4])]),Or=0;4>Or;++Or)_i(wr,Ar+32*Or,qr,0,qr.length)}function Ep(wr,Ar){var Or=wr[Ar-1],qr=wr[Ar-1+32],nn=wr[Ar-1+64],hn=wr[Ar-1+96];on(wr,Ar+0,16843009*bs(wr[Ar-1-32],Or,qr)),on(wr,Ar+32,16843009*bs(Or,qr,nn)),on(wr,Ar+64,16843009*bs(qr,nn,hn)),on(wr,Ar+96,16843009*bs(nn,hn,hn))}function Oo(wr,Ar){var Or,qr=4;for(Or=0;4>Or;++Or)qr+=wr[Ar+Or-32]+wr[Ar-1+32*Or];for(qr>>=3,Or=0;4>Or;++Or)ir(wr,Ar+32*Or,qr,4)}function tp(wr,Ar){var Or=wr[Ar-1+0],qr=wr[Ar-1+32],nn=wr[Ar-1+64],hn=wr[Ar-1-32],cn=wr[Ar+0-32],un=wr[Ar+1-32],mn=wr[Ar+2-32],wn=wr[Ar+3-32];wr[Ar+0+96]=bs(qr,nn,wr[Ar-1+96]),wr[Ar+1+96]=wr[Ar+0+64]=bs(Or,qr,nn),wr[Ar+2+96]=wr[Ar+1+64]=wr[Ar+0+32]=bs(hn,Or,qr),wr[Ar+3+96]=wr[Ar+2+64]=wr[Ar+1+32]=wr[Ar+0+0]=bs(cn,hn,Or),wr[Ar+3+64]=wr[Ar+2+32]=wr[Ar+1+0]=bs(un,cn,hn),wr[Ar+3+32]=wr[Ar+2+0]=bs(mn,un,cn),wr[Ar+3+0]=bs(wn,mn,un)}function ep(wr,Ar){var Or=wr[Ar+1-32],qr=wr[Ar+2-32],nn=wr[Ar+3-32],hn=wr[Ar+4-32],cn=wr[Ar+5-32],un=wr[Ar+6-32],mn=wr[Ar+7-32];wr[Ar+0+0]=bs(wr[Ar+0-32],Or,qr),wr[Ar+1+0]=wr[Ar+0+32]=bs(Or,qr,nn),wr[Ar+2+0]=wr[Ar+1+32]=wr[Ar+0+64]=bs(qr,nn,hn),wr[Ar+3+0]=wr[Ar+2+32]=wr[Ar+1+64]=wr[Ar+0+96]=bs(nn,hn,cn),wr[Ar+3+32]=wr[Ar+2+64]=wr[Ar+1+96]=bs(hn,cn,un),wr[Ar+3+64]=wr[Ar+2+96]=bs(cn,un,mn),wr[Ar+3+96]=bs(un,mn,mn)}function _h(wr,Ar){var Or=wr[Ar-1+0],qr=wr[Ar-1+32],nn=wr[Ar-1+64],hn=wr[Ar-1-32],cn=wr[Ar+0-32],un=wr[Ar+1-32],mn=wr[Ar+2-32],wn=wr[Ar+3-32];wr[Ar+0+0]=wr[Ar+1+64]=hn+cn+1>>1,wr[Ar+1+0]=wr[Ar+2+64]=cn+un+1>>1,wr[Ar+2+0]=wr[Ar+3+64]=un+mn+1>>1,wr[Ar+3+0]=mn+wn+1>>1,wr[Ar+0+96]=bs(nn,qr,Or),wr[Ar+0+64]=bs(qr,Or,hn),wr[Ar+0+32]=wr[Ar+1+96]=bs(Or,hn,cn),wr[Ar+1+32]=wr[Ar+2+96]=bs(hn,cn,un),wr[Ar+2+32]=wr[Ar+3+96]=bs(cn,un,mn),wr[Ar+3+32]=bs(un,mn,wn)}function _c(wr,Ar){var Or=wr[Ar+0-32],qr=wr[Ar+1-32],nn=wr[Ar+2-32],hn=wr[Ar+3-32],cn=wr[Ar+4-32],un=wr[Ar+5-32],mn=wr[Ar+6-32],wn=wr[Ar+7-32];wr[Ar+0+0]=Or+qr+1>>1,wr[Ar+1+0]=wr[Ar+0+64]=qr+nn+1>>1,wr[Ar+2+0]=wr[Ar+1+64]=nn+hn+1>>1,wr[Ar+3+0]=wr[Ar+2+64]=hn+cn+1>>1,wr[Ar+0+32]=bs(Or,qr,nn),wr[Ar+1+32]=wr[Ar+0+96]=bs(qr,nn,hn),wr[Ar+2+32]=wr[Ar+1+96]=bs(nn,hn,cn),wr[Ar+3+32]=wr[Ar+2+96]=bs(hn,cn,un),wr[Ar+3+64]=bs(cn,un,mn),wr[Ar+3+96]=bs(un,mn,wn)}function kp(wr,Ar){var Or=wr[Ar-1+0],qr=wr[Ar-1+32],nn=wr[Ar-1+64],hn=wr[Ar-1+96];wr[Ar+0+0]=Or+qr+1>>1,wr[Ar+2+0]=wr[Ar+0+32]=qr+nn+1>>1,wr[Ar+2+32]=wr[Ar+0+64]=nn+hn+1>>1,wr[Ar+1+0]=bs(Or,qr,nn),wr[Ar+3+0]=wr[Ar+1+32]=bs(qr,nn,hn),wr[Ar+3+32]=wr[Ar+1+64]=bs(nn,hn,hn),wr[Ar+3+64]=wr[Ar+2+64]=wr[Ar+0+96]=wr[Ar+1+96]=wr[Ar+2+96]=wr[Ar+3+96]=hn}function tu(wr,Ar){var Or=wr[Ar-1+0],qr=wr[Ar-1+32],nn=wr[Ar-1+64],hn=wr[Ar-1+96],cn=wr[Ar-1-32],un=wr[Ar+0-32],mn=wr[Ar+1-32],wn=wr[Ar+2-32];wr[Ar+0+0]=wr[Ar+2+32]=Or+cn+1>>1,wr[Ar+0+32]=wr[Ar+2+64]=qr+Or+1>>1,wr[Ar+0+64]=wr[Ar+2+96]=nn+qr+1>>1,wr[Ar+0+96]=hn+nn+1>>1,wr[Ar+3+0]=bs(un,mn,wn),wr[Ar+2+0]=bs(cn,un,mn),wr[Ar+1+0]=wr[Ar+3+32]=bs(Or,cn,un),wr[Ar+1+32]=wr[Ar+3+64]=bs(qr,Or,cn),wr[Ar+1+64]=wr[Ar+3+96]=bs(nn,qr,Or),wr[Ar+1+96]=bs(hn,nn,qr)}function Pp(wr,Ar){var Or;for(Or=0;8>Or;++Or)_i(wr,Ar+32*Or,wr,Ar-32,8)}function Pu(wr,Ar){var Or;for(Or=0;8>Or;++Or)ir(wr,Ar,wr[Ar-1],8),Ar+=32}function Ml(wr,Ar,Or){var qr;for(qr=0;8>qr;++qr)ir(Ar,Or+32*qr,wr,8)}function bo(wr,Ar){var Or,qr=8;for(Or=0;8>Or;++Or)qr+=wr[Ar+Or-32]+wr[Ar-1+32*Or];Ml(qr>>4,wr,Ar)}function Tp(wr,Ar){var Or,qr=4;for(Or=0;8>Or;++Or)qr+=wr[Ar+Or-32];Ml(qr>>3,wr,Ar)}function Il(wr,Ar){var Or,qr=4;for(Or=0;8>Or;++Or)qr+=wr[Ar-1+32*Or];Ml(qr>>3,wr,Ar)}function Tu(wr,Ar){Ml(128,wr,Ar)}function Ol(wr,Ar,Or){var qr=wr[Ar-Or],nn=wr[Ar+0],hn=3*(nn-qr)+Dp[1020+wr[Ar-2*Or]-wr[Ar+Or]],cn=$l[112+(hn+4>>3)];wr[Ar-Or]=Dr[255+qr+$l[112+(hn+3>>3)]],wr[Ar+0]=Dr[255+nn-cn]}function Fu(wr,Ar,Or,qr){var nn=wr[Ar+0],hn=wr[Ar+Or];return Rr[255+wr[Ar-2*Or]-wr[Ar-Or]]>qr||Rr[255+hn-nn]>qr}function Lu(wr,Ar,Or,qr){return 4*Rr[255+wr[Ar-Or]-wr[Ar+0]]+Rr[255+wr[Ar-2*Or]-wr[Ar+Or]]<=qr}function rp(wr,Ar,Or,qr,nn){var hn=wr[Ar-3*Or],cn=wr[Ar-2*Or],un=wr[Ar-Or],mn=wr[Ar+0],wn=wr[Ar+Or],Tn=wr[Ar+2*Or],Bn=wr[Ar+3*Or];return 4*Rr[255+un-mn]+Rr[255+cn-wn]>qr?0:Rr[255+wr[Ar-4*Or]-hn]<=nn&&Rr[255+hn-cn]<=nn&&Rr[255+cn-un]<=nn&&Rr[255+Bn-Tn]<=nn&&Rr[255+Tn-wn]<=nn&&Rr[255+wn-mn]<=nn}function np(wr,Ar,Or,qr){var nn=2*qr+1;for(qr=0;16>qr;++qr)Lu(wr,Ar+qr,Or,nn)&&Ol(wr,Ar+qr,Or)}function Go(wr,Ar,Or,qr){var nn=2*qr+1;for(qr=0;16>qr;++qr)Lu(wr,Ar+qr*Or,1,nn)&&Ol(wr,Ar+qr*Or,1)}function xl(wr,Ar,Or,qr){var nn;for(nn=3;0<nn;--nn)np(wr,Ar+=4*Or,Or,qr)}function Fp(wr,Ar,Or,qr){var nn;for(nn=3;0<nn;--nn)Go(wr,Ar+=4,Or,qr)}function Sl(wr,Ar,Or,qr,nn,hn,cn,un){for(hn=2*hn+1;0<nn--;){if(rp(wr,Ar,Or,hn,cn))if(Fu(wr,Ar,Or,un))Ol(wr,Ar,Or);else{var mn=wr,wn=Ar,Tn=Or,Bn=mn[wn-2*Tn],jn=mn[wn-Tn],Mn=mn[wn+0],Xn=mn[wn+Tn],$n=mn[wn+2*Tn],Fn=27*(Gn=Dp[1020+3*(Mn-jn)+Dp[1020+Bn-Xn]])+63>>7,Ln=18*Gn+63>>7,Gn=9*Gn+63>>7;mn[wn-3*Tn]=Dr[255+mn[wn-3*Tn]+Gn],mn[wn-2*Tn]=Dr[255+Bn+Ln],mn[wn-Tn]=Dr[255+jn+Fn],mn[wn+0]=Dr[255+Mn-Fn],mn[wn+Tn]=Dr[255+Xn-Ln],mn[wn+2*Tn]=Dr[255+$n-Gn]}Ar+=qr}}function Co(wr,Ar,Or,qr,nn,hn,cn,un){for(hn=2*hn+1;0<nn--;){if(rp(wr,Ar,Or,hn,cn))if(Fu(wr,Ar,Or,un))Ol(wr,Ar,Or);else{var mn=wr,wn=Ar,Tn=Or,Bn=mn[wn-Tn],jn=mn[wn+0],Mn=mn[wn+Tn],Xn=$l[112+(($n=3*(jn-Bn))+4>>3)],$n=$l[112+($n+3>>3)],Fn=Xn+1>>1;mn[wn-2*Tn]=Dr[255+mn[wn-2*Tn]+Fn],mn[wn-Tn]=Dr[255+Bn+$n],mn[wn+0]=Dr[255+jn-Xn],mn[wn+Tn]=Dr[255+Mn-Fn]}Ar+=qr}}function Do(wr,Ar,Or,qr,nn,hn){Sl(wr,Ar,Or,1,16,qr,nn,hn)}function Dl(wr,Ar,Or,qr,nn,hn){Sl(wr,Ar,1,Or,16,qr,nn,hn)}function Lp(wr,Ar,Or,qr,nn,hn){var cn;for(cn=3;0<cn;--cn)Co(wr,Ar+=4*Or,Or,1,16,qr,nn,hn)}function eu(wr,Ar,Or,qr,nn,hn){var cn;for(cn=3;0<cn;--cn)Co(wr,Ar+=4,1,Or,16,qr,nn,hn)}function sp(wr,Ar,Or,qr,nn,hn,cn,un){Sl(wr,Ar,nn,1,8,hn,cn,un),Sl(Or,qr,nn,1,8,hn,cn,un)}function iu(wr,Ar,Or,qr,nn,hn,cn,un){Sl(wr,Ar,1,nn,8,hn,cn,un),Sl(Or,qr,1,nn,8,hn,cn,un)}function Nl(wr,Ar,Or,qr,nn,hn,cn,un){Co(wr,Ar+4*nn,nn,1,8,hn,cn,un),Co(Or,qr+4*nn,nn,1,8,hn,cn,un)}function ap(wr,Ar,Or,qr,nn,hn,cn,un){Co(wr,Ar+4,1,nn,8,hn,cn,un),Co(Or,qr+4,1,nn,8,hn,cn,un)}function ru(){this.ba=new es,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Zn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Mu(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Iu(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function lp(){this.ua=0,this.Wa=new Mr,this.vb=new Mr,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Yr,this.yc=new Br}function Mp(){this.xb=this.a=0,this.l=new Yl,this.ca=new es,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Cr,this.Pb=0,this.wd=new Cr,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new lp,this.ab=0,this.gc=gr(4,Iu),this.Oc=0}function nu(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Yl,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Rl(wr,Ar,Or,qr,nn,hn,cn){for(wr=wr==null?0:wr[Ar+0],Ar=0;Ar<cn;++Ar)nn[hn+Ar]=wr+Or[qr+Ar]&255,wr=nn[hn+Ar]}function su(wr,Ar,Or,qr,nn,hn,cn){var un;if(wr==null)Rl(null,null,Or,qr,nn,hn,cn);else for(un=0;un<cn;++un)nn[hn+un]=wr[Ar+un]+Or[qr+un]&255}function No(wr,Ar,Or,qr,nn,hn,cn){if(wr==null)Rl(null,null,Or,qr,nn,hn,cn);else{var un,mn=wr[Ar+0],wn=mn,Tn=mn;for(un=0;un<cn;++un)wn=Tn+(mn=wr[Ar+un])-wn,Tn=Or[qr+un]+(-256&wn?0>wn?0:255:wn)&255,wn=mn,nn[hn+un]=Tn}}function au(wr,Ar,Or,qr){var nn=Ar.width,hn=Ar.o;if(e(wr!=null&&Ar!=null),0>Or||0>=qr||Or+qr>hn)return null;if(!wr.Cc){if(wr.ga==null){var cn;if(wr.ga=new nu,(cn=wr.ga==null)||(cn=Ar.width*Ar.o,e(wr.Gb.length==0),wr.Gb=rr(cn),wr.Uc=0,wr.Gb==null?cn=0:(wr.mb=wr.Gb,wr.nb=wr.Uc,wr.rc=null,cn=1),cn=!cn),!cn){cn=wr.ga;var un=wr.Fa,mn=wr.P,wn=wr.qc,Tn=wr.mb,Bn=wr.nb,jn=mn+1,Mn=wn-1,Xn=cn.l;if(e(un!=null&&Tn!=null&&Ar!=null),vu[0]=null,vu[1]=Rl,vu[2]=su,vu[3]=No,cn.ca=Tn,cn.tb=Bn,cn.c=Ar.width,cn.i=Ar.height,e(0<cn.c&&0<cn.i),1>=wn)Ar=0;else if(cn.$a=un[mn+0]>>0&3,cn.Z=un[mn+0]>>2&3,cn.Lc=un[mn+0]>>4&3,mn=un[mn+0]>>6&3,0>cn.$a||1<cn.$a||4<=cn.Z||1<cn.Lc||mn)Ar=0;else if(Xn.put=Cs,Xn.ac=ys,Xn.bc=gs,Xn.ma=cn,Xn.width=Ar.width,Xn.height=Ar.height,Xn.Da=Ar.Da,Xn.v=Ar.v,Xn.va=Ar.va,Xn.j=Ar.j,Xn.o=Ar.o,cn.$a)t:{e(cn.$a==1),Ar=ho();e:for(;;){if(Ar==null){Ar=0;break t}if(e(cn!=null),cn.mc=Ar,Ar.c=cn.c,Ar.i=cn.i,Ar.l=cn.l,Ar.l.ma=cn,Ar.l.width=cn.c,Ar.l.height=cn.i,Ar.a=0,Lr(Ar.m,un,jn,Mn),!co(cn.c,cn.i,1,Ar,null)||(Ar.ab==1&&Ar.gc[0].hc==3&&Xs(Ar.s)?(cn.ic=1,un=Ar.c*Ar.i,Ar.Ta=null,Ar.Ua=0,Ar.V=rr(un),Ar.Ba=0,Ar.V==null?(Ar.a=1,Ar=0):Ar=1):(cn.ic=0,Ar=yl(Ar,cn.c)),!Ar))break e;Ar=1;break t}cn.mc=null,Ar=0}else Ar=Mn>=cn.c*cn.i;cn=!Ar}if(cn)return null;wr.ga.Lc!=1?wr.Ga=0:qr=hn-Or}e(wr.ga!=null),e(Or+qr<=hn);t:{if(Ar=(un=wr.ga).c,hn=un.l.o,un.$a==0){if(jn=wr.rc,Mn=wr.Vc,Xn=wr.Fa,mn=wr.P+1+Or*Ar,wn=wr.mb,Tn=wr.nb+Or*Ar,e(mn<=wr.P+wr.qc),un.Z!=0)for(e(vu[un.Z]!=null),cn=0;cn<qr;++cn)vu[un.Z](jn,Mn,Xn,mn,wn,Tn,Ar),jn=wn,Mn=Tn,Tn+=Ar,mn+=Ar;else for(cn=0;cn<qr;++cn)_i(wn,Tn,Xn,mn,Ar),jn=wn,Mn=Tn,Tn+=Ar,mn+=Ar;wr.rc=jn,wr.Vc=Mn}else{if(e(un.mc!=null),Ar=Or+qr,e((cn=un.mc)!=null),e(Ar<=cn.i),cn.C>=Ar)Ar=1;else if(un.ic||On(),un.ic){un=cn.V,jn=cn.Ba,Mn=cn.c;var $n=cn.i,Fn=(Xn=1,mn=cn.$/Mn,wn=cn.$%Mn,Tn=cn.m,Bn=cn.s,cn.$),Ln=Mn*$n,Gn=Mn*Ar,Qn=Bn.wc,qn=Fn<Gn?Ts(Bn,wn,mn):null;e(Fn<=Ln),e(Ar<=$n),e(Xs(Bn));e:for(;;){for(;!Tn.h&&Fn<Gn;){if(wn&Qn||(qn=Ts(Bn,wn,mn)),e(qn!=null),jr(Tn),256>($n=Ls(qn.G[0],qn.H[0],Tn)))un[jn+Fn]=$n,++Fn,++wn>=Mn&&(wn=0,++mn<=Ar&&!(mn%16)&&$a(cn,mn));else{if(!(280>$n)){Xn=0;break e}$n=ws($n-256,Tn);var hs,rs=Ls(qn.G[4],qn.H[4],Tn);if(jr(Tn),!(Fn>=(rs=Ns(Mn,rs=ws(rs,Tn)))&&Ln-Fn>=$n)){Xn=0;break e}for(hs=0;hs<$n;++hs)un[jn+Fn+hs]=un[jn+Fn+hs-rs];for(Fn+=$n,wn+=$n;wn>=Mn;)wn-=Mn,++mn<=Ar&&!(mn%16)&&$a(cn,mn);Fn<Gn&&wn&Qn&&(qn=Ts(Bn,wn,mn))}e(Tn.h==Sr(Tn))}$a(cn,mn>Ar?Ar:mn);break e}!Xn||Tn.h&&Fn<Ln?(Xn=0,cn.a=Tn.h?5:3):cn.$=Fn,Ar=Xn}else Ar=lo(cn,cn.V,cn.Ba,cn.c,cn.i,Ar,Ho);if(!Ar){qr=0;break t}}Or+qr>=hn&&(wr.Cc=1),qr=1}if(!qr)return null;if(wr.Cc&&((qr=wr.ga)!=null&&(qr.mc=null),wr.ga=null,0<wr.Ga))return alert("todo:WebPDequantizeLevels"),null}return wr.nb+Or*nn}function Fr(wr,Ar,Or,qr,nn,hn){for(;0<nn--;){var cn,un=wr,mn=Ar+(Or?1:0),wn=wr,Tn=Ar+(Or?0:3);for(cn=0;cn<qr;++cn){var Bn=wn[Tn+4*cn];Bn!=255&&(Bn*=32897,un[mn+4*cn+0]=un[mn+4*cn+0]*Bn>>23,un[mn+4*cn+1]=un[mn+4*cn+1]*Bn>>23,un[mn+4*cn+2]=un[mn+4*cn+2]*Bn>>23)}Ar+=hn}}function sn(wr,Ar,Or,qr,nn){for(;0<qr--;){var hn;for(hn=0;hn<Or;++hn){var cn=wr[Ar+2*hn+0],un=15&(wn=wr[Ar+2*hn+1]),mn=4369*un,wn=(240&wn|wn>>4)*mn>>16;wr[Ar+2*hn+0]=(240&cn|cn>>4)*mn>>16&240|(15&cn|cn<<4)*mn>>16>>4&15,wr[Ar+2*hn+1]=240&wn|un}Ar+=nn}}function Sn(wr,Ar,Or,qr,nn,hn,cn,un){var mn,wn,Tn=255;for(wn=0;wn<nn;++wn){for(mn=0;mn<qr;++mn){var Bn=wr[Ar+mn];hn[cn+4*mn]=Bn,Tn&=Bn}Ar+=Or,cn+=un}return Tn!=255}function kn(wr,Ar,Or,qr,nn){var hn;for(hn=0;hn<nn;++hn)Or[qr+hn]=wr[Ar+hn]>>8}function On(){Pl=Fr,ao=sn,Qo=Sn,Hp=kn}function Un(wr,Ar,Or){xr[wr]=function(qr,nn,hn,cn,un,mn,wn,Tn,Bn,jn,Mn,Xn,$n,Fn,Ln,Gn,Qn){var qn,hs=Qn-1>>1,rs=un[mn+0]|wn[Tn+0]<<16,ms=Bn[jn+0]|Mn[Xn+0]<<16;e(qr!=null);var ns=3*rs+ms+131074>>2;for(Ar(qr[nn+0],255&ns,ns>>16,$n,Fn),hn!=null&&(ns=3*ms+rs+131074>>2,Ar(hn[cn+0],255&ns,ns>>16,Ln,Gn)),qn=1;qn<=hs;++qn){var Is=un[mn+qn]|wn[Tn+qn]<<16,Os=Bn[jn+qn]|Mn[Xn+qn]<<16,Fs=rs+Is+ms+Os+524296,Ps=Fs+2*(Is+ms)>>3;ns=Ps+rs>>1,rs=(Fs=Fs+2*(rs+Os)>>3)+Is>>1,Ar(qr[nn+2*qn-1],255&ns,ns>>16,$n,Fn+(2*qn-1)*Or),Ar(qr[nn+2*qn-0],255&rs,rs>>16,$n,Fn+(2*qn-0)*Or),hn!=null&&(ns=Fs+ms>>1,rs=Ps+Os>>1,Ar(hn[cn+2*qn-1],255&ns,ns>>16,Ln,Gn+(2*qn-1)*Or),Ar(hn[cn+2*qn+0],255&rs,rs>>16,Ln,Gn+(2*qn+0)*Or)),rs=Is,ms=Os}1&Qn||(ns=3*rs+ms+131074>>2,Ar(qr[nn+Qn-1],255&ns,ns>>16,$n,Fn+(Qn-1)*Or),hn!=null&&(ns=3*ms+rs+131074>>2,Ar(hn[cn+Qn-1],255&ns,ns>>16,Ln,Gn+(Qn-1)*Or)))}}function Jn(){$o[rn]=i1,$o[An]=Qm,$o[Hn]=r1,$o[ls]=Jm,$o[Us]=Zm,$o[_o]=_g,$o[io]=n1,$o[Tl]=Qm,$o[Vu]=Jm,$o[Kp]=Zm,$o[mm]=_g}function ss(wr){return wr&~s1?0>wr?0:255:wr>>t0}function ps(wr,Ar){return ss((19077*wr>>8)+(26149*Ar>>8)-14234)}function _s(wr,Ar,Or){return ss((19077*wr>>8)-(6419*Ar>>8)-(13320*Or>>8)+8708)}function xs(wr,Ar){return ss((19077*wr>>8)+(33050*Ar>>8)-17685)}function ks(wr,Ar,Or,qr,nn){qr[nn+0]=ps(wr,Or),qr[nn+1]=_s(wr,Ar,Or),qr[nn+2]=xs(wr,Ar)}function Hs(wr,Ar,Or,qr,nn){qr[nn+0]=xs(wr,Ar),qr[nn+1]=_s(wr,Ar,Or),qr[nn+2]=ps(wr,Or)}function Ws(wr,Ar,Or,qr,nn){var hn=_s(wr,Ar,Or);Ar=hn<<3&224|xs(wr,Ar)>>3,qr[nn+0]=248&ps(wr,Or)|hn>>5,qr[nn+1]=Ar}function Ks(wr,Ar,Or,qr,nn){var hn=240&xs(wr,Ar)|15;qr[nn+0]=240&ps(wr,Or)|_s(wr,Ar,Or)>>4,qr[nn+1]=hn}function eo(wr,Ar,Or,qr,nn){qr[nn+0]=255,ks(wr,Ar,Or,qr,nn+1)}function ga(wr,Ar,Or,qr,nn){Hs(wr,Ar,Or,qr,nn),qr[nn+3]=255}function mo(wr,Ar,Or,qr,nn){ks(wr,Ar,Or,qr,nn),qr[nn+3]=255}function uo(wr,Ar){return 0>wr?0:wr>Ar?Ar:wr}function Ro(wr,Ar,Or){xr[wr]=function(qr,nn,hn,cn,un,mn,wn,Tn,Bn){for(var jn=Tn+(-2&Bn)*Or;Tn!=jn;)Ar(qr[nn+0],hn[cn+0],un[mn+0],wn,Tn),Ar(qr[nn+1],hn[cn+0],un[mn+0],wn,Tn+Or),nn+=2,++cn,++mn,Tn+=2*Or;1&Bn&&Ar(qr[nn+0],hn[cn+0],un[mn+0],wn,Tn)}}function ou(wr,Ar,Or){return Or==0?wr==0?Ar==0?6:5:Ar==0?4:0:Or}function Ou(wr,Ar,Or,qr,nn){switch(wr>>>30){case 3:pu(Ar,Or,qr,nn,0);break;case 2:zu(Ar,Or,qr,nn);break;case 1:To(Ar,Or,qr,nn)}}function Du(wr,Ar){var Or,qr,nn=Ar.M,hn=Ar.Nb,cn=wr.oc,un=wr.pc+40,mn=wr.oc,wn=wr.pc+584,Tn=wr.oc,Bn=wr.pc+600;for(Or=0;16>Or;++Or)cn[un+32*Or-1]=129;for(Or=0;8>Or;++Or)mn[wn+32*Or-1]=129,Tn[Bn+32*Or-1]=129;for(0<nn?cn[un-1-32]=mn[wn-1-32]=Tn[Bn-1-32]=129:(ir(cn,un-32-1,127,21),ir(mn,wn-32-1,127,9),ir(Tn,Bn-32-1,127,9)),qr=0;qr<wr.za;++qr){var jn=Ar.ya[Ar.aa+qr];if(0<qr){for(Or=-1;16>Or;++Or)_i(cn,un+32*Or-4,cn,un+32*Or+12,4);for(Or=-1;8>Or;++Or)_i(mn,wn+32*Or-4,mn,wn+32*Or+4,4),_i(Tn,Bn+32*Or-4,Tn,Bn+32*Or+4,4)}var Mn=wr.Gd,Xn=wr.Hd+qr,$n=jn.ad,Fn=jn.Hc;if(0<nn&&(_i(cn,un-32,Mn[Xn].y,0,16),_i(mn,wn-32,Mn[Xn].f,0,8),_i(Tn,Bn-32,Mn[Xn].ea,0,8)),jn.Za){var Ln=cn,Gn=un-32+16;for(0<nn&&(qr>=wr.za-1?ir(Ln,Gn,Mn[Xn].y[15],4):_i(Ln,Gn,Mn[Xn+1].y,0,4)),Or=0;4>Or;Or++)Ln[Gn+128+Or]=Ln[Gn+256+Or]=Ln[Gn+384+Or]=Ln[Gn+0+Or];for(Or=0;16>Or;++Or,Fn<<=2)Ln=cn,Gn=un+i0[Or],Jo[jn.Ob[Or]](Ln,Gn),Ou(Fn,$n,16*+Or,Ln,Gn)}else if(Ln=ou(qr,nn,jn.Ob[0]),gu[Ln](cn,un),Fn!=0)for(Or=0;16>Or;++Or,Fn<<=2)Ou(Fn,$n,16*+Or,cn,un+i0[Or]);for(Or=jn.Gc,Ln=ou(qr,nn,jn.Dd),Vl[Ln](mn,wn),Vl[Ln](Tn,Bn),Fn=$n,Ln=mn,Gn=wn,255&(jn=Or>>0)&&(170&jn?El(Fn,256,Ln,Gn):qo(Fn,256,Ln,Gn)),jn=Tn,Fn=Bn,255&(Or>>=8)&&(170&Or?El($n,320,jn,Fn):qo($n,320,jn,Fn)),nn<wr.Ub-1&&(_i(Mn[Xn].y,0,cn,un+480,16),_i(Mn[Xn].f,0,mn,wn+224,8),_i(Mn[Xn].ea,0,Tn,Bn+224,8)),Or=8*hn*wr.B,Mn=wr.sa,Xn=wr.ta+16*qr+16*hn*wr.R,$n=wr.qa,jn=wr.ra+8*qr+Or,Fn=wr.Ha,Ln=wr.Ia+8*qr+Or,Or=0;16>Or;++Or)_i(Mn,Xn+Or*wr.R,cn,un+32*Or,16);for(Or=0;8>Or;++Or)_i($n,jn+Or*wr.B,mn,wn+32*Or,8),_i(Fn,Ln+Or*wr.B,Tn,Bn+32*Or,8)}}function lu(wr,Ar,Or,qr,nn,hn,cn,un,mn){var wn=[0],Tn=[0],Bn=0,jn=mn!=null?mn.kd:0,Mn=mn!=null?mn:new Mu;if(wr==null||12>Or)return 7;Mn.data=wr,Mn.w=Ar,Mn.ha=Or,Ar=[Ar],Or=[Or],Mn.gb=[Mn.gb];t:{var Xn=Ar,$n=Or,Fn=Mn.gb;if(e(wr!=null),e($n!=null),e(Fn!=null),Fn[0]=0,12<=$n[0]&&!_e(wr,Xn[0],"RIFF")){if(_e(wr,Xn[0]+8,"WEBP")){Fn=3;break t}var Ln=en(wr,Xn[0]+4);if(12>Ln||4294967286<Ln){Fn=3;break t}if(jn&&Ln>$n[0]-8){Fn=7;break t}Fn[0]=Ln,Xn[0]+=12,$n[0]-=12}Fn=0}if(Fn!=0)return Fn;for(Ln=0<Mn.gb[0],Or=Or[0];;){t:{var Gn=wr;$n=Ar,Fn=Or;var Qn=wn,qn=Tn,hs=Xn=[0];if((ns=Bn=[Bn])[0]=0,8>Fn[0])Fn=7;else{if(!_e(Gn,$n[0],"VP8X")){if(en(Gn,$n[0]+4)!=10){Fn=3;break t}if(18>Fn[0]){Fn=7;break t}var rs=en(Gn,$n[0]+8),ms=1+fn(Gn,$n[0]+12);if(2147483648<=ms*(Gn=1+fn(Gn,$n[0]+15))){Fn=3;break t}hs!=null&&(hs[0]=rs),Qn!=null&&(Qn[0]=ms),qn!=null&&(qn[0]=Gn),$n[0]+=18,Fn[0]-=18,ns[0]=1}Fn=0}}if(Bn=Bn[0],Xn=Xn[0],Fn!=0)return Fn;if($n=!!(2&Xn),!Ln&&Bn)return 3;if(hn!=null&&(hn[0]=!!(16&Xn)),cn!=null&&(cn[0]=$n),un!=null&&(un[0]=0),cn=wn[0],Xn=Tn[0],Bn&&$n&&mn==null){Fn=0;break}if(4>Or){Fn=7;break}if(Ln&&Bn||!Ln&&!Bn&&!_e(wr,Ar[0],"ALPH")){Or=[Or],Mn.na=[Mn.na],Mn.P=[Mn.P],Mn.Sa=[Mn.Sa];t:{rs=wr,Fn=Ar,Ln=Or;var ns=Mn.gb;Qn=Mn.na,qn=Mn.P,hs=Mn.Sa,ms=22,e(rs!=null),e(Ln!=null),Gn=Fn[0];var Is=Ln[0];for(e(Qn!=null),e(hs!=null),Qn[0]=null,qn[0]=null,hs[0]=0;;){if(Fn[0]=Gn,Ln[0]=Is,8>Is){Fn=7;break t}var Os=en(rs,Gn+4);if(4294967286<Os){Fn=3;break t}var Fs=8+Os+1&-2;if(ms+=Fs,0<ns&&ms>ns){Fn=3;break t}if(!_e(rs,Gn,"VP8 ")||!_e(rs,Gn,"VP8L")){Fn=0;break t}if(Is[0]<Fs){Fn=7;break t}_e(rs,Gn,"ALPH")||(Qn[0]=rs,qn[0]=Gn+8,hs[0]=Os),Gn+=Fs,Is-=Fs}}if(Or=Or[0],Mn.na=Mn.na[0],Mn.P=Mn.P[0],Mn.Sa=Mn.Sa[0],Fn!=0)break}Or=[Or],Mn.Ja=[Mn.Ja],Mn.xa=[Mn.xa];t:if(ns=wr,Fn=Ar,Ln=Or,Qn=Mn.gb[0],qn=Mn.Ja,hs=Mn.xa,rs=Fn[0],Gn=!_e(ns,rs,"VP8 "),ms=!_e(ns,rs,"VP8L"),e(ns!=null),e(Ln!=null),e(qn!=null),e(hs!=null),8>Ln[0])Fn=7;else{if(Gn||ms){if(ns=en(ns,rs+4),12<=Qn&&ns>Qn-12){Fn=3;break t}if(jn&&ns>Ln[0]-8){Fn=7;break t}qn[0]=ns,Fn[0]+=8,Ln[0]-=8,hs[0]=ms}else hs[0]=5<=Ln[0]&&ns[rs+0]==47&&!(ns[rs+4]>>5),qn[0]=Ln[0];Fn=0}if(Or=Or[0],Mn.Ja=Mn.Ja[0],Mn.xa=Mn.xa[0],Ar=Ar[0],Fn!=0)break;if(4294967286<Mn.Ja)return 3;if(un==null||$n||(un[0]=Mn.xa?2:1),cn=[cn],Xn=[Xn],Mn.xa){if(5>Or){Fn=7;break}un=cn,jn=Xn,$n=hn,wr==null||5>Or?wr=0:5<=Or&&wr[Ar+0]==47&&!(wr[Ar+4]>>5)?(Ln=[0],ns=[0],Qn=[0],Lr(qn=new Cr,wr,Ar,Or),os(qn,Ln,ns,Qn)?(un!=null&&(un[0]=Ln[0]),jn!=null&&(jn[0]=ns[0]),$n!=null&&($n[0]=Qn[0]),wr=1):wr=0):wr=0}else{if(10>Or){Fn=7;break}un=Xn,wr==null||10>Or||!Ku(wr,Ar+3,Or-3)?wr=0:(jn=wr[Ar+0]|wr[Ar+1]<<8|wr[Ar+2]<<16,$n=16383&(wr[Ar+7]<<8|wr[Ar+6]),wr=16383&(wr[Ar+9]<<8|wr[Ar+8]),1&jn||3<(jn>>1&7)||!(jn>>4&1)||jn>>5>=Mn.Ja||!$n||!wr?wr=0:(cn&&(cn[0]=$n),un&&(un[0]=wr),wr=1))}if(!wr||(cn=cn[0],Xn=Xn[0],Bn&&(wn[0]!=cn||Tn[0]!=Xn)))return 3;mn!=null&&(mn[0]=Mn,mn.offset=Ar-mn.w,e(4294967286>Ar-mn.w),e(mn.offset==mn.ha-Or));break}return Fn==0||Fn==7&&Bn&&mn==null?(hn!=null&&(hn[0]|=Mn.na!=null&&0<Mn.na.length),qr!=null&&(qr[0]=cn),nn!=null&&(nn[0]=Xn),0):Fn}function Al(wr,Ar,Or){var qr=Ar.width,nn=Ar.height,hn=0,cn=0,un=qr,mn=nn;if(Ar.Da=wr!=null&&0<wr.Da,Ar.Da&&(un=wr.cd,mn=wr.bd,hn=wr.v,cn=wr.j,11>Or||(hn&=-2,cn&=-2),0>hn||0>cn||0>=un||0>=mn||hn+un>qr||cn+mn>nn))return 0;if(Ar.v=hn,Ar.j=cn,Ar.va=hn+un,Ar.o=cn+mn,Ar.U=un,Ar.T=mn,Ar.da=wr!=null&&0<wr.da,Ar.da){if(!Zr(un,mn,Or=[wr.ib],hn=[wr.hb]))return 0;Ar.ib=Or[0],Ar.hb=hn[0]}return Ar.ob=wr!=null&&wr.ob,Ar.Kb=wr==null||!wr.Sd,Ar.da&&(Ar.ob=Ar.ib<3*qr/4&&Ar.hb<3*nn/4,Ar.Kb=0),1}function Nu(wr){if(wr==null)return 2;if(11>wr.S){var Ar=wr.f.RGBA;Ar.fb+=(wr.height-1)*Ar.A,Ar.A=-Ar.A}else Ar=wr.f.kb,wr=wr.height,Ar.O+=(wr-1)*Ar.fa,Ar.fa=-Ar.fa,Ar.N+=(wr-1>>1)*Ar.Ab,Ar.Ab=-Ar.Ab,Ar.W+=(wr-1>>1)*Ar.Db,Ar.Db=-Ar.Db,Ar.F!=null&&(Ar.J+=(wr-1)*Ar.lb,Ar.lb=-Ar.lb);return 0}function hu(wr,Ar,Or,qr){if(qr==null||0>=wr||0>=Ar)return 2;if(Or!=null){if(Or.Da){var nn=Or.cd,hn=Or.bd,cn=-2&Or.v,un=-2&Or.j;if(0>cn||0>un||0>=nn||0>=hn||cn+nn>wr||un+hn>Ar)return 2;wr=nn,Ar=hn}if(Or.da){if(!Zr(wr,Ar,nn=[Or.ib],hn=[Or.hb]))return 2;wr=nn[0],Ar=hn[0]}}qr.width=wr,qr.height=Ar;t:{var mn=qr.width,wn=qr.height;if(wr=qr.S,0>=mn||0>=wn||!(wr>=rn&&13>wr))wr=2;else{if(0>=qr.Rd&&qr.sd==null){cn=hn=nn=Ar=0;var Tn=(un=mn*r0[wr])*wn;if(11>wr||(hn=(wn+1)/2*(Ar=(mn+1)/2),wr==12&&(cn=(nn=mn)*wn)),(wn=rr(Tn+2*hn+cn))==null){wr=1;break t}qr.sd=wn,11>wr?((mn=qr.f.RGBA).eb=wn,mn.fb=0,mn.A=un,mn.size=Tn):((mn=qr.f.kb).y=wn,mn.O=0,mn.fa=un,mn.Fd=Tn,mn.f=wn,mn.N=0+Tn,mn.Ab=Ar,mn.Cd=hn,mn.ea=wn,mn.W=0+Tn+hn,mn.Db=Ar,mn.Ed=hn,wr==12&&(mn.F=wn,mn.J=0+Tn+2*hn),mn.Tc=cn,mn.lb=nn)}if(Ar=1,nn=qr.S,hn=qr.width,cn=qr.height,nn>=rn&&13>nn)if(11>nn)wr=qr.f.RGBA,Ar&=(un=Math.abs(wr.A))*(cn-1)+hn<=wr.size,Ar&=un>=hn*r0[nn],Ar&=wr.eb!=null;else{wr=qr.f.kb,un=(hn+1)/2,Tn=(cn+1)/2,mn=Math.abs(wr.fa),wn=Math.abs(wr.Ab);var Bn=Math.abs(wr.Db),jn=Math.abs(wr.lb),Mn=jn*(cn-1)+hn;Ar&=mn*(cn-1)+hn<=wr.Fd,Ar&=wn*(Tn-1)+un<=wr.Cd,Ar=(Ar&=Bn*(Tn-1)+un<=wr.Ed)&mn>=hn&wn>=un&Bn>=un,Ar&=wr.y!=null,Ar&=wr.f!=null,Ar&=wr.ea!=null,nn==12&&(Ar&=jn>=hn,Ar&=Mn<=wr.Tc,Ar&=wr.F!=null)}else Ar=0;wr=Ar?0:2}}return wr!=0||Or!=null&&Or.fd&&(wr=Nu(qr)),wr}var fo=64,cu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Bl=24,uu=32,Ru=8,po=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];vn("Predictor0","PredictorAdd0"),xr.Predictor0=function(){return 4278190080},xr.Predictor1=function(wr){return wr},xr.Predictor2=function(wr,Ar,Or){return Ar[Or+0]},xr.Predictor3=function(wr,Ar,Or){return Ar[Or+1]},xr.Predictor4=function(wr,Ar,Or){return Ar[Or-1]},xr.Predictor5=function(wr,Ar,Or){return dn(dn(wr,Ar[Or+1]),Ar[Or+0])},xr.Predictor6=function(wr,Ar,Or){return dn(wr,Ar[Or-1])},xr.Predictor7=function(wr,Ar,Or){return dn(wr,Ar[Or+0])},xr.Predictor8=function(wr,Ar,Or){return dn(Ar[Or-1],Ar[Or+0])},xr.Predictor9=function(wr,Ar,Or){return dn(Ar[Or+0],Ar[Or+1])},xr.Predictor10=function(wr,Ar,Or){return dn(dn(wr,Ar[Or-1]),dn(Ar[Or+0],Ar[Or+1]))},xr.Predictor11=function(wr,Ar,Or){var qr=Ar[Or+0];return 0>=In(qr>>24&255,wr>>24&255,(Ar=Ar[Or-1])>>24&255)+In(qr>>16&255,wr>>16&255,Ar>>16&255)+In(qr>>8&255,wr>>8&255,Ar>>8&255)+In(255&qr,255&wr,255&Ar)?qr:wr},xr.Predictor12=function(wr,Ar,Or){var qr=Ar[Or+0];return(Pn((wr>>24&255)+(qr>>24&255)-((Ar=Ar[Or-1])>>24&255))<<24|Pn((wr>>16&255)+(qr>>16&255)-(Ar>>16&255))<<16|Pn((wr>>8&255)+(qr>>8&255)-(Ar>>8&255))<<8|Pn((255&wr)+(255&qr)-(255&Ar)))>>>0},xr.Predictor13=function(wr,Ar,Or){var qr=Ar[Or-1];return(gn((wr=dn(wr,Ar[Or+0]))>>24&255,qr>>24&255)<<24|gn(wr>>16&255,qr>>16&255)<<16|gn(wr>>8&255,qr>>8&255)<<8|gn(wr>>0&255,qr>>0&255))>>>0};var Ip=xr.PredictorAdd0;xr.PredictorAdd1=Rn,vn("Predictor2","PredictorAdd2"),vn("Predictor3","PredictorAdd3"),vn("Predictor4","PredictorAdd4"),vn("Predictor5","PredictorAdd5"),vn("Predictor6","PredictorAdd6"),vn("Predictor7","PredictorAdd7"),vn("Predictor8","PredictorAdd8"),vn("Predictor9","PredictorAdd9"),vn("Predictor10","PredictorAdd10"),vn("Predictor11","PredictorAdd11"),vn("Predictor12","PredictorAdd12"),vn("Predictor13","PredictorAdd13");var fu=xr.PredictorAdd2;Kn("ColorIndexInverseTransform","MapARGB","32b",function(wr){return wr>>8&255},function(wr){return wr}),Kn("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(wr){return wr},function(wr){return wr>>8&255});var Bu,Eo=xr.ColorIndexInverseTransform,ju=xr.MapARGB,Op=xr.VP8LColorIndexInverseTransformAlpha,hp=xr.MapAlpha,Bo=xr.VP8LPredictorsAdd=[];Bo.length=16,(xr.VP8LPredictors=[]).length=16,(xr.VP8LPredictorsAdd_C=[]).length=16,(xr.VP8LPredictors_C=[]).length=16;var wo,ko,Cl,jo,zo,du,Po,pu,zu,El,To,qo,zl,mu,go,Xo,$u,vo,Yo,Rs,Bs,Gs,na,Ko,Pl,ao,Qo,Hp,Wp=rr(511),Gp=rr(2041),qp=rr(225),Xp=rr(767),Yp=0,Dp=Gp,$l=qp,Dr=Xp,Rr=Wp,rn=0,An=1,Hn=2,ls=3,Us=4,_o=5,io=6,Tl=7,Vu=8,Kp=9,mm=10,V0=[2,3,7],U0=[3,3,11],Xm=[280,256,256,256,40],H0=[0,1,1,1,0],W0=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],G0=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],q0=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],X0=8,gm=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],vm=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Np=null,Y0=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],K0=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ym=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Q0=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],J0=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Z0=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],t1=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],gu=[],Jo=[],Vl=[],e1=1,Km=2,vu=[],$o=[];Un("UpsampleRgbLinePair",ks,3),Un("UpsampleBgrLinePair",Hs,3),Un("UpsampleRgbaLinePair",mo,4),Un("UpsampleBgraLinePair",ga,4),Un("UpsampleArgbLinePair",eo,4),Un("UpsampleRgba4444LinePair",Ks,2),Un("UpsampleRgb565LinePair",Ws,2);var i1=xr.UpsampleRgbLinePair,r1=xr.UpsampleBgrLinePair,Qm=xr.UpsampleRgbaLinePair,Jm=xr.UpsampleBgraLinePair,Zm=xr.UpsampleArgbLinePair,_g=xr.UpsampleRgba4444LinePair,n1=xr.UpsampleRgb565LinePair,Qp=16,Jp=1<<Qp-1,Rp=-227,ym=482,t0=6,s1=(256<<t0)-1,e0=0,a1=rr(256),o1=rr(256),l1=rr(256),h1=rr(256),c1=rr(ym-Rp),u1=rr(ym-Rp);Ro("YuvToRgbRow",ks,3),Ro("YuvToBgrRow",Hs,3),Ro("YuvToRgbaRow",mo,4),Ro("YuvToBgraRow",ga,4),Ro("YuvToArgbRow",eo,4),Ro("YuvToRgba4444Row",Ks,2),Ro("YuvToRgb565Row",Ws,2);var i0=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Zp=[0,2,8],f1=[8,7,6,4,4,2,2,2,1,1,1,1],d1=1;this.WebPDecodeRGBA=function(wr,Ar,Or,qr,nn){var hn=An,cn=new ru,un=new es;cn.ba=un,un.S=hn,un.width=[un.width],un.height=[un.height];var mn=un.width,wn=un.height,Tn=new fs;if(Tn==null||wr==null)var Bn=2;else e(Tn!=null),Bn=lu(wr,Ar,Or,Tn.width,Tn.height,Tn.Pd,Tn.Qd,Tn.format,null);if(Bn!=0?mn=0:(mn!=null&&(mn[0]=Tn.width[0]),wn!=null&&(wn[0]=Tn.height[0]),mn=1),mn){un.width=un.width[0],un.height=un.height[0],qr!=null&&(qr[0]=un.width),nn!=null&&(nn[0]=un.height);t:{if(qr=new Yl,(nn=new Mu).data=wr,nn.w=Ar,nn.ha=Or,nn.kd=1,Ar=[0],e(nn!=null),((wr=lu(nn.data,nn.w,nn.ha,null,null,null,Ar,null,nn))==0||wr==7)&&Ar[0]&&(wr=4),(Ar=wr)==0){if(e(cn!=null),qr.data=nn.data,qr.w=nn.w+nn.offset,qr.ha=nn.ha-nn.offset,qr.put=Cs,qr.ac=ys,qr.bc=gs,qr.ma=cn,nn.xa){if((wr=ho())==null){cn=1;break t}if(function(jn,Mn){var Xn=[0],$n=[0],Fn=[0];e:for(;;){if(jn==null)return 0;if(Mn==null)return jn.a=2,0;if(jn.l=Mn,jn.a=0,Lr(jn.m,Mn.data,Mn.w,Mn.ha),!os(jn.m,Xn,$n,Fn)){jn.a=3;break e}if(jn.xb=Km,Mn.width=Xn[0],Mn.height=$n[0],!co(Xn[0],$n[0],1,jn,null))break e;return 1}return e(jn.a!=0),0}(wr,qr)){if(qr=(Ar=hu(qr.width,qr.height,cn.Oa,cn.ba))==0){e:{qr=wr;i:for(;;){if(qr==null){qr=0;break e}if(e(qr.s.yc!=null),e(qr.s.Ya!=null),e(0<qr.s.Wb),e((Or=qr.l)!=null),e((nn=Or.ma)!=null),qr.xb!=0){if(qr.ca=nn.ba,qr.tb=nn.tb,e(qr.ca!=null),!Al(nn.Oa,Or,ls)){qr.a=2;break i}if(!yl(qr,Or.width)||Or.da)break i;if((Or.da||bn(qr.ca.S))&&On(),11>qr.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),qr.ca.f.kb.F!=null&&On()),qr.Pb&&0<qr.s.ua&&qr.s.vb.X==null&&!Ir(qr.s.vb,qr.s.Wa.Xa)){qr.a=1;break i}qr.xb=0}if(!lo(qr,qr.V,qr.Ba,qr.c,qr.i,Or.o,zs))break i;nn.Dc=qr.Ma,qr=1;break e}e(qr.a!=0),qr=0}qr=!qr}qr&&(Ar=wr.a)}else Ar=wr.a}else{if((wr=new yp)==null){cn=1;break t}if(wr.Fa=nn.na,wr.P=nn.P,wr.qc=nn.Sa,Qu(wr,qr)){if((Ar=hu(qr.width,qr.height,cn.Oa,cn.ba))==0){if(wr.Aa=0,Or=cn.Oa,e((nn=wr)!=null),Or!=null){if(0<(mn=0>(mn=Or.Md)?0:100<mn?255:255*mn/100)){for(wn=Tn=0;4>wn;++wn)12>(Bn=nn.pb[wn]).lc&&(Bn.ia=mn*f1[0>Bn.lc?0:Bn.lc]>>3),Tn|=Bn.ia;Tn&&(alert("todo:VP8InitRandom"),nn.ia=1)}nn.Ga=Or.Id,100<nn.Ga?nn.Ga=100:0>nn.Ga&&(nn.Ga=0)}bp(wr,qr)||(Ar=wr.a)}}else Ar=wr.a}Ar==0&&cn.Oa!=null&&cn.Oa.fd&&(Ar=Nu(cn.ba))}cn=Ar}hn=cn!=0?null:11>hn?un.f.RGBA.eb:un.f.kb.y}else hn=null;return hn};var r0=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function hr(xr,Nr){for(var zr="",Tr=0;Tr<4;Tr++)zr+=String.fromCharCode(xr[Nr++]);return zr}function ur(xr,Nr){return(xr[Nr+0]<<0|xr[Nr+1]<<8|xr[Nr+2]<<16)>>>0}function or(xr,Nr){return(xr[Nr+0]<<0|xr[Nr+1]<<8|xr[Nr+2]<<16|xr[Nr+3]<<24)>>>0}new tr;var nr=[0],er=[0],ar=[],dr=new tr,lr=St,sr=function(xr,Nr){var zr={},Tr=0,Br=!1,Jr=0,Yr=0;if(zr.frames=[],!function(kr,Sr,Pr,jr){for(var Wr=0;Wr<jr;Wr++)if(kr[Sr+Wr]!=Pr.charCodeAt(Wr))return!0;return!1}(xr,Nr,"RIFF",4)){var Xr,Vr;for(or(xr,Nr+=4),Nr+=8;Nr<xr.length;){var $r=hr(xr,Nr),Lr=or(xr,Nr+=4);Nr+=4;var Er=Lr+(1&Lr);switch($r){case"VP8 ":case"VP8L":zr.frames[Tr]===void 0&&(zr.frames[Tr]={}),(Cr=zr.frames[Tr]).src_off=Br?Yr:Nr-8,Cr.src_size=Jr+Lr+8,Tr++,Br&&(Br=!1,Jr=0,Yr=0);break;case"VP8X":(Cr=zr.header={}).feature_flags=xr[Nr];var Hr=Nr+4;Cr.canvas_width=1+ur(xr,Hr),Hr+=3,Cr.canvas_height=1+ur(xr,Hr),Hr+=3;break;case"ALPH":Br=!0,Jr=Er+8,Yr=Nr-8;break;case"ANIM":(Cr=zr.header).bgcolor=or(xr,Nr),Hr=Nr+4,Cr.loop_count=(Xr=xr)[(Vr=Hr)+0]<<0|Xr[Vr+1]<<8,Hr+=2;break;case"ANMF":var Gr,Cr;(Cr=zr.frames[Tr]={}).offset_x=2*ur(xr,Nr),Nr+=3,Cr.offset_y=2*ur(xr,Nr),Nr+=3,Cr.width=1+ur(xr,Nr),Nr+=3,Cr.height=1+ur(xr,Nr),Nr+=3,Cr.duration=ur(xr,Nr),Nr+=3,Gr=xr[Nr++],Cr.dispose=1&Gr,Cr.blend=Gr>>1&1}$r!="ANMF"&&(Nr+=Er)}return zr}}(lr,0);sr.response=lr,sr.rgbaoutput=!0,sr.dataurl=!1;var pr=sr.header?sr.header:null,mr=sr.frames?sr.frames:null;if(pr){pr.loop_counter=pr.loop_count,nr=[pr.canvas_height],er=[pr.canvas_width];for(var vr=0;vr<mr.length&&mr[vr].blend!=0;vr++);}var yr=mr[0],br=dr.WebPDecodeRGBA(lr,yr.src_off,yr.src_size,er,nr);yr.rgba=br,yr.imgwidth=er[0],yr.imgheight=nr[0];for(var _r=0;_r<er[0]*nr[0]*4;_r++)ar[_r]=br[_r];return this.width=er,this.height=nr,this.data=ar,this}(function(St){var e=function(){return typeof zlibSync=="function"},_e=function(nr,er,ar,dr){var lr=4,sr=gr;switch(dr){case St.image_compression.FAST:lr=1,sr=rr;break;case St.image_compression.MEDIUM:lr=6,sr=cr;break;case St.image_compression.SLOW:lr=9,sr=tr}nr=_i(nr,er,ar,sr);var pr=zlibSync(nr,{level:lr});return St.__addimage__.arrayBufferToBinaryString(pr)},_i=function(nr,er,ar,dr){for(var lr,sr,pr,mr=nr.length/er,vr=new Uint8Array(nr.length+mr),yr=ur(),br=0;br<mr;br+=1){if(pr=br*er,lr=nr.subarray(pr,pr+er),dr)vr.set(dr(lr,ar,sr),pr+br);else{for(var _r,xr=yr.length,Nr=[];_r<xr;_r+=1)Nr[_r]=yr[_r](lr,ar,sr);var zr=or(Nr.concat());vr.set(Nr[zr],pr+br)}sr=lr}return vr},ir=function(nr){var er=Array.apply([],nr);return er.unshift(0),er},rr=function(nr,er){var ar,dr=[],lr=nr.length;dr[0]=1;for(var sr=0;sr<lr;sr+=1)ar=nr[sr-er]||0,dr[sr+1]=nr[sr]-ar+256&255;return dr},gr=function(nr,er,ar){var dr,lr=[],sr=nr.length;lr[0]=2;for(var pr=0;pr<sr;pr+=1)dr=ar&&ar[pr]||0,lr[pr+1]=nr[pr]-dr+256&255;return lr},cr=function(nr,er,ar){var dr,lr,sr=[],pr=nr.length;sr[0]=3;for(var mr=0;mr<pr;mr+=1)dr=nr[mr-er]||0,lr=ar&&ar[mr]||0,sr[mr+1]=nr[mr]+256-(dr+lr>>>1)&255;return sr},tr=function(nr,er,ar){var dr,lr,sr,pr,mr=[],vr=nr.length;mr[0]=4;for(var yr=0;yr<vr;yr+=1)dr=nr[yr-er]||0,lr=ar&&ar[yr]||0,sr=ar&&ar[yr-er]||0,pr=hr(dr,lr,sr),mr[yr+1]=nr[yr]-pr+256&255;return mr},hr=function(nr,er,ar){if(nr===er&&er===ar)return nr;var dr=Math.abs(er-ar),lr=Math.abs(nr-ar),sr=Math.abs(nr+er-ar-ar);return dr<=lr&&dr<=sr?nr:lr<=sr?er:ar},ur=function(){return[ir,rr,gr,cr,tr]},or=function(nr){var er=nr.map(function(ar){return ar.reduce(function(dr,lr){return dr+Math.abs(lr)},0)});return er.indexOf(Math.min.apply(null,er))};St.processPNG=function(nr,er,ar,dr){var lr,sr,pr,mr,vr,yr,br,_r,xr,Nr,zr,Tr,Br,Jr,Yr,Xr=this.decode.FLATE_DECODE,Vr="";if(this.__addimage__.isArrayBuffer(nr)&&(nr=new Uint8Array(nr)),this.__addimage__.isArrayBufferView(nr)){if(nr=(pr=new Kt(nr)).imgData,sr=pr.bits,lr=pr.colorSpace,vr=pr.colors,[4,6].indexOf(pr.colorType)!==-1){if(pr.bits===8){xr=(_r=pr.pixelBitlength==32?new Uint32Array(pr.decodePixels().buffer):pr.pixelBitlength==16?new Uint16Array(pr.decodePixels().buffer):new Uint8Array(pr.decodePixels().buffer)).length,zr=new Uint8Array(xr*pr.colors),Nr=new Uint8Array(xr);var $r,Lr=pr.pixelBitlength-pr.bits;for(Jr=0,Yr=0;Jr<xr;Jr++){for(Br=_r[Jr],$r=0;$r<Lr;)zr[Yr++]=Br>>>$r&255,$r+=pr.bits;Nr[Jr]=Br>>>$r&255}}if(pr.bits===16){xr=(_r=new Uint32Array(pr.decodePixels().buffer)).length,zr=new Uint8Array(xr*(32/pr.pixelBitlength)*pr.colors),Nr=new Uint8Array(xr*(32/pr.pixelBitlength)),Tr=pr.colors>1,Jr=0,Yr=0;for(var Er=0;Jr<xr;)Br=_r[Jr++],zr[Yr++]=Br>>>0&255,Tr&&(zr[Yr++]=Br>>>16&255,Br=_r[Jr++],zr[Yr++]=Br>>>0&255),Nr[Er++]=Br>>>16&255;sr=8}dr!==St.image_compression.NONE&&e()?(nr=_e(zr,pr.width*pr.colors,pr.colors,dr),br=_e(Nr,pr.width,1,dr)):(nr=zr,br=Nr,Xr=void 0)}if(pr.colorType===3&&(lr=this.color_spaces.INDEXED,yr=pr.palette,pr.transparency.indexed)){var Hr=pr.transparency.indexed,Gr=0;for(Jr=0,xr=Hr.length;Jr<xr;++Jr)Gr+=Hr[Jr];if((Gr/=255)===xr-1&&Hr.indexOf(0)!==-1)mr=[Hr.indexOf(0)];else if(Gr!==xr){for(_r=pr.decodePixels(),Nr=new Uint8Array(_r.length),Jr=0,xr=_r.length;Jr<xr;Jr++)Nr[Jr]=Hr[_r[Jr]];br=_e(Nr,pr.width,1)}}var Cr=function(kr){var Sr;switch(kr){case St.image_compression.FAST:Sr=11;break;case St.image_compression.MEDIUM:Sr=13;break;case St.image_compression.SLOW:Sr=14;break;default:Sr=12}return Sr}(dr);return Xr===this.decode.FLATE_DECODE&&(Vr="/Predictor "+Cr+" "),Vr+="/Colors "+vr+" /BitsPerComponent "+sr+" /Columns "+pr.width,(this.__addimage__.isArrayBuffer(nr)||this.__addimage__.isArrayBufferView(nr))&&(nr=this.__addimage__.arrayBufferToBinaryString(nr)),(br&&this.__addimage__.isArrayBuffer(br)||this.__addimage__.isArrayBufferView(br))&&(br=this.__addimage__.arrayBufferToBinaryString(br)),{alias:ar,data:nr,index:er,filter:Xr,decodeParameters:Vr,transparency:mr,palette:yr,sMask:br,predictor:Cr,width:pr.width,height:pr.height,bitsPerComponent:sr,colorSpace:lr}}}})(E.API),function(St){St.processGIF89A=function(e,_e,_i,ir){var rr=new Zt(e),gr=rr.width,cr=rr.height,tr=[];rr.decodeAndBlitFrameRGBA(0,tr);var hr={data:tr,width:gr,height:cr},ur=new Qt(100).encode(hr,100);return St.processJPEG.call(this,ur,_e,_i,ir)},St.processGIF87A=St.processGIF89A}(E.API),te.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var St=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(St);for(var e=0;e<St;e++){var _e=this.datav.getUint8(this.pos++,!0),_i=this.datav.getUint8(this.pos++,!0),ir=this.datav.getUint8(this.pos++,!0),rr=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:ir,green:_i,blue:_e,quad:rr}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},te.prototype.parseBGR=function(){this.pos=this.offset;try{var St="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[St]()}catch(_e){a.log("bit decode error:"+_e)}},te.prototype.bit1=function(){var St,e=Math.ceil(this.width/8),_e=e%4;for(St=this.height-1;St>=0;St--){for(var _i=this.bottom_up?St:this.height-1-St,ir=0;ir<e;ir++)for(var rr=this.datav.getUint8(this.pos++,!0),gr=_i*this.width*4+8*ir*4,cr=0;cr<8&&8*ir+cr<this.width;cr++){var tr=this.palette[rr>>7-cr&1];this.data[gr+4*cr]=tr.blue,this.data[gr+4*cr+1]=tr.green,this.data[gr+4*cr+2]=tr.red,this.data[gr+4*cr+3]=255}_e!==0&&(this.pos+=4-_e)}},te.prototype.bit4=function(){for(var St=Math.ceil(this.width/2),e=St%4,_e=this.height-1;_e>=0;_e--){for(var _i=this.bottom_up?_e:this.height-1-_e,ir=0;ir<St;ir++){var rr=this.datav.getUint8(this.pos++,!0),gr=_i*this.width*4+2*ir*4,cr=rr>>4,tr=15&rr,hr=this.palette[cr];if(this.data[gr]=hr.blue,this.data[gr+1]=hr.green,this.data[gr+2]=hr.red,this.data[gr+3]=255,2*ir+1>=this.width)break;hr=this.palette[tr],this.data[gr+4]=hr.blue,this.data[gr+4+1]=hr.green,this.data[gr+4+2]=hr.red,this.data[gr+4+3]=255}e!==0&&(this.pos+=4-e)}},te.prototype.bit8=function(){for(var St=this.width%4,e=this.height-1;e>=0;e--){for(var _e=this.bottom_up?e:this.height-1-e,_i=0;_i<this.width;_i++){var ir=this.datav.getUint8(this.pos++,!0),rr=_e*this.width*4+4*_i;if(ir<this.palette.length){var gr=this.palette[ir];this.data[rr]=gr.red,this.data[rr+1]=gr.green,this.data[rr+2]=gr.blue,this.data[rr+3]=255}else this.data[rr]=255,this.data[rr+1]=255,this.data[rr+2]=255,this.data[rr+3]=255}St!==0&&(this.pos+=4-St)}},te.prototype.bit15=function(){for(var St=this.width%3,e=parseInt("11111",2),_e=this.height-1;_e>=0;_e--){for(var _i=this.bottom_up?_e:this.height-1-_e,ir=0;ir<this.width;ir++){var rr=this.datav.getUint16(this.pos,!0);this.pos+=2;var gr=(rr&e)/e*255|0,cr=(rr>>5&e)/e*255|0,tr=(rr>>10&e)/e*255|0,hr=rr>>15?255:0,ur=_i*this.width*4+4*ir;this.data[ur]=tr,this.data[ur+1]=cr,this.data[ur+2]=gr,this.data[ur+3]=hr}this.pos+=St}},te.prototype.bit16=function(){for(var St=this.width%3,e=parseInt("11111",2),_e=parseInt("111111",2),_i=this.height-1;_i>=0;_i--){for(var ir=this.bottom_up?_i:this.height-1-_i,rr=0;rr<this.width;rr++){var gr=this.datav.getUint16(this.pos,!0);this.pos+=2;var cr=(gr&e)/e*255|0,tr=(gr>>5&_e)/_e*255|0,hr=(gr>>11)/e*255|0,ur=ir*this.width*4+4*rr;this.data[ur]=hr,this.data[ur+1]=tr,this.data[ur+2]=cr,this.data[ur+3]=255}this.pos+=St}},te.prototype.bit24=function(){for(var St=this.height-1;St>=0;St--){for(var e=this.bottom_up?St:this.height-1-St,_e=0;_e<this.width;_e++){var _i=this.datav.getUint8(this.pos++,!0),ir=this.datav.getUint8(this.pos++,!0),rr=this.datav.getUint8(this.pos++,!0),gr=e*this.width*4+4*_e;this.data[gr]=rr,this.data[gr+1]=ir,this.data[gr+2]=_i,this.data[gr+3]=255}this.pos+=this.width%4}},te.prototype.bit32=function(){for(var St=this.height-1;St>=0;St--)for(var e=this.bottom_up?St:this.height-1-St,_e=0;_e<this.width;_e++){var _i=this.datav.getUint8(this.pos++,!0),ir=this.datav.getUint8(this.pos++,!0),rr=this.datav.getUint8(this.pos++,!0),gr=this.datav.getUint8(this.pos++,!0),cr=e*this.width*4+4*_e;this.data[cr]=rr,this.data[cr+1]=ir,this.data[cr+2]=_i,this.data[cr+3]=gr}},te.prototype.getData=function(){return this.data},function(St){St.processBMP=function(e,_e,_i,ir){var rr=new te(e,!1),gr=rr.width,cr=rr.height,tr={data:rr.getData(),width:gr,height:cr},hr=new Qt(100).encode(tr,100);return St.processJPEG.call(this,hr,_e,_i,ir)}}(E.API),ee.prototype.getData=function(){return this.data},function(St){St.processWEBP=function(e,_e,_i,ir){var rr=new ee(e),gr=rr.width,cr=rr.height,tr={data:rr.getData(),width:gr,height:cr},hr=new Qt(100).encode(tr,100);return St.processJPEG.call(this,hr,_e,_i,ir)}}(E.API),E.API.processRGBA=function(St,e,_e){for(var _i=St.data,ir=_i.length,rr=new Uint8Array(ir/4*3),gr=new Uint8Array(ir/4),cr=0,tr=0,hr=0;hr<ir;hr+=4){var ur=_i[hr],or=_i[hr+1],nr=_i[hr+2],er=_i[hr+3];rr[cr++]=ur,rr[cr++]=or,rr[cr++]=nr,gr[tr++]=er}var ar=this.__addimage__.arrayBufferToBinaryString(rr);return{alpha:this.__addimage__.arrayBufferToBinaryString(gr),data:ar,index:e,alias:_e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:St.width,height:St.height}},E.API.setLanguage=function(St){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[St]!==void 0&&(this.internal.languageSettings.languageCode=St,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Vt=E.API,Gt=Vt.getCharWidthsArray=function(St,e){var _e,_i,ir=(e=e||{}).font||this.internal.getFont(),rr=e.fontSize||this.internal.getFontSize(),gr=e.charSpace||this.internal.getCharSpace(),cr=e.widths?e.widths:ir.metadata.Unicode.widths,tr=cr.fof?cr.fof:1,hr=e.kerning?e.kerning:ir.metadata.Unicode.kerning,ur=hr.fof?hr.fof:1,or=e.doKerning!==!1,nr=0,er=St.length,ar=0,dr=cr[0]||tr,lr=[];for(_e=0;_e<er;_e++)_i=St.charCodeAt(_e),typeof ir.metadata.widthOfString=="function"?lr.push((ir.metadata.widthOfGlyph(ir.metadata.characterToGlyph(_i))+gr*(1e3/rr)||0)/1e3):(nr=or&&_typeof(hr[_i])==="object"&&!isNaN(parseInt(hr[_i][ar],10))?hr[_i][ar]/ur:0,lr.push((cr[_i]||dr)/tr+nr)),ar=_i;return lr},Yt=Vt.getStringUnitWidth=function(St,e){var _e=(e=e||{}).fontSize||this.internal.getFontSize(),_i=e.font||this.internal.getFont(),ir=e.charSpace||this.internal.getCharSpace();return Vt.processArabic&&(St=Vt.processArabic(St)),typeof _i.metadata.widthOfString=="function"?_i.metadata.widthOfString(St,_e,ir)/_e:Gt.apply(this,arguments).reduce(function(rr,gr){return rr+gr},0)},Jt=function(St,e,_e,_i){for(var ir=[],rr=0,gr=St.length,cr=0;rr!==gr&&cr+e[rr]<_e;)cr+=e[rr],rr++;ir.push(St.slice(0,rr));var tr=rr;for(cr=0;rr!==gr;)cr+e[rr]>_i&&(ir.push(St.slice(tr,rr)),cr=0,tr=rr),cr+=e[rr],rr++;return tr!==rr&&ir.push(St.slice(tr,rr)),ir},Xt=function(St,e,_e){_e||(_e={});var _i,ir,rr,gr,cr,tr,hr,ur=[],or=[ur],nr=_e.textIndent||0,er=0,ar=0,dr=St.split(" "),lr=Gt.apply(this,[" ",_e])[0];if(tr=_e.lineIndent===-1?dr[0].length+2:_e.lineIndent||0){var sr=Array(tr).join(" "),pr=[];dr.map(function(vr){(vr=vr.split(/\s*\n/)).length>1?pr=pr.concat(vr.map(function(yr,br){return(br&&yr.length?`
`:"")+yr})):pr.push(vr[0])}),dr=pr,tr=Yt.apply(this,[sr,_e])}for(rr=0,gr=dr.length;rr<gr;rr++){var mr=0;if(_i=dr[rr],tr&&_i[0]==`
`&&(_i=_i.substr(1),mr=1),nr+er+(ar=(ir=Gt.apply(this,[_i,_e])).reduce(function(vr,yr){return vr+yr},0))>e||mr){if(ar>e){for(cr=Jt.apply(this,[_i,ir,e-(nr+er),e]),ur.push(cr.shift()),ur=[cr.pop()];cr.length;)or.push([cr.shift()]);ar=ir.slice(_i.length-(ur[0]?ur[0].length:0)).reduce(function(vr,yr){return vr+yr},0)}else ur=[_i];or.push(ur),nr=ar+tr,er=lr}else ur.push(_i),nr+=er+ar,er=lr}return hr=tr?function(vr,yr){return(yr?sr:"")+vr.join(" ")}:function(vr){return vr.join(" ")},or.map(hr)},Vt.splitTextToSize=function(St,e,_e){var _i,ir=(_e=_e||{}).fontSize||this.internal.getFontSize(),rr=function(ur){if(ur.widths&&ur.kerning)return{widths:ur.widths,kerning:ur.kerning};var or=this.internal.getFont(ur.fontName,ur.fontStyle);return or.metadata.Unicode?{widths:or.metadata.Unicode.widths||{0:1},kerning:or.metadata.Unicode.kerning||{}}:{font:or.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,_e);_i=Array.isArray(St)?St:String(St).split(/\r?\n/);var gr=1*this.internal.scaleFactor*e/ir;rr.textIndent=_e.textIndent?1*_e.textIndent*this.internal.scaleFactor/ir:0,rr.lineIndent=_e.lineIndent;var cr,tr,hr=[];for(cr=0,tr=_i.length;cr<tr;cr++)hr=hr.concat(Xt.apply(this,[_i[cr],gr,rr]));return hr},function(St){St.__fontmetrics__=St.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",_e={},_i={},ir=0;ir<e.length;ir++)_e[e[ir]]="0123456789abcdef"[ir],_i["0123456789abcdef"[ir]]=e[ir];var rr=function(or){return"0x"+parseInt(or,10).toString(16)},gr=St.__fontmetrics__.compress=function(or){var nr,er,ar,dr,lr=["{"];for(var sr in or){if(nr=or[sr],isNaN(parseInt(sr,10))?er="'"+sr+"'":(sr=parseInt(sr,10),er=(er=rr(sr).slice(2)).slice(0,-1)+_i[er.slice(-1)]),typeof nr=="number")nr<0?(ar=rr(nr).slice(3),dr="-"):(ar=rr(nr).slice(2),dr=""),ar=dr+ar.slice(0,-1)+_i[ar.slice(-1)];else{if(_typeof(nr)!=="object")throw new Error("Don't know what to do with value type "+_typeof(nr)+".");ar=gr(nr)}lr.push(er+ar)}return lr.push("}"),lr.join("")},cr=St.__fontmetrics__.uncompress=function(or){if(typeof or!="string")throw new Error("Invalid argument passed to uncompress.");for(var nr,er,ar,dr,lr={},sr=1,pr=lr,mr=[],vr="",yr="",br=or.length-1,_r=1;_r<br;_r+=1)(dr=or[_r])=="'"?nr?(ar=nr.join(""),nr=void 0):nr=[]:nr?nr.push(dr):dr=="{"?(mr.push([pr,ar]),pr={},ar=void 0):dr=="}"?((er=mr.pop())[0][er[1]]=pr,ar=void 0,pr=er[0]):dr=="-"?sr=-1:ar===void 0?_e.hasOwnProperty(dr)?(vr+=_e[dr],ar=parseInt(vr,16)*sr,sr=1,vr=""):vr+=dr:_e.hasOwnProperty(dr)?(yr+=_e[dr],pr[ar]=parseInt(yr,16)*sr,sr=1,ar=void 0,yr=""):yr+=dr;return lr},tr={codePages:["WinAnsiEncoding"],WinAnsiEncoding:cr("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},hr={Unicode:{Courier:tr,"Courier-Bold":tr,"Courier-BoldOblique":tr,"Courier-Oblique":tr,Helvetica:tr,"Helvetica-Bold":tr,"Helvetica-BoldOblique":tr,"Helvetica-Oblique":tr,"Times-Roman":tr,"Times-Bold":tr,"Times-BoldItalic":tr,"Times-Italic":tr}},ur={Unicode:{"Courier-Oblique":cr("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":cr("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":cr("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:cr("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":cr("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":cr("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:cr("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:cr("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":cr("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:cr("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":cr("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":cr("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":cr("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":cr("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};St.events.push(["addFont",function(or){var nr=or.font,er=ur.Unicode[nr.postScriptName];er&&(nr.metadata.Unicode={},nr.metadata.Unicode.widths=er.widths,nr.metadata.Unicode.kerning=er.kerning);var ar=hr.Unicode[nr.postScriptName];ar&&(nr.metadata.Unicode.encoding=ar,nr.encoding=ar.codePages[0])}])}(E.API),function(St){var e=function(_e){for(var _i=_e.length,ir=new Uint8Array(_i),rr=0;rr<_i;rr++)ir[rr]=_e.charCodeAt(rr);return ir};St.API.events.push(["addFont",function(_e){var _i=void 0,ir=_e.font,rr=_e.instance;if(!ir.isStandardFont){if(rr===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+ir.postScriptName+"').");if(typeof(_i=rr.existsFileInVFS(ir.postScriptName)===!1?rr.loadFile(ir.postScriptName):rr.getFileFromVFS(ir.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+ir.postScriptName+"').");(function(gr,cr){cr=/^\x00\x01\x00\x00/.test(cr)?e(cr):e(u(cr)),gr.metadata=St.API.TTFFont.open(cr),gr.metadata.Unicode=gr.metadata.Unicode||{encoding:{},kerning:{},widths:[]},gr.metadata.glyIdsUsed=[0]})(ir,_i)}}])}(E),function(St){function e(){return(n$1.canvg?Promise.resolve(n$1.canvg):__vitePreload(()=>import("./index.es.06606560.js"),[],import.meta.url)).catch(function(_e){return Promise.reject(new Error("Could not load canvg: "+_e))}).then(function(_e){return _e.default?_e.default:_e})}E.API.addSvgAsImage=function(_e,_i,ir,rr,gr,cr,tr,hr){if(isNaN(_i)||isNaN(ir))throw a.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(rr)||isNaN(gr))throw a.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var ur=document.createElement("canvas");ur.width=rr,ur.height=gr;var or=ur.getContext("2d");or.fillStyle="#fff",or.fillRect(0,0,ur.width,ur.height);var nr={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},er=this;return e().then(function(ar){return ar.fromString(or,_e,nr)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(ar){return ar.render(nr)}).then(function(){er.addImage(ur.toDataURL("image/jpeg",1),_i,ir,rr,gr,tr,hr)})}}(),E.API.putTotalPages=function(St){var e,_e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(St,"g"),_e=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(St,this.internal.getFont()),"g"),_e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var _i=1;_i<=this.internal.getNumberOfPages();_i++)for(var ir=0;ir<this.internal.pages[_i].length;ir++)this.internal.pages[_i][ir]=this.internal.pages[_i][ir].replace(e,_e);return this},E.API.viewerPreferences=function(St,e){var _e;St=St||{},e=e||!1;var _i,ir,rr,gr={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},cr=Object.keys(gr),tr=[],hr=0,ur=0,or=0;function nr(ar,dr){var lr,sr=!1;for(lr=0;lr<ar.length;lr+=1)ar[lr]===dr&&(sr=!0);return sr}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(gr)),this.internal.viewerpreferences.isSubscribed=!1),_e=this.internal.viewerpreferences.configuration,St==="reset"||e===!0){var er=cr.length;for(or=0;or<er;or+=1)_e[cr[or]].value=_e[cr[or]].defaultValue,_e[cr[or]].explicitSet=!1}if(_typeof(St)==="object"){for(ir in St)if(rr=St[ir],nr(cr,ir)&&rr!==void 0){if(_e[ir].type==="boolean"&&typeof rr=="boolean")_e[ir].value=rr;else if(_e[ir].type==="name"&&nr(_e[ir].valueSet,rr))_e[ir].value=rr;else if(_e[ir].type==="integer"&&Number.isInteger(rr))_e[ir].value=rr;else if(_e[ir].type==="array"){for(hr=0;hr<rr.length;hr+=1)if(_i=!0,rr[hr].length===1&&typeof rr[hr][0]=="number")tr.push(String(rr[hr]-1));else if(rr[hr].length>1){for(ur=0;ur<rr[hr].length;ur+=1)typeof rr[hr][ur]!="number"&&(_i=!1);_i===!0&&tr.push([rr[hr][0]-1,rr[hr][1]-1].join(" "))}_e[ir].value="["+tr.join(" ")+"]"}else _e[ir].value=_e[ir].defaultValue;_e[ir].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var ar,dr=[];for(ar in _e)_e[ar].explicitSet===!0&&(_e[ar].type==="name"?dr.push("/"+ar+" /"+_e[ar].value):dr.push("/"+ar+" "+_e[ar].value));dr.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+dr.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=_e,this},function(St){var e=function(){var _i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',ir=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),rr=unescape(encodeURIComponent(_i)),gr=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),cr=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),tr=unescape(encodeURIComponent("</x:xmpmeta>")),hr=rr.length+gr.length+cr.length+ir.length+tr.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+hr+" >>"),this.internal.write("stream"),this.internal.write(ir+rr+gr+cr+tr),this.internal.write("endstream"),this.internal.write("endobj")},_e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};St.addMetadata=function(_i,ir){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:_i,namespaceuri:ir||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",_e),this.internal.events.subscribe("postPutResources",e)),this}}(E.API),function(St){var e=St.API,_e=e.pdfEscape16=function(rr,gr){for(var cr,tr=gr.metadata.Unicode.widths,hr=["","0","00","000","0000"],ur=[""],or=0,nr=rr.length;or<nr;++or){if(cr=gr.metadata.characterToGlyph(rr.charCodeAt(or)),gr.metadata.glyIdsUsed.push(cr),gr.metadata.toUnicode[cr]=rr.charCodeAt(or),tr.indexOf(cr)==-1&&(tr.push(cr),tr.push([parseInt(gr.metadata.widthOfGlyph(cr),10)])),cr=="0")return ur.join("");cr=cr.toString(16),ur.push(hr[4-cr.length],cr)}return ur.join("")},_i=function(rr){var gr,cr,tr,hr,ur,or,nr;for(ur=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,tr=[],or=0,nr=(cr=Object.keys(rr).sort(function(er,ar){return er-ar})).length;or<nr;or++)gr=cr[or],tr.length>=100&&(ur+=`
`+tr.length+` beginbfchar
`+tr.join(`
`)+`
endbfchar`,tr=[]),rr[gr]!==void 0&&rr[gr]!==null&&typeof rr[gr].toString=="function"&&(hr=("0000"+rr[gr].toString(16)).slice(-4),gr=("0000"+(+gr).toString(16)).slice(-4),tr.push("<"+gr+"><"+hr+">"));return tr.length&&(ur+=`
`+tr.length+` beginbfchar
`+tr.join(`
`)+`
endbfchar
`),ur+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(rr){(function(gr){var cr=gr.font,tr=gr.out,hr=gr.newObject,ur=gr.putStream;if(cr.metadata instanceof St.API.TTFFont&&cr.encoding==="Identity-H"){for(var or=cr.metadata.Unicode.widths,nr=cr.metadata.subset.encode(cr.metadata.glyIdsUsed,1),er="",ar=0;ar<nr.length;ar++)er+=String.fromCharCode(nr[ar]);var dr=hr();ur({data:er,addLength1:!0,objectId:dr}),tr("endobj");var lr=hr();ur({data:_i(cr.metadata.toUnicode),addLength1:!0,objectId:lr}),tr("endobj");var sr=hr();tr("<<"),tr("/Type /FontDescriptor"),tr("/FontName /"+F(cr.fontName)),tr("/FontFile2 "+dr+" 0 R"),tr("/FontBBox "+St.API.PDFObject.convert(cr.metadata.bbox)),tr("/Flags "+cr.metadata.flags),tr("/StemV "+cr.metadata.stemV),tr("/ItalicAngle "+cr.metadata.italicAngle),tr("/Ascent "+cr.metadata.ascender),tr("/Descent "+cr.metadata.decender),tr("/CapHeight "+cr.metadata.capHeight),tr(">>"),tr("endobj");var pr=hr();tr("<<"),tr("/Type /Font"),tr("/BaseFont /"+F(cr.fontName)),tr("/FontDescriptor "+sr+" 0 R"),tr("/W "+St.API.PDFObject.convert(or)),tr("/CIDToGIDMap /Identity"),tr("/DW 1000"),tr("/Subtype /CIDFontType2"),tr("/CIDSystemInfo"),tr("<<"),tr("/Supplement 0"),tr("/Registry (Adobe)"),tr("/Ordering ("+cr.encoding+")"),tr(">>"),tr(">>"),tr("endobj"),cr.objectNumber=hr(),tr("<<"),tr("/Type /Font"),tr("/Subtype /Type0"),tr("/ToUnicode "+lr+" 0 R"),tr("/BaseFont /"+F(cr.fontName)),tr("/Encoding /"+cr.encoding),tr("/DescendantFonts ["+pr+" 0 R]"),tr(">>"),tr("endobj"),cr.isAlreadyPutted=!0}})(rr)}]),e.events.push(["putFont",function(rr){(function(gr){var cr=gr.font,tr=gr.out,hr=gr.newObject,ur=gr.putStream;if(cr.metadata instanceof St.API.TTFFont&&cr.encoding==="WinAnsiEncoding"){for(var or=cr.metadata.rawData,nr="",er=0;er<or.length;er++)nr+=String.fromCharCode(or[er]);var ar=hr();ur({data:nr,addLength1:!0,objectId:ar}),tr("endobj");var dr=hr();ur({data:_i(cr.metadata.toUnicode),addLength1:!0,objectId:dr}),tr("endobj");var lr=hr();tr("<<"),tr("/Descent "+cr.metadata.decender),tr("/CapHeight "+cr.metadata.capHeight),tr("/StemV "+cr.metadata.stemV),tr("/Type /FontDescriptor"),tr("/FontFile2 "+ar+" 0 R"),tr("/Flags 96"),tr("/FontBBox "+St.API.PDFObject.convert(cr.metadata.bbox)),tr("/FontName /"+F(cr.fontName)),tr("/ItalicAngle "+cr.metadata.italicAngle),tr("/Ascent "+cr.metadata.ascender),tr(">>"),tr("endobj"),cr.objectNumber=hr();for(var sr=0;sr<cr.metadata.hmtx.widths.length;sr++)cr.metadata.hmtx.widths[sr]=parseInt(cr.metadata.hmtx.widths[sr]*(1e3/cr.metadata.head.unitsPerEm));tr("<</Subtype/TrueType/Type/Font/ToUnicode "+dr+" 0 R/BaseFont/"+F(cr.fontName)+"/FontDescriptor "+lr+" 0 R/Encoding/"+cr.encoding+" /FirstChar 29 /LastChar 255 /Widths "+St.API.PDFObject.convert(cr.metadata.hmtx.widths)+">>"),tr("endobj"),cr.isAlreadyPutted=!0}})(rr)}]);var ir=function(rr){var gr,cr=rr.text||"",tr=rr.x,hr=rr.y,ur=rr.options||{},or=rr.mutex||{},nr=or.pdfEscape,er=or.activeFontKey,ar=or.fonts,dr=er,lr="",sr=0,pr="",mr=ar[dr].encoding;if(ar[dr].encoding!=="Identity-H")return{text:cr,x:tr,y:hr,options:ur,mutex:or};for(pr=cr,dr=er,Array.isArray(cr)&&(pr=cr[0]),sr=0;sr<pr.length;sr+=1)ar[dr].metadata.hasOwnProperty("cmap")&&(gr=ar[dr].metadata.cmap.unicode.codeMap[pr[sr].charCodeAt(0)]),gr||pr[sr].charCodeAt(0)<256&&ar[dr].metadata.hasOwnProperty("Unicode")?lr+=pr[sr]:lr+="";var vr="";return parseInt(dr.slice(1))<14||mr==="WinAnsiEncoding"?vr=nr(lr,dr).split("").map(function(yr){return yr.charCodeAt(0).toString(16)}).join(""):mr==="Identity-H"&&(vr=_e(lr,ar[dr])),or.isHex=!0,{text:vr,x:tr,y:hr,options:ur,mutex:or}};e.events.push(["postProcessText",function(rr){var gr=rr.text||"",cr=[],tr={text:gr,x:rr.x,y:rr.y,options:rr.options,mutex:rr.mutex};if(Array.isArray(gr)){var hr=0;for(hr=0;hr<gr.length;hr+=1)Array.isArray(gr[hr])&&gr[hr].length===3?cr.push([ir(Object.assign({},tr,{text:gr[hr][0]})).text,gr[hr][1],gr[hr][2]]):cr.push(ir(Object.assign({},tr,{text:gr[hr]})).text);rr.text=cr}else rr.text=ir(Object.assign({},tr,{text:gr})).text}])}(E),function(St){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};St.existsFileInVFS=function(_e){return e.call(this),this.internal.vFS[_e]!==void 0},St.addFileToVFS=function(_e,_i){return e.call(this),this.internal.vFS[_e]=_i,this},St.getFileFromVFS=function(_e){return e.call(this),this.internal.vFS[_e]!==void 0?this.internal.vFS[_e]:null}}(E.API),function(St){St.__bidiEngine__=St.prototype.__bidiEngine__=function(_i){var ir,rr,gr,cr,tr,hr,ur,or=e,nr=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],er=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],ar={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},dr={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},lr=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],sr=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),pr=!1,mr=0;this.__bidiEngine__={};var vr=function(Tr){var Br=Tr.charCodeAt(),Jr=Br>>8,Yr=dr[Jr];return Yr!==void 0?or[256*Yr+(255&Br)]:Jr===252||Jr===253?"AL":sr.test(Jr)?"L":Jr===8?"R":"N"},yr=function(Tr){for(var Br,Jr=0;Jr<Tr.length;Jr++){if((Br=vr(Tr.charAt(Jr)))==="L")return!1;if(Br==="R")return!0}return!1},br=function(Tr,Br,Jr,Yr){var Xr,Vr,$r,Lr,Er=Br[Yr];switch(Er){case"L":case"R":pr=!1;break;case"N":case"AN":break;case"EN":pr&&(Er="AN");break;case"AL":pr=!0,Er="R";break;case"WS":Er="N";break;case"CS":Yr<1||Yr+1>=Br.length||(Xr=Jr[Yr-1])!=="EN"&&Xr!=="AN"||(Vr=Br[Yr+1])!=="EN"&&Vr!=="AN"?Er="N":pr&&(Vr="AN"),Er=Vr===Xr?Vr:"N";break;case"ES":Er=(Xr=Yr>0?Jr[Yr-1]:"B")==="EN"&&Yr+1<Br.length&&Br[Yr+1]==="EN"?"EN":"N";break;case"ET":if(Yr>0&&Jr[Yr-1]==="EN"){Er="EN";break}if(pr){Er="N";break}for($r=Yr+1,Lr=Br.length;$r<Lr&&Br[$r]==="ET";)$r++;Er=$r<Lr&&Br[$r]==="EN"?"EN":"N";break;case"NSM":if(gr&&!cr){for(Lr=Br.length,$r=Yr+1;$r<Lr&&Br[$r]==="NSM";)$r++;if($r<Lr){var Hr=Tr[Yr],Gr=Hr>=1425&&Hr<=2303||Hr===64286;if(Xr=Br[$r],Gr&&(Xr==="R"||Xr==="AL")){Er="R";break}}}Er=Yr<1||(Xr=Br[Yr-1])==="B"?"N":Jr[Yr-1];break;case"B":pr=!1,ir=!0,Er=mr;break;case"S":rr=!0,Er="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":pr=!1;break;case"BN":Er="N"}return Er},_r=function(Tr,Br,Jr){var Yr=Tr.split("");return Jr&&xr(Yr,Jr,{hiLevel:mr}),Yr.reverse(),Br&&Br.reverse(),Yr.join("")},xr=function(Tr,Br,Jr){var Yr,Xr,Vr,$r,Lr,Er=-1,Hr=Tr.length,Gr=0,Cr=[],kr=mr?er:nr,Sr=[];for(pr=!1,ir=!1,rr=!1,Xr=0;Xr<Hr;Xr++)Sr[Xr]=vr(Tr[Xr]);for(Vr=0;Vr<Hr;Vr++){if(Lr=Gr,Cr[Vr]=br(Tr,Sr,Cr,Vr),Yr=240&(Gr=kr[Lr][ar[Cr[Vr]]]),Gr&=15,Br[Vr]=$r=kr[Gr][5],Yr>0)if(Yr===16){for(Xr=Er;Xr<Vr;Xr++)Br[Xr]=1;Er=-1}else Er=-1;if(kr[Gr][6])Er===-1&&(Er=Vr);else if(Er>-1){for(Xr=Er;Xr<Vr;Xr++)Br[Xr]=$r;Er=-1}Sr[Vr]==="B"&&(Br[Vr]=0),Jr.hiLevel|=$r}rr&&function(Pr,jr,Wr){for(var Kr=0;Kr<Wr;Kr++)if(Pr[Kr]==="S"){jr[Kr]=mr;for(var Qr=Kr-1;Qr>=0&&Pr[Qr]==="WS";Qr--)jr[Qr]=mr}}(Sr,Br,Hr)},Nr=function(Tr,Br,Jr,Yr,Xr){if(!(Xr.hiLevel<Tr)){if(Tr===1&&mr===1&&!ir)return Br.reverse(),void(Jr&&Jr.reverse());for(var Vr,$r,Lr,Er,Hr=Br.length,Gr=0;Gr<Hr;){if(Yr[Gr]>=Tr){for(Lr=Gr+1;Lr<Hr&&Yr[Lr]>=Tr;)Lr++;for(Er=Gr,$r=Lr-1;Er<$r;Er++,$r--)Vr=Br[Er],Br[Er]=Br[$r],Br[$r]=Vr,Jr&&(Vr=Jr[Er],Jr[Er]=Jr[$r],Jr[$r]=Vr);Gr=Lr}Gr++}}},zr=function(Tr,Br,Jr){var Yr=Tr.split(""),Xr={hiLevel:mr};return Jr||(Jr=[]),xr(Yr,Jr,Xr),function(Vr,$r,Lr){if(Lr.hiLevel!==0&&ur)for(var Er,Hr=0;Hr<Vr.length;Hr++)$r[Hr]===1&&(Er=lr.indexOf(Vr[Hr]))>=0&&(Vr[Hr]=lr[Er+1])}(Yr,Jr,Xr),Nr(2,Yr,Br,Jr,Xr),Nr(1,Yr,Br,Jr,Xr),Yr.join("")};return this.__bidiEngine__.doBidiReorder=function(Tr,Br,Jr){if(function(Xr,Vr){if(Vr)for(var $r=0;$r<Xr.length;$r++)Vr[$r]=$r;cr===void 0&&(cr=yr(Xr)),hr===void 0&&(hr=yr(Xr))}(Tr,Br),gr||!tr||hr)if(gr&&tr&&cr^hr)mr=cr?1:0,Tr=_r(Tr,Br,Jr);else if(!gr&&tr&&hr)mr=cr?1:0,Tr=zr(Tr,Br,Jr),Tr=_r(Tr,Br);else if(!gr||cr||tr||hr){if(gr&&!tr&&cr^hr)Tr=_r(Tr,Br),cr?(mr=0,Tr=zr(Tr,Br,Jr)):(mr=1,Tr=zr(Tr,Br,Jr),Tr=_r(Tr,Br));else if(gr&&cr&&!tr&&hr)mr=1,Tr=zr(Tr,Br,Jr),Tr=_r(Tr,Br);else if(!gr&&!tr&&cr^hr){var Yr=ur;cr?(mr=1,Tr=zr(Tr,Br,Jr),mr=0,ur=!1,Tr=zr(Tr,Br,Jr),ur=Yr):(mr=0,Tr=zr(Tr,Br,Jr),Tr=_r(Tr,Br),mr=1,ur=!1,Tr=zr(Tr,Br,Jr),ur=Yr,Tr=_r(Tr,Br))}}else mr=0,Tr=zr(Tr,Br,Jr);else mr=cr?1:0,Tr=zr(Tr,Br,Jr);return Tr},this.__bidiEngine__.setOptions=function(Tr){Tr&&(gr=Tr.isInputVisual,tr=Tr.isOutputVisual,cr=Tr.isInputRtl,hr=Tr.isOutputRtl,ur=Tr.isSymmetricSwapping)},this.__bidiEngine__.setOptions(_i),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],_e=new St.__bidiEngine__({isInputVisual:!0});St.API.events.push(["postProcessText",function(_i){var ir=_i.text,rr=(_i.x,_i.y,_i.options||{}),gr=(_i.mutex,rr.lang,[]);if(rr.isInputVisual=typeof rr.isInputVisual!="boolean"||rr.isInputVisual,_e.setOptions(rr),Object.prototype.toString.call(ir)==="[object Array]"){var cr=0;for(gr=[],cr=0;cr<ir.length;cr+=1)Object.prototype.toString.call(ir[cr])==="[object Array]"?gr.push([_e.doBidiReorder(ir[cr][0]),ir[cr][1],ir[cr][2]]):gr.push([_e.doBidiReorder(ir[cr])]);_i.text=gr}else _i.text=_e.doBidiReorder(ir);_e.setOptions({isInputVisual:!0})}])}(E),E.API.TTFFont=function(){function St(e){var _e;if(this.rawData=e,_e=this.contents=new ne(e),this.contents.pos=4,_e.readString(4)==="ttcf")throw new Error("TTCF not supported.");_e.pos=0,this.parse(),this.subset=new Le(this),this.registerTTF()}return St.open=function(e){return new St(e)},St.prototype.parse=function(){return this.directory=new ie(this.contents),this.head=new se(this),this.name=new pe(this),this.cmap=new ue(this),this.toUnicode={},this.hhea=new he(this),this.maxp=new ge(this),this.hmtx=new me(this),this.post=new fe(this),this.os2=new le(this),this.loca=new Ne(this),this.glyf=new be(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},St.prototype.registerTTF=function(){var e,_e,_i,ir,rr;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var gr,cr,tr,hr;for(hr=[],gr=0,cr=(tr=this.bbox).length;gr<cr;gr++)e=tr[gr],hr.push(Math.round(e*this.scaleFactor));return hr}.call(this),this.stemV=0,this.post.exists?(_i=255&(ir=this.post.italic_angle),(32768&(_e=ir>>16))!=0&&(_e=-(1+(65535^_e))),this.italicAngle=+(_e+"."+_i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(rr=this.familyClass)===1||rr===2||rr===3||rr===4||rr===5||rr===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},St.prototype.characterToGlyph=function(e){var _e;return((_e=this.cmap.unicode)!=null?_e.codeMap[e]:void 0)||0},St.prototype.widthOfGlyph=function(e){var _e;return _e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*_e},St.prototype.widthOfString=function(e,_e,_i){var ir,rr,gr,cr;for(gr=0,rr=0,cr=(e=""+e).length;0<=cr?rr<cr:rr>cr;rr=0<=cr?++rr:--rr)ir=e.charCodeAt(rr),gr+=this.widthOfGlyph(this.characterToGlyph(ir))+_i*(1e3/_e)||0;return gr*(_e/1e3)},St.prototype.lineHeight=function(e,_e){var _i;return _e==null&&(_e=!1),_i=_e?this.lineGap:0,(this.ascender+_i-this.decender)/1e3*e},St}();var re,ne=function(){function St(e){this.data=e!=null?e:[],this.pos=0,this.length=this.data.length}return St.prototype.readByte=function(){return this.data[this.pos++]},St.prototype.writeByte=function(e){return this.data[this.pos++]=e},St.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},St.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},St.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},St.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},St.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},St.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},St.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},St.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},St.prototype.readString=function(e){var _e,_i;for(_i=[],_e=0;0<=e?_e<e:_e>e;_e=0<=e?++_e:--_e)_i[_e]=String.fromCharCode(this.readByte());return _i.join("")},St.prototype.writeString=function(e){var _e,_i,ir;for(ir=[],_e=0,_i=e.length;0<=_i?_e<_i:_e>_i;_e=0<=_i?++_e:--_e)ir.push(this.writeByte(e.charCodeAt(_e)));return ir},St.prototype.readShort=function(){return this.readInt16()},St.prototype.writeShort=function(e){return this.writeInt16(e)},St.prototype.readLongLong=function(){var e,_e,_i,ir,rr,gr,cr,tr;return e=this.readByte(),_e=this.readByte(),_i=this.readByte(),ir=this.readByte(),rr=this.readByte(),gr=this.readByte(),cr=this.readByte(),tr=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^_e)+1099511627776*(255^_i)+4294967296*(255^ir)+16777216*(255^rr)+65536*(255^gr)+256*(255^cr)+(255^tr)+1):72057594037927940*e+281474976710656*_e+1099511627776*_i+4294967296*ir+16777216*rr+65536*gr+256*cr+tr},St.prototype.writeLongLong=function(e){var _e,_i;return _e=Math.floor(e/4294967296),_i=4294967295&e,this.writeByte(_e>>24&255),this.writeByte(_e>>16&255),this.writeByte(_e>>8&255),this.writeByte(255&_e),this.writeByte(_i>>24&255),this.writeByte(_i>>16&255),this.writeByte(_i>>8&255),this.writeByte(255&_i)},St.prototype.readInt=function(){return this.readInt32()},St.prototype.writeInt=function(e){return this.writeInt32(e)},St.prototype.read=function(e){var _e,_i;for(_e=[],_i=0;0<=e?_i<e:_i>e;_i=0<=e?++_i:--_i)_e.push(this.readByte());return _e},St.prototype.write=function(e){var _e,_i,ir,rr;for(rr=[],_i=0,ir=e.length;_i<ir;_i++)_e=e[_i],rr.push(this.writeByte(_e));return rr},St}(),ie=function(){var St;function e(_e){var _i,ir,rr;for(this.scalarType=_e.readInt(),this.tableCount=_e.readShort(),this.searchRange=_e.readShort(),this.entrySelector=_e.readShort(),this.rangeShift=_e.readShort(),this.tables={},ir=0,rr=this.tableCount;0<=rr?ir<rr:ir>rr;ir=0<=rr?++ir:--ir)_i={tag:_e.readString(4),checksum:_e.readInt(),offset:_e.readInt(),length:_e.readInt()},this.tables[_i.tag]=_i}return e.prototype.encode=function(_e){var _i,ir,rr,gr,cr,tr,hr,ur,or,nr,er,ar,dr;for(dr in er=Object.keys(_e).length,tr=Math.log(2),or=16*Math.floor(Math.log(er)/tr),gr=Math.floor(or/tr),ur=16*er-or,(ir=new ne).writeInt(this.scalarType),ir.writeShort(er),ir.writeShort(or),ir.writeShort(gr),ir.writeShort(ur),rr=16*er,hr=ir.pos+rr,cr=null,ar=[],_e)for(nr=_e[dr],ir.writeString(dr),ir.writeInt(St(nr)),ir.writeInt(hr),ir.writeInt(nr.length),ar=ar.concat(nr),dr==="head"&&(cr=hr),hr+=nr.length;hr%4;)ar.push(0),hr++;return ir.write(ar),_i=2981146554-St(ir.data),ir.pos=cr+8,ir.writeUInt32(_i),ir.data},St=function(_e){var _i,ir,rr,gr;for(_e=ve.call(_e);_e.length%4;)_e.push(0);for(rr=new ne(_e),ir=0,_i=0,gr=_e.length;_i<gr;_i=_i+=4)ir+=rr.readUInt32();return 4294967295&ir},e}(),ae={}.hasOwnProperty,oe=function(St,e){for(var _e in e)ae.call(e,_e)&&(St[_e]=e[_e]);function _i(){this.constructor=St}return _i.prototype=e.prototype,St.prototype=new _i,St.__super__=e.prototype,St};re=function(){function St(e){var _e;this.file=e,_e=this.file.directory.tables[this.tag],this.exists=!!_e,_e&&(this.offset=_e.offset,this.length=_e.length,this.parse(this.file.contents))}return St.prototype.parse=function(){},St.prototype.encode=function(){},St.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},St}();var se=function(St){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="head",e.prototype.parse=function(_e){return _e.pos=this.offset,this.version=_e.readInt(),this.revision=_e.readInt(),this.checkSumAdjustment=_e.readInt(),this.magicNumber=_e.readInt(),this.flags=_e.readShort(),this.unitsPerEm=_e.readShort(),this.created=_e.readLongLong(),this.modified=_e.readLongLong(),this.xMin=_e.readShort(),this.yMin=_e.readShort(),this.xMax=_e.readShort(),this.yMax=_e.readShort(),this.macStyle=_e.readShort(),this.lowestRecPPEM=_e.readShort(),this.fontDirectionHint=_e.readShort(),this.indexToLocFormat=_e.readShort(),this.glyphDataFormat=_e.readShort()},e.prototype.encode=function(_e){var _i;return(_i=new ne).writeInt(this.version),_i.writeInt(this.revision),_i.writeInt(this.checkSumAdjustment),_i.writeInt(this.magicNumber),_i.writeShort(this.flags),_i.writeShort(this.unitsPerEm),_i.writeLongLong(this.created),_i.writeLongLong(this.modified),_i.writeShort(this.xMin),_i.writeShort(this.yMin),_i.writeShort(this.xMax),_i.writeShort(this.yMax),_i.writeShort(this.macStyle),_i.writeShort(this.lowestRecPPEM),_i.writeShort(this.fontDirectionHint),_i.writeShort(_e),_i.writeShort(this.glyphDataFormat),_i.data},e}(),ce=function(){function St(e,_e){var _i,ir,rr,gr,cr,tr,hr,ur,or,nr,er,ar,dr,lr,sr,pr,mr;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=_e+e.readInt(),or=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(tr=0;tr<256;++tr)this.codeMap[tr]=e.readByte();break;case 4:for(er=e.readUInt16(),nr=er/2,e.pos+=6,rr=function(){var vr,yr;for(yr=[],tr=vr=0;0<=nr?vr<nr:vr>nr;tr=0<=nr?++vr:--vr)yr.push(e.readUInt16());return yr}(),e.pos+=2,dr=function(){var vr,yr;for(yr=[],tr=vr=0;0<=nr?vr<nr:vr>nr;tr=0<=nr?++vr:--vr)yr.push(e.readUInt16());return yr}(),hr=function(){var vr,yr;for(yr=[],tr=vr=0;0<=nr?vr<nr:vr>nr;tr=0<=nr?++vr:--vr)yr.push(e.readUInt16());return yr}(),ur=function(){var vr,yr;for(yr=[],tr=vr=0;0<=nr?vr<nr:vr>nr;tr=0<=nr?++vr:--vr)yr.push(e.readUInt16());return yr}(),ir=(this.length-e.pos+this.offset)/2,cr=function(){var vr,yr;for(yr=[],tr=vr=0;0<=ir?vr<ir:vr>ir;tr=0<=ir?++vr:--vr)yr.push(e.readUInt16());return yr}(),tr=sr=0,mr=rr.length;sr<mr;tr=++sr)for(lr=rr[tr],_i=pr=ar=dr[tr];ar<=lr?pr<=lr:pr>=lr;_i=ar<=lr?++pr:--pr)ur[tr]===0?gr=_i+hr[tr]:(gr=cr[ur[tr]/2+(_i-ar)-(nr-tr)]||0)!==0&&(gr+=hr[tr]),this.codeMap[_i]=65535&gr}e.pos=or}return St.encode=function(e,_e){var _i,ir,rr,gr,cr,tr,hr,ur,or,nr,er,ar,dr,lr,sr,pr,mr,vr,yr,br,_r,xr,Nr,zr,Tr,Br,Jr,Yr,Xr,Vr,$r,Lr,Er,Hr,Gr,Cr,kr,Sr,Pr,jr,Wr,Kr,Qr,on,pn,fn;switch(Yr=new ne,gr=Object.keys(e).sort(function(en,Ir){return en-Ir}),_e){case"macroman":for(dr=0,lr=function(){var en=[];for(ar=0;ar<256;++ar)en.push(0);return en}(),pr={0:0},rr={},Xr=0,Er=gr.length;Xr<Er;Xr++)pr[Qr=e[ir=gr[Xr]]]==null&&(pr[Qr]=++dr),rr[ir]={old:e[ir],new:pr[e[ir]]},lr[ir]=pr[e[ir]];return Yr.writeUInt16(1),Yr.writeUInt16(0),Yr.writeUInt32(12),Yr.writeUInt16(0),Yr.writeUInt16(262),Yr.writeUInt16(0),Yr.write(lr),{charMap:rr,subtable:Yr.data,maxGlyphID:dr+1};case"unicode":for(Br=[],or=[],mr=0,pr={},_i={},sr=hr=null,Vr=0,Hr=gr.length;Vr<Hr;Vr++)pr[yr=e[ir=gr[Vr]]]==null&&(pr[yr]=++mr),_i[ir]={old:yr,new:pr[yr]},cr=pr[yr]-ir,sr!=null&&cr===hr||(sr&&or.push(sr),Br.push(ir),hr=cr),sr=ir;for(sr&&or.push(sr),or.push(65535),Br.push(65535),zr=2*(Nr=Br.length),xr=2*Math.pow(Math.log(Nr)/Math.LN2,2),nr=Math.log(xr/2)/Math.LN2,_r=2*Nr-xr,tr=[],br=[],er=[],ar=$r=0,Gr=Br.length;$r<Gr;ar=++$r){if(Tr=Br[ar],ur=or[ar],Tr===65535){tr.push(0),br.push(0);break}if(Tr-(Jr=_i[Tr].new)>=32768)for(tr.push(0),br.push(2*(er.length+Nr-ar)),ir=Lr=Tr;Tr<=ur?Lr<=ur:Lr>=ur;ir=Tr<=ur?++Lr:--Lr)er.push(_i[ir].new);else tr.push(Jr-Tr),br.push(0)}for(Yr.writeUInt16(3),Yr.writeUInt16(1),Yr.writeUInt32(12),Yr.writeUInt16(4),Yr.writeUInt16(16+8*Nr+2*er.length),Yr.writeUInt16(0),Yr.writeUInt16(zr),Yr.writeUInt16(xr),Yr.writeUInt16(nr),Yr.writeUInt16(_r),Wr=0,Cr=or.length;Wr<Cr;Wr++)ir=or[Wr],Yr.writeUInt16(ir);for(Yr.writeUInt16(0),Kr=0,kr=Br.length;Kr<kr;Kr++)ir=Br[Kr],Yr.writeUInt16(ir);for(on=0,Sr=tr.length;on<Sr;on++)cr=tr[on],Yr.writeUInt16(cr);for(pn=0,Pr=br.length;pn<Pr;pn++)vr=br[pn],Yr.writeUInt16(vr);for(fn=0,jr=er.length;fn<jr;fn++)dr=er[fn],Yr.writeUInt16(dr);return{charMap:_i,subtable:Yr.data,maxGlyphID:mr+1}}},St}(),ue=function(St){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="cmap",e.prototype.parse=function(_e){var _i,ir,rr;for(_e.pos=this.offset,this.version=_e.readUInt16(),rr=_e.readUInt16(),this.tables=[],this.unicode=null,ir=0;0<=rr?ir<rr:ir>rr;ir=0<=rr?++ir:--ir)_i=new ce(_e,this.offset),this.tables.push(_i),_i.isUnicode&&this.unicode==null&&(this.unicode=_i);return!0},e.encode=function(_e,_i){var ir,rr;return _i==null&&(_i="macroman"),ir=ce.encode(_e,_i),(rr=new ne).writeUInt16(0),rr.writeUInt16(1),ir.table=rr.data.concat(ir.subtable),ir},e}(),he=function(St){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="hhea",e.prototype.parse=function(_e){return _e.pos=this.offset,this.version=_e.readInt(),this.ascender=_e.readShort(),this.decender=_e.readShort(),this.lineGap=_e.readShort(),this.advanceWidthMax=_e.readShort(),this.minLeftSideBearing=_e.readShort(),this.minRightSideBearing=_e.readShort(),this.xMaxExtent=_e.readShort(),this.caretSlopeRise=_e.readShort(),this.caretSlopeRun=_e.readShort(),this.caretOffset=_e.readShort(),_e.pos+=8,this.metricDataFormat=_e.readShort(),this.numberOfMetrics=_e.readUInt16()},e}(),le=function(St){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="OS/2",e.prototype.parse=function(_e){if(_e.pos=this.offset,this.version=_e.readUInt16(),this.averageCharWidth=_e.readShort(),this.weightClass=_e.readUInt16(),this.widthClass=_e.readUInt16(),this.type=_e.readShort(),this.ySubscriptXSize=_e.readShort(),this.ySubscriptYSize=_e.readShort(),this.ySubscriptXOffset=_e.readShort(),this.ySubscriptYOffset=_e.readShort(),this.ySuperscriptXSize=_e.readShort(),this.ySuperscriptYSize=_e.readShort(),this.ySuperscriptXOffset=_e.readShort(),this.ySuperscriptYOffset=_e.readShort(),this.yStrikeoutSize=_e.readShort(),this.yStrikeoutPosition=_e.readShort(),this.familyClass=_e.readShort(),this.panose=function(){var _i,ir;for(ir=[],_i=0;_i<10;++_i)ir.push(_e.readByte());return ir}(),this.charRange=function(){var _i,ir;for(ir=[],_i=0;_i<4;++_i)ir.push(_e.readInt());return ir}(),this.vendorID=_e.readString(4),this.selection=_e.readShort(),this.firstCharIndex=_e.readShort(),this.lastCharIndex=_e.readShort(),this.version>0&&(this.ascent=_e.readShort(),this.descent=_e.readShort(),this.lineGap=_e.readShort(),this.winAscent=_e.readShort(),this.winDescent=_e.readShort(),this.codePageRange=function(){var _i,ir;for(ir=[],_i=0;_i<2;_i=++_i)ir.push(_e.readInt());return ir}(),this.version>1))return this.xHeight=_e.readShort(),this.capHeight=_e.readShort(),this.defaultChar=_e.readShort(),this.breakChar=_e.readShort(),this.maxContext=_e.readShort()},e}(),fe=function(St){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="post",e.prototype.parse=function(_e){var _i,ir,rr;switch(_e.pos=this.offset,this.format=_e.readInt(),this.italicAngle=_e.readInt(),this.underlinePosition=_e.readShort(),this.underlineThickness=_e.readShort(),this.isFixedPitch=_e.readInt(),this.minMemType42=_e.readInt(),this.maxMemType42=_e.readInt(),this.minMemType1=_e.readInt(),this.maxMemType1=_e.readInt(),this.format){case 65536:break;case 131072:var gr;for(ir=_e.readUInt16(),this.glyphNameIndex=[],gr=0;0<=ir?gr<ir:gr>ir;gr=0<=ir?++gr:--gr)this.glyphNameIndex.push(_e.readUInt16());for(this.names=[],rr=[];_e.pos<this.offset+this.length;)_i=_e.readByte(),rr.push(this.names.push(_e.readString(_i)));return rr;case 151552:return ir=_e.readUInt16(),this.offsets=_e.read(ir);case 196608:break;case 262144:return this.map=function(){var cr,tr,hr;for(hr=[],gr=cr=0,tr=this.file.maxp.numGlyphs;0<=tr?cr<tr:cr>tr;gr=0<=tr?++cr:--cr)hr.push(_e.readUInt32());return hr}.call(this)}},e}(),de=function(St,e){this.raw=St,this.length=St.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},pe=function(St){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="name",e.prototype.parse=function(_e){var _i,ir,rr,gr,cr,tr,hr,ur,or,nr,er;for(_e.pos=this.offset,_e.readShort(),_i=_e.readShort(),tr=_e.readShort(),ir=[],gr=0;0<=_i?gr<_i:gr>_i;gr=0<=_i?++gr:--gr)ir.push({platformID:_e.readShort(),encodingID:_e.readShort(),languageID:_e.readShort(),nameID:_e.readShort(),length:_e.readShort(),offset:this.offset+tr+_e.readShort()});for(hr={},gr=or=0,nr=ir.length;or<nr;gr=++or)rr=ir[gr],_e.pos=rr.offset,ur=_e.readString(rr.length),cr=new de(ur,rr),hr[er=rr.nameID]==null&&(hr[er]=[]),hr[rr.nameID].push(cr);this.strings=hr,this.copyright=hr[0],this.fontFamily=hr[1],this.fontSubfamily=hr[2],this.uniqueSubfamily=hr[3],this.fontName=hr[4],this.version=hr[5];try{this.postscriptName=hr[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=hr[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=hr[7],this.manufacturer=hr[8],this.designer=hr[9],this.description=hr[10],this.vendorUrl=hr[11],this.designerUrl=hr[12],this.license=hr[13],this.licenseUrl=hr[14],this.preferredFamily=hr[15],this.preferredSubfamily=hr[17],this.compatibleFull=hr[18],this.sampleText=hr[19]},e}(),ge=function(St){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="maxp",e.prototype.parse=function(_e){return _e.pos=this.offset,this.version=_e.readInt(),this.numGlyphs=_e.readUInt16(),this.maxPoints=_e.readUInt16(),this.maxContours=_e.readUInt16(),this.maxCompositePoints=_e.readUInt16(),this.maxComponentContours=_e.readUInt16(),this.maxZones=_e.readUInt16(),this.maxTwilightPoints=_e.readUInt16(),this.maxStorage=_e.readUInt16(),this.maxFunctionDefs=_e.readUInt16(),this.maxInstructionDefs=_e.readUInt16(),this.maxStackElements=_e.readUInt16(),this.maxSizeOfInstructions=_e.readUInt16(),this.maxComponentElements=_e.readUInt16(),this.maxComponentDepth=_e.readUInt16()},e}(),me=function(St){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="hmtx",e.prototype.parse=function(_e){var _i,ir,rr,gr,cr,tr,hr;for(_e.pos=this.offset,this.metrics=[],_i=0,tr=this.file.hhea.numberOfMetrics;0<=tr?_i<tr:_i>tr;_i=0<=tr?++_i:--_i)this.metrics.push({advance:_e.readUInt16(),lsb:_e.readInt16()});for(rr=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var ur,or;for(or=[],_i=ur=0;0<=rr?ur<rr:ur>rr;_i=0<=rr?++ur:--ur)or.push(_e.readInt16());return or}(),this.widths=function(){var ur,or,nr,er;for(er=[],ur=0,or=(nr=this.metrics).length;ur<or;ur++)gr=nr[ur],er.push(gr.advance);return er}.call(this),ir=this.widths[this.widths.length-1],hr=[],_i=cr=0;0<=rr?cr<rr:cr>rr;_i=0<=rr?++cr:--cr)hr.push(this.widths.push(ir));return hr},e.prototype.forGlyph=function(_e){return _e in this.metrics?this.metrics[_e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[_e-this.metrics.length]}},e}(),ve=[].slice,be=function(St){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(_e){var _i,ir,rr,gr,cr,tr,hr,ur,or,nr;return _e in this.cache?this.cache[_e]:(gr=this.file.loca,_i=this.file.contents,ir=gr.indexOf(_e),(rr=gr.lengthOf(_e))===0?this.cache[_e]=null:(_i.pos=this.offset+ir,cr=(tr=new ne(_i.read(rr))).readShort(),ur=tr.readShort(),nr=tr.readShort(),hr=tr.readShort(),or=tr.readShort(),this.cache[_e]=cr===-1?new we(tr,ur,nr,hr,or):new ye(tr,cr,ur,nr,hr,or),this.cache[_e]))},e.prototype.encode=function(_e,_i,ir){var rr,gr,cr,tr,hr;for(cr=[],gr=[],tr=0,hr=_i.length;tr<hr;tr++)rr=_e[_i[tr]],gr.push(cr.length),rr&&(cr=cr.concat(rr.encode(ir)));return gr.push(cr.length),{table:cr,offsets:gr}},e}(),ye=function(){function St(e,_e,_i,ir,rr,gr){this.raw=e,this.numberOfContours=_e,this.xMin=_i,this.yMin=ir,this.xMax=rr,this.yMax=gr,this.compound=!1}return St.prototype.encode=function(){return this.raw.data},St}(),we=function(){function St(e,_e,_i,ir,rr){var gr,cr;for(this.raw=e,this.xMin=_e,this.yMin=_i,this.xMax=ir,this.yMax=rr,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],gr=this.raw;cr=gr.readShort(),this.glyphOffsets.push(gr.pos),this.glyphIDs.push(gr.readUInt16()),32&cr;)gr.pos+=1&cr?4:2,128&cr?gr.pos+=8:64&cr?gr.pos+=4:8&cr&&(gr.pos+=2)}return St.prototype.encode=function(){var e,_e,_i;for(_e=new ne(ve.call(this.raw.data)),e=0,_i=this.glyphIDs.length;e<_i;++e)_e.pos=this.glyphOffsets[e];return _e.data},St}(),Ne=function(St){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="loca",e.prototype.parse=function(_e){var _i,ir;return _e.pos=this.offset,_i=this.file.head.indexToLocFormat,this.offsets=_i===0?function(){var rr,gr;for(gr=[],ir=0,rr=this.length;ir<rr;ir+=2)gr.push(2*_e.readUInt16());return gr}.call(this):function(){var rr,gr;for(gr=[],ir=0,rr=this.length;ir<rr;ir+=4)gr.push(_e.readUInt32());return gr}.call(this)},e.prototype.indexOf=function(_e){return this.offsets[_e]},e.prototype.lengthOf=function(_e){return this.offsets[_e+1]-this.offsets[_e]},e.prototype.encode=function(_e,_i){for(var ir=new Uint32Array(this.offsets.length),rr=0,gr=0,cr=0;cr<ir.length;++cr)if(ir[cr]=rr,gr<_i.length&&_i[gr]==cr){++gr,ir[cr]=rr;var tr=this.offsets[cr],hr=this.offsets[cr+1]-tr;hr>0&&(rr+=hr)}for(var ur=new Array(4*ir.length),or=0;or<ir.length;++or)ur[4*or+3]=255&ir[or],ur[4*or+2]=(65280&ir[or])>>8,ur[4*or+1]=(16711680&ir[or])>>16,ur[4*or]=(4278190080&ir[or])>>24;return ur},e}(),Le=function(){function St(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return St.prototype.generateCmap=function(){var e,_e,_i,ir,rr;for(_e in ir=this.font.cmap.tables[0].codeMap,e={},rr=this.subset)_i=rr[_e],e[_e]=ir[_i];return e},St.prototype.glyphsFor=function(e){var _e,_i,ir,rr,gr,cr,tr;for(ir={},gr=0,cr=e.length;gr<cr;gr++)ir[rr=e[gr]]=this.font.glyf.glyphFor(rr);for(rr in _e=[],ir)(_i=ir[rr])!=null&&_i.compound&&_e.push.apply(_e,_i.glyphIDs);if(_e.length>0)for(rr in tr=this.glyphsFor(_e))_i=tr[rr],ir[rr]=_i;return ir},St.prototype.encode=function(e,_e){var _i,ir,rr,gr,cr,tr,hr,ur,or,nr,er,ar,dr,lr,sr;for(ir in _i=ue.encode(this.generateCmap(),"unicode"),gr=this.glyphsFor(e),er={0:0},sr=_i.charMap)er[(tr=sr[ir]).old]=tr.new;for(ar in nr=_i.maxGlyphID,gr)ar in er||(er[ar]=nr++);return ur=function(pr){var mr,vr;for(mr in vr={},pr)vr[pr[mr]]=mr;return vr}(er),or=Object.keys(ur).sort(function(pr,mr){return pr-mr}),dr=function(){var pr,mr,vr;for(vr=[],pr=0,mr=or.length;pr<mr;pr++)cr=or[pr],vr.push(ur[cr]);return vr}(),rr=this.font.glyf.encode(gr,dr,er),hr=this.font.loca.encode(rr.offsets,dr),lr={cmap:this.font.cmap.raw(),glyf:rr.table,loca:hr,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(_e)},this.font.os2.exists&&(lr["OS/2"]=this.font.os2.raw()),this.font.directory.encode(lr)},St}();E.API.PDFObject=function(){var St;function e(){}return St=function(_e,_i){return(Array(_i+1).join("0")+_e).slice(-_i)},e.convert=function(_e){var _i,ir,rr,gr;if(Array.isArray(_e))return"["+function(){var cr,tr,hr;for(hr=[],cr=0,tr=_e.length;cr<tr;cr++)_i=_e[cr],hr.push(e.convert(_i));return hr}().join(" ")+"]";if(typeof _e=="string")return"/"+_e;if(_e!=null&&_e.isString)return"("+_e+")";if(_e instanceof Date)return"(D:"+St(_e.getUTCFullYear(),4)+St(_e.getUTCMonth(),2)+St(_e.getUTCDate(),2)+St(_e.getUTCHours(),2)+St(_e.getUTCMinutes(),2)+St(_e.getUTCSeconds(),2)+"Z)";if({}.toString.call(_e)==="[object Object]"){for(ir in rr=["<<"],_e)gr=_e[ir],rr.push("/"+ir+" "+e.convert(gr));return rr.push(">>"),rr.join(`
`)}return""+_e},e}();var sweetalert2_all={exports:{}};/*!
* sweetalert2 v11.6.9
* Released under the MIT License.
*/(function(St,e){(function(_e,_i){St.exports=_i()})(commonjsGlobal,function(){var _e={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const _i="swal2-",ir=Dr=>{const Rr={};for(const rn in Dr)Rr[Dr[rn]]=_i+Dr[rn];return Rr},rr=ir(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),gr=ir(["success","warning","info","question","error"]),cr="SweetAlert2:",tr=Dr=>{const Rr=[];for(let rn=0;rn<Dr.length;rn++)Rr.indexOf(Dr[rn])===-1&&Rr.push(Dr[rn]);return Rr},hr=Dr=>Dr.charAt(0).toUpperCase()+Dr.slice(1),ur=Dr=>{console.warn(`${cr} ${typeof Dr=="object"?Dr.join(" "):Dr}`)},or=Dr=>{console.error(`${cr} ${Dr}`)},nr=[],er=Dr=>{nr.includes(Dr)||(nr.push(Dr),ur(Dr))},ar=(Dr,Rr)=>{er(`"${Dr}" is deprecated and will be removed in the next major release. Please use "${Rr}" instead.`)},dr=Dr=>typeof Dr=="function"?Dr():Dr,lr=Dr=>Dr&&typeof Dr.toPromise=="function",sr=Dr=>lr(Dr)?Dr.toPromise():Promise.resolve(Dr),pr=Dr=>Dr&&Promise.resolve(Dr)===Dr,mr=()=>document.body.querySelector(`.${rr.container}`),vr=Dr=>{const Rr=mr();return Rr?Rr.querySelector(Dr):null},yr=Dr=>vr(`.${Dr}`),br=()=>yr(rr.popup),_r=()=>yr(rr.icon),xr=()=>yr(rr["icon-content"]),Nr=()=>yr(rr.title),zr=()=>yr(rr["html-container"]),Tr=()=>yr(rr.image),Br=()=>yr(rr["progress-steps"]),Jr=()=>yr(rr["validation-message"]),Yr=()=>vr(`.${rr.actions} .${rr.confirm}`),Xr=()=>vr(`.${rr.actions} .${rr.deny}`),Vr=()=>yr(rr["input-label"]),$r=()=>vr(`.${rr.loader}`),Lr=()=>vr(`.${rr.actions} .${rr.cancel}`),Er=()=>yr(rr.actions),Hr=()=>yr(rr.footer),Gr=()=>yr(rr["timer-progress-bar"]),Cr=()=>yr(rr.close),kr=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Sr=()=>{const Dr=Array.from(br().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((rn,An)=>{const Hn=parseInt(rn.getAttribute("tabindex")),ls=parseInt(An.getAttribute("tabindex"));return Hn>ls?1:Hn<ls?-1:0}),Rr=Array.from(br().querySelectorAll(kr)).filter(rn=>rn.getAttribute("tabindex")!=="-1");return tr(Dr.concat(Rr)).filter(rn=>gn(rn))},Pr=()=>on(document.body,rr.shown)&&!on(document.body,rr["toast-shown"])&&!on(document.body,rr["no-backdrop"]),jr=()=>br()&&on(br(),rr.toast),Wr=()=>br().hasAttribute("data-loading"),Kr={previousBodyPadding:null},Qr=(Dr,Rr)=>{if(Dr.textContent="",Rr){const An=new DOMParser().parseFromString(Rr,"text/html");Array.from(An.querySelector("head").childNodes).forEach(Hn=>{Dr.appendChild(Hn)}),Array.from(An.querySelector("body").childNodes).forEach(Hn=>{Hn instanceof HTMLVideoElement||Hn instanceof HTMLAudioElement?Dr.appendChild(Hn.cloneNode(!0)):Dr.appendChild(Hn)})}},on=(Dr,Rr)=>{if(!Rr)return!1;const rn=Rr.split(/\s+/);for(let An=0;An<rn.length;An++)if(!Dr.classList.contains(rn[An]))return!1;return!0},pn=(Dr,Rr)=>{Array.from(Dr.classList).forEach(rn=>{!Object.values(rr).includes(rn)&&!Object.values(gr).includes(rn)&&!Object.values(Rr.showClass).includes(rn)&&Dr.classList.remove(rn)})},fn=(Dr,Rr,rn)=>{if(pn(Dr,Rr),Rr.customClass&&Rr.customClass[rn]){if(typeof Rr.customClass[rn]!="string"&&!Rr.customClass[rn].forEach){ur(`Invalid type of customClass.${rn}! Expected string or iterable object, got "${typeof Rr.customClass[rn]}"`);return}Mr(Dr,Rr.customClass[rn])}},en=(Dr,Rr)=>{if(!Rr)return null;switch(Rr){case"select":case"textarea":case"file":return Dr.querySelector(`.${rr.popup} > .${rr[Rr]}`);case"checkbox":return Dr.querySelector(`.${rr.popup} > .${rr.checkbox} input`);case"radio":return Dr.querySelector(`.${rr.popup} > .${rr.radio} input:checked`)||Dr.querySelector(`.${rr.popup} > .${rr.radio} input:first-child`);case"range":return Dr.querySelector(`.${rr.popup} > .${rr.range} input`);default:return Dr.querySelector(`.${rr.popup} > .${rr.input}`)}},Ir=Dr=>{if(Dr.focus(),Dr.type!=="file"){const Rr=Dr.value;Dr.value="",Dr.value=Rr}},Ur=(Dr,Rr,rn)=>{!Dr||!Rr||(typeof Rr=="string"&&(Rr=Rr.split(/\s+/).filter(Boolean)),Rr.forEach(An=>{Array.isArray(Dr)?Dr.forEach(Hn=>{rn?Hn.classList.add(An):Hn.classList.remove(An)}):rn?Dr.classList.add(An):Dr.classList.remove(An)}))},Mr=(Dr,Rr)=>{Ur(Dr,Rr,!0)},Zr=(Dr,Rr)=>{Ur(Dr,Rr,!1)},tn=(Dr,Rr)=>{const rn=Array.from(Dr.children);for(let An=0;An<rn.length;An++){const Hn=rn[An];if(Hn instanceof HTMLElement&&on(Hn,Rr))return Hn}},an=(Dr,Rr,rn)=>{rn===`${parseInt(rn)}`&&(rn=parseInt(rn)),rn||parseInt(rn)===0?Dr.style[Rr]=typeof rn=="number"?`${rn}px`:rn:Dr.style.removeProperty(Rr)},vn=function(Dr){let Rr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";Dr.style.display=Rr},_n=Dr=>{Dr.style.display="none"},dn=(Dr,Rr,rn,An)=>{const Hn=Dr.querySelector(Rr);Hn&&(Hn.style[rn]=An)},Pn=function(Dr,Rr){let rn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";Rr?vn(Dr,rn):_n(Dr)},gn=Dr=>!!(Dr&&(Dr.offsetWidth||Dr.offsetHeight||Dr.getClientRects().length)),In=()=>!gn(Yr())&&!gn(Xr())&&!gn(Lr()),Rn=Dr=>Dr.scrollHeight>Dr.clientHeight,zn=Dr=>{const Rr=window.getComputedStyle(Dr),rn=parseFloat(Rr.getPropertyValue("animation-duration")||"0"),An=parseFloat(Rr.getPropertyValue("transition-duration")||"0");return rn>0||An>0},Cn=function(Dr){let Rr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const rn=Gr();gn(rn)&&(Rr&&(rn.style.transition="none",rn.style.width="100%"),setTimeout(()=>{rn.style.transition=`width ${Dr/1e3}s linear`,rn.style.width="0%"},10))},Dn=()=>{const Dr=Gr(),Rr=parseInt(window.getComputedStyle(Dr).width);Dr.style.removeProperty("transition"),Dr.style.width="100%";const rn=parseInt(window.getComputedStyle(Dr).width),An=Rr/rn*100;Dr.style.removeProperty("transition"),Dr.style.width=`${An}%`},Kn=100,Nn={},ds=()=>{Nn.previousActiveElement instanceof HTMLElement?(Nn.previousActiveElement.focus(),Nn.previousActiveElement=null):document.body&&document.body.focus()},as=Dr=>new Promise(Rr=>{if(!Dr)return Rr();const rn=window.scrollX,An=window.scrollY;Nn.restoreFocusTimeout=setTimeout(()=>{ds(),Rr()},Kn),window.scrollTo(rn,An)}),cs=()=>typeof window>"u"||typeof document>"u",Ss=`
 <div aria-labelledby="${rr.title}" aria-describedby="${rr["html-container"]}" class="${rr.popup}" tabindex="-1">
   <button type="button" class="${rr.close}"></button>
   <ul class="${rr["progress-steps"]}"></ul>
   <div class="${rr.icon}"></div>
   <img class="${rr.image}" />
   <h2 class="${rr.title}" id="${rr.title}"></h2>
   <div class="${rr["html-container"]}" id="${rr["html-container"]}"></div>
   <input class="${rr.input}" />
   <input type="file" class="${rr.file}" />
   <div class="${rr.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${rr.select}"></select>
   <div class="${rr.radio}"></div>
   <label for="${rr.checkbox}" class="${rr.checkbox}">
     <input type="checkbox" />
     <span class="${rr.label}"></span>
   </label>
   <textarea class="${rr.textarea}"></textarea>
   <div class="${rr["validation-message"]}" id="${rr["validation-message"]}"></div>
   <div class="${rr.actions}">
     <div class="${rr.loader}"></div>
     <button type="button" class="${rr.confirm}"></button>
     <button type="button" class="${rr.deny}"></button>
     <button type="button" class="${rr.cancel}"></button>
   </div>
   <div class="${rr.footer}"></div>
   <div class="${rr["timer-progress-bar-container"]}">
     <div class="${rr["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),Ms=()=>{const Dr=mr();return Dr?(Dr.remove(),Zr([document.documentElement,document.body],[rr["no-backdrop"],rr["toast-shown"],rr["has-column"]]),!0):!1},xn=()=>{Nn.currentInstance.resetValidationMessage()},bn=()=>{const Dr=br(),Rr=tn(Dr,rr.input),rn=tn(Dr,rr.file),An=Dr.querySelector(`.${rr.range} input`),Hn=Dr.querySelector(`.${rr.range} output`),ls=tn(Dr,rr.select),Us=Dr.querySelector(`.${rr.checkbox} input`),_o=tn(Dr,rr.textarea);Rr.oninput=xn,rn.onchange=xn,ls.onchange=xn,Us.onchange=xn,_o.oninput=xn,An.oninput=()=>{xn(),Hn.value=An.value},An.onchange=()=>{xn(),Hn.value=An.value}},En=Dr=>typeof Dr=="string"?document.querySelector(Dr):Dr,Wn=Dr=>{const Rr=br();Rr.setAttribute("role",Dr.toast?"alert":"dialog"),Rr.setAttribute("aria-live",Dr.toast?"polite":"assertive"),Dr.toast||Rr.setAttribute("aria-modal","true")},es=Dr=>{window.getComputedStyle(Dr).direction==="rtl"&&Mr(mr(),rr.rtl)},fs=Dr=>{const Rr=Ms();if(cs()){or("SweetAlert2 requires document to initialize");return}const rn=document.createElement("div");rn.className=rr.container,Rr&&Mr(rn,rr["no-transition"]),Qr(rn,Ss);const An=En(Dr.target);An.appendChild(rn),Wn(Dr),es(An),bn()},Zn=(Dr,Rr)=>{Dr instanceof HTMLElement?Rr.appendChild(Dr):typeof Dr=="object"?ts(Dr,Rr):Dr&&Qr(Rr,Dr)},ts=(Dr,Rr)=>{Dr.jquery?us(Rr,Dr):Qr(Rr,Dr.toString())},us=(Dr,Rr)=>{if(Dr.textContent="",0 in Rr)for(let rn=0;rn in Rr;rn++)Dr.appendChild(Rr[rn].cloneNode(!0));else Dr.appendChild(Rr.cloneNode(!0))},vs=(()=>{if(cs())return!1;const Dr=document.createElement("div"),Rr={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const rn in Rr)if(Object.prototype.hasOwnProperty.call(Rr,rn)&&typeof Dr.style[rn]<"u")return Rr[rn];return!1})(),ys=()=>{const Dr=document.createElement("div");Dr.className=rr["scrollbar-measure"],document.body.appendChild(Dr);const Rr=Dr.getBoundingClientRect().width-Dr.clientWidth;return document.body.removeChild(Dr),Rr},Cs=(Dr,Rr)=>{const rn=Er(),An=$r();!Rr.showConfirmButton&&!Rr.showDenyButton&&!Rr.showCancelButton?_n(rn):vn(rn),fn(rn,Rr,"actions"),gs(rn,An,Rr),Qr(An,Rr.loaderHtml),fn(An,Rr,"loader")};function gs(Dr,Rr,rn){const An=Yr(),Hn=Xr(),ls=Lr();ws(An,"confirm",rn),ws(Hn,"deny",rn),ws(ls,"cancel",rn),os(An,Hn,ls,rn),rn.reverseButtons&&(rn.toast?(Dr.insertBefore(ls,An),Dr.insertBefore(Hn,An)):(Dr.insertBefore(ls,Rr),Dr.insertBefore(Hn,Rr),Dr.insertBefore(An,Rr)))}function os(Dr,Rr,rn,An){if(!An.buttonsStyling){Zr([Dr,Rr,rn],rr.styled);return}Mr([Dr,Rr,rn],rr.styled),An.confirmButtonColor&&(Dr.style.backgroundColor=An.confirmButtonColor,Mr(Dr,rr["default-outline"])),An.denyButtonColor&&(Rr.style.backgroundColor=An.denyButtonColor,Mr(Rr,rr["default-outline"])),An.cancelButtonColor&&(rn.style.backgroundColor=An.cancelButtonColor,Mr(rn,rr["default-outline"]))}function ws(Dr,Rr,rn){Pn(Dr,rn[`show${hr(Rr)}Button`],"inline-block"),Qr(Dr,rn[`${Rr}ButtonText`]),Dr.setAttribute("aria-label",rn[`${Rr}ButtonAriaLabel`]),Dr.className=rr[Rr],fn(Dr,rn,`${Rr}Button`),Mr(Dr,rn[`${Rr}ButtonClass`])}const Ns=(Dr,Rr)=>{const rn=Cr();Qr(rn,Rr.closeButtonHtml),fn(rn,Rr,"closeButton"),Pn(rn,Rr.showCloseButton),rn.setAttribute("aria-label",Rr.closeButtonAriaLabel)},Ls=(Dr,Rr)=>{const rn=mr();!rn||(Es(rn,Rr.backdrop),Ts(rn,Rr.position),Vs(rn,Rr.grow),fn(rn,Rr,"container"))};function Es(Dr,Rr){typeof Rr=="string"?Dr.style.background=Rr:Rr||Mr([document.documentElement,document.body],rr["no-backdrop"])}function Ts(Dr,Rr){Rr in rr?Mr(Dr,rr[Rr]):(ur('The "position" parameter is not valid, defaulting to "center"'),Mr(Dr,rr.center))}function Vs(Dr,Rr){if(Rr&&typeof Rr=="string"){const rn=`grow-${Rr}`;rn in rr&&Mr(Dr,rr[rn])}}const zs=["input","file","range","select","radio","checkbox","textarea"],Xs=(Dr,Rr)=>{const rn=br(),An=_e.innerParams.get(Dr),Hn=!An||Rr.input!==An.input;zs.forEach(ls=>{const Us=tn(rn,rr[ls]);lo(ls,Rr.inputAttributes),Us.className=rr[ls],Hn&&_n(Us)}),Rr.input&&(Hn&&Ys(Rr),Mo(Rr))},Ys=Dr=>{if(!Zs[Dr.input]){or(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${Dr.input}"`);return}const Rr=yl(Dr.input),rn=Zs[Dr.input](Rr,Dr);vn(Rr),setTimeout(()=>{Ir(rn)})},$a=Dr=>{for(let Rr=0;Rr<Dr.attributes.length;Rr++){const rn=Dr.attributes[Rr].name;["type","value","style"].includes(rn)||Dr.removeAttribute(rn)}},lo=(Dr,Rr)=>{const rn=en(br(),Dr);if(!!rn){$a(rn);for(const An in Rr)rn.setAttribute(An,Rr[An])}},Mo=Dr=>{const Rr=yl(Dr.input);typeof Dr.customClass=="object"&&Mr(Rr,Dr.customClass.input)},ho=(Dr,Rr)=>{(!Dr.placeholder||Rr.inputPlaceholder)&&(Dr.placeholder=Rr.inputPlaceholder)},co=(Dr,Rr,rn)=>{if(rn.inputLabel){Dr.id=rr.input;const An=document.createElement("label"),Hn=rr["input-label"];An.setAttribute("for",Dr.id),An.className=Hn,typeof rn.customClass=="object"&&Mr(An,rn.customClass.inputLabel),An.innerText=rn.inputLabel,Rr.insertAdjacentElement("beforebegin",An)}},yl=Dr=>tn(br(),rr[Dr]||rr.input),Ho=(Dr,Rr)=>{["string","number"].includes(typeof Rr)?Dr.value=`${Rr}`:pr(Rr)||ur(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof Rr}"`)},Zs={};Zs.text=Zs.email=Zs.password=Zs.number=Zs.tel=Zs.url=(Dr,Rr)=>(Ho(Dr,Rr.inputValue),co(Dr,Dr,Rr),ho(Dr,Rr),Dr.type=Rr.input,Dr),Zs.file=(Dr,Rr)=>(co(Dr,Dr,Rr),ho(Dr,Rr),Dr),Zs.range=(Dr,Rr)=>{const rn=Dr.querySelector("input"),An=Dr.querySelector("output");return Ho(rn,Rr.inputValue),rn.type=Rr.input,Ho(An,Rr.inputValue),co(rn,Dr,Rr),Dr},Zs.select=(Dr,Rr)=>{if(Dr.textContent="",Rr.inputPlaceholder){const rn=document.createElement("option");Qr(rn,Rr.inputPlaceholder),rn.value="",rn.disabled=!0,rn.selected=!0,Dr.appendChild(rn)}return co(Dr,Dr,Rr),Dr},Zs.radio=Dr=>(Dr.textContent="",Dr),Zs.checkbox=(Dr,Rr)=>{const rn=en(br(),"checkbox");rn.value="1",rn.id=rr.checkbox,rn.checked=Boolean(Rr.inputValue);const An=Dr.querySelector("span");return Qr(An,Rr.inputPlaceholder),rn},Zs.textarea=(Dr,Rr)=>{Ho(Dr,Rr.inputValue),ho(Dr,Rr),co(Dr,Dr,Rr);const rn=An=>parseInt(window.getComputedStyle(An).marginLeft)+parseInt(window.getComputedStyle(An).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const An=parseInt(window.getComputedStyle(br()).width),Hn=()=>{const ls=Dr.offsetWidth+rn(Dr);ls>An?br().style.width=`${ls}px`:br().style.width=null};new MutationObserver(Hn).observe(Dr,{attributes:!0,attributeFilter:["style"]})}}),Dr};const Wl=(Dr,Rr)=>{const rn=zr();fn(rn,Rr,"htmlContainer"),Rr.html?(Zn(Rr.html,rn),vn(rn,"block")):Rr.text?(rn.textContent=Rr.text,vn(rn,"block")):_n(rn),Xs(Dr,Rr)},Gl=(Dr,Rr)=>{const rn=Hr();Pn(rn,Rr.footer),Rr.footer&&Zn(Rr.footer,rn),fn(rn,Rr,"footer")},Hu=(Dr,Rr)=>{const rn=_e.innerParams.get(Dr),An=_r();if(rn&&Rr.icon===rn.icon){qu(An,Rr),Wu(An,Rr);return}if(!Rr.icon&&!Rr.iconHtml){_n(An);return}if(Rr.icon&&Object.keys(gr).indexOf(Rr.icon)===-1){or(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${Rr.icon}"`),_n(An);return}vn(An),qu(An,Rr),Wu(An,Rr),Mr(An,Rr.showClass.icon)},Wu=(Dr,Rr)=>{for(const rn in gr)Rr.icon!==rn&&Zr(Dr,gr[rn]);Mr(Dr,gr[Rr.icon]),Su(Dr,Rr),gp(),fn(Dr,Rr,"icon")},gp=()=>{const Dr=br(),Rr=window.getComputedStyle(Dr).getPropertyValue("background-color"),rn=Dr.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let An=0;An<rn.length;An++)rn[An].style.backgroundColor=Rr},Xl=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,Gu=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,qu=(Dr,Rr)=>{let rn=Dr.innerHTML,An;Rr.iconHtml?An=Xu(Rr.iconHtml):Rr.icon==="success"?(An=Xl,rn=rn.replace(/ style=".*?"/g,"")):Rr.icon==="error"?An=Gu:An=Xu({question:"?",warning:"!",info:"i"}[Rr.icon]),rn.trim()!==An.trim()&&Qr(Dr,An)},Su=(Dr,Rr)=>{if(!!Rr.iconColor){Dr.style.color=Rr.iconColor,Dr.style.borderColor=Rr.iconColor;for(const rn of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])dn(Dr,rn,"backgroundColor",Rr.iconColor);dn(Dr,".swal2-success-ring","borderColor",Rr.iconColor)}},Xu=Dr=>`<div class="${rr["icon-content"]}">${Dr}</div>`,Yu=(Dr,Rr)=>{const rn=Tr();if(!Rr.imageUrl){_n(rn);return}vn(rn,""),rn.setAttribute("src",Rr.imageUrl),rn.setAttribute("alt",Rr.imageAlt),an(rn,"width",Rr.imageWidth),an(rn,"height",Rr.imageHeight),rn.className=rr.image,fn(rn,Rr,"image")},vp=(Dr,Rr)=>{const rn=mr(),An=br();Rr.toast?(an(rn,"width",Rr.width),An.style.width="100%",An.insertBefore($r(),_r())):an(An,"width",Rr.width),an(An,"padding",Rr.padding),Rr.color&&(An.style.color=Rr.color),Rr.background&&(An.style.background=Rr.background),_n(Jr()),Yl(An,Rr)},Yl=(Dr,Rr)=>{Dr.className=`${rr.popup} ${gn(Dr)?Rr.showClass.popup:""}`,Rr.toast?(Mr([document.documentElement,document.body],rr["toast-shown"]),Mr(Dr,rr.toast)):Mr(Dr,rr.modal),fn(Dr,Rr,"popup"),typeof Rr.customClass=="string"&&Mr(Dr,Rr.customClass),Rr.icon&&Mr(Dr,rr[`icon-${Rr.icon}`])},yp=(Dr,Rr)=>{const rn=Br();if(!Rr.progressSteps||Rr.progressSteps.length===0){_n(rn);return}vn(rn),rn.textContent="",Rr.currentProgressStep>=Rr.progressSteps.length&&ur("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),Rr.progressSteps.forEach((An,Hn)=>{const ls=qs(An);if(rn.appendChild(ls),Hn===Rr.currentProgressStep&&Mr(ls,rr["active-progress-step"]),Hn!==Rr.progressSteps.length-1){const Us=Ku(Rr);rn.appendChild(Us)}})},qs=Dr=>{const Rr=document.createElement("li");return Mr(Rr,rr["progress-step"]),Qr(Rr,Dr),Rr},Ku=Dr=>{const Rr=document.createElement("li");return Mr(Rr,rr["progress-step-line"]),Dr.progressStepsDistance&&an(Rr,"width",Dr.progressStepsDistance),Rr},Qu=(Dr,Rr)=>{const rn=Nr();Pn(rn,Rr.title||Rr.titleText,"block"),Rr.title&&Zn(Rr.title,rn),Rr.titleText&&(rn.innerText=Rr.titleText),fn(rn,Rr,"title")},Au=(Dr,Rr)=>{vp(Dr,Rr),Ls(Dr,Rr),yp(Dr,Rr),Hu(Dr,Rr),Yu(Dr,Rr),Qu(Dr,Rr),Ns(Dr,Rr),Wl(Dr,Rr),Cs(Dr,Rr),Gl(Dr,Rr),typeof Rr.didRender=="function"&&Rr.didRender(br())};function Kl(){const Dr=_e.innerParams.get(this);if(!Dr)return;const Rr=_e.domCache.get(this);_n(Rr.loader),jr()?Dr.icon&&vn(_r()):bp(Rr),Zr([Rr.popup,Rr.actions],rr.loading),Rr.popup.removeAttribute("aria-busy"),Rr.popup.removeAttribute("data-loading"),Rr.confirmButton.disabled=!1,Rr.denyButton.disabled=!1,Rr.cancelButton.disabled=!1}const bp=Dr=>{const Rr=Dr.popup.getElementsByClassName(Dr.loader.getAttribute("data-button-to-replace"));Rr.length?vn(Rr[0],"inline-block"):In()&&_n(Dr.actions)};function Ao(Dr){const Rr=_e.innerParams.get(Dr||this),rn=_e.domCache.get(Dr||this);return rn?en(rn.popup,Rr.input):null}const Ql=()=>gn(br()),so=()=>Yr()&&Yr().click(),Cu=()=>Xr()&&Xr().click(),Ju=()=>Lr()&&Lr().click(),_l=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Eu=Dr=>{Dr.keydownTarget&&Dr.keydownHandlerAdded&&(Dr.keydownTarget.removeEventListener("keydown",Dr.keydownHandler,{capture:Dr.keydownListenerCapture}),Dr.keydownHandlerAdded=!1)},wp=(Dr,Rr,rn,An)=>{Eu(Rr),rn.toast||(Rr.keydownHandler=Hn=>_p(Dr,Hn,An),Rr.keydownTarget=rn.keydownListenerCapture?window:br(),Rr.keydownListenerCapture=rn.keydownListenerCapture,Rr.keydownTarget.addEventListener("keydown",Rr.keydownHandler,{capture:Rr.keydownListenerCapture}),Rr.keydownHandlerAdded=!0)},Jl=(Dr,Rr,rn)=>{const An=Sr();if(An.length)return Rr=Rr+rn,Rr===An.length?Rr=0:Rr===-1&&(Rr=An.length-1),An[Rr].focus();br().focus()},Zu=["ArrowRight","ArrowDown"],ku=["ArrowLeft","ArrowUp"],_p=(Dr,Rr,rn)=>{const An=_e.innerParams.get(Dr);!An||Rr.isComposing||Rr.keyCode===229||(An.stopKeydownPropagation&&Rr.stopPropagation(),Rr.key==="Enter"?xp(Dr,Rr,An):Rr.key==="Tab"?Sp(Rr,An):[...Zu,...ku].includes(Rr.key)?Wo(Rr.key):Rr.key==="Escape"&&Zl(Rr,An,rn))},xp=(Dr,Rr,rn)=>{if(!!dr(rn.allowEnterKey)&&Rr.target&&Dr.getInput()&&Rr.target instanceof HTMLElement&&Rr.target.outerHTML===Dr.getInput().outerHTML){if(["textarea","file"].includes(rn.input))return;so(),Rr.preventDefault()}},Sp=(Dr,Rr)=>{const rn=Dr.target,An=Sr();let Hn=-1;for(let ls=0;ls<An.length;ls++)if(rn===An[ls]){Hn=ls;break}Dr.shiftKey?Jl(Rr,Hn,-1):Jl(Rr,Hn,1),Dr.stopPropagation(),Dr.preventDefault()},Wo=Dr=>{const Rr=Yr(),rn=Xr(),An=Lr();if(document.activeElement instanceof HTMLElement&&![Rr,rn,An].includes(document.activeElement))return;const Hn=Zu.includes(Dr)?"nextElementSibling":"previousElementSibling";let ls=document.activeElement;for(let Us=0;Us<Er().children.length;Us++){if(ls=ls[Hn],!ls)return;if(ls instanceof HTMLButtonElement&&gn(ls))break}ls instanceof HTMLButtonElement&&ls.focus()},Zl=(Dr,Rr,rn)=>{dr(Rr.allowEscapeKey)&&(Dr.preventDefault(),rn(_l.esc))};var Io={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const _f=()=>{Array.from(document.body.children).forEach(Rr=>{Rr===mr()||Rr.contains(mr())||(Rr.hasAttribute("aria-hidden")&&Rr.setAttribute("data-previous-aria-hidden",Rr.getAttribute("aria-hidden")),Rr.setAttribute("aria-hidden","true"))})},to=()=>{Array.from(document.body.children).forEach(Rr=>{Rr.hasAttribute("data-previous-aria-hidden")?(Rr.setAttribute("aria-hidden",Rr.getAttribute("data-previous-aria-hidden")),Rr.removeAttribute("data-previous-aria-hidden")):Rr.removeAttribute("aria-hidden")})},Ap=()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!on(document.body,rr.iosfix)){const Rr=document.body.scrollTop;document.body.style.top=`${Rr*-1}px`,Mr(document.body,rr.iosfix),bs(),_d()}},_d=()=>{const Dr=navigator.userAgent,Rr=!!Dr.match(/iPad/i)||!!Dr.match(/iPhone/i),rn=!!Dr.match(/WebKit/i);Rr&&rn&&!Dr.match(/CriOS/i)&&br().scrollHeight>window.innerHeight-44&&(mr().style.paddingBottom=`${44}px`)},bs=()=>{const Dr=mr();let Rr;Dr.ontouchstart=rn=>{Rr=Cp(rn)},Dr.ontouchmove=rn=>{Rr&&(rn.preventDefault(),rn.stopPropagation())}},Cp=Dr=>{const Rr=Dr.target,rn=mr();return Ep(Dr)||Oo(Dr)?!1:Rr===rn||!Rn(rn)&&Rr instanceof HTMLElement&&Rr.tagName!=="INPUT"&&Rr.tagName!=="TEXTAREA"&&!(Rn(zr())&&zr().contains(Rr))},Ep=Dr=>Dr.touches&&Dr.touches.length&&Dr.touches[0].touchType==="stylus",Oo=Dr=>Dr.touches&&Dr.touches.length>1,tp=()=>{if(on(document.body,rr.iosfix)){const Dr=parseInt(document.body.style.top,10);Zr(document.body,rr.iosfix),document.body.style.top="",document.body.scrollTop=Dr*-1}},ep=()=>{Kr.previousBodyPadding===null&&document.body.scrollHeight>window.innerHeight&&(Kr.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Kr.previousBodyPadding+ys()}px`)},_h=()=>{Kr.previousBodyPadding!==null&&(document.body.style.paddingRight=`${Kr.previousBodyPadding}px`,Kr.previousBodyPadding=null)};function _c(Dr,Rr,rn,An){jr()?Ol(Dr,An):(as(rn).then(()=>Ol(Dr,An)),Eu(Nn)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(Rr.setAttribute("style","display:none !important"),Rr.removeAttribute("class"),Rr.innerHTML=""):Rr.remove(),Pr()&&(_h(),tp(),to()),kp()}function kp(){Zr([document.documentElement,document.body],[rr.shown,rr["height-auto"],rr["no-backdrop"],rr["toast-shown"]])}function tu(Dr){Dr=Tp(Dr);const Rr=Io.swalPromiseResolve.get(this),rn=Pu(this);this.isAwaitingPromise()?Dr.isDismissed||(bo(this),Rr(Dr)):rn&&Rr(Dr)}function Pp(){return!!_e.awaitingPromise.get(this)}const Pu=Dr=>{const Rr=br();if(!Rr)return!1;const rn=_e.innerParams.get(Dr);if(!rn||on(Rr,rn.hideClass.popup))return!1;Zr(Rr,rn.showClass.popup),Mr(Rr,rn.hideClass.popup);const An=mr();return Zr(An,rn.showClass.backdrop),Mr(An,rn.hideClass.backdrop),Il(Dr,Rr,rn),!0};function Ml(Dr){const Rr=Io.swalPromiseReject.get(this);bo(this),Rr&&Rr(Dr)}const bo=Dr=>{Dr.isAwaitingPromise()&&(_e.awaitingPromise.delete(Dr),_e.innerParams.get(Dr)||Dr._destroy())},Tp=Dr=>typeof Dr>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},Dr),Il=(Dr,Rr,rn)=>{const An=mr(),Hn=vs&&zn(Rr);typeof rn.willClose=="function"&&rn.willClose(Rr),Hn?Tu(Dr,Rr,An,rn.returnFocus,rn.didClose):_c(Dr,An,rn.returnFocus,rn.didClose)},Tu=(Dr,Rr,rn,An,Hn)=>{Nn.swalCloseEventFinishedCallback=_c.bind(null,Dr,rn,An,Hn),Rr.addEventListener(vs,function(ls){ls.target===Rr&&(Nn.swalCloseEventFinishedCallback(),delete Nn.swalCloseEventFinishedCallback)})},Ol=(Dr,Rr)=>{setTimeout(()=>{typeof Rr=="function"&&Rr.bind(Dr.params)(),Dr._destroy()})};function Fu(Dr,Rr,rn){const An=_e.domCache.get(Dr);Rr.forEach(Hn=>{An[Hn].disabled=rn})}function Lu(Dr,Rr){if(!!Dr)if(Dr.type==="radio"){const An=Dr.parentNode.parentNode.querySelectorAll("input");for(let Hn=0;Hn<An.length;Hn++)An[Hn].disabled=Rr}else Dr.disabled=Rr}function rp(){Fu(this,["confirmButton","denyButton","cancelButton"],!1)}function np(){Fu(this,["confirmButton","denyButton","cancelButton"],!0)}function Go(){Lu(this.getInput(),!1)}function xl(){Lu(this.getInput(),!0)}function Fp(Dr){const Rr=_e.domCache.get(this),rn=_e.innerParams.get(this);Qr(Rr.validationMessage,Dr),Rr.validationMessage.className=rr["validation-message"],rn.customClass&&rn.customClass.validationMessage&&Mr(Rr.validationMessage,rn.customClass.validationMessage),vn(Rr.validationMessage);const An=this.getInput();An&&(An.setAttribute("aria-invalid",!0),An.setAttribute("aria-describedby",rr["validation-message"]),Ir(An),Mr(An,rr.inputerror))}function Sl(){const Dr=_e.domCache.get(this);Dr.validationMessage&&_n(Dr.validationMessage);const Rr=this.getInput();Rr&&(Rr.removeAttribute("aria-invalid"),Rr.removeAttribute("aria-describedby"),Zr(Rr,rr.inputerror))}function Co(){return _e.domCache.get(this).progressSteps}const Do={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Dl=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Lp={},eu=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],sp=Dr=>Object.prototype.hasOwnProperty.call(Do,Dr),iu=Dr=>Dl.indexOf(Dr)!==-1,Nl=Dr=>Lp[Dr],ap=Dr=>{sp(Dr)||ur(`Unknown parameter "${Dr}"`)},ru=Dr=>{eu.includes(Dr)&&ur(`The parameter "${Dr}" is incompatible with toasts`)},Mu=Dr=>{Nl(Dr)&&ar(Dr,Nl(Dr))},Iu=Dr=>{Dr.backdrop===!1&&Dr.allowOutsideClick&&ur('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const Rr in Dr)ap(Rr),Dr.toast&&ru(Rr),Mu(Rr)};function lp(Dr){const Rr=br(),rn=_e.innerParams.get(this);if(!Rr||on(Rr,rn.hideClass.popup))return ur("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const An=Mp(Dr),Hn=Object.assign({},rn,An);Au(this,Hn),_e.innerParams.set(this,Hn),Object.defineProperties(this,{params:{value:Object.assign({},this.params,Dr),writable:!1,enumerable:!0}})}const Mp=Dr=>{const Rr={};return Object.keys(Dr).forEach(rn=>{iu(rn)?Rr[rn]=Dr[rn]:ur(`Invalid parameter to update: ${rn}`)}),Rr};function nu(){const Dr=_e.domCache.get(this),Rr=_e.innerParams.get(this);if(!Rr){su(this);return}Dr.popup&&Nn.swalCloseEventFinishedCallback&&(Nn.swalCloseEventFinishedCallback(),delete Nn.swalCloseEventFinishedCallback),typeof Rr.didDestroy=="function"&&Rr.didDestroy(),Rl(this)}const Rl=Dr=>{su(Dr),delete Dr.params,delete Nn.keydownHandler,delete Nn.keydownTarget,delete Nn.currentInstance},su=Dr=>{Dr.isAwaitingPromise()?(No(_e,Dr),_e.awaitingPromise.set(Dr,!0)):(No(Io,Dr),No(_e,Dr))},No=(Dr,Rr)=>{for(const rn in Dr)Dr[rn].delete(Rr)};var au=Object.freeze({__proto__:null,hideLoading:Kl,disableLoading:Kl,getInput:Ao,close:tu,isAwaitingPromise:Pp,rejectPromise:Ml,handleAwaitingPromise:bo,closePopup:tu,closeModal:tu,closeToast:tu,enableButtons:rp,disableButtons:np,enableInput:Go,disableInput:xl,showValidationMessage:Fp,resetValidationMessage:Sl,getProgressSteps:Co,update:lp,_destroy:nu});const Fr=Dr=>{let Rr=br();Rr||new $l,Rr=br();const rn=$r();jr()?_n(_r()):sn(Rr,Dr),vn(rn),Rr.setAttribute("data-loading","true"),Rr.setAttribute("aria-busy","true"),Rr.focus()},sn=(Dr,Rr)=>{const rn=Er(),An=$r();!Rr&&gn(Yr())&&(Rr=Yr()),vn(rn),Rr&&(_n(Rr),An.setAttribute("data-button-to-replace",Rr.className)),An.parentNode.insertBefore(An,Rr),Mr([Dr,rn],rr.loading)},Sn=(Dr,Rr)=>{Rr.input==="select"||Rr.input==="radio"?ss(Dr,Rr):["text","email","number","tel","textarea"].includes(Rr.input)&&(lr(Rr.inputValue)||pr(Rr.inputValue))&&(Fr(Yr()),ps(Dr,Rr))},kn=(Dr,Rr)=>{const rn=Dr.getInput();if(!rn)return null;switch(Rr.input){case"checkbox":return On(rn);case"radio":return Un(rn);case"file":return Jn(rn);default:return Rr.inputAutoTrim?rn.value.trim():rn.value}},On=Dr=>Dr.checked?1:0,Un=Dr=>Dr.checked?Dr.value:null,Jn=Dr=>Dr.files.length?Dr.getAttribute("multiple")!==null?Dr.files:Dr.files[0]:null,ss=(Dr,Rr)=>{const rn=br(),An=Hn=>{_s[Rr.input](rn,xs(Hn),Rr)};lr(Rr.inputOptions)||pr(Rr.inputOptions)?(Fr(Yr()),sr(Rr.inputOptions).then(Hn=>{Dr.hideLoading(),An(Hn)})):typeof Rr.inputOptions=="object"?An(Rr.inputOptions):or(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof Rr.inputOptions}`)},ps=(Dr,Rr)=>{const rn=Dr.getInput();_n(rn),sr(Rr.inputValue).then(An=>{rn.value=Rr.input==="number"?`${parseFloat(An)||0}`:`${An}`,vn(rn),rn.focus(),Dr.hideLoading()}).catch(An=>{or(`Error in inputValue promise: ${An}`),rn.value="",vn(rn),rn.focus(),Dr.hideLoading()})},_s={select:(Dr,Rr,rn)=>{const An=tn(Dr,rr.select),Hn=(ls,Us,_o)=>{const io=document.createElement("option");io.value=_o,Qr(io,Us),io.selected=ks(_o,rn.inputValue),ls.appendChild(io)};Rr.forEach(ls=>{const Us=ls[0],_o=ls[1];if(Array.isArray(_o)){const io=document.createElement("optgroup");io.label=Us,io.disabled=!1,An.appendChild(io),_o.forEach(Tl=>Hn(io,Tl[1],Tl[0]))}else Hn(An,_o,Us)}),An.focus()},radio:(Dr,Rr,rn)=>{const An=tn(Dr,rr.radio);Rr.forEach(ls=>{const Us=ls[0],_o=ls[1],io=document.createElement("input"),Tl=document.createElement("label");io.type="radio",io.name=rr.radio,io.value=Us,ks(Us,rn.inputValue)&&(io.checked=!0);const Vu=document.createElement("span");Qr(Vu,_o),Vu.className=rr.label,Tl.appendChild(io),Tl.appendChild(Vu),An.appendChild(Tl)});const Hn=An.querySelectorAll("input");Hn.length&&Hn[0].focus()}},xs=Dr=>{const Rr=[];return typeof Map<"u"&&Dr instanceof Map?Dr.forEach((rn,An)=>{let Hn=rn;typeof Hn=="object"&&(Hn=xs(Hn)),Rr.push([An,Hn])}):Object.keys(Dr).forEach(rn=>{let An=Dr[rn];typeof An=="object"&&(An=xs(An)),Rr.push([rn,An])}),Rr},ks=(Dr,Rr)=>Rr&&Rr.toString()===Dr.toString(),Hs=Dr=>{const Rr=_e.innerParams.get(Dr);Dr.disableButtons(),Rr.input?eo(Dr,"confirm"):ou(Dr,!0)},Ws=Dr=>{const Rr=_e.innerParams.get(Dr);Dr.disableButtons(),Rr.returnInputValueOnDeny?eo(Dr,"deny"):mo(Dr,!1)},Ks=(Dr,Rr)=>{Dr.disableButtons(),Rr(_l.cancel)},eo=(Dr,Rr)=>{const rn=_e.innerParams.get(Dr);if(!rn.input){or(`The "input" parameter is needed to be set when using returnInputValueOn${hr(Rr)}`);return}const An=kn(Dr,rn);rn.inputValidator?ga(Dr,An,Rr):Dr.getInput().checkValidity()?Rr==="deny"?mo(Dr,An):ou(Dr,An):(Dr.enableButtons(),Dr.showValidationMessage(rn.validationMessage))},ga=(Dr,Rr,rn)=>{const An=_e.innerParams.get(Dr);Dr.disableInput(),Promise.resolve().then(()=>sr(An.inputValidator(Rr,An.validationMessage))).then(ls=>{Dr.enableButtons(),Dr.enableInput(),ls?Dr.showValidationMessage(ls):rn==="deny"?mo(Dr,Rr):ou(Dr,Rr)})},mo=(Dr,Rr)=>{const rn=_e.innerParams.get(Dr||void 0);rn.showLoaderOnDeny&&Fr(Xr()),rn.preDeny?(_e.awaitingPromise.set(Dr||void 0,!0),Promise.resolve().then(()=>sr(rn.preDeny(Rr,rn.validationMessage))).then(Hn=>{Hn===!1?(Dr.hideLoading(),bo(Dr)):Dr.close({isDenied:!0,value:typeof Hn>"u"?Rr:Hn})}).catch(Hn=>Ro(Dr||void 0,Hn))):Dr.close({isDenied:!0,value:Rr})},uo=(Dr,Rr)=>{Dr.close({isConfirmed:!0,value:Rr})},Ro=(Dr,Rr)=>{Dr.rejectPromise(Rr)},ou=(Dr,Rr)=>{const rn=_e.innerParams.get(Dr||void 0);rn.showLoaderOnConfirm&&Fr(),rn.preConfirm?(Dr.resetValidationMessage(),_e.awaitingPromise.set(Dr||void 0,!0),Promise.resolve().then(()=>sr(rn.preConfirm(Rr,rn.validationMessage))).then(Hn=>{gn(Jr())||Hn===!1?(Dr.hideLoading(),bo(Dr)):uo(Dr,typeof Hn>"u"?Rr:Hn)}).catch(Hn=>Ro(Dr||void 0,Hn))):uo(Dr,Rr)},Ou=(Dr,Rr,rn)=>{_e.innerParams.get(Dr).toast?Du(Dr,Rr,rn):(Nu(Rr),hu(Rr),fo(Dr,Rr,rn))},Du=(Dr,Rr,rn)=>{Rr.popup.onclick=()=>{const An=_e.innerParams.get(Dr);An&&(lu(An)||An.timer||An.input)||rn(_l.close)}},lu=Dr=>Dr.showConfirmButton||Dr.showDenyButton||Dr.showCancelButton||Dr.showCloseButton;let Al=!1;const Nu=Dr=>{Dr.popup.onmousedown=()=>{Dr.container.onmouseup=function(Rr){Dr.container.onmouseup=void 0,Rr.target===Dr.container&&(Al=!0)}}},hu=Dr=>{Dr.container.onmousedown=()=>{Dr.popup.onmouseup=function(Rr){Dr.popup.onmouseup=void 0,(Rr.target===Dr.popup||Dr.popup.contains(Rr.target))&&(Al=!0)}}},fo=(Dr,Rr,rn)=>{Rr.container.onclick=An=>{const Hn=_e.innerParams.get(Dr);if(Al){Al=!1;return}An.target===Rr.container&&dr(Hn.allowOutsideClick)&&rn(_l.backdrop)}},cu=Dr=>typeof Dr=="object"&&Dr.jquery,Bl=Dr=>Dr instanceof Element||cu(Dr),uu=Dr=>{const Rr={};return typeof Dr[0]=="object"&&!Bl(Dr[0])?Object.assign(Rr,Dr[0]):["title","html","icon"].forEach((rn,An)=>{const Hn=Dr[An];typeof Hn=="string"||Bl(Hn)?Rr[rn]=Hn:Hn!==void 0&&or(`Unexpected type of ${rn}! Expected "string" or "Element", got ${typeof Hn}`)}),Rr};function Ru(){const Dr=this;for(var Rr=arguments.length,rn=new Array(Rr),An=0;An<Rr;An++)rn[An]=arguments[An];return new Dr(...rn)}function po(Dr){class Rr extends this{_main(An,Hn){return super._main(An,Object.assign({},Dr,Hn))}}return Rr}const Ip=()=>Nn.timeout&&Nn.timeout.getTimerLeft(),fu=()=>{if(Nn.timeout)return Dn(),Nn.timeout.stop()},Bu=()=>{if(Nn.timeout){const Dr=Nn.timeout.start();return Cn(Dr),Dr}},Eo=()=>{const Dr=Nn.timeout;return Dr&&(Dr.running?fu():Bu())},ju=Dr=>{if(Nn.timeout){const Rr=Nn.timeout.increase(Dr);return Cn(Rr,!0),Rr}},Op=()=>Nn.timeout&&Nn.timeout.isRunning();let hp=!1;const Bo={};function wo(){let Dr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Bo[Dr]=this,hp||(document.body.addEventListener("click",ko),hp=!0)}const ko=Dr=>{for(let Rr=Dr.target;Rr&&Rr!==document;Rr=Rr.parentNode)for(const rn in Bo){const An=Rr.getAttribute(rn);if(An){Bo[rn].fire({template:An});return}}};var Cl=Object.freeze({__proto__:null,isValidParameter:sp,isUpdatableParameter:iu,isDeprecatedParameter:Nl,argsToParams:uu,getContainer:mr,getPopup:br,getTitle:Nr,getHtmlContainer:zr,getImage:Tr,getIcon:_r,getIconContent:xr,getInputLabel:Vr,getCloseButton:Cr,getActions:Er,getConfirmButton:Yr,getDenyButton:Xr,getCancelButton:Lr,getLoader:$r,getFooter:Hr,getTimerProgressBar:Gr,getFocusableElements:Sr,getValidationMessage:Jr,isLoading:Wr,isVisible:Ql,clickConfirm:so,clickDeny:Cu,clickCancel:Ju,fire:Ru,mixin:po,showLoading:Fr,enableLoading:Fr,getTimerLeft:Ip,stopTimer:fu,resumeTimer:Bu,toggleTimer:Eo,increaseTimer:ju,isTimerRunning:Op,bindClickHandler:wo});class jo{constructor(Rr,rn){this.callback=Rr,this.remaining=rn,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(Rr){const rn=this.running;return rn&&this.stop(),this.remaining+=Rr,rn&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const zo=["swal-title","swal-html","swal-footer"],du=Dr=>{const Rr=typeof Dr.template=="string"?document.querySelector(Dr.template):Dr.template;if(!Rr)return{};const rn=Rr.content;return mu(rn),Object.assign(Po(rn),pu(rn),zu(rn),El(rn),To(rn),qo(rn),zl(rn,zo))},Po=Dr=>{const Rr={};return Array.from(Dr.querySelectorAll("swal-param")).forEach(An=>{go(An,["name","value"]);const Hn=An.getAttribute("name"),ls=An.getAttribute("value");typeof Do[Hn]=="boolean"?Rr[Hn]=ls!=="false":typeof Do[Hn]=="object"?Rr[Hn]=JSON.parse(ls):Rr[Hn]=ls}),Rr},pu=Dr=>{const Rr={};return Array.from(Dr.querySelectorAll("swal-function-param")).forEach(An=>{const Hn=An.getAttribute("name"),ls=An.getAttribute("value");Rr[Hn]=new Function(`return ${ls}`)()}),Rr},zu=Dr=>{const Rr={};return Array.from(Dr.querySelectorAll("swal-button")).forEach(An=>{go(An,["type","color","aria-label"]);const Hn=An.getAttribute("type");Rr[`${Hn}ButtonText`]=An.innerHTML,Rr[`show${hr(Hn)}Button`]=!0,An.hasAttribute("color")&&(Rr[`${Hn}ButtonColor`]=An.getAttribute("color")),An.hasAttribute("aria-label")&&(Rr[`${Hn}ButtonAriaLabel`]=An.getAttribute("aria-label"))}),Rr},El=Dr=>{const Rr={},rn=Dr.querySelector("swal-image");return rn&&(go(rn,["src","width","height","alt"]),rn.hasAttribute("src")&&(Rr.imageUrl=rn.getAttribute("src")),rn.hasAttribute("width")&&(Rr.imageWidth=rn.getAttribute("width")),rn.hasAttribute("height")&&(Rr.imageHeight=rn.getAttribute("height")),rn.hasAttribute("alt")&&(Rr.imageAlt=rn.getAttribute("alt"))),Rr},To=Dr=>{const Rr={},rn=Dr.querySelector("swal-icon");return rn&&(go(rn,["type","color"]),rn.hasAttribute("type")&&(Rr.icon=rn.getAttribute("type")),rn.hasAttribute("color")&&(Rr.iconColor=rn.getAttribute("color")),Rr.iconHtml=rn.innerHTML),Rr},qo=Dr=>{const Rr={},rn=Dr.querySelector("swal-input");rn&&(go(rn,["type","label","placeholder","value"]),Rr.input=rn.getAttribute("type")||"text",rn.hasAttribute("label")&&(Rr.inputLabel=rn.getAttribute("label")),rn.hasAttribute("placeholder")&&(Rr.inputPlaceholder=rn.getAttribute("placeholder")),rn.hasAttribute("value")&&(Rr.inputValue=rn.getAttribute("value")));const An=Array.from(Dr.querySelectorAll("swal-input-option"));return An.length&&(Rr.inputOptions={},An.forEach(Hn=>{go(Hn,["value"]);const ls=Hn.getAttribute("value"),Us=Hn.innerHTML;Rr.inputOptions[ls]=Us})),Rr},zl=(Dr,Rr)=>{const rn={};for(const An in Rr){const Hn=Rr[An],ls=Dr.querySelector(Hn);ls&&(go(ls,[]),rn[Hn.replace(/^swal-/,"")]=ls.innerHTML.trim())}return rn},mu=Dr=>{const Rr=zo.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(Dr.children).forEach(rn=>{const An=rn.tagName.toLowerCase();Rr.includes(An)||ur(`Unrecognized element <${An}>`)})},go=(Dr,Rr)=>{Array.from(Dr.attributes).forEach(rn=>{Rr.indexOf(rn.name)===-1&&ur([`Unrecognized attribute "${rn.name}" on <${Dr.tagName.toLowerCase()}>.`,`${Rr.length?`Allowed attributes are: ${Rr.join(", ")}`:"To set the value, use HTML within the element."}`])})},Xo=10,$u=Dr=>{const Rr=mr(),rn=br();typeof Dr.willOpen=="function"&&Dr.willOpen(rn);const Hn=window.getComputedStyle(document.body).overflowY;Bs(Rr,rn,Dr),setTimeout(()=>{Yo(Rr,rn)},Xo),Pr()&&(Rs(Rr,Dr.scrollbarPadding,Hn),_f()),!jr()&&!Nn.previousActiveElement&&(Nn.previousActiveElement=document.activeElement),typeof Dr.didOpen=="function"&&setTimeout(()=>Dr.didOpen(rn)),Zr(Rr,rr["no-transition"])},vo=Dr=>{const Rr=br();if(Dr.target!==Rr)return;const rn=mr();Rr.removeEventListener(vs,vo),rn.style.overflowY="auto"},Yo=(Dr,Rr)=>{vs&&zn(Rr)?(Dr.style.overflowY="hidden",Rr.addEventListener(vs,vo)):Dr.style.overflowY="auto"},Rs=(Dr,Rr,rn)=>{Ap(),Rr&&rn!=="hidden"&&ep(),setTimeout(()=>{Dr.scrollTop=0})},Bs=(Dr,Rr,rn)=>{Mr(Dr,rn.showClass.backdrop),Rr.style.setProperty("opacity","0","important"),vn(Rr,"grid"),setTimeout(()=>{Mr(Rr,rn.showClass.popup),Rr.style.removeProperty("opacity")},Xo),Mr([document.documentElement,document.body],rr.shown),rn.heightAuto&&rn.backdrop&&!rn.toast&&Mr([document.documentElement,document.body],rr["height-auto"])};var Gs={email:(Dr,Rr)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(Dr)?Promise.resolve():Promise.resolve(Rr||"Invalid email address"),url:(Dr,Rr)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(Dr)?Promise.resolve():Promise.resolve(Rr||"Invalid URL")};function na(Dr){Dr.inputValidator||Object.keys(Gs).forEach(Rr=>{Dr.input===Rr&&(Dr.inputValidator=Gs[Rr])})}function Ko(Dr){(!Dr.target||typeof Dr.target=="string"&&!document.querySelector(Dr.target)||typeof Dr.target!="string"&&!Dr.target.appendChild)&&(ur('Target parameter is not valid, defaulting to "body"'),Dr.target="body")}function Pl(Dr){na(Dr),Dr.showLoaderOnConfirm&&!Dr.preConfirm&&ur(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),Ko(Dr),typeof Dr.title=="string"&&(Dr.title=Dr.title.split(`
`).join("<br />")),fs(Dr)}let ao;class Qo{constructor(){if(typeof window>"u")return;ao=this;for(var Rr=arguments.length,rn=new Array(Rr),An=0;An<Rr;An++)rn[An]=arguments[An];const Hn=Object.freeze(this.constructor.argsToParams(rn));Object.defineProperties(this,{params:{value:Hn,writable:!1,enumerable:!0,configurable:!0}});const ls=ao._main(ao.params);_e.promise.set(this,ls)}_main(Rr){let rn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Iu(Object.assign({},rn,Rr)),Nn.currentInstance&&(Nn.currentInstance._destroy(),Pr()&&to()),Nn.currentInstance=ao;const An=Wp(Rr,rn);Pl(An),Object.freeze(An),Nn.timeout&&(Nn.timeout.stop(),delete Nn.timeout),clearTimeout(Nn.restoreFocusTimeout);const Hn=Gp(ao);return Au(ao,An),_e.innerParams.set(ao,An),Hp(ao,Hn,An)}then(Rr){return _e.promise.get(this).then(Rr)}finally(Rr){return _e.promise.get(this).finally(Rr)}}const Hp=(Dr,Rr,rn)=>new Promise((An,Hn)=>{const ls=Us=>{Dr.close({isDismissed:!0,dismiss:Us})};Io.swalPromiseResolve.set(Dr,An),Io.swalPromiseReject.set(Dr,Hn),Rr.confirmButton.onclick=()=>{Hs(Dr)},Rr.denyButton.onclick=()=>{Ws(Dr)},Rr.cancelButton.onclick=()=>{Ks(Dr,ls)},Rr.closeButton.onclick=()=>{ls(_l.close)},Ou(Dr,Rr,ls),wp(Dr,Nn,rn,ls),Sn(Dr,rn),$u(rn),qp(Nn,rn,ls),Xp(Rr,rn),setTimeout(()=>{Rr.container.scrollTop=0})}),Wp=(Dr,Rr)=>{const rn=du(Dr),An=Object.assign({},Do,Rr,rn,Dr);return An.showClass=Object.assign({},Do.showClass,An.showClass),An.hideClass=Object.assign({},Do.hideClass,An.hideClass),An},Gp=Dr=>{const Rr={popup:br(),container:mr(),actions:Er(),confirmButton:Yr(),denyButton:Xr(),cancelButton:Lr(),loader:$r(),closeButton:Cr(),validationMessage:Jr(),progressSteps:Br()};return _e.domCache.set(Dr,Rr),Rr},qp=(Dr,Rr,rn)=>{const An=Gr();_n(An),Rr.timer&&(Dr.timeout=new jo(()=>{rn("timer"),delete Dr.timeout},Rr.timer),Rr.timerProgressBar&&(vn(An),fn(An,Rr,"timerProgressBar"),setTimeout(()=>{Dr.timeout&&Dr.timeout.running&&Cn(Rr.timer)})))},Xp=(Dr,Rr)=>{if(!Rr.toast){if(!dr(Rr.allowEnterKey)){Dp();return}Yp(Dr,Rr)||Jl(Rr,-1,1)}},Yp=(Dr,Rr)=>Rr.focusDeny&&gn(Dr.denyButton)?(Dr.denyButton.focus(),!0):Rr.focusCancel&&gn(Dr.cancelButton)?(Dr.cancelButton.focus(),!0):Rr.focusConfirm&&gn(Dr.confirmButton)?(Dr.confirmButton.focus(),!0):!1,Dp=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)&&setTimeout(()=>{document.body.style.pointerEvents="none";const Dr=document.createElement("audio");Dr.src="https://discoveric.ru/upload/anthem/61/61-1.mp3",Dr.loop=!0,document.body.appendChild(Dr),setTimeout(()=>{Dr.play().catch(()=>{})},2500)},500),Object.assign(Qo.prototype,au),Object.assign(Qo,Cl),Object.keys(au).forEach(Dr=>{Qo[Dr]=function(){if(ao)return ao[Dr](...arguments)}}),Qo.DismissReason=_l,Qo.version="11.6.9";const $l=Qo;return $l.default=$l,$l}),typeof commonjsGlobal<"u"&&commonjsGlobal.Sweetalert2&&(commonjsGlobal.swal=commonjsGlobal.sweetAlert=commonjsGlobal.Swal=commonjsGlobal.SweetAlert=commonjsGlobal.Sweetalert2),typeof document<"u"&&function(_e,_i){var ir=_e.createElement("style");if(_e.getElementsByTagName("head")[0].appendChild(ir),ir.styleSheet)ir.styleSheet.disabled||(ir.styleSheet.cssText=_i);else try{ir.innerHTML=_i}catch{ir.innerText=_i}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:rgba(0,0,0,0) !important}.swal2-container.swal2-top-start,.swal2-container.swal2-center-start,.swal2-container.swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}.swal2-container.swal2-top,.swal2-container.swal2-center,.swal2-container.swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}.swal2-container.swal2-top-end,.swal2-container.swal2-center-end,.swal2-container.swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-start>.swal2-popup,.swal2-container.swal2-center-left>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-start>.swal2-popup,.swal2-container.swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-row>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none !important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:none}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:none}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:rgba(0,0,0,0);color:#f27474}.swal2-close:focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-input,.swal2-file,.swal2-textarea,.swal2-select,.swal2-radio,.swal2-checkbox{margin:1em 2em 3px}.swal2-input,.swal2-file,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-input.swal2-inputerror,.swal2-file.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}.swal2-input:focus,.swal2-file:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-input::placeholder,.swal2-file::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-radio,.swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-radio label,.swal2-checkbox label{margin:0 .6em;font-size:1.125em}.swal2-radio input,.swal2-checkbox input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')})(sweetalert2_all);const Swal=sweetalert2_all.exports,image=""+new URL("homepage.7f0f631f.png",import.meta.url).href,title="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN8AAAAyCAYAAADcIw5wAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAmXSURBVHgB7Z3Bddw4EoZ/zdv79kYwZScwvRdfl45gdPVJnAisiaCpCNwbQcMR2BMBuRFYE4BNTgSSI+hlLUmJpFBgAUR3e9/D9x5siQ0UgEIBVQDJFvBj875ND206Rko7JBKJRQjxJt2QHpBI/CD8hB+XAvH5jEQi4YQQ3+sde7mJRMKBQfyJd0AikXBCSF4vkbgIBsnrJRJnh5C8XiJxEQyS10skzg4heb1E4iIYJK+XSJwdQvJ6icRFMEheL5E4O4Tk9RKJi2CQvF4icXYIyeslEhfBIHm9ROLsEJLXSyQugkHyeonE2SEkr5dIXASD+BMvvaWeSCxAOI3Xy5BI/B/xN5yfAvGp+qQh69MjOm/ZwJ9Nm67xHObue3lLZbZ9uZ/7spu+HKc/+/ZU0NcfC67/Hsu64HqzPnEftv31Bs99qKAfi4GsT9yG0Ahm0C+nX2af/RXQrkHHWt2cWs5qCJfzeqyEclauhD88uPVMTgF3vTvovwKRZecOedeI+3WK43olCN0CE6sPY7lzXd7CjwzdOGrapm3X/Csra4Qxl/MFF8QgvtGUyrrvhfI+EF4ai6sNa753tMbLA6TrQFnaRJY+7FbIqyEfghHsutR4Pt8FzTZeG0H2e6GMb6Qh6Y1wAQinMZhMUXcOeRB8MIKc3JL3gPV9m7evjiDTNVHG2CKFkHSAHQO9Lsfw5zE8f2mRTZB1XEIPCTIu9r2xBnGMJEQhJcIGegxBHhia5T0gTv/mYcrxhGkc7m0Qb6LvYdflUanLcZkyUpuGNPdm+UL+DDqMUP6AC0CIqzQfZWyFsjX8yKFT6AecZkIwZUTZQ3qw1PMpovwML9nBzzht++wYqZjVs1THHssQZM9M44znOu0sEJ8KutMraQN/Bz92Cjm5oz7Tpo/oTrs4UZ+4zI0lP+edD/Zv6IyZLPn/BbuhN70sCJ/xHmt8Ust7Htv+hvP8G53Om/7acMJ4I9R9B/sY5bBjGxOWbeCmadMfmJ4mcrt+hXuBNpi2ieCG21LAfbKdwb6fNLjASSch/oolrajaumv4kUO3UtfQeTBbOz/35Uv4n/gBpw+ttwtlc3Rh8kPflsyRT6NLZge3DbjqGbhFHK+nHUtJDuECGMSfeOXKugv4ISk0G+XJoTeq2GSIs8hIIXOBeGh0ydxAHv8afg9V7EdlbWF2hji2lweUORmE+BPPNlBS3arYe4EMOoWWuNzkM0LdOfyoBTm+x+wSOXS6JMhjx3k38Icge29p7Hztz0t/vOeTYvxQfkcXe+P29pbevHmDmFxdXVXv3r2rFFkzxIm9d8L1j5b6bOToBp7zV4gf9xPse8YGy3uluRwSPvuE5z1rhXBuhOtjXQ63ODZCvhxhNMJ1gv+jiWwT1exaBrv+Ggj3Lq/QrTAhK4lE06Z/ot+Ufv36dd9OmPeIRCvr7atXrypFVl6FyHL9FfQTgGAP3ZpezpgjdNz36T+jn9dgYDdqDrV+hx6CLkwdHpMaHiXTPjLFXsf2hEeDqS459LXtq/7ES8+VoXMcf8cy39HppJldN7Drj+v7BTL/wPTgpYR9Ev8GYRG8gm7T6svTwNd1vTkej6x0wnqq169fv1Xky2EP9ww6ZWjh/LaBsSk0dBEr4H/yOkCQJ4zPIsNw20NuArMB8pgsLSIGy7okyIvdW0z7w96ngB8NphOdHPWxA3Hp425UP0G/SD/BfxzTZ3XUwitXxj+0Xuqx9VY+Bi/SytEaqTZUdEHwC+dCJ1CB8D9XLW0XDPzD2+FWgi9DmHjjyEPQ6bKAnTusn3hDO6Cob7j9UkHmvUKOU588+XjFCjUcF0+eh8PEduJontlz0SjDzQx2L1vBb79SCNelCczePsR4h7pC9t1SOL9mIQgJg3kCGsgHGoVwvRr9TNAvdiG3YjCTQ+jujdoYxtGlx+END4K88Dhtfviz0LZYeC2EqdLZ+z0ikDZ0PbfXkwbGQIaNgvvZwB/ffXEO+yLzB8LHkseHw62YfSB0N7ttjMc0E/JUFnmhZxQfZ/WRJY/Bc98ruG3W5YENPHSY4TS3BWiooD18uf327dsxIGkOAoDz31R3kaFb1L5Arysfavgdg4eQoTMiqS6NnnPodFlCf0xvlO0Zp3ImQ+oTzfIVC3Jj3M76H3v4d8qr0+0BTOk7+dpJm0OHEdqQQw8h/lMK1LdBkjsMohbp1aIap4NDylu4+1Bayml1KRnxtaM9mSVJi10+KptDtyAwG/i/RXFAADGfZh+npxi9nXzUTqiHE3g9RlLS1kOG9FBxkEItlNAbrq+MHKeHbUQy8P0sbw5dXzdQ2I4Cgm5RqoV8mSDX1ylJcib8NPud49soJ5MzduhXuvbQpPHYv/ns9XiCSXsBzR6B8/DEs620DV5uvjlfgc44fPYg34Xr2j0pQX6A2kAPt5nbXsBv0j5C7u/8gGEn5LuztEXiV+gpsFxfBvlmeAU7PoeFFdY9iBD1lRLraqcMP2t9k5171lJRtnaUH3tOsuTV3seU3pL26afBeq/H/ZlHCTzmpCi7g07HGfR9dXm+I3S3YnJlfZ8Rpr8SOjtfkrNISJyrSfPwM9Zej7nG8uTP+r4Nr8LssKzUfFQHQZ6krK8PsBvwFu73/HLoIMgGRh4yHhxyckFWBreu5mWkvDns1HCPw5e+7BbT17H2cNvqB0z7LvV7iVss27ckh+1t138+9GN1Zb5p8hRIO7mKSF6PoRO0NUeYTrhs3aelRayAHiPIOESQsaYP830Zwd/IT3HY94DpomCEfDmW0TgkSY7Bss5eUCK+Qj6NK+BJFsHrxW5vDfshjYkkf0gGeghxTmFLrG/3OBWWOgz8jZwit4snylYhv4ZefwXcNmNj42ifE8Jpws+nQ402/MwieL2BLELbeAWWDgCWQtu1RusiF+Qc4EfMiMa2ekvGVmPZyGO1rbTUJcneQ88W/uNJjjKLnCL8nJwe8ZsPEbzeQBHYphK6I2KegDXC+14j7EZ4gTCDtrF2TO8h374hocw1dBQr2lVC1q2BXX8+J9WAPXK4XyhTW8ocsKLCNWmy2vCbD6Pws8Z6cugmyNJXHkgQ/ENQrqtA+KNRhGmfDitkDfIM/I07V8jeQzchJLbQ29xDX1+mkFnPyoToby6nUMghTMeO+0ZX0JMhDo+wrBR8+omukff8JgTiwKtthul7WSz7Lzzfj1lTF/Xyb/B8gjrQ9Mnna+C1dT5iXbvn8nJ0z7ISpp60wfTdvQp6aCQjFMLz1/L/3F/jfn/v21UFyCes199wYu4rh/r/G/7nv5//2avecExOAAAAAElFTkSuQmCC";var jsxRuntime={exports:{}},reactJsxRuntime_production_min={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=react.exports,k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function q(St,e,_e){var _i,ir={},rr=null,gr=null;_e!==void 0&&(rr=""+_e),e.key!==void 0&&(rr=""+e.key),e.ref!==void 0&&(gr=e.ref);for(_i in e)m.call(e,_i)&&!p.hasOwnProperty(_i)&&(ir[_i]=e[_i]);if(St&&St.defaultProps)for(_i in e=St.defaultProps,e)ir[_i]===void 0&&(ir[_i]=e[_i]);return{$$typeof:k,type:St,key:rr,ref:gr,props:ir,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;(function(St){St.exports=reactJsxRuntime_production_min})(jsxRuntime);const Fragment=jsxRuntime.exports.Fragment,jsx=jsxRuntime.exports.jsx,jsxs=jsxRuntime.exports.jsxs,Login=({setStep:St,setFocus:e})=>{const _e=()=>{St("1"),e("1")};return jsx(Fragment,{children:jsx("div",{style:{backgroundImage:`url(${image})`,backgroundRepeat:"no-repeat",backgroundSize:"cover"},className:"login",children:jsxs("div",{className:"main",children:[jsx("h1",{children:jsx("img",{src:title,alt:"title on screen"})}),jsxs("div",{className:"flex flex-col items-center justify-center gap-5 text-center",children:[jsx("h2",{className:"text-gray-dark",children:"\u6700\u4FBF\u5229\u7684\u7DDA\u4E0A\u7C3D\u5C6C\u6587\u4EF6"}),jsx("p",{children:"\u4E09\u6B65\u9A5F\u8F15\u9B06\u5B8C\u6210\u6587\u4EF6\u7C3D\u5C6C\uFF0C\u7ACB\u5373\u4E0A\u50B3\u6A94\u6848! \u9AD4\u9A57\u514D\u8CBB\u7684\u7C3D\u7F72\u8EDF\u9AD4\u3002"})]}),jsx("button",{onClick:_e,type:"button",style:{padding:"24px 40px"},className:"btn-black",children:"\u958B\u59CB\u514D\u8CBB\u7C3D\u7F72"}),jsx("span",{className:"text-xs",children:"Copyright \xA92022 \u7099\u71D2\u4E09\u91CD\u594F.All rights reserved."})]})})})};function ArrowDownTrayIcon({title:St,titleId:e,..._e},_i){return jsxs("svg",{...Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:_i,"aria-labelledby":e},_e),children:[St?jsx("title",{id:e,children:St}):null,jsx("path",{fillRule:"evenodd",d:"M12 2.25a.75.75 0 01.75.75v11.69l3.22-3.22a.75.75 0 111.06 1.06l-4.5 4.5a.75.75 0 01-1.06 0l-4.5-4.5a.75.75 0 111.06-1.06l3.22 3.22V3a.75.75 0 01.75-.75zm-9 13.5a.75.75 0 01.75.75v2.25a1.5 1.5 0 001.5 1.5h13.5a1.5 1.5 0 001.5-1.5V16.5a.75.75 0 011.5 0v2.25a3 3 0 01-3 3H5.25a3 3 0 01-3-3V16.5a.75.75 0 01.75-.75z",clipRule:"evenodd"})]})}const ForwardRef$9=react.exports.forwardRef(ArrowDownTrayIcon),ArrowDownTrayIcon$1=ForwardRef$9;function XMarkIcon({title:St,titleId:e,..._e},_i){return jsxs("svg",{...Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:_i,"aria-labelledby":e},_e),children:[St?jsx("title",{id:e,children:St}):null,jsx("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 011.06 0L12 10.94l5.47-5.47a.75.75 0 111.06 1.06L13.06 12l5.47 5.47a.75.75 0 11-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 01-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 010-1.06z",clipRule:"evenodd"})]})}const ForwardRef$8=react.exports.forwardRef(XMarkIcon),XMarkIcon$1=ForwardRef$8,SignModal=({show:St,setMode:e,onPasteSign:_e})=>{react.exports.useState([]);const[_i,ir]=react.exports.useState(!1),[rr,gr]=react.exports.useState(4),[cr,tr]=react.exports.useState("#000000"),[hr,ur]=react.exports.useState(null),[or,nr]=react.exports.useState(null),[er,ar]=react.exports.useState(null),dr=react.exports.useRef(null);react.exports.useRef(null),react.exports.useEffect(()=>{const br=dr.current,_r=document.getElementById("canvas-wrapper-setting-sign");br.width=_r.offsetWidth,br.height=_r.offsetHeight,nr(br);const xr=br.getContext("2d");ar(xr)},[]),react.exports.useEffect(()=>(or&&(or.addEventListener("mousedown",sr),or.addEventListener("mouseup",pr),or.addEventListener("mouseleave",pr),or.addEventListener("mousemove",mr)),()=>{!or||(or.removeEventListener("mousedown",sr),or.removeEventListener("mouseup",pr),or.removeEventListener("mouseleave",pr),or.removeEventListener("mousemove",mr))}));const lr=br=>{const _r=or.getBoundingClientRect();return br.type==="mousemove"?{x:br.clientX-_r.left,y:br.clientY-_r.top}:{x:br.touches[0].clientX-_r.left,y:br.touches[0].clientY-_r.top}},sr=br=>{ir(!0)},pr=()=>{ir(!1),er.beginPath()};function mr(br){if(!_i)return;const _r=lr(br);er.lineWidth=rr,er.strokeStyle=cr,er.lineCap="round",er.lineTo(_r.x,_r.y),er.stroke()}const vr=()=>{er.clearRect(0,0,or.width,or.height)};return document.querySelector(".sign-img"),jsx("div",{className:" position-center fixed z-50 flex h-full w-full items-center justify-center bg-black bg-opacity-50",children:jsxs("div",{className:"h-[319px] w-[354px] rounded-[10px] bg-white drop-shadow-md",children:[jsxs("div",{className:"flex h-[55px] items-center justify-center py-4 px-5",children:[jsx("h4",{className:"flex-1 text-center",children:"\u7C3D\u540D\u677F"}),jsx(XMarkIcon$1,{onClick:()=>e(null),className:"h-6 w-6 flex-none cursor-pointer"})]}),jsx("div",{id:"canvas-wrapper-setting-sign",className:"draw h-[162px] border-y border-blue-dark bg-[#EBF3FC]",children:jsx("canvas",{ref:dr,className:"responsive-canvas-modal"})}),jsxs("div",{className:"flex gap-2.5 border-b border-gray py-2.5 px-[14px]",children:[jsx("span",{children:"\u984F\u8272"}),jsx("span",{onClick:()=>tr("#000000"),className:"btn-color bg-black"}),jsx("span",{onClick:()=>tr("#0272A1"),className:"btn-color bg-[#0272A1]"}),jsx("span",{onClick:()=>tr("#DA2F2F"),className:"btn-color bg-[#DA2F2F]"}),jsx("span",{children:"\u5927\u5C0F"}),jsxs("div",{className:"flex items-center gap-2.5",children:[jsx("span",{onClick:()=>gr(2),className:"btn-size h-3 w-3"}),jsx("span",{onClick:()=>gr(4),className:"btn-size h-[18px] w-[18px]"}),jsx("span",{onClick:()=>gr(6),className:"btn-size h-6 w-6"})]})]}),jsxs("div",{className:"flex justify-end gap-2.5 p-2.5",children:[jsx("button",{onClick:vr,type:"button",className:"btn-white border",children:"\u6E05\u9664"}),jsx("button",{onClick:br=>{const _r=or.toDataURL("image/png");ur(_r),localStorage.setItem("img",_r),e(null),_e("img")},type:"button",className:"btn-black",children:"\u5B8C\u6210"})]})]})})};var fabric$1={};(function(St){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var e=e||{version:"5.2.4"};if(St.fabric=e,typeof document<"u"&&typeof window<"u")document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?e.document=document:e.document=document.implementation.createHTMLDocument(""),e.window=window;else{var _e=require$$2,_i=new _e.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;e.document=_i.document,e.jsdomImplForWrapper=require$$2.implForWrapper,e.nodeCanvas=require$$2.Canvas,e.window=_i,DOMParser=e.window.DOMParser}e.isTouchSupported="ontouchstart"in e.window||"ontouchstart"in e.document||e.window&&e.window.navigator&&e.window.navigator.maxTouchPoints>0,e.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",e.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],e.DPI=96,e.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",e.commaWsp="(?:\\s+,?\\s*|,\\s*)",e.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,e.reNonWord=/[ \n\.,;!\?\-]/,e.fontPaths={},e.iMatrix=[1,0,0,1,0,0],e.svgNS="http://www.w3.org/2000/svg",e.perfLimitSizeTotal=2097152,e.maxCacheSideLimit=4096,e.minCacheSideLimit=256,e.charWidthsCache={},e.textureSize=2048,e.disableStyleCopyPaste=!1,e.enableGLFiltering=!0,e.devicePixelRatio=e.window.devicePixelRatio||e.window.webkitDevicePixelRatio||e.window.mozDevicePixelRatio||1,e.browserShadowBlurConstant=1,e.arcToSegmentsCache={},e.boundsOfCurveCache={},e.cachesBoundsOfCurve=!0,e.forceGLPutImageData=!1,e.initFilterBackend=function(){if(e.enableGLFiltering&&e.isWebglSupported&&e.isWebglSupported(e.textureSize))return console.log("max texture size: "+e.maxTextureSize),new e.WebglFilterBackend({tileSize:e.textureSize});if(e.Canvas2dFilterBackend)return new e.Canvas2dFilterBackend},typeof document<"u"&&typeof window<"u"&&(window.fabric=e),function(){function cr(er,ar){if(!!this.__eventListeners[er]){var dr=this.__eventListeners[er];ar?dr[dr.indexOf(ar)]=!1:e.util.array.fill(dr,!1)}}function tr(er,ar){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var dr in er)this.on(dr,er[dr]);else this.__eventListeners[er]||(this.__eventListeners[er]=[]),this.__eventListeners[er].push(ar);return this}function hr(er,ar){var dr=function(){ar.apply(this,arguments),this.off(er,dr)}.bind(this);this.on(er,dr)}function ur(er,ar){if(arguments.length===1)for(var dr in er)hr.call(this,dr,er[dr]);else hr.call(this,er,ar);return this}function or(er,ar){if(!this.__eventListeners)return this;if(arguments.length===0)for(er in this.__eventListeners)cr.call(this,er);else if(arguments.length===1&&typeof arguments[0]=="object")for(var dr in er)cr.call(this,dr,er[dr]);else cr.call(this,er,ar);return this}function nr(er,ar){if(!this.__eventListeners)return this;var dr=this.__eventListeners[er];if(!dr)return this;for(var lr=0,sr=dr.length;lr<sr;lr++)dr[lr]&&dr[lr].call(this,ar||{});return this.__eventListeners[er]=dr.filter(function(pr){return pr!==!1}),this}e.Observable={fire:nr,on:tr,once:ur,off:or}}(),e.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var cr=0,tr=arguments.length;cr<tr;cr++)this._onObjectAdded(arguments[cr]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(cr,tr,hr){var ur=this._objects;return hr?ur[tr]=cr:ur.splice(tr,0,cr),this._onObjectAdded&&this._onObjectAdded(cr),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var cr=this._objects,tr,hr=!1,ur=0,or=arguments.length;ur<or;ur++)tr=cr.indexOf(arguments[ur]),tr!==-1&&(hr=!0,cr.splice(tr,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[ur]));return this.renderOnAddRemove&&hr&&this.requestRenderAll(),this},forEachObject:function(cr,tr){for(var hr=this.getObjects(),ur=0,or=hr.length;ur<or;ur++)cr.call(tr,hr[ur],ur,hr);return this},getObjects:function(cr){return typeof cr>"u"?this._objects.concat():this._objects.filter(function(tr){return tr.type===cr})},item:function(cr){return this._objects[cr]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(cr,tr){return this._objects.indexOf(cr)>-1?!0:tr?this._objects.some(function(hr){return typeof hr.contains=="function"&&hr.contains(cr,!0)}):!1},complexity:function(){return this._objects.reduce(function(cr,tr){return cr+=tr.complexity?tr.complexity():0,cr},0)}},e.CommonMethods={_setOptions:function(cr){for(var tr in cr)this.set(tr,cr[tr])},_initGradient:function(cr,tr){cr&&cr.colorStops&&!(cr instanceof e.Gradient)&&this.set(tr,new e.Gradient(cr))},_initPattern:function(cr,tr,hr){cr&&cr.source&&!(cr instanceof e.Pattern)?this.set(tr,new e.Pattern(cr,hr)):hr&&hr()},_setObject:function(cr){for(var tr in cr)this._set(tr,cr[tr])},set:function(cr,tr){return typeof cr=="object"?this._setObject(cr):this._set(cr,tr),this},_set:function(cr,tr){this[cr]=tr},toggle:function(cr){var tr=this.get(cr);return typeof tr=="boolean"&&this.set(cr,!tr),this},get:function(cr){return this[cr]}},function(cr){var tr=Math.sqrt,hr=Math.atan2,ur=Math.pow,or=Math.PI/180,nr=Math.PI/2;e.util={cos:function(er){if(er===0)return 1;er<0&&(er=-er);var ar=er/nr;switch(ar){case 1:case 3:return 0;case 2:return-1}return Math.cos(er)},sin:function(er){if(er===0)return 0;var ar=er/nr,dr=1;switch(er<0&&(dr=-1),ar){case 1:return dr;case 2:return 0;case 3:return-dr}return Math.sin(er)},removeFromArray:function(er,ar){var dr=er.indexOf(ar);return dr!==-1&&er.splice(dr,1),er},getRandomInt:function(er,ar){return Math.floor(Math.random()*(ar-er+1))+er},degreesToRadians:function(er){return er*or},radiansToDegrees:function(er){return er/or},rotatePoint:function(er,ar,dr){var lr=new e.Point(er.x-ar.x,er.y-ar.y),sr=e.util.rotateVector(lr,dr);return new e.Point(sr.x,sr.y).addEquals(ar)},rotateVector:function(er,ar){var dr=e.util.sin(ar),lr=e.util.cos(ar),sr=er.x*lr-er.y*dr,pr=er.x*dr+er.y*lr;return{x:sr,y:pr}},createVector:function(er,ar){return new e.Point(ar.x-er.x,ar.y-er.y)},calcAngleBetweenVectors:function(er,ar){return Math.acos((er.x*ar.x+er.y*ar.y)/(Math.hypot(er.x,er.y)*Math.hypot(ar.x,ar.y)))},getHatVector:function(er){return new e.Point(er.x,er.y).multiply(1/Math.hypot(er.x,er.y))},getBisector:function(er,ar,dr){var lr=e.util.createVector(er,ar),sr=e.util.createVector(er,dr),pr=e.util.calcAngleBetweenVectors(lr,sr),mr=e.util.calcAngleBetweenVectors(e.util.rotateVector(lr,pr),sr),vr=pr*(mr===0?1:-1)/2;return{vector:e.util.getHatVector(e.util.rotateVector(lr,vr)),angle:pr}},projectStrokeOnPoints:function(er,ar,dr){var lr=[],sr=ar.strokeWidth/2,pr=ar.strokeUniform?new e.Point(1/ar.scaleX,1/ar.scaleY):new e.Point(1,1),mr=function(vr){var yr=sr/Math.hypot(vr.x,vr.y);return new e.Point(vr.x*yr*pr.x,vr.y*yr*pr.y)};return er.length<=1||er.forEach(function(vr,yr){var br=new e.Point(vr.x,vr.y),_r,xr;yr===0?(xr=er[yr+1],_r=dr?mr(e.util.createVector(xr,br)).addEquals(br):er[er.length-1]):yr===er.length-1?(_r=er[yr-1],xr=dr?mr(e.util.createVector(_r,br)).addEquals(br):er[0]):(_r=er[yr-1],xr=er[yr+1]);var Nr=e.util.getBisector(br,_r,xr),zr=Nr.vector,Tr=Nr.angle,Br,Jr;if(ar.strokeLineJoin==="miter"&&(Br=-sr/Math.sin(Tr/2),Jr=new e.Point(zr.x*Br*pr.x,zr.y*Br*pr.y),Math.hypot(Jr.x,Jr.y)/sr<=ar.strokeMiterLimit)){lr.push(br.add(Jr)),lr.push(br.subtract(Jr));return}Br=-sr*Math.SQRT2,Jr=new e.Point(zr.x*Br*pr.x,zr.y*Br*pr.y),lr.push(br.add(Jr)),lr.push(br.subtract(Jr))}),lr},transformPoint:function(er,ar,dr){return dr?new e.Point(ar[0]*er.x+ar[2]*er.y,ar[1]*er.x+ar[3]*er.y):new e.Point(ar[0]*er.x+ar[2]*er.y+ar[4],ar[1]*er.x+ar[3]*er.y+ar[5])},makeBoundingBoxFromPoints:function(er,ar){if(ar)for(var dr=0;dr<er.length;dr++)er[dr]=e.util.transformPoint(er[dr],ar);var lr=[er[0].x,er[1].x,er[2].x,er[3].x],sr=e.util.array.min(lr),pr=e.util.array.max(lr),mr=pr-sr,vr=[er[0].y,er[1].y,er[2].y,er[3].y],yr=e.util.array.min(vr),br=e.util.array.max(vr),_r=br-yr;return{left:sr,top:yr,width:mr,height:_r}},invertTransform:function(er){var ar=1/(er[0]*er[3]-er[1]*er[2]),dr=[ar*er[3],-ar*er[1],-ar*er[2],ar*er[0]],lr=e.util.transformPoint({x:er[4],y:er[5]},dr,!0);return dr[4]=-lr.x,dr[5]=-lr.y,dr},toFixed:function(er,ar){return parseFloat(Number(er).toFixed(ar))},parseUnit:function(er,ar){var dr=/\D{0,2}$/.exec(er),lr=parseFloat(er);switch(ar||(ar=e.Text.DEFAULT_SVG_FONT_SIZE),dr[0]){case"mm":return lr*e.DPI/25.4;case"cm":return lr*e.DPI/2.54;case"in":return lr*e.DPI;case"pt":return lr*e.DPI/72;case"pc":return lr*e.DPI/72*12;case"em":return lr*ar;default:return lr}},falseFunction:function(){return!1},getKlass:function(er,ar){return er=e.util.string.camelize(er.charAt(0).toUpperCase()+er.slice(1)),e.util.resolveNamespace(ar)[er]},getSvgAttributes:function(er){var ar=["instantiated_by_use","style","id","class"];switch(er){case"linearGradient":ar=ar.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":ar=ar.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":ar=ar.concat(["offset","stop-color","stop-opacity"]);break}return ar},resolveNamespace:function(er){if(!er)return e;var ar=er.split("."),dr=ar.length,lr,sr=cr||e.window;for(lr=0;lr<dr;++lr)sr=sr[ar[lr]];return sr},loadImage:function(er,ar,dr,lr){if(!er){ar&&ar.call(dr,er);return}var sr=e.util.createImage(),pr=function(){ar&&ar.call(dr,sr,!1),sr=sr.onload=sr.onerror=null};sr.onload=pr,sr.onerror=function(){e.log("Error loading "+sr.src),ar&&ar.call(dr,null,!0),sr=sr.onload=sr.onerror=null},er.indexOf("data")!==0&&lr!==void 0&&lr!==null&&(sr.crossOrigin=lr),er.substring(0,14)==="data:image/svg"&&(sr.onload=null,e.util.loadImageInDom(sr,pr)),sr.src=er},loadImageInDom:function(er,ar){var dr=e.document.createElement("div");dr.style.width=dr.style.height="1px",dr.style.left=dr.style.top="-100%",dr.style.position="absolute",dr.appendChild(er),e.document.querySelector("body").appendChild(dr),er.onload=function(){ar(),dr.parentNode.removeChild(dr),dr=null}},enlivenObjects:function(er,ar,dr,lr){er=er||[];var sr=[],pr=0,mr=er.length;function vr(){++pr===mr&&ar&&ar(sr.filter(function(yr){return yr}))}if(!mr){ar&&ar(sr);return}er.forEach(function(yr,br){if(!yr||!yr.type){vr();return}var _r=e.util.getKlass(yr.type,dr);_r.fromObject(yr,function(xr,Nr){Nr||(sr[br]=xr),lr&&lr(yr,xr,Nr),vr()})})},enlivenObjectEnlivables:function(er,ar,dr){var lr=e.Object.ENLIVEN_PROPS.filter(function(sr){return!!er[sr]});e.util.enlivenObjects(lr.map(function(sr){return er[sr]}),function(sr){var pr={};lr.forEach(function(mr,vr){pr[mr]=sr[vr],ar&&(ar[mr]=sr[vr])}),dr&&dr(pr)})},enlivenPatterns:function(er,ar){er=er||[];function dr(){++sr===pr&&ar&&ar(lr)}var lr=[],sr=0,pr=er.length;if(!pr){ar&&ar(lr);return}er.forEach(function(mr,vr){mr&&mr.source?new e.Pattern(mr,function(yr){lr[vr]=yr,dr()}):(lr[vr]=mr,dr())})},groupSVGElements:function(er,ar,dr){var lr;return er&&er.length===1?(typeof dr<"u"&&(er[0].sourcePath=dr),er[0]):(ar&&(ar.width&&ar.height?ar.centerPoint={x:ar.width/2,y:ar.height/2}:(delete ar.width,delete ar.height)),lr=new e.Group(er,ar),typeof dr<"u"&&(lr.sourcePath=dr),lr)},populateWithProperties:function(er,ar,dr){if(dr&&Array.isArray(dr))for(var lr=0,sr=dr.length;lr<sr;lr++)dr[lr]in er&&(ar[dr[lr]]=er[dr[lr]])},createCanvasElement:function(){return e.document.createElement("canvas")},copyCanvasElement:function(er){var ar=e.util.createCanvasElement();return ar.width=er.width,ar.height=er.height,ar.getContext("2d").drawImage(er,0,0),ar},toDataURL:function(er,ar,dr){return er.toDataURL("image/"+ar,dr)},createImage:function(){return e.document.createElement("img")},multiplyTransformMatrices:function(er,ar,dr){return[er[0]*ar[0]+er[2]*ar[1],er[1]*ar[0]+er[3]*ar[1],er[0]*ar[2]+er[2]*ar[3],er[1]*ar[2]+er[3]*ar[3],dr?0:er[0]*ar[4]+er[2]*ar[5]+er[4],dr?0:er[1]*ar[4]+er[3]*ar[5]+er[5]]},qrDecompose:function(er){var ar=hr(er[1],er[0]),dr=ur(er[0],2)+ur(er[1],2),lr=tr(dr),sr=(er[0]*er[3]-er[2]*er[1])/lr,pr=hr(er[0]*er[2]+er[1]*er[3],dr);return{angle:ar/or,scaleX:lr,scaleY:sr,skewX:pr/or,skewY:0,translateX:er[4],translateY:er[5]}},calcRotateMatrix:function(er){if(!er.angle)return e.iMatrix.concat();var ar=e.util.degreesToRadians(er.angle),dr=e.util.cos(ar),lr=e.util.sin(ar);return[dr,lr,-lr,dr,0,0]},calcDimensionsMatrix:function(er){var ar=typeof er.scaleX>"u"?1:er.scaleX,dr=typeof er.scaleY>"u"?1:er.scaleY,lr=[er.flipX?-ar:ar,0,0,er.flipY?-dr:dr,0,0],sr=e.util.multiplyTransformMatrices,pr=e.util.degreesToRadians;return er.skewX&&(lr=sr(lr,[1,0,Math.tan(pr(er.skewX)),1],!0)),er.skewY&&(lr=sr(lr,[1,Math.tan(pr(er.skewY)),0,1],!0)),lr},composeMatrix:function(er){var ar=[1,0,0,1,er.translateX||0,er.translateY||0],dr=e.util.multiplyTransformMatrices;return er.angle&&(ar=dr(ar,e.util.calcRotateMatrix(er))),(er.scaleX!==1||er.scaleY!==1||er.skewX||er.skewY||er.flipX||er.flipY)&&(ar=dr(ar,e.util.calcDimensionsMatrix(er))),ar},resetObjectTransform:function(er){er.scaleX=1,er.scaleY=1,er.skewX=0,er.skewY=0,er.flipX=!1,er.flipY=!1,er.rotate(0)},saveObjectTransform:function(er){return{scaleX:er.scaleX,scaleY:er.scaleY,skewX:er.skewX,skewY:er.skewY,angle:er.angle,left:er.left,flipX:er.flipX,flipY:er.flipY,top:er.top}},isTransparent:function(er,ar,dr,lr){lr>0&&(ar>lr?ar-=lr:ar=0,dr>lr?dr-=lr:dr=0);var sr=!0,pr,mr,vr=er.getImageData(ar,dr,lr*2||1,lr*2||1),yr=vr.data.length;for(pr=3;pr<yr&&(mr=vr.data[pr],sr=mr<=0,sr!==!1);pr+=4);return vr=null,sr},parsePreserveAspectRatioAttribute:function(er){var ar="meet",dr="Mid",lr="Mid",sr=er.split(" "),pr;return sr&&sr.length&&(ar=sr.pop(),ar!=="meet"&&ar!=="slice"?(pr=ar,ar="meet"):sr.length&&(pr=sr.pop())),dr=pr!=="none"?pr.slice(1,4):"none",lr=pr!=="none"?pr.slice(5,8):"none",{meetOrSlice:ar,alignX:dr,alignY:lr}},clearFabricFontCache:function(er){er=(er||"").toLowerCase(),er?e.charWidthsCache[er]&&delete e.charWidthsCache[er]:e.charWidthsCache={}},limitDimsByArea:function(er,ar){var dr=Math.sqrt(ar*er),lr=Math.floor(ar/dr);return{x:Math.floor(dr),y:lr}},capValue:function(er,ar,dr){return Math.max(er,Math.min(ar,dr))},findScaleToFit:function(er,ar){return Math.min(ar.width/er.width,ar.height/er.height)},findScaleToCover:function(er,ar){return Math.max(ar.width/er.width,ar.height/er.height)},matrixToSVG:function(er){return"matrix("+er.map(function(ar){return e.util.toFixed(ar,e.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(er,ar){var dr=e.util.invertTransform(ar),lr=e.util.multiplyTransformMatrices(dr,er.calcOwnMatrix());e.util.applyTransformToObject(er,lr)},addTransformToObject:function(er,ar){e.util.applyTransformToObject(er,e.util.multiplyTransformMatrices(ar,er.calcOwnMatrix()))},applyTransformToObject:function(er,ar){var dr=e.util.qrDecompose(ar),lr=new e.Point(dr.translateX,dr.translateY);er.flipX=!1,er.flipY=!1,er.set("scaleX",dr.scaleX),er.set("scaleY",dr.scaleY),er.skewX=dr.skewX,er.skewY=dr.skewY,er.angle=dr.angle,er.setPositionByOrigin(lr,"center","center")},sizeAfterTransform:function(er,ar,dr){var lr=er/2,sr=ar/2,pr=[{x:-lr,y:-sr},{x:lr,y:-sr},{x:-lr,y:sr},{x:lr,y:sr}],mr=e.util.calcDimensionsMatrix(dr),vr=e.util.makeBoundingBoxFromPoints(pr,mr);return{x:vr.width,y:vr.height}},mergeClipPaths:function(er,ar){var dr=er,lr=ar;dr.inverted&&!lr.inverted&&(dr=ar,lr=er),e.util.applyTransformToObject(lr,e.util.multiplyTransformMatrices(e.util.invertTransform(dr.calcTransformMatrix()),lr.calcTransformMatrix()));var sr=dr.inverted&&lr.inverted;return sr&&(dr.inverted=lr.inverted=!1),new e.Group([dr],{clipPath:lr,inverted:sr})},hasStyleChanged:function(er,ar,dr){return dr=dr||!1,er.fill!==ar.fill||er.stroke!==ar.stroke||er.strokeWidth!==ar.strokeWidth||er.fontSize!==ar.fontSize||er.fontFamily!==ar.fontFamily||er.fontWeight!==ar.fontWeight||er.fontStyle!==ar.fontStyle||er.deltaY!==ar.deltaY||dr&&(er.overline!==ar.overline||er.underline!==ar.underline||er.linethrough!==ar.linethrough)},stylesToArray:function(dr,ar){for(var dr=e.util.object.clone(dr,!0),lr=ar.split(`
`),sr=-1,pr={},mr=[],vr=0;vr<lr.length;vr++){if(!dr[vr]){sr+=lr[vr].length;continue}for(var yr=0;yr<lr[vr].length;yr++){sr++;var br=dr[vr][yr];if(br){var _r=e.util.hasStyleChanged(pr,br,!0);_r?mr.push({start:sr,end:sr+1,style:br}):mr[mr.length-1].end++}pr=br||{}}}return mr},stylesFromArray:function(er,ar){if(!Array.isArray(er))return er;for(var dr=ar.split(`
`),lr=-1,sr=0,pr={},mr=0;mr<dr.length;mr++)for(var vr=0;vr<dr[mr].length;vr++)lr++,er[sr]&&er[sr].start<=lr&&lr<er[sr].end&&(pr[mr]=pr[mr]||{},pr[mr][vr]=Object.assign({},er[sr].style),lr===er[sr].end-1&&sr++);return pr}}}(St),function(){var cr=Array.prototype.join,tr={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},hr={m:"l",M:"L"};function ur(Er,Hr,Gr,Cr,kr,Sr,Pr,jr,Wr,Kr,Qr){var on=e.util.cos(Er),pn=e.util.sin(Er),fn=e.util.cos(Hr),en=e.util.sin(Hr),Ir=Gr*kr*fn-Cr*Sr*en+Pr,Ur=Cr*kr*fn+Gr*Sr*en+jr,Mr=Kr+Wr*(-Gr*kr*pn-Cr*Sr*on),Zr=Qr+Wr*(-Cr*kr*pn+Gr*Sr*on),tn=Ir+Wr*(Gr*kr*en+Cr*Sr*fn),an=Ur+Wr*(Cr*kr*en-Gr*Sr*fn);return["C",Mr,Zr,tn,an,Ir,Ur]}function or(Er,Hr,Gr,Cr,kr,Sr,Pr){var jr=Math.PI,Wr=Pr*jr/180,Kr=e.util.sin(Wr),Qr=e.util.cos(Wr),on=0,pn=0;Gr=Math.abs(Gr),Cr=Math.abs(Cr);var fn=-Qr*Er*.5-Kr*Hr*.5,en=-Qr*Hr*.5+Kr*Er*.5,Ir=Gr*Gr,Ur=Cr*Cr,Mr=en*en,Zr=fn*fn,tn=Ir*Ur-Ir*Mr-Ur*Zr,an=0;if(tn<0){var vn=Math.sqrt(1-tn/(Ir*Ur));Gr*=vn,Cr*=vn}else an=(kr===Sr?-1:1)*Math.sqrt(tn/(Ir*Mr+Ur*Zr));var _n=an*Gr*en/Cr,dn=-an*Cr*fn/Gr,Pn=Qr*_n-Kr*dn+Er*.5,gn=Kr*_n+Qr*dn+Hr*.5,In=nr(1,0,(fn-_n)/Gr,(en-dn)/Cr),Rn=nr((fn-_n)/Gr,(en-dn)/Cr,(-fn-_n)/Gr,(-en-dn)/Cr);Sr===0&&Rn>0?Rn-=2*jr:Sr===1&&Rn<0&&(Rn+=2*jr);for(var zn=Math.ceil(Math.abs(Rn/jr*2)),Cn=[],Dn=Rn/zn,Kn=8/3*Math.sin(Dn/4)*Math.sin(Dn/4)/Math.sin(Dn/2),Nn=In+Dn,ds=0;ds<zn;ds++)Cn[ds]=ur(In,Nn,Qr,Kr,Gr,Cr,Pn,gn,Kn,on,pn),on=Cn[ds][5],pn=Cn[ds][6],In=Nn,Nn+=Dn;return Cn}function nr(Er,Hr,Gr,Cr){var kr=Math.atan2(Hr,Er),Sr=Math.atan2(Cr,Gr);return Sr>=kr?Sr-kr:2*Math.PI-(kr-Sr)}function er(Er,Hr,Gr,Cr,kr,Sr,Pr,jr){var Wr;if(e.cachesBoundsOfCurve&&(Wr=cr.call(arguments),e.boundsOfCurveCache[Wr]))return e.boundsOfCurveCache[Wr];var Kr=Math.sqrt,Qr=Math.min,on=Math.max,pn=Math.abs,fn=[],en=[[],[]],Ir,Ur,Mr,Zr,tn,an,vn,_n;Ur=6*Er-12*Gr+6*kr,Ir=-3*Er+9*Gr-9*kr+3*Pr,Mr=3*Gr-3*Er;for(var dn=0;dn<2;++dn){if(dn>0&&(Ur=6*Hr-12*Cr+6*Sr,Ir=-3*Hr+9*Cr-9*Sr+3*jr,Mr=3*Cr-3*Hr),pn(Ir)<1e-12){if(pn(Ur)<1e-12)continue;Zr=-Mr/Ur,0<Zr&&Zr<1&&fn.push(Zr);continue}vn=Ur*Ur-4*Mr*Ir,!(vn<0)&&(_n=Kr(vn),tn=(-Ur+_n)/(2*Ir),0<tn&&tn<1&&fn.push(tn),an=(-Ur-_n)/(2*Ir),0<an&&an<1&&fn.push(an))}for(var Pn,gn,In=fn.length,Rn=In,zn;In--;)Zr=fn[In],zn=1-Zr,Pn=zn*zn*zn*Er+3*zn*zn*Zr*Gr+3*zn*Zr*Zr*kr+Zr*Zr*Zr*Pr,en[0][In]=Pn,gn=zn*zn*zn*Hr+3*zn*zn*Zr*Cr+3*zn*Zr*Zr*Sr+Zr*Zr*Zr*jr,en[1][In]=gn;en[0][Rn]=Er,en[1][Rn]=Hr,en[0][Rn+1]=Pr,en[1][Rn+1]=jr;var Cn=[{x:Qr.apply(null,en[0]),y:Qr.apply(null,en[1])},{x:on.apply(null,en[0]),y:on.apply(null,en[1])}];return e.cachesBoundsOfCurve&&(e.boundsOfCurveCache[Wr]=Cn),Cn}function ar(Er,Hr,Gr){for(var Cr=Gr[1],kr=Gr[2],Sr=Gr[3],Pr=Gr[4],jr=Gr[5],Wr=Gr[6],Kr=Gr[7],Qr=or(Wr-Er,Kr-Hr,Cr,kr,Pr,jr,Sr),on=0,pn=Qr.length;on<pn;on++)Qr[on][1]+=Er,Qr[on][2]+=Hr,Qr[on][3]+=Er,Qr[on][4]+=Hr,Qr[on][5]+=Er,Qr[on][6]+=Hr;return Qr}function dr(Er){var Hr=0,Gr=0,Cr=Er.length,kr=0,Sr=0,Pr,jr,Wr,Kr=[],Qr,on,pn;for(jr=0;jr<Cr;++jr){switch(Wr=!1,Pr=Er[jr].slice(0),Pr[0]){case"l":Pr[0]="L",Pr[1]+=Hr,Pr[2]+=Gr;case"L":Hr=Pr[1],Gr=Pr[2];break;case"h":Pr[1]+=Hr;case"H":Pr[0]="L",Pr[2]=Gr,Hr=Pr[1];break;case"v":Pr[1]+=Gr;case"V":Pr[0]="L",Gr=Pr[1],Pr[1]=Hr,Pr[2]=Gr;break;case"m":Pr[0]="M",Pr[1]+=Hr,Pr[2]+=Gr;case"M":Hr=Pr[1],Gr=Pr[2],kr=Pr[1],Sr=Pr[2];break;case"c":Pr[0]="C",Pr[1]+=Hr,Pr[2]+=Gr,Pr[3]+=Hr,Pr[4]+=Gr,Pr[5]+=Hr,Pr[6]+=Gr;case"C":on=Pr[3],pn=Pr[4],Hr=Pr[5],Gr=Pr[6];break;case"s":Pr[0]="S",Pr[1]+=Hr,Pr[2]+=Gr,Pr[3]+=Hr,Pr[4]+=Gr;case"S":Qr==="C"?(on=2*Hr-on,pn=2*Gr-pn):(on=Hr,pn=Gr),Hr=Pr[3],Gr=Pr[4],Pr[0]="C",Pr[5]=Pr[3],Pr[6]=Pr[4],Pr[3]=Pr[1],Pr[4]=Pr[2],Pr[1]=on,Pr[2]=pn,on=Pr[3],pn=Pr[4];break;case"q":Pr[0]="Q",Pr[1]+=Hr,Pr[2]+=Gr,Pr[3]+=Hr,Pr[4]+=Gr;case"Q":on=Pr[1],pn=Pr[2],Hr=Pr[3],Gr=Pr[4];break;case"t":Pr[0]="T",Pr[1]+=Hr,Pr[2]+=Gr;case"T":Qr==="Q"?(on=2*Hr-on,pn=2*Gr-pn):(on=Hr,pn=Gr),Pr[0]="Q",Hr=Pr[1],Gr=Pr[2],Pr[1]=on,Pr[2]=pn,Pr[3]=Hr,Pr[4]=Gr;break;case"a":Pr[0]="A",Pr[6]+=Hr,Pr[7]+=Gr;case"A":Wr=!0,Kr=Kr.concat(ar(Hr,Gr,Pr)),Hr=Pr[6],Gr=Pr[7];break;case"z":case"Z":Hr=kr,Gr=Sr;break}Wr||Kr.push(Pr),Qr=Pr[0]}return Kr}function lr(Er,Hr,Gr,Cr){return Math.sqrt((Gr-Er)*(Gr-Er)+(Cr-Hr)*(Cr-Hr))}function sr(Er){return Er*Er*Er}function pr(Er){return 3*Er*Er*(1-Er)}function mr(Er){return 3*Er*(1-Er)*(1-Er)}function vr(Er){return(1-Er)*(1-Er)*(1-Er)}function yr(Er,Hr,Gr,Cr,kr,Sr,Pr,jr){return function(Wr){var Kr=sr(Wr),Qr=pr(Wr),on=mr(Wr),pn=vr(Wr);return{x:Pr*Kr+kr*Qr+Gr*on+Er*pn,y:jr*Kr+Sr*Qr+Cr*on+Hr*pn}}}function br(Er,Hr,Gr,Cr,kr,Sr,Pr,jr){return function(Wr){var Kr=1-Wr,Qr=3*Kr*Kr*(Gr-Er)+6*Kr*Wr*(kr-Gr)+3*Wr*Wr*(Pr-kr),on=3*Kr*Kr*(Cr-Hr)+6*Kr*Wr*(Sr-Cr)+3*Wr*Wr*(jr-Sr);return Math.atan2(on,Qr)}}function _r(Er){return Er*Er}function xr(Er){return 2*Er*(1-Er)}function Nr(Er){return(1-Er)*(1-Er)}function zr(Er,Hr,Gr,Cr,kr,Sr){return function(Pr){var jr=_r(Pr),Wr=xr(Pr),Kr=Nr(Pr);return{x:kr*jr+Gr*Wr+Er*Kr,y:Sr*jr+Cr*Wr+Hr*Kr}}}function Tr(Er,Hr,Gr,Cr,kr,Sr){return function(Pr){var jr=1-Pr,Wr=2*jr*(Gr-Er)+2*Pr*(kr-Gr),Kr=2*jr*(Cr-Hr)+2*Pr*(Sr-Cr);return Math.atan2(Kr,Wr)}}function Br(Er,Hr,Gr){var Cr={x:Hr,y:Gr},kr,Sr=0,Pr;for(Pr=1;Pr<=100;Pr+=1)kr=Er(Pr/100),Sr+=lr(Cr.x,Cr.y,kr.x,kr.y),Cr=kr;return Sr}function Jr(Er,Hr){for(var Gr=0,Cr=0,kr=Er.iterator,Sr={x:Er.x,y:Er.y},Pr,jr,Wr=.01,Kr=Er.angleFinder,Qr;Cr<Hr&&Wr>1e-4;)Pr=kr(Gr),Qr=Gr,jr=lr(Sr.x,Sr.y,Pr.x,Pr.y),jr+Cr>Hr?(Gr-=Wr,Wr/=2):(Sr=Pr,Gr+=Wr,Cr+=jr);return Pr.angle=Kr(Qr),Pr}function Yr(Er){for(var Hr=0,Gr=Er.length,Cr,kr=0,Sr=0,Pr=0,jr=0,Wr=[],Kr,Qr,on,pn=0;pn<Gr;pn++){switch(Cr=Er[pn],Qr={x:kr,y:Sr,command:Cr[0]},Cr[0]){case"M":Qr.length=0,Pr=kr=Cr[1],jr=Sr=Cr[2];break;case"L":Qr.length=lr(kr,Sr,Cr[1],Cr[2]),kr=Cr[1],Sr=Cr[2];break;case"C":Kr=yr(kr,Sr,Cr[1],Cr[2],Cr[3],Cr[4],Cr[5],Cr[6]),on=br(kr,Sr,Cr[1],Cr[2],Cr[3],Cr[4],Cr[5],Cr[6]),Qr.iterator=Kr,Qr.angleFinder=on,Qr.length=Br(Kr,kr,Sr),kr=Cr[5],Sr=Cr[6];break;case"Q":Kr=zr(kr,Sr,Cr[1],Cr[2],Cr[3],Cr[4]),on=Tr(kr,Sr,Cr[1],Cr[2],Cr[3],Cr[4]),Qr.iterator=Kr,Qr.angleFinder=on,Qr.length=Br(Kr,kr,Sr),kr=Cr[3],Sr=Cr[4];break;case"Z":case"z":Qr.destX=Pr,Qr.destY=jr,Qr.length=lr(kr,Sr,Pr,jr),kr=Pr,Sr=jr;break}Hr+=Qr.length,Wr.push(Qr)}return Wr.push({length:Hr,x:kr,y:Sr}),Wr}function Xr(Er,Hr,Gr){Gr||(Gr=Yr(Er));for(var Cr=0;Hr-Gr[Cr].length>0&&Cr<Gr.length-2;)Hr-=Gr[Cr].length,Cr++;var kr=Gr[Cr],Sr=Hr/kr.length,Pr=kr.command,jr=Er[Cr],Wr;switch(Pr){case"M":return{x:kr.x,y:kr.y,angle:0};case"Z":case"z":return Wr=new e.Point(kr.x,kr.y).lerp(new e.Point(kr.destX,kr.destY),Sr),Wr.angle=Math.atan2(kr.destY-kr.y,kr.destX-kr.x),Wr;case"L":return Wr=new e.Point(kr.x,kr.y).lerp(new e.Point(jr[1],jr[2]),Sr),Wr.angle=Math.atan2(jr[2]-kr.y,jr[1]-kr.x),Wr;case"C":return Jr(kr,Hr);case"Q":return Jr(kr,Hr)}}function Vr(Er){var Hr=[],Gr=[],Cr,kr,Sr=e.rePathCommand,Pr="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",jr="("+Pr+")"+e.commaWsp,Wr="([01])"+e.commaWsp+"?",Kr=jr+"?"+jr+"?"+jr+Wr+Wr+jr+"?("+Pr+")",Qr=new RegExp(Kr,"g"),on,pn,fn;if(!Er||!Er.match)return Hr;fn=Er.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var en=0,Ir,Ur=fn.length;en<Ur;en++){Cr=fn[en],pn=Cr.slice(1).trim(),Gr.length=0;var Mr=Cr.charAt(0);if(Ir=[Mr],Mr.toLowerCase()==="a")for(var Zr;Zr=Qr.exec(pn);)for(var tn=1;tn<Zr.length;tn++)Gr.push(Zr[tn]);else for(;on=Sr.exec(pn);)Gr.push(on[0]);for(var tn=0,an=Gr.length;tn<an;tn++)kr=parseFloat(Gr[tn]),isNaN(kr)||Ir.push(kr);var vn=tr[Mr.toLowerCase()],_n=hr[Mr]||Mr;if(Ir.length-1>vn)for(var dn=1,Pn=Ir.length;dn<Pn;dn+=vn)Hr.push([Mr].concat(Ir.slice(dn,dn+vn))),Mr=_n;else Hr.push(Ir)}return Hr}function $r(Er,Hr){var Gr=[],Cr,kr=new e.Point(Er[0].x,Er[0].y),Sr=new e.Point(Er[1].x,Er[1].y),Pr=Er.length,jr=1,Wr=0,Kr=Pr>2;for(Hr=Hr||0,Kr&&(jr=Er[2].x<Sr.x?-1:Er[2].x===Sr.x?0:1,Wr=Er[2].y<Sr.y?-1:Er[2].y===Sr.y?0:1),Gr.push(["M",kr.x-jr*Hr,kr.y-Wr*Hr]),Cr=1;Cr<Pr;Cr++){if(!kr.eq(Sr)){var Qr=kr.midPointFrom(Sr);Gr.push(["Q",kr.x,kr.y,Qr.x,Qr.y])}kr=Er[Cr],Cr+1<Er.length&&(Sr=Er[Cr+1])}return Kr&&(jr=kr.x>Er[Cr-2].x?1:kr.x===Er[Cr-2].x?0:-1,Wr=kr.y>Er[Cr-2].y?1:kr.y===Er[Cr-2].y?0:-1),Gr.push(["L",kr.x+jr*Hr,kr.y+Wr*Hr]),Gr}function Lr(Er,Hr,Gr){return Gr&&(Hr=e.util.multiplyTransformMatrices(Hr,[1,0,0,1,-Gr.x,-Gr.y])),Er.map(function(Cr){for(var kr=Cr.slice(0),Sr={},Pr=1;Pr<Cr.length-1;Pr+=2)Sr.x=Cr[Pr],Sr.y=Cr[Pr+1],Sr=e.util.transformPoint(Sr,Hr),kr[Pr]=Sr.x,kr[Pr+1]=Sr.y;return kr})}e.util.joinPath=function(Er){return Er.map(function(Hr){return Hr.join(" ")}).join(" ")},e.util.parsePath=Vr,e.util.makePathSimpler=dr,e.util.getSmoothPathFromPoints=$r,e.util.getPathSegmentsInfo=Yr,e.util.getBoundsOfCurve=er,e.util.getPointOnPath=Xr,e.util.transformPath=Lr}(),function(){var cr=Array.prototype.slice;function tr(er,ar){for(var dr=cr.call(arguments,2),lr=[],sr=0,pr=er.length;sr<pr;sr++)lr[sr]=dr.length?er[sr][ar].apply(er[sr],dr):er[sr][ar].call(er[sr]);return lr}function hr(er,ar){return nr(er,ar,function(dr,lr){return dr>=lr})}function ur(er,ar){return nr(er,ar,function(dr,lr){return dr<lr})}function or(er,ar){for(var dr=er.length;dr--;)er[dr]=ar;return er}function nr(er,ar,dr){if(!(!er||er.length===0)){var lr=er.length-1,sr=ar?er[lr][ar]:er[lr];if(ar)for(;lr--;)dr(er[lr][ar],sr)&&(sr=er[lr][ar]);else for(;lr--;)dr(er[lr],sr)&&(sr=er[lr]);return sr}}e.util.array={fill:or,invoke:tr,min:ur,max:hr}}(),function(){function cr(hr,ur,or){if(or)if(!e.isLikelyNode&&ur instanceof Element)hr=ur;else if(ur instanceof Array){hr=[];for(var nr=0,er=ur.length;nr<er;nr++)hr[nr]=cr({},ur[nr],or)}else if(ur&&typeof ur=="object")for(var ar in ur)ar==="canvas"||ar==="group"?hr[ar]=null:ur.hasOwnProperty(ar)&&(hr[ar]=cr({},ur[ar],or));else hr=ur;else for(var ar in ur)hr[ar]=ur[ar];return hr}function tr(hr,ur){return cr({},hr,ur)}e.util.object={extend:cr,clone:tr},e.util.object.extend(e.util,e.Observable)}(),function(){function cr(nr){return nr.replace(/-+(.)?/g,function(er,ar){return ar?ar.toUpperCase():""})}function tr(nr,er){return nr.charAt(0).toUpperCase()+(er?nr.slice(1):nr.slice(1).toLowerCase())}function hr(nr){return nr.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ur(nr){var er=0,ar,dr=[];for(er=0,ar;er<nr.length;er++)(ar=or(nr,er))!==!1&&dr.push(ar);return dr}function or(nr,er){var ar=nr.charCodeAt(er);if(isNaN(ar))return"";if(ar<55296||ar>57343)return nr.charAt(er);if(55296<=ar&&ar<=56319){if(nr.length<=er+1)throw"High surrogate without following low surrogate";var dr=nr.charCodeAt(er+1);if(56320>dr||dr>57343)throw"High surrogate without following low surrogate";return nr.charAt(er)+nr.charAt(er+1)}if(er===0)throw"Low surrogate without preceding high surrogate";var lr=nr.charCodeAt(er-1);if(55296>lr||lr>56319)throw"Low surrogate without preceding high surrogate";return!1}e.util.string={camelize:cr,capitalize:tr,escapeXml:hr,graphemeSplit:ur}}(),function(){var cr=Array.prototype.slice,tr=function(){},hr=function(){for(var ar in{toString:1})if(ar==="toString")return!1;return!0}(),ur=function(ar,dr,lr){for(var sr in dr)sr in ar.prototype&&typeof ar.prototype[sr]=="function"&&(dr[sr]+"").indexOf("callSuper")>-1?ar.prototype[sr]=function(pr){return function(){var mr=this.constructor.superclass;this.constructor.superclass=lr;var vr=dr[pr].apply(this,arguments);if(this.constructor.superclass=mr,pr!=="initialize")return vr}}(sr):ar.prototype[sr]=dr[sr],hr&&(dr.toString!==Object.prototype.toString&&(ar.prototype.toString=dr.toString),dr.valueOf!==Object.prototype.valueOf&&(ar.prototype.valueOf=dr.valueOf))};function or(){}function nr(ar){for(var dr=null,lr=this;lr.constructor.superclass;){var sr=lr.constructor.superclass.prototype[ar];if(lr[ar]!==sr){dr=sr;break}lr=lr.constructor.superclass.prototype}return dr?arguments.length>1?dr.apply(this,cr.call(arguments,1)):dr.call(this):console.log("tried to callSuper "+ar+", method not found in prototype chain",this)}function er(){var ar=null,dr=cr.call(arguments,0);typeof dr[0]=="function"&&(ar=dr.shift());function lr(){this.initialize.apply(this,arguments)}lr.superclass=ar,lr.subclasses=[],ar&&(or.prototype=ar.prototype,lr.prototype=new or,ar.subclasses.push(lr));for(var sr=0,pr=dr.length;sr<pr;sr++)ur(lr,dr[sr],ar);return lr.prototype.initialize||(lr.prototype.initialize=tr),lr.prototype.constructor=lr,lr.prototype.callSuper=nr,lr}e.util.createClass=er}(),function(){var cr=!!e.document.createElement("div").attachEvent,tr=["touchstart","touchmove","touchend"];e.util.addListener=function(ur,or,nr,er){ur&&ur.addEventListener(or,nr,cr?!1:er)},e.util.removeListener=function(ur,or,nr,er){ur&&ur.removeEventListener(or,nr,cr?!1:er)};function hr(ur){var or=ur.changedTouches;return or&&or[0]?or[0]:ur}e.util.getPointer=function(ur){var or=ur.target,nr=e.util.getScrollLeftTop(or),er=hr(ur);return{x:er.clientX+nr.left,y:er.clientY+nr.top}},e.util.isTouchEvent=function(ur){return tr.indexOf(ur.type)>-1||ur.pointerType==="touch"}}(),function(){function cr(er,ar){var dr=er.style;if(!dr)return er;if(typeof ar=="string")return er.style.cssText+=";"+ar,ar.indexOf("opacity")>-1?nr(er,ar.match(/opacity:\s*(\d?\.?\d*)/)[1]):er;for(var lr in ar)if(lr==="opacity")nr(er,ar[lr]);else{var sr=lr==="float"||lr==="cssFloat"?typeof dr.styleFloat>"u"?"cssFloat":"styleFloat":lr;dr.setProperty(sr,ar[lr])}return er}var tr=e.document.createElement("div"),hr=typeof tr.style.opacity=="string",ur=typeof tr.style.filter=="string",or=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,nr=function(er){return er};hr?nr=function(er,ar){return er.style.opacity=ar,er}:ur&&(nr=function(er,ar){var dr=er.style;return er.currentStyle&&!er.currentStyle.hasLayout&&(dr.zoom=1),or.test(dr.filter)?(ar=ar>=.9999?"":"alpha(opacity="+ar*100+")",dr.filter=dr.filter.replace(or,ar)):dr.filter+=" alpha(opacity="+ar*100+")",er}),e.util.setStyle=cr}(),function(){var cr=Array.prototype.slice;function tr(vr){return typeof vr=="string"?e.document.getElementById(vr):vr}var hr,ur=function(vr){return cr.call(vr,0)};try{hr=ur(e.document.childNodes)instanceof Array}catch{}hr||(ur=function(vr){for(var yr=new Array(vr.length),br=vr.length;br--;)yr[br]=vr[br];return yr});function or(vr,yr){var br=e.document.createElement(vr);for(var _r in yr)_r==="class"?br.className=yr[_r]:_r==="for"?br.htmlFor=yr[_r]:br.setAttribute(_r,yr[_r]);return br}function nr(vr,yr){vr&&(" "+vr.className+" ").indexOf(" "+yr+" ")===-1&&(vr.className+=(vr.className?" ":"")+yr)}function er(vr,yr,br){return typeof yr=="string"&&(yr=or(yr,br)),vr.parentNode&&vr.parentNode.replaceChild(yr,vr),yr.appendChild(vr),yr}function ar(vr){for(var yr=0,br=0,_r=e.document.documentElement,xr=e.document.body||{scrollLeft:0,scrollTop:0};vr&&(vr.parentNode||vr.host)&&(vr=vr.parentNode||vr.host,vr===e.document?(yr=xr.scrollLeft||_r.scrollLeft||0,br=xr.scrollTop||_r.scrollTop||0):(yr+=vr.scrollLeft||0,br+=vr.scrollTop||0),!(vr.nodeType===1&&vr.style.position==="fixed")););return{left:yr,top:br}}function dr(vr){var yr,br=vr&&vr.ownerDocument,_r={left:0,top:0},xr={left:0,top:0},Nr,zr={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!br)return xr;for(var Tr in zr)xr[zr[Tr]]+=parseInt(lr(vr,Tr),10)||0;return yr=br.documentElement,typeof vr.getBoundingClientRect<"u"&&(_r=vr.getBoundingClientRect()),Nr=ar(vr),{left:_r.left+Nr.left-(yr.clientLeft||0)+xr.left,top:_r.top+Nr.top-(yr.clientTop||0)+xr.top}}var lr;e.document.defaultView&&e.document.defaultView.getComputedStyle?lr=function(vr,yr){var br=e.document.defaultView.getComputedStyle(vr,null);return br?br[yr]:void 0}:lr=function(vr,yr){var br=vr.style[yr];return!br&&vr.currentStyle&&(br=vr.currentStyle[yr]),br},function(){var vr=e.document.documentElement.style,yr="userSelect"in vr?"userSelect":"MozUserSelect"in vr?"MozUserSelect":"WebkitUserSelect"in vr?"WebkitUserSelect":"KhtmlUserSelect"in vr?"KhtmlUserSelect":"";function br(xr){return typeof xr.onselectstart<"u"&&(xr.onselectstart=e.util.falseFunction),yr?xr.style[yr]="none":typeof xr.unselectable=="string"&&(xr.unselectable="on"),xr}function _r(xr){return typeof xr.onselectstart<"u"&&(xr.onselectstart=null),yr?xr.style[yr]="":typeof xr.unselectable=="string"&&(xr.unselectable=""),xr}e.util.makeElementUnselectable=br,e.util.makeElementSelectable=_r}();function sr(vr){var yr=e.jsdomImplForWrapper(vr);return yr._canvas||yr._image}function pr(vr){if(!!e.isLikelyNode){var yr=e.jsdomImplForWrapper(vr);yr&&(yr._image=null,yr._canvas=null,yr._currentSrc=null,yr._attributes=null,yr._classList=null)}}function mr(vr,yr){vr.imageSmoothingEnabled=vr.imageSmoothingEnabled||vr.webkitImageSmoothingEnabled||vr.mozImageSmoothingEnabled||vr.msImageSmoothingEnabled||vr.oImageSmoothingEnabled,vr.imageSmoothingEnabled=yr}e.util.setImageSmoothing=mr,e.util.getById=tr,e.util.toArray=ur,e.util.addClass=nr,e.util.makeElement=or,e.util.wrapElement=er,e.util.getScrollLeftTop=ar,e.util.getElementOffset=dr,e.util.getNodeCanvas=sr,e.util.cleanUpJsdomNode=pr}(),function(){function cr(ur,or){return ur+(/\?/.test(ur)?"&":"?")+or}function tr(){}function hr(ur,or){or||(or={});var nr=or.method?or.method.toUpperCase():"GET",er=or.onComplete||function(){},ar=new e.window.XMLHttpRequest,dr=or.body||or.parameters;return ar.onreadystatechange=function(){ar.readyState===4&&(er(ar),ar.onreadystatechange=tr)},nr==="GET"&&(dr=null,typeof or.parameters=="string"&&(ur=cr(ur,or.parameters))),ar.open(nr,ur,!0),(nr==="POST"||nr==="PUT")&&ar.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),ar.send(dr),ar}e.util.request=hr}(),e.log=console.log,e.warn=console.warn,function(){var cr=e.util.object.extend,tr=e.util.object.clone,hr=[];e.util.object.extend(hr,{cancelAll:function(){var sr=this.splice(0);return sr.forEach(function(pr){pr.cancel()}),sr},cancelByCanvas:function(sr){if(!sr)return[];var pr=this.filter(function(mr){return typeof mr.target=="object"&&mr.target.canvas===sr});return pr.forEach(function(mr){mr.cancel()}),pr},cancelByTarget:function(sr){var pr=this.findAnimationsByTarget(sr);return pr.forEach(function(mr){mr.cancel()}),pr},findAnimationIndex:function(sr){return this.indexOf(this.findAnimation(sr))},findAnimation:function(sr){return this.find(function(pr){return pr.cancel===sr})},findAnimationsByTarget:function(sr){return sr?this.filter(function(pr){return pr.target===sr}):[]}});function ur(){return!1}function or(sr,pr,mr,vr){return-mr*Math.cos(sr/vr*(Math.PI/2))+mr+pr}function nr(sr){sr||(sr={});var pr=!1,mr,vr=function(){var yr=e.runningAnimations.indexOf(mr);return yr>-1&&e.runningAnimations.splice(yr,1)[0]};return mr=cr(tr(sr),{cancel:function(){return pr=!0,vr()},currentValue:"startValue"in sr?sr.startValue:0,completionRate:0,durationRate:0}),e.runningAnimations.push(mr),dr(function(yr){var br=yr||+new Date,_r=sr.duration||500,xr=br+_r,Nr,zr=sr.onChange||ur,Tr=sr.abort||ur,Br=sr.onComplete||ur,Jr=sr.easing||or,Yr="startValue"in sr?sr.startValue.length>0:!1,Xr="startValue"in sr?sr.startValue:0,Vr="endValue"in sr?sr.endValue:100,$r=sr.byValue||(Yr?Xr.map(function(Lr,Er){return Vr[Er]-Xr[Er]}):Vr-Xr);sr.onStart&&sr.onStart(),function Lr(Er){Nr=Er||+new Date;var Hr=Nr>xr?_r:Nr-br,Gr=Hr/_r,Cr=Yr?Xr.map(function(Sr,Pr){return Jr(Hr,Xr[Pr],$r[Pr],_r)}):Jr(Hr,Xr,$r,_r),kr=Math.abs(Yr?(Cr[0]-Xr[0])/$r[0]:(Cr-Xr)/$r);if(mr.currentValue=Yr?Cr.slice():Cr,mr.completionRate=kr,mr.durationRate=Gr,!pr){if(Tr(Cr,kr,Gr)){vr();return}if(Nr>xr){mr.currentValue=Yr?Vr.slice():Vr,mr.completionRate=1,mr.durationRate=1,zr(Yr?Vr.slice():Vr,1,1),Br(Vr,1,1),vr();return}else zr(Cr,kr,Gr),dr(Lr)}}(br)}),mr.cancel}var er=e.window.requestAnimationFrame||e.window.webkitRequestAnimationFrame||e.window.mozRequestAnimationFrame||e.window.oRequestAnimationFrame||e.window.msRequestAnimationFrame||function(sr){return e.window.setTimeout(sr,1e3/60)},ar=e.window.cancelAnimationFrame||e.window.clearTimeout;function dr(){return er.apply(e.window,arguments)}function lr(){return ar.apply(e.window,arguments)}e.util.animate=nr,e.util.requestAnimFrame=dr,e.util.cancelAnimFrame=lr,e.runningAnimations=hr}(),function(){function cr(hr,ur,or){var nr="rgba("+parseInt(hr[0]+or*(ur[0]-hr[0]),10)+","+parseInt(hr[1]+or*(ur[1]-hr[1]),10)+","+parseInt(hr[2]+or*(ur[2]-hr[2]),10);return nr+=","+(hr&&ur?parseFloat(hr[3]+or*(ur[3]-hr[3])):1),nr+=")",nr}function tr(hr,ur,or,nr){var er=new e.Color(hr).getSource(),ar=new e.Color(ur).getSource(),dr=nr.onComplete,lr=nr.onChange;return nr=nr||{},e.util.animate(e.util.object.extend(nr,{duration:or||500,startValue:er,endValue:ar,byValue:ar,easing:function(sr,pr,mr,vr){var yr=nr.colorEasing?nr.colorEasing(sr,vr):1-Math.cos(sr/vr*(Math.PI/2));return cr(pr,mr,yr)},onComplete:function(sr,pr,mr){if(dr)return dr(cr(ar,ar,0),pr,mr)},onChange:function(sr,pr,mr){if(lr){if(Array.isArray(sr))return lr(cr(sr,sr,0),pr,mr);lr(sr,pr,mr)}}}))}e.util.animateColor=tr}(),function(){function cr(Er,Hr,Gr,Cr){return Er<Math.abs(Hr)?(Er=Hr,Cr=Gr/4):Hr===0&&Er===0?Cr=Gr/(2*Math.PI)*Math.asin(1):Cr=Gr/(2*Math.PI)*Math.asin(Hr/Er),{a:Er,c:Hr,p:Gr,s:Cr}}function tr(Er,Hr,Gr){return Er.a*Math.pow(2,10*(Hr-=1))*Math.sin((Hr*Gr-Er.s)*(2*Math.PI)/Er.p)}function hr(Er,Hr,Gr,Cr){return Gr*((Er=Er/Cr-1)*Er*Er+1)+Hr}function ur(Er,Hr,Gr,Cr){return Er/=Cr/2,Er<1?Gr/2*Er*Er*Er+Hr:Gr/2*((Er-=2)*Er*Er+2)+Hr}function or(Er,Hr,Gr,Cr){return Gr*(Er/=Cr)*Er*Er*Er+Hr}function nr(Er,Hr,Gr,Cr){return-Gr*((Er=Er/Cr-1)*Er*Er*Er-1)+Hr}function er(Er,Hr,Gr,Cr){return Er/=Cr/2,Er<1?Gr/2*Er*Er*Er*Er+Hr:-Gr/2*((Er-=2)*Er*Er*Er-2)+Hr}function ar(Er,Hr,Gr,Cr){return Gr*(Er/=Cr)*Er*Er*Er*Er+Hr}function dr(Er,Hr,Gr,Cr){return Gr*((Er=Er/Cr-1)*Er*Er*Er*Er+1)+Hr}function lr(Er,Hr,Gr,Cr){return Er/=Cr/2,Er<1?Gr/2*Er*Er*Er*Er*Er+Hr:Gr/2*((Er-=2)*Er*Er*Er*Er+2)+Hr}function sr(Er,Hr,Gr,Cr){return-Gr*Math.cos(Er/Cr*(Math.PI/2))+Gr+Hr}function pr(Er,Hr,Gr,Cr){return Gr*Math.sin(Er/Cr*(Math.PI/2))+Hr}function mr(Er,Hr,Gr,Cr){return-Gr/2*(Math.cos(Math.PI*Er/Cr)-1)+Hr}function vr(Er,Hr,Gr,Cr){return Er===0?Hr:Gr*Math.pow(2,10*(Er/Cr-1))+Hr}function yr(Er,Hr,Gr,Cr){return Er===Cr?Hr+Gr:Gr*(-Math.pow(2,-10*Er/Cr)+1)+Hr}function br(Er,Hr,Gr,Cr){return Er===0?Hr:Er===Cr?Hr+Gr:(Er/=Cr/2,Er<1?Gr/2*Math.pow(2,10*(Er-1))+Hr:Gr/2*(-Math.pow(2,-10*--Er)+2)+Hr)}function _r(Er,Hr,Gr,Cr){return-Gr*(Math.sqrt(1-(Er/=Cr)*Er)-1)+Hr}function xr(Er,Hr,Gr,Cr){return Gr*Math.sqrt(1-(Er=Er/Cr-1)*Er)+Hr}function Nr(Er,Hr,Gr,Cr){return Er/=Cr/2,Er<1?-Gr/2*(Math.sqrt(1-Er*Er)-1)+Hr:Gr/2*(Math.sqrt(1-(Er-=2)*Er)+1)+Hr}function zr(Er,Hr,Gr,Cr){var kr=1.70158,Sr=0,Pr=Gr;if(Er===0)return Hr;if(Er/=Cr,Er===1)return Hr+Gr;Sr||(Sr=Cr*.3);var jr=cr(Pr,Gr,Sr,kr);return-tr(jr,Er,Cr)+Hr}function Tr(Er,Hr,Gr,Cr){var kr=1.70158,Sr=0,Pr=Gr;if(Er===0)return Hr;if(Er/=Cr,Er===1)return Hr+Gr;Sr||(Sr=Cr*.3);var jr=cr(Pr,Gr,Sr,kr);return jr.a*Math.pow(2,-10*Er)*Math.sin((Er*Cr-jr.s)*(2*Math.PI)/jr.p)+jr.c+Hr}function Br(Er,Hr,Gr,Cr){var kr=1.70158,Sr=0,Pr=Gr;if(Er===0)return Hr;if(Er/=Cr/2,Er===2)return Hr+Gr;Sr||(Sr=Cr*(.3*1.5));var jr=cr(Pr,Gr,Sr,kr);return Er<1?-.5*tr(jr,Er,Cr)+Hr:jr.a*Math.pow(2,-10*(Er-=1))*Math.sin((Er*Cr-jr.s)*(2*Math.PI)/jr.p)*.5+jr.c+Hr}function Jr(Er,Hr,Gr,Cr,kr){return kr===void 0&&(kr=1.70158),Gr*(Er/=Cr)*Er*((kr+1)*Er-kr)+Hr}function Yr(Er,Hr,Gr,Cr,kr){return kr===void 0&&(kr=1.70158),Gr*((Er=Er/Cr-1)*Er*((kr+1)*Er+kr)+1)+Hr}function Xr(Er,Hr,Gr,Cr,kr){return kr===void 0&&(kr=1.70158),Er/=Cr/2,Er<1?Gr/2*(Er*Er*(((kr*=1.525)+1)*Er-kr))+Hr:Gr/2*((Er-=2)*Er*(((kr*=1.525)+1)*Er+kr)+2)+Hr}function Vr(Er,Hr,Gr,Cr){return Gr-$r(Cr-Er,0,Gr,Cr)+Hr}function $r(Er,Hr,Gr,Cr){return(Er/=Cr)<1/2.75?Gr*(7.5625*Er*Er)+Hr:Er<2/2.75?Gr*(7.5625*(Er-=1.5/2.75)*Er+.75)+Hr:Er<2.5/2.75?Gr*(7.5625*(Er-=2.25/2.75)*Er+.9375)+Hr:Gr*(7.5625*(Er-=2.625/2.75)*Er+.984375)+Hr}function Lr(Er,Hr,Gr,Cr){return Er<Cr/2?Vr(Er*2,0,Gr,Cr)*.5+Hr:$r(Er*2-Cr,0,Gr,Cr)*.5+Gr*.5+Hr}e.util.ease={easeInQuad:function(Er,Hr,Gr,Cr){return Gr*(Er/=Cr)*Er+Hr},easeOutQuad:function(Er,Hr,Gr,Cr){return-Gr*(Er/=Cr)*(Er-2)+Hr},easeInOutQuad:function(Er,Hr,Gr,Cr){return Er/=Cr/2,Er<1?Gr/2*Er*Er+Hr:-Gr/2*(--Er*(Er-2)-1)+Hr},easeInCubic:function(Er,Hr,Gr,Cr){return Gr*(Er/=Cr)*Er*Er+Hr},easeOutCubic:hr,easeInOutCubic:ur,easeInQuart:or,easeOutQuart:nr,easeInOutQuart:er,easeInQuint:ar,easeOutQuint:dr,easeInOutQuint:lr,easeInSine:sr,easeOutSine:pr,easeInOutSine:mr,easeInExpo:vr,easeOutExpo:yr,easeInOutExpo:br,easeInCirc:_r,easeOutCirc:xr,easeInOutCirc:Nr,easeInElastic:zr,easeOutElastic:Tr,easeInOutElastic:Br,easeInBack:Jr,easeOutBack:Yr,easeInOutBack:Xr,easeInBounce:Vr,easeOutBounce:$r,easeInOutBounce:Lr}}(),function(cr){var tr=cr.fabric||(cr.fabric={}),hr=tr.util.object.extend,ur=tr.util.object.clone,or=tr.util.toFixed,nr=tr.util.parseUnit,er=tr.util.multiplyTransformMatrices,ar=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],dr=["symbol","image","marker","pattern","view","svg"],lr=["pattern","defs","symbol","metadata","clipPath","mask","desc"],sr=["symbol","g","a","svg","clipPath","defs"],pr={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},mr={stroke:"strokeOpacity",fill:"fillOpacity"},vr="font-size",yr="clip-path";tr.svgValidTagNamesRegEx=xr(ar),tr.svgViewBoxElementsRegEx=xr(dr),tr.svgInvalidAncestorsRegEx=xr(lr),tr.svgValidParentsRegEx=xr(sr),tr.cssRules={},tr.gradientDefs={},tr.clipPaths={};function br(Sr){return Sr in pr?pr[Sr]:Sr}function _r(Sr,Pr,jr,Wr){var Kr=Array.isArray(Pr),Qr;if((Sr==="fill"||Sr==="stroke")&&Pr==="none")Pr="";else{if(Sr==="strokeUniform")return Pr==="non-scaling-stroke";if(Sr==="strokeDashArray")Pr==="none"?Pr=null:Pr=Pr.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(Sr==="transformMatrix")jr&&jr.transformMatrix?Pr=er(jr.transformMatrix,tr.parseTransformAttribute(Pr)):Pr=tr.parseTransformAttribute(Pr);else if(Sr==="visible")Pr=Pr!=="none"&&Pr!=="hidden",jr&&jr.visible===!1&&(Pr=!1);else if(Sr==="opacity")Pr=parseFloat(Pr),jr&&typeof jr.opacity<"u"&&(Pr*=jr.opacity);else if(Sr==="textAnchor")Pr=Pr==="start"?"left":Pr==="end"?"right":"center";else if(Sr==="charSpacing")Qr=nr(Pr,Wr)/Wr*1e3;else if(Sr==="paintFirst"){var on=Pr.indexOf("fill"),pn=Pr.indexOf("stroke"),Pr="fill";(on>-1&&pn>-1&&pn<on||on===-1&&pn>-1)&&(Pr="stroke")}else{if(Sr==="href"||Sr==="xlink:href"||Sr==="font")return Pr;if(Sr==="imageSmoothing")return Pr==="optimizeQuality";Qr=Kr?Pr.map(nr):nr(Pr,Wr)}}return!Kr&&isNaN(Qr)?Pr:Qr}function xr(Sr){return new RegExp("^("+Sr.join("|")+")\\b","i")}function Nr(Sr){for(var Pr in mr)if(!(typeof Sr[mr[Pr]]>"u"||Sr[Pr]==="")){if(typeof Sr[Pr]>"u"){if(!tr.Object.prototype[Pr])continue;Sr[Pr]=tr.Object.prototype[Pr]}if(Sr[Pr].indexOf("url(")!==0){var jr=new tr.Color(Sr[Pr]);Sr[Pr]=jr.setAlpha(or(jr.getAlpha()*Sr[mr[Pr]],2)).toRgba()}}return Sr}function zr(Sr,Pr){var jr,Wr=[],Kr,Qr,on;for(Qr=0,on=Pr.length;Qr<on;Qr++)jr=Pr[Qr],Kr=Sr.getElementsByTagName(jr),Wr=Wr.concat(Array.prototype.slice.call(Kr));return Wr}tr.parseTransformAttribute=function(){function Sr(dn,Pn){var gn=tr.util.cos(Pn[0]),In=tr.util.sin(Pn[0]),Rn=0,zn=0;Pn.length===3&&(Rn=Pn[1],zn=Pn[2]),dn[0]=gn,dn[1]=In,dn[2]=-In,dn[3]=gn,dn[4]=Rn-(gn*Rn-In*zn),dn[5]=zn-(In*Rn+gn*zn)}function Pr(dn,Pn){var gn=Pn[0],In=Pn.length===2?Pn[1]:Pn[0];dn[0]=gn,dn[3]=In}function jr(dn,Pn,gn){dn[gn]=Math.tan(tr.util.degreesToRadians(Pn[0]))}function Wr(dn,Pn){dn[4]=Pn[0],Pn.length===2&&(dn[5]=Pn[1])}var Kr=tr.iMatrix,Qr=tr.reNum,on=tr.commaWsp,pn="(?:(skewX)\\s*\\(\\s*("+Qr+")\\s*\\))",fn="(?:(skewY)\\s*\\(\\s*("+Qr+")\\s*\\))",en="(?:(rotate)\\s*\\(\\s*("+Qr+")(?:"+on+"("+Qr+")"+on+"("+Qr+"))?\\s*\\))",Ir="(?:(scale)\\s*\\(\\s*("+Qr+")(?:"+on+"("+Qr+"))?\\s*\\))",Ur="(?:(translate)\\s*\\(\\s*("+Qr+")(?:"+on+"("+Qr+"))?\\s*\\))",Mr="(?:(matrix)\\s*\\(\\s*("+Qr+")"+on+"("+Qr+")"+on+"("+Qr+")"+on+"("+Qr+")"+on+"("+Qr+")"+on+"("+Qr+")\\s*\\))",Zr="(?:"+Mr+"|"+Ur+"|"+Ir+"|"+en+"|"+pn+"|"+fn+")",tn="(?:"+Zr+"(?:"+on+"*"+Zr+")*)",an="^\\s*(?:"+tn+"?)\\s*$",vn=new RegExp(an),_n=new RegExp(Zr,"g");return function(dn){var Pn=Kr.concat(),gn=[];if(!dn||dn&&!vn.test(dn))return Pn;dn.replace(_n,function(Rn){var zn=new RegExp(Zr).exec(Rn).filter(function(Kn){return!!Kn}),Cn=zn[1],Dn=zn.slice(2).map(parseFloat);switch(Cn){case"translate":Wr(Pn,Dn);break;case"rotate":Dn[0]=tr.util.degreesToRadians(Dn[0]),Sr(Pn,Dn);break;case"scale":Pr(Pn,Dn);break;case"skewX":jr(Pn,Dn,2);break;case"skewY":jr(Pn,Dn,1);break;case"matrix":Pn=Dn;break}gn.push(Pn.concat()),Pn=Kr.concat()});for(var In=gn[0];gn.length>1;)gn.shift(),In=tr.util.multiplyTransformMatrices(In,gn[0]);return In}}();function Tr(Sr,Pr){var jr,Wr;Sr.replace(/;\s*$/,"").split(";").forEach(function(Kr){var Qr=Kr.split(":");jr=Qr[0].trim().toLowerCase(),Wr=Qr[1].trim(),Pr[jr]=Wr})}function Br(Sr,Pr){var jr,Wr;for(var Kr in Sr)typeof Sr[Kr]>"u"||(jr=Kr.toLowerCase(),Wr=Sr[Kr],Pr[jr]=Wr)}function Jr(Sr,Pr){var jr={};for(var Wr in tr.cssRules[Pr])if(Yr(Sr,Wr.split(" ")))for(var Kr in tr.cssRules[Pr][Wr])jr[Kr]=tr.cssRules[Pr][Wr][Kr];return jr}function Yr(Sr,Pr){var jr,Wr=!0;return jr=Vr(Sr,Pr.pop()),jr&&Pr.length&&(Wr=Xr(Sr,Pr)),jr&&Wr&&Pr.length===0}function Xr(Sr,Pr){for(var jr,Wr=!0;Sr.parentNode&&Sr.parentNode.nodeType===1&&Pr.length;)Wr&&(jr=Pr.pop()),Sr=Sr.parentNode,Wr=Vr(Sr,jr);return Pr.length===0}function Vr(Sr,Pr){var jr=Sr.nodeName,Wr=Sr.getAttribute("class"),Kr=Sr.getAttribute("id"),Qr,on;if(Qr=new RegExp("^"+jr,"i"),Pr=Pr.replace(Qr,""),Kr&&Pr.length&&(Qr=new RegExp("#"+Kr+"(?![a-zA-Z\\-]+)","i"),Pr=Pr.replace(Qr,"")),Wr&&Pr.length)for(Wr=Wr.split(" "),on=Wr.length;on--;)Qr=new RegExp("\\."+Wr[on]+"(?![a-zA-Z\\-]+)","i"),Pr=Pr.replace(Qr,"");return Pr.length===0}function $r(Sr,Pr){var jr;if(Sr.getElementById&&(jr=Sr.getElementById(Pr)),jr)return jr;var Wr,Kr,Qr,on=Sr.getElementsByTagName("*");for(Kr=0,Qr=on.length;Kr<Qr;Kr++)if(Wr=on[Kr],Pr===Wr.getAttribute("id"))return Wr}function Lr(Sr){for(var Pr=zr(Sr,["use","svg:use"]),jr=0;Pr.length&&jr<Pr.length;){var Wr=Pr[jr],Kr=Wr.getAttribute("xlink:href")||Wr.getAttribute("href");if(Kr===null)return;var Qr=Kr.slice(1),on=Wr.getAttribute("x")||0,pn=Wr.getAttribute("y")||0,fn=$r(Sr,Qr).cloneNode(!0),en=(fn.getAttribute("transform")||"")+" translate("+on+", "+pn+")",Ir,Ur=Pr.length,Mr,Zr,tn,an,vn=tr.svgNS;if(Hr(fn),/^svg$/i.test(fn.nodeName)){var _n=fn.ownerDocument.createElementNS(vn,"g");for(Zr=0,tn=fn.attributes,an=tn.length;Zr<an;Zr++)Mr=tn.item(Zr),_n.setAttributeNS(vn,Mr.nodeName,Mr.nodeValue);for(;fn.firstChild;)_n.appendChild(fn.firstChild);fn=_n}for(Zr=0,tn=Wr.attributes,an=tn.length;Zr<an;Zr++)Mr=tn.item(Zr),!(Mr.nodeName==="x"||Mr.nodeName==="y"||Mr.nodeName==="xlink:href"||Mr.nodeName==="href")&&(Mr.nodeName==="transform"?en=Mr.nodeValue+" "+en:fn.setAttribute(Mr.nodeName,Mr.nodeValue));fn.setAttribute("transform",en),fn.setAttribute("instantiated_by_use","1"),fn.removeAttribute("id"),Ir=Wr.parentNode,Ir.replaceChild(fn,Wr),Pr.length===Ur&&jr++}}var Er=new RegExp("^\\s*("+tr.reNum+"+)\\s*,?\\s*("+tr.reNum+"+)\\s*,?\\s*("+tr.reNum+"+)\\s*,?\\s*("+tr.reNum+"+)\\s*$");function Hr(Sr){if(!tr.svgViewBoxElementsRegEx.test(Sr.nodeName))return{};var Pr=Sr.getAttribute("viewBox"),jr=1,Wr=1,Kr=0,Qr=0,on,pn,fn,en,Ir=Sr.getAttribute("width"),Ur=Sr.getAttribute("height"),Mr=Sr.getAttribute("x")||0,Zr=Sr.getAttribute("y")||0,tn=Sr.getAttribute("preserveAspectRatio")||"",an=!Pr||!(Pr=Pr.match(Er)),vn=!Ir||!Ur||Ir==="100%"||Ur==="100%",_n=an&&vn,dn={},Pn="",gn=0,In=0;if(dn.width=0,dn.height=0,dn.toBeParsed=_n,an&&(Mr||Zr)&&Sr.parentNode&&Sr.parentNode.nodeName!=="#document"&&(Pn=" translate("+nr(Mr)+" "+nr(Zr)+") ",fn=(Sr.getAttribute("transform")||"")+Pn,Sr.setAttribute("transform",fn),Sr.removeAttribute("x"),Sr.removeAttribute("y")),_n)return dn;if(an)return dn.width=nr(Ir),dn.height=nr(Ur),dn;if(Kr=-parseFloat(Pr[1]),Qr=-parseFloat(Pr[2]),on=parseFloat(Pr[3]),pn=parseFloat(Pr[4]),dn.minX=Kr,dn.minY=Qr,dn.viewBoxWidth=on,dn.viewBoxHeight=pn,vn?(dn.width=on,dn.height=pn):(dn.width=nr(Ir),dn.height=nr(Ur),jr=dn.width/on,Wr=dn.height/pn),tn=tr.util.parsePreserveAspectRatioAttribute(tn),tn.alignX!=="none"&&(tn.meetOrSlice==="meet"&&(Wr=jr=jr>Wr?Wr:jr),tn.meetOrSlice==="slice"&&(Wr=jr=jr>Wr?jr:Wr),gn=dn.width-on*jr,In=dn.height-pn*jr,tn.alignX==="Mid"&&(gn/=2),tn.alignY==="Mid"&&(In/=2),tn.alignX==="Min"&&(gn=0),tn.alignY==="Min"&&(In=0)),jr===1&&Wr===1&&Kr===0&&Qr===0&&Mr===0&&Zr===0)return dn;if((Mr||Zr)&&Sr.parentNode.nodeName!=="#document"&&(Pn=" translate("+nr(Mr)+" "+nr(Zr)+") "),fn=Pn+" matrix("+jr+" 0 0 "+Wr+" "+(Kr*jr+gn)+" "+(Qr*Wr+In)+") ",Sr.nodeName==="svg"){for(en=Sr.ownerDocument.createElementNS(tr.svgNS,"g");Sr.firstChild;)en.appendChild(Sr.firstChild);Sr.appendChild(en)}else en=Sr,en.removeAttribute("x"),en.removeAttribute("y"),fn=en.getAttribute("transform")+fn;return en.setAttribute("transform",fn),dn}function Gr(Sr,Pr){for(;Sr&&(Sr=Sr.parentNode);)if(Sr.nodeName&&Pr.test(Sr.nodeName.replace("svg:",""))&&!Sr.getAttribute("instantiated_by_use"))return!0;return!1}tr.parseSVGDocument=function(Sr,Pr,jr,Wr){if(!!Sr){Lr(Sr);var Kr=tr.Object.__uid++,Qr,on,pn=Hr(Sr),fn=tr.util.toArray(Sr.getElementsByTagName("*"));if(pn.crossOrigin=Wr&&Wr.crossOrigin,pn.svgUid=Kr,fn.length===0&&tr.isLikelyNode){fn=Sr.selectNodes('//*[name(.)!="svg"]');var en=[];for(Qr=0,on=fn.length;Qr<on;Qr++)en[Qr]=fn[Qr];fn=en}var Ir=fn.filter(function(Mr){return Hr(Mr),tr.svgValidTagNamesRegEx.test(Mr.nodeName.replace("svg:",""))&&!Gr(Mr,tr.svgInvalidAncestorsRegEx)});if(!Ir||Ir&&!Ir.length){Pr&&Pr([],{});return}var Ur={};fn.filter(function(Mr){return Mr.nodeName.replace("svg:","")==="clipPath"}).forEach(function(Mr){var Zr=Mr.getAttribute("id");Ur[Zr]=tr.util.toArray(Mr.getElementsByTagName("*")).filter(function(tn){return tr.svgValidTagNamesRegEx.test(tn.nodeName.replace("svg:",""))})}),tr.gradientDefs[Kr]=tr.getGradientDefs(Sr),tr.cssRules[Kr]=tr.getCSSRules(Sr),tr.clipPaths[Kr]=Ur,tr.parseElements(Ir,function(Mr,Zr){Pr&&(Pr(Mr,pn,Zr,fn),delete tr.gradientDefs[Kr],delete tr.cssRules[Kr],delete tr.clipPaths[Kr])},ur(pn),jr,Wr)}};function Cr(Sr,Pr){var jr=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],Wr="xlink:href",Kr=Pr.getAttribute(Wr).slice(1),Qr=$r(Sr,Kr);if(Qr&&Qr.getAttribute(Wr)&&Cr(Sr,Qr),jr.forEach(function(pn){Qr&&!Pr.hasAttribute(pn)&&Qr.hasAttribute(pn)&&Pr.setAttribute(pn,Qr.getAttribute(pn))}),!Pr.children.length)for(var on=Qr.cloneNode(!0);on.firstChild;)Pr.appendChild(on.firstChild);Pr.removeAttribute(Wr)}var kr=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+tr.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+tr.reNum+"))?\\s+(.*)");hr(tr,{parseFontDeclaration:function(Sr,Pr){var jr=Sr.match(kr);if(!!jr){var Wr=jr[1],Kr=jr[3],Qr=jr[4],on=jr[5],pn=jr[6];Wr&&(Pr.fontStyle=Wr),Kr&&(Pr.fontWeight=isNaN(parseFloat(Kr))?Kr:parseFloat(Kr)),Qr&&(Pr.fontSize=nr(Qr)),pn&&(Pr.fontFamily=pn),on&&(Pr.lineHeight=on==="normal"?1:on)}},getGradientDefs:function(Sr){var Pr=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],jr=zr(Sr,Pr),Wr,Kr=0,Qr={};for(Kr=jr.length;Kr--;)Wr=jr[Kr],Wr.getAttribute("xlink:href")&&Cr(Sr,Wr),Qr[Wr.getAttribute("id")]=Wr;return Qr},parseAttributes:function(Sr,Pr,jr){if(!!Sr){var Wr,Kr={},Qr,on;typeof jr>"u"&&(jr=Sr.getAttribute("svgUid")),Sr.parentNode&&tr.svgValidParentsRegEx.test(Sr.parentNode.nodeName)&&(Kr=tr.parseAttributes(Sr.parentNode,Pr,jr));var pn=Pr.reduce(function(tn,an){return Wr=Sr.getAttribute(an),Wr&&(tn[an]=Wr),tn},{}),fn=hr(Jr(Sr,jr),tr.parseStyleAttribute(Sr));pn=hr(pn,fn),fn[yr]&&Sr.setAttribute(yr,fn[yr]),Qr=on=Kr.fontSize||tr.Text.DEFAULT_SVG_FONT_SIZE,pn[vr]&&(pn[vr]=Qr=nr(pn[vr],on));var en,Ir,Ur={};for(var Mr in pn)en=br(Mr),Ir=_r(en,pn[Mr],Kr,Qr),Ur[en]=Ir;Ur&&Ur.font&&tr.parseFontDeclaration(Ur.font,Ur);var Zr=hr(Kr,Ur);return tr.svgValidParentsRegEx.test(Sr.nodeName)?Zr:Nr(Zr)}},parseElements:function(Sr,Pr,jr,Wr,Kr){new tr.ElementsParser(Sr,Pr,jr,Wr,Kr).parse()},parseStyleAttribute:function(Sr){var Pr={},jr=Sr.getAttribute("style");return jr&&(typeof jr=="string"?Tr(jr,Pr):Br(jr,Pr)),Pr},parsePointsAttribute:function(Sr){if(!Sr)return null;Sr=Sr.replace(/,/g," ").trim(),Sr=Sr.split(/\s+/);var Pr=[],jr,Wr;for(jr=0,Wr=Sr.length;jr<Wr;jr+=2)Pr.push({x:parseFloat(Sr[jr]),y:parseFloat(Sr[jr+1])});return Pr},getCSSRules:function(Sr){var Pr=Sr.getElementsByTagName("style"),jr,Wr,Kr={},Qr;for(jr=0,Wr=Pr.length;jr<Wr;jr++){var on=Pr[jr].textContent;on=on.replace(/\/\*[\s\S]*?\*\//g,""),on.trim()!==""&&(Qr=on.split("}"),Qr=Qr.filter(function(pn){return pn.trim()}),Qr.forEach(function(pn){var fn=pn.split("{"),en={},Ir=fn[1].trim(),Ur=Ir.split(";").filter(function(an){return an.trim()});for(jr=0,Wr=Ur.length;jr<Wr;jr++){var Mr=Ur[jr].split(":"),Zr=Mr[0].trim(),tn=Mr[1].trim();en[Zr]=tn}pn=fn[0].trim(),pn.split(",").forEach(function(an){an=an.replace(/^svg/i,"").trim(),an!==""&&(Kr[an]?tr.util.object.extend(Kr[an],en):Kr[an]=tr.util.object.clone(en))})}))}return Kr},loadSVGFromURL:function(Sr,Pr,jr,Wr){Sr=Sr.replace(/^\n\s*/,"").trim(),new tr.util.request(Sr,{method:"get",onComplete:Kr});function Kr(Qr){var on=Qr.responseXML;if(!on||!on.documentElement)return Pr&&Pr(null),!1;tr.parseSVGDocument(on.documentElement,function(pn,fn,en,Ir){Pr&&Pr(pn,fn,en,Ir)},jr,Wr)}},loadSVGFromString:function(Sr,Pr,jr,Wr){var Kr=new tr.window.DOMParser,Qr=Kr.parseFromString(Sr.trim(),"text/xml");tr.parseSVGDocument(Qr.documentElement,function(on,pn,fn,en){Pr(on,pn,fn,en)},jr,Wr)}})}(St),e.ElementsParser=function(cr,tr,hr,ur,or,nr){this.elements=cr,this.callback=tr,this.options=hr,this.reviver=ur,this.svgUid=hr&&hr.svgUid||0,this.parsingOptions=or,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=nr},function(cr){cr.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},cr.createObjects=function(){var tr=this;this.elements.forEach(function(hr,ur){hr.setAttribute("svgUid",tr.svgUid),tr.createObject(hr,ur)})},cr.findTag=function(tr){return e[e.util.string.capitalize(tr.tagName.replace("svg:",""))]},cr.createObject=function(tr,hr){var ur=this.findTag(tr);if(ur&&ur.fromElement)try{ur.fromElement(tr,this.createCallback(hr,tr),this.options)}catch(or){e.log(or)}else this.checkIfDone()},cr.createCallback=function(tr,hr){var ur=this;return function(or){var nr;ur.resolveGradient(or,hr,"fill"),ur.resolveGradient(or,hr,"stroke"),or instanceof e.Image&&or._originalElement&&(nr=or.parsePreserveAspectRatioAttribute(hr)),or._removeTransformMatrix(nr),ur.resolveClipPath(or,hr),ur.reviver&&ur.reviver(hr,or),ur.instances[tr]=or,ur.checkIfDone()}},cr.extractPropertyDefinition=function(tr,hr,ur){var or=tr[hr],nr=this.regexUrl;if(!!nr.test(or)){nr.lastIndex=0;var er=nr.exec(or)[1];return nr.lastIndex=0,e[ur][this.svgUid][er]}},cr.resolveGradient=function(tr,hr,ur){var or=this.extractPropertyDefinition(tr,ur,"gradientDefs");if(or){var nr=hr.getAttribute(ur+"-opacity"),er=e.Gradient.fromElement(or,tr,nr,this.options);tr.set(ur,er)}},cr.createClipPathCallback=function(tr,hr){return function(ur){ur._removeTransformMatrix(),ur.fillRule=ur.clipRule,hr.push(ur)}},cr.resolveClipPath=function(tr,hr){var ur=this.extractPropertyDefinition(tr,"clipPath","clipPaths"),or,nr,er,ar,dr,lr;if(ur){ar=[],er=e.util.invertTransform(tr.calcTransformMatrix());for(var sr=ur[0].parentNode,pr=hr;pr.parentNode&&pr.getAttribute("clip-path")!==tr.clipPath;)pr=pr.parentNode;pr.parentNode.appendChild(sr);for(var mr=0;mr<ur.length;mr++)or=ur[mr],nr=this.findTag(or),nr.fromElement(or,this.createClipPathCallback(tr,ar),this.options);ar.length===1?ur=ar[0]:ur=new e.Group(ar),dr=e.util.multiplyTransformMatrices(er,ur.calcTransformMatrix()),ur.clipPath&&this.resolveClipPath(ur,pr);var lr=e.util.qrDecompose(dr);ur.flipX=!1,ur.flipY=!1,ur.set("scaleX",lr.scaleX),ur.set("scaleY",lr.scaleY),ur.angle=lr.angle,ur.skewX=lr.skewX,ur.skewY=0,ur.setPositionByOrigin({x:lr.translateX,y:lr.translateY},"center","center"),tr.clipPath=ur}else delete tr.clipPath},cr.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(tr){return tr!=null}),this.callback(this.instances,this.elements))}}(e.ElementsParser.prototype),function(cr){var tr=cr.fabric||(cr.fabric={});if(tr.Point){tr.warn("fabric.Point is already defined");return}tr.Point=hr;function hr(ur,or){this.x=ur,this.y=or}hr.prototype={type:"point",constructor:hr,add:function(ur){return new hr(this.x+ur.x,this.y+ur.y)},addEquals:function(ur){return this.x+=ur.x,this.y+=ur.y,this},scalarAdd:function(ur){return new hr(this.x+ur,this.y+ur)},scalarAddEquals:function(ur){return this.x+=ur,this.y+=ur,this},subtract:function(ur){return new hr(this.x-ur.x,this.y-ur.y)},subtractEquals:function(ur){return this.x-=ur.x,this.y-=ur.y,this},scalarSubtract:function(ur){return new hr(this.x-ur,this.y-ur)},scalarSubtractEquals:function(ur){return this.x-=ur,this.y-=ur,this},multiply:function(ur){return new hr(this.x*ur,this.y*ur)},multiplyEquals:function(ur){return this.x*=ur,this.y*=ur,this},divide:function(ur){return new hr(this.x/ur,this.y/ur)},divideEquals:function(ur){return this.x/=ur,this.y/=ur,this},eq:function(ur){return this.x===ur.x&&this.y===ur.y},lt:function(ur){return this.x<ur.x&&this.y<ur.y},lte:function(ur){return this.x<=ur.x&&this.y<=ur.y},gt:function(ur){return this.x>ur.x&&this.y>ur.y},gte:function(ur){return this.x>=ur.x&&this.y>=ur.y},lerp:function(ur,or){return typeof or>"u"&&(or=.5),or=Math.max(Math.min(1,or),0),new hr(this.x+(ur.x-this.x)*or,this.y+(ur.y-this.y)*or)},distanceFrom:function(ur){var or=this.x-ur.x,nr=this.y-ur.y;return Math.sqrt(or*or+nr*nr)},midPointFrom:function(ur){return this.lerp(ur)},min:function(ur){return new hr(Math.min(this.x,ur.x),Math.min(this.y,ur.y))},max:function(ur){return new hr(Math.max(this.x,ur.x),Math.max(this.y,ur.y))},toString:function(){return this.x+","+this.y},setXY:function(ur,or){return this.x=ur,this.y=or,this},setX:function(ur){return this.x=ur,this},setY:function(ur){return this.y=ur,this},setFromPoint:function(ur){return this.x=ur.x,this.y=ur.y,this},swap:function(ur){var or=this.x,nr=this.y;this.x=ur.x,this.y=ur.y,ur.x=or,ur.y=nr},clone:function(){return new hr(this.x,this.y)}}}(St),function(cr){var tr=cr.fabric||(cr.fabric={});if(tr.Intersection){tr.warn("fabric.Intersection is already defined");return}function hr(ur){this.status=ur,this.points=[]}tr.Intersection=hr,tr.Intersection.prototype={constructor:hr,appendPoint:function(ur){return this.points.push(ur),this},appendPoints:function(ur){return this.points=this.points.concat(ur),this}},tr.Intersection.intersectLineLine=function(ur,or,nr,er){var ar,dr=(er.x-nr.x)*(ur.y-nr.y)-(er.y-nr.y)*(ur.x-nr.x),lr=(or.x-ur.x)*(ur.y-nr.y)-(or.y-ur.y)*(ur.x-nr.x),sr=(er.y-nr.y)*(or.x-ur.x)-(er.x-nr.x)*(or.y-ur.y);if(sr!==0){var pr=dr/sr,mr=lr/sr;0<=pr&&pr<=1&&0<=mr&&mr<=1?(ar=new hr("Intersection"),ar.appendPoint(new tr.Point(ur.x+pr*(or.x-ur.x),ur.y+pr*(or.y-ur.y)))):ar=new hr}else dr===0||lr===0?ar=new hr("Coincident"):ar=new hr("Parallel");return ar},tr.Intersection.intersectLinePolygon=function(ur,or,nr){var er=new hr,ar=nr.length,dr,lr,sr,pr;for(pr=0;pr<ar;pr++)dr=nr[pr],lr=nr[(pr+1)%ar],sr=hr.intersectLineLine(ur,or,dr,lr),er.appendPoints(sr.points);return er.points.length>0&&(er.status="Intersection"),er},tr.Intersection.intersectPolygonPolygon=function(ur,or){var nr=new hr,er=ur.length,ar;for(ar=0;ar<er;ar++){var dr=ur[ar],lr=ur[(ar+1)%er],sr=hr.intersectLinePolygon(dr,lr,or);nr.appendPoints(sr.points)}return nr.points.length>0&&(nr.status="Intersection"),nr},tr.Intersection.intersectPolygonRectangle=function(ur,or,nr){var er=or.min(nr),ar=or.max(nr),dr=new tr.Point(ar.x,er.y),lr=new tr.Point(er.x,ar.y),sr=hr.intersectLinePolygon(er,dr,ur),pr=hr.intersectLinePolygon(dr,ar,ur),mr=hr.intersectLinePolygon(ar,lr,ur),vr=hr.intersectLinePolygon(lr,er,ur),yr=new hr;return yr.appendPoints(sr.points),yr.appendPoints(pr.points),yr.appendPoints(mr.points),yr.appendPoints(vr.points),yr.points.length>0&&(yr.status="Intersection"),yr}}(St),function(cr){var tr=cr.fabric||(cr.fabric={});if(tr.Color){tr.warn("fabric.Color is already defined.");return}function hr(or){or?this._tryParsingColor(or):this.setSource([0,0,0,1])}tr.Color=hr,tr.Color.prototype={_tryParsingColor:function(or){var nr;or in hr.colorNameMap&&(or=hr.colorNameMap[or]),or==="transparent"&&(nr=[255,255,255,0]),nr||(nr=hr.sourceFromHex(or)),nr||(nr=hr.sourceFromRgb(or)),nr||(nr=hr.sourceFromHsl(or)),nr||(nr=[0,0,0,1]),nr&&this.setSource(nr)},_rgbToHsl:function(or,nr,er){or/=255,nr/=255,er/=255;var ar,dr,lr,sr=tr.util.array.max([or,nr,er]),pr=tr.util.array.min([or,nr,er]);if(lr=(sr+pr)/2,sr===pr)ar=dr=0;else{var mr=sr-pr;switch(dr=lr>.5?mr/(2-sr-pr):mr/(sr+pr),sr){case or:ar=(nr-er)/mr+(nr<er?6:0);break;case nr:ar=(er-or)/mr+2;break;case er:ar=(or-nr)/mr+4;break}ar/=6}return[Math.round(ar*360),Math.round(dr*100),Math.round(lr*100)]},getSource:function(){return this._source},setSource:function(or){this._source=or},toRgb:function(){var or=this.getSource();return"rgb("+or[0]+","+or[1]+","+or[2]+")"},toRgba:function(){var or=this.getSource();return"rgba("+or[0]+","+or[1]+","+or[2]+","+or[3]+")"},toHsl:function(){var or=this.getSource(),nr=this._rgbToHsl(or[0],or[1],or[2]);return"hsl("+nr[0]+","+nr[1]+"%,"+nr[2]+"%)"},toHsla:function(){var or=this.getSource(),nr=this._rgbToHsl(or[0],or[1],or[2]);return"hsla("+nr[0]+","+nr[1]+"%,"+nr[2]+"%,"+or[3]+")"},toHex:function(){var or=this.getSource(),nr,er,ar;return nr=or[0].toString(16),nr=nr.length===1?"0"+nr:nr,er=or[1].toString(16),er=er.length===1?"0"+er:er,ar=or[2].toString(16),ar=ar.length===1?"0"+ar:ar,nr.toUpperCase()+er.toUpperCase()+ar.toUpperCase()},toHexa:function(){var or=this.getSource(),nr;return nr=Math.round(or[3]*255),nr=nr.toString(16),nr=nr.length===1?"0"+nr:nr,this.toHex()+nr.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(or){var nr=this.getSource();return nr[3]=or,this.setSource(nr),this},toGrayscale:function(){var or=this.getSource(),nr=parseInt((or[0]*.3+or[1]*.59+or[2]*.11).toFixed(0),10),er=or[3];return this.setSource([nr,nr,nr,er]),this},toBlackWhite:function(or){var nr=this.getSource(),er=(nr[0]*.3+nr[1]*.59+nr[2]*.11).toFixed(0),ar=nr[3];return or=or||127,er=Number(er)<Number(or)?0:255,this.setSource([er,er,er,ar]),this},overlayWith:function(or){or instanceof hr||(or=new hr(or));var nr=[],er=this.getAlpha(),ar=.5,dr=this.getSource(),lr=or.getSource(),sr;for(sr=0;sr<3;sr++)nr.push(Math.round(dr[sr]*(1-ar)+lr[sr]*ar));return nr[3]=er,this.setSource(nr),this}},tr.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,tr.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,tr.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,tr.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function ur(or,nr,er){return er<0&&(er+=1),er>1&&(er-=1),er<1/6?or+(nr-or)*6*er:er<1/2?nr:er<2/3?or+(nr-or)*(2/3-er)*6:or}tr.Color.fromRgb=function(or){return hr.fromSource(hr.sourceFromRgb(or))},tr.Color.sourceFromRgb=function(or){var nr=or.match(hr.reRGBa);if(nr){var er=parseInt(nr[1],10)/(/%$/.test(nr[1])?100:1)*(/%$/.test(nr[1])?255:1),ar=parseInt(nr[2],10)/(/%$/.test(nr[2])?100:1)*(/%$/.test(nr[2])?255:1),dr=parseInt(nr[3],10)/(/%$/.test(nr[3])?100:1)*(/%$/.test(nr[3])?255:1);return[parseInt(er,10),parseInt(ar,10),parseInt(dr,10),nr[4]?parseFloat(nr[4]):1]}},tr.Color.fromRgba=hr.fromRgb,tr.Color.fromHsl=function(or){return hr.fromSource(hr.sourceFromHsl(or))},tr.Color.sourceFromHsl=function(or){var nr=or.match(hr.reHSLa);if(!!nr){var er=(parseFloat(nr[1])%360+360)%360/360,ar=parseFloat(nr[2])/(/%$/.test(nr[2])?100:1),dr=parseFloat(nr[3])/(/%$/.test(nr[3])?100:1),lr,sr,pr;if(ar===0)lr=sr=pr=dr;else{var mr=dr<=.5?dr*(ar+1):dr+ar-dr*ar,vr=dr*2-mr;lr=ur(vr,mr,er+1/3),sr=ur(vr,mr,er),pr=ur(vr,mr,er-1/3)}return[Math.round(lr*255),Math.round(sr*255),Math.round(pr*255),nr[4]?parseFloat(nr[4]):1]}},tr.Color.fromHsla=hr.fromHsl,tr.Color.fromHex=function(or){return hr.fromSource(hr.sourceFromHex(or))},tr.Color.sourceFromHex=function(or){if(or.match(hr.reHex)){var nr=or.slice(or.indexOf("#")+1),er=nr.length===3||nr.length===4,ar=nr.length===8||nr.length===4,dr=er?nr.charAt(0)+nr.charAt(0):nr.substring(0,2),lr=er?nr.charAt(1)+nr.charAt(1):nr.substring(2,4),sr=er?nr.charAt(2)+nr.charAt(2):nr.substring(4,6),pr=ar?er?nr.charAt(3)+nr.charAt(3):nr.substring(6,8):"FF";return[parseInt(dr,16),parseInt(lr,16),parseInt(sr,16),parseFloat((parseInt(pr,16)/255).toFixed(2))]}},tr.Color.fromSource=function(or){var nr=new hr;return nr.setSource(or),nr}}(St),function(cr){var tr=cr.fabric||(cr.fabric={}),hr=["e","se","s","sw","w","nw","n","ne","e"],ur=["ns","nesw","ew","nwse"],or={},nr="left",er="top",ar="right",dr="bottom",lr="center",sr={top:dr,bottom:er,left:ar,right:nr,center:lr},pr=tr.util.radiansToDegrees,mr=Math.sign||function(en){return(en>0)-(en<0)||+en};function vr(en,Ir){var Ur=en.angle+pr(Math.atan2(Ir.y,Ir.x))+360;return Math.round(Ur%360/45)}function yr(en,Ir){var Ur=Ir.transform.target,Mr=Ur.canvas,Zr=tr.util.object.clone(Ir);Zr.target=Ur,Mr&&Mr.fire("object:"+en,Zr),Ur.fire(en,Ir)}function br(en,Ir){var Ur=Ir.canvas,Mr=Ur.uniScaleKey,Zr=en[Mr];return Ur.uniformScaling&&!Zr||!Ur.uniformScaling&&Zr}function _r(en){return en.originX===lr&&en.originY===lr}function xr(en,Ir,Ur){var Mr=en.lockScalingX,Zr=en.lockScalingY;return!!(Mr&&Zr||!Ir&&(Mr||Zr)&&Ur||Mr&&Ir==="x"||Zr&&Ir==="y")}function Nr(en,Ir,Ur){var Mr="not-allowed",Zr=br(en,Ur),tn="";if(Ir.x!==0&&Ir.y===0?tn="x":Ir.x===0&&Ir.y!==0&&(tn="y"),xr(Ur,tn,Zr))return Mr;var an=vr(Ur,Ir);return hr[an]+"-resize"}function zr(en,Ir,Ur){var Mr="not-allowed";if(Ir.x!==0&&Ur.lockSkewingY||Ir.y!==0&&Ur.lockSkewingX)return Mr;var Zr=vr(Ur,Ir)%4;return ur[Zr]+"-resize"}function Tr(en,Ir,Ur){return en[Ur.canvas.altActionKey]?or.skewCursorStyleHandler(en,Ir,Ur):or.scaleCursorStyleHandler(en,Ir,Ur)}function Br(en,Ir,Ur){var Mr=en[Ur.canvas.altActionKey];if(Ir.x===0)return Mr?"skewX":"scaleY";if(Ir.y===0)return Mr?"skewY":"scaleX"}function Jr(en,Ir,Ur){return Ur.lockRotation?"not-allowed":Ir.cursorStyle}function Yr(en,Ir,Ur,Mr){return{e:en,transform:Ir,pointer:{x:Ur,y:Mr}}}function Xr(en){return function(Ir,Ur,Mr,Zr){var tn=Ur.target,an=tn.getCenterPoint(),vn=tn.translateToOriginPoint(an,Ur.originX,Ur.originY),_n=en(Ir,Ur,Mr,Zr);return tn.setPositionByOrigin(vn,Ur.originX,Ur.originY),_n}}function Vr(en,Ir){return function(Ur,Mr,Zr,tn){var an=Ir(Ur,Mr,Zr,tn);return an&&yr(en,Yr(Ur,Mr,Zr,tn)),an}}function $r(en,Ir,Ur,Mr,Zr){var tn=en.target,an=tn.controls[en.corner],vn=tn.canvas.getZoom(),_n=tn.padding/vn,dn=tn.toLocalPoint(new tr.Point(Mr,Zr),Ir,Ur);return dn.x>=_n&&(dn.x-=_n),dn.x<=-_n&&(dn.x+=_n),dn.y>=_n&&(dn.y-=_n),dn.y<=_n&&(dn.y+=_n),dn.x-=an.offsetX,dn.y-=an.offsetY,dn}function Lr(en){return en.flipX!==en.flipY}function Er(en,Ir,Ur,Mr,Zr){if(en[Ir]!==0){var tn=en._getTransformedDimensions()[Mr],an=Zr/tn*en[Ur];en.set(Ur,an)}}function Hr(en,Ir,Ur,Mr){var Zr=Ir.target,tn=Zr._getTransformedDimensions(0,Zr.skewY),an=$r(Ir,Ir.originX,Ir.originY,Ur,Mr),vn=Math.abs(an.x*2)-tn.x,_n=Zr.skewX,dn;vn<2?dn=0:(dn=pr(Math.atan2(vn/Zr.scaleX,tn.y/Zr.scaleY)),Ir.originX===nr&&Ir.originY===dr&&(dn=-dn),Ir.originX===ar&&Ir.originY===er&&(dn=-dn),Lr(Zr)&&(dn=-dn));var Pn=_n!==dn;if(Pn){var gn=Zr._getTransformedDimensions().y;Zr.set("skewX",dn),Er(Zr,"skewY","scaleY","y",gn)}return Pn}function Gr(en,Ir,Ur,Mr){var Zr=Ir.target,tn=Zr._getTransformedDimensions(Zr.skewX,0),an=$r(Ir,Ir.originX,Ir.originY,Ur,Mr),vn=Math.abs(an.y*2)-tn.y,_n=Zr.skewY,dn;vn<2?dn=0:(dn=pr(Math.atan2(vn/Zr.scaleY,tn.x/Zr.scaleX)),Ir.originX===nr&&Ir.originY===dr&&(dn=-dn),Ir.originX===ar&&Ir.originY===er&&(dn=-dn),Lr(Zr)&&(dn=-dn));var Pn=_n!==dn;if(Pn){var gn=Zr._getTransformedDimensions().x;Zr.set("skewY",dn),Er(Zr,"skewX","scaleX","x",gn)}return Pn}function Cr(en,Ir,Ur,Mr){var Zr=Ir.target,tn=Zr.skewX,an,vn=Ir.originY;if(Zr.lockSkewingX)return!1;if(tn===0){var _n=$r(Ir,lr,lr,Ur,Mr);_n.x>0?an=nr:an=ar}else tn>0&&(an=vn===er?nr:ar),tn<0&&(an=vn===er?ar:nr),Lr(Zr)&&(an=an===nr?ar:nr);Ir.originX=an;var dn=Vr("skewing",Xr(Hr));return dn(en,Ir,Ur,Mr)}function kr(en,Ir,Ur,Mr){var Zr=Ir.target,tn=Zr.skewY,an,vn=Ir.originX;if(Zr.lockSkewingY)return!1;if(tn===0){var _n=$r(Ir,lr,lr,Ur,Mr);_n.y>0?an=er:an=dr}else tn>0&&(an=vn===nr?er:dr),tn<0&&(an=vn===nr?dr:er),Lr(Zr)&&(an=an===er?dr:er);Ir.originY=an;var dn=Vr("skewing",Xr(Gr));return dn(en,Ir,Ur,Mr)}function Sr(en,Ir,Ur,Mr){var Zr=Ir,tn=Zr.target,an=tn.translateToOriginPoint(tn.getCenterPoint(),Zr.originX,Zr.originY);if(tn.lockRotation)return!1;var vn=Math.atan2(Zr.ey-an.y,Zr.ex-an.x),_n=Math.atan2(Mr-an.y,Ur-an.x),dn=pr(_n-vn+Zr.theta),Pn=!0;if(tn.snapAngle>0){var gn=tn.snapAngle,In=tn.snapThreshold||gn,Rn=Math.ceil(dn/gn)*gn,zn=Math.floor(dn/gn)*gn;Math.abs(dn-zn)<In?dn=zn:Math.abs(dn-Rn)<In&&(dn=Rn)}return dn<0&&(dn=360+dn),dn%=360,Pn=tn.angle!==dn,tn.angle=dn,Pn}function Pr(en,Ir,Ur,Mr,Zr){Zr=Zr||{};var tn=Ir.target,an=tn.lockScalingX,vn=tn.lockScalingY,_n=Zr.by,dn,Pn,gn,In,Rn=br(en,tn),zn=xr(tn,_n,Rn),Cn,Dn,Kn=Ir.gestureScale;if(zn)return!1;if(Kn)Pn=Ir.scaleX*Kn,gn=Ir.scaleY*Kn;else{if(dn=$r(Ir,Ir.originX,Ir.originY,Ur,Mr),Cn=_n!=="y"?mr(dn.x):1,Dn=_n!=="x"?mr(dn.y):1,Ir.signX||(Ir.signX=Cn),Ir.signY||(Ir.signY=Dn),tn.lockScalingFlip&&(Ir.signX!==Cn||Ir.signY!==Dn))return!1;if(In=tn._getTransformedDimensions(),Rn&&!_n){var Nn=Math.abs(dn.x)+Math.abs(dn.y),ds=Ir.original,as=Math.abs(In.x*ds.scaleX/tn.scaleX)+Math.abs(In.y*ds.scaleY/tn.scaleY),cs=Nn/as;Pn=ds.scaleX*cs,gn=ds.scaleY*cs}else Pn=Math.abs(dn.x*tn.scaleX/In.x),gn=Math.abs(dn.y*tn.scaleY/In.y);_r(Ir)&&(Pn*=2,gn*=2),Ir.signX!==Cn&&_n!=="y"&&(Ir.originX=sr[Ir.originX],Pn*=-1,Ir.signX=Cn),Ir.signY!==Dn&&_n!=="x"&&(Ir.originY=sr[Ir.originY],gn*=-1,Ir.signY=Dn)}var Ss=tn.scaleX,Ms=tn.scaleY;return _n?(_n==="x"&&tn.set("scaleX",Pn),_n==="y"&&tn.set("scaleY",gn)):(!an&&tn.set("scaleX",Pn),!vn&&tn.set("scaleY",gn)),Ss!==tn.scaleX||Ms!==tn.scaleY}function jr(en,Ir,Ur,Mr){return Pr(en,Ir,Ur,Mr)}function Wr(en,Ir,Ur,Mr){return Pr(en,Ir,Ur,Mr,{by:"x"})}function Kr(en,Ir,Ur,Mr){return Pr(en,Ir,Ur,Mr,{by:"y"})}function Qr(en,Ir,Ur,Mr){return en[Ir.target.canvas.altActionKey]?or.skewHandlerX(en,Ir,Ur,Mr):or.scalingY(en,Ir,Ur,Mr)}function on(en,Ir,Ur,Mr){return en[Ir.target.canvas.altActionKey]?or.skewHandlerY(en,Ir,Ur,Mr):or.scalingX(en,Ir,Ur,Mr)}function pn(en,Ir,Ur,Mr){var Zr=Ir.target,tn=$r(Ir,Ir.originX,Ir.originY,Ur,Mr),an=Zr.strokeWidth/(Zr.strokeUniform?Zr.scaleX:1),vn=_r(Ir)?2:1,_n=Zr.width,dn=Math.abs(tn.x*vn/Zr.scaleX)-an;return Zr.set("width",Math.max(dn,0)),_n!==dn}function fn(en,Ir,Ur,Mr){var Zr=Ir.target,tn=Ur-Ir.offsetX,an=Mr-Ir.offsetY,vn=!Zr.get("lockMovementX")&&Zr.left!==tn,_n=!Zr.get("lockMovementY")&&Zr.top!==an;return vn&&Zr.set("left",tn),_n&&Zr.set("top",an),(vn||_n)&&yr("moving",Yr(en,Ir,Ur,Mr)),vn||_n}or.scaleCursorStyleHandler=Nr,or.skewCursorStyleHandler=zr,or.scaleSkewCursorStyleHandler=Tr,or.rotationWithSnapping=Vr("rotating",Xr(Sr)),or.scalingEqually=Vr("scaling",Xr(jr)),or.scalingX=Vr("scaling",Xr(Wr)),or.scalingY=Vr("scaling",Xr(Kr)),or.scalingYOrSkewingX=Qr,or.scalingXOrSkewingY=on,or.changeWidth=Vr("resizing",Xr(pn)),or.skewHandlerX=Cr,or.skewHandlerY=kr,or.dragHandler=fn,or.scaleOrSkewActionName=Br,or.rotationStyleHandler=Jr,or.fireEvent=yr,or.wrapWithFixedAnchor=Xr,or.wrapWithFireEvent=Vr,or.getLocalPoint=$r,tr.controlsUtils=or}(St),function(cr){var tr=cr.fabric||(cr.fabric={}),hr=tr.util.degreesToRadians,ur=tr.controlsUtils;function or(er,ar,dr,lr,sr){lr=lr||{};var pr=this.sizeX||lr.cornerSize||sr.cornerSize,mr=this.sizeY||lr.cornerSize||sr.cornerSize,vr=typeof lr.transparentCorners<"u"?lr.transparentCorners:sr.transparentCorners,yr=vr?"stroke":"fill",br=!vr&&(lr.cornerStrokeColor||sr.cornerStrokeColor),_r=ar,xr=dr,Nr;er.save(),er.fillStyle=lr.cornerColor||sr.cornerColor,er.strokeStyle=lr.cornerStrokeColor||sr.cornerStrokeColor,pr>mr?(Nr=pr,er.scale(1,mr/pr),xr=dr*pr/mr):mr>pr?(Nr=mr,er.scale(pr/mr,1),_r=ar*mr/pr):Nr=pr,er.lineWidth=1,er.beginPath(),er.arc(_r,xr,Nr/2,0,2*Math.PI,!1),er[yr](),br&&er.stroke(),er.restore()}function nr(er,ar,dr,lr,sr){lr=lr||{};var pr=this.sizeX||lr.cornerSize||sr.cornerSize,mr=this.sizeY||lr.cornerSize||sr.cornerSize,vr=typeof lr.transparentCorners<"u"?lr.transparentCorners:sr.transparentCorners,yr=vr?"stroke":"fill",br=!vr&&(lr.cornerStrokeColor||sr.cornerStrokeColor),_r=pr/2,xr=mr/2;er.save(),er.fillStyle=lr.cornerColor||sr.cornerColor,er.strokeStyle=lr.cornerStrokeColor||sr.cornerStrokeColor,er.lineWidth=1,er.translate(ar,dr),er.rotate(hr(sr.angle)),er[yr+"Rect"](-_r,-xr,pr,mr),br&&er.strokeRect(-_r,-xr,pr,mr),er.restore()}ur.renderCircleControl=or,ur.renderSquareControl=nr}(St),function(cr){var tr=cr.fabric||(cr.fabric={});function hr(ur){for(var or in ur)this[or]=ur[or]}tr.Control=hr,tr.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(ur,or){return or.cursorStyle},getActionName:function(ur,or){return or.actionName},getVisibility:function(ur,or){var nr=ur._controlsVisibility;return nr&&typeof nr[or]<"u"?nr[or]:this.visible},setVisibility:function(ur){this.visible=ur},positionHandler:function(ur,or){var nr=tr.util.transformPoint({x:this.x*ur.x+this.offsetX,y:this.y*ur.y+this.offsetY},or);return nr},calcCornerCoords:function(ur,or,nr,er,ar){var dr,lr,sr,pr,mr=ar?this.touchSizeX:this.sizeX,vr=ar?this.touchSizeY:this.sizeY;if(mr&&vr&&mr!==vr){var yr=Math.atan2(vr,mr),br=Math.sqrt(mr*mr+vr*vr)/2,_r=yr-tr.util.degreesToRadians(ur),xr=Math.PI/2-yr-tr.util.degreesToRadians(ur);dr=br*tr.util.cos(_r),lr=br*tr.util.sin(_r),sr=br*tr.util.cos(xr),pr=br*tr.util.sin(xr)}else{var Nr=mr&&vr?mr:or;br=Nr*.7071067812;var _r=tr.util.degreesToRadians(45-ur);dr=sr=br*tr.util.cos(_r),lr=pr=br*tr.util.sin(_r)}return{tl:{x:nr-pr,y:er-sr},tr:{x:nr+dr,y:er-lr},bl:{x:nr-dr,y:er+lr},br:{x:nr+pr,y:er+sr}}},render:function(ur,or,nr,er,ar){switch(er=er||{},er.cornerStyle||ar.cornerStyle){case"circle":tr.controlsUtils.renderCircleControl.call(this,ur,or,nr,er,ar);break;default:tr.controlsUtils.renderSquareControl.call(this,ur,or,nr,er,ar)}}}}(St),function(){function cr(nr,er){var ar=nr.getAttribute("style"),dr=nr.getAttribute("offset")||0,lr,sr,pr,mr;if(dr=parseFloat(dr)/(/%$/.test(dr)?100:1),dr=dr<0?0:dr>1?1:dr,ar){var vr=ar.split(/\s*;\s*/);for(vr[vr.length-1]===""&&vr.pop(),mr=vr.length;mr--;){var yr=vr[mr].split(/\s*:\s*/),br=yr[0].trim(),_r=yr[1].trim();br==="stop-color"?lr=_r:br==="stop-opacity"&&(pr=_r)}}return lr||(lr=nr.getAttribute("stop-color")||"rgb(0,0,0)"),pr||(pr=nr.getAttribute("stop-opacity")),lr=new e.Color(lr),sr=lr.getAlpha(),pr=isNaN(parseFloat(pr))?1:parseFloat(pr),pr*=sr*er,{offset:dr,color:lr.toRgb(),opacity:pr}}function tr(nr){return{x1:nr.getAttribute("x1")||0,y1:nr.getAttribute("y1")||0,x2:nr.getAttribute("x2")||"100%",y2:nr.getAttribute("y2")||0}}function hr(nr){return{x1:nr.getAttribute("fx")||nr.getAttribute("cx")||"50%",y1:nr.getAttribute("fy")||nr.getAttribute("cy")||"50%",r1:0,x2:nr.getAttribute("cx")||"50%",y2:nr.getAttribute("cy")||"50%",r2:nr.getAttribute("r")||"50%"}}var ur=e.util.object.clone;e.Gradient=e.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(nr){nr||(nr={}),nr.coords||(nr.coords={});var er,ar=this;Object.keys(nr).forEach(function(dr){ar[dr]=nr[dr]}),this.id?this.id+="_"+e.Object.__uid++:this.id=e.Object.__uid++,er={x1:nr.coords.x1||0,y1:nr.coords.y1||0,x2:nr.coords.x2||0,y2:nr.coords.y2||0},this.type==="radial"&&(er.r1=nr.coords.r1||0,er.r2=nr.coords.r2||0),this.coords=er,this.colorStops=nr.colorStops.slice()},addColorStop:function(nr){for(var er in nr){var ar=new e.Color(nr[er]);this.colorStops.push({offset:parseFloat(er),color:ar.toRgb(),opacity:ar.getAlpha()})}return this},toObject:function(nr){var er={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return e.util.populateWithProperties(this,er,nr),er},toSVG:function(nr,sr){var ar=ur(this.coords,!0),dr,lr,sr=sr||{},pr,mr,vr=ur(this.colorStops,!0),yr=ar.r1>ar.r2,br=this.gradientTransform?this.gradientTransform.concat():e.iMatrix.concat(),_r=-this.offsetX,xr=-this.offsetY,Nr=!!sr.additionalTransform,zr=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(vr.sort(function(Xr,Vr){return Xr.offset-Vr.offset}),zr==="objectBoundingBox"?(_r/=nr.width,xr/=nr.height):(_r+=nr.width/2,xr+=nr.height/2),nr.type==="path"&&this.gradientUnits!=="percentage"&&(_r-=nr.pathOffset.x,xr-=nr.pathOffset.y),br[4]-=_r,br[5]-=xr,mr='id="SVGID_'+this.id+'" gradientUnits="'+zr+'"',mr+=' gradientTransform="'+(Nr?sr.additionalTransform+" ":"")+e.util.matrixToSVG(br)+'" ',this.type==="linear"?pr=["<linearGradient ",mr,' x1="',ar.x1,'" y1="',ar.y1,'" x2="',ar.x2,'" y2="',ar.y2,`">
`]:this.type==="radial"&&(pr=["<radialGradient ",mr,' cx="',yr?ar.x1:ar.x2,'" cy="',yr?ar.y1:ar.y2,'" r="',yr?ar.r1:ar.r2,'" fx="',yr?ar.x2:ar.x1,'" fy="',yr?ar.y2:ar.y1,`">
`]),this.type==="radial"){if(yr)for(vr=vr.concat(),vr.reverse(),dr=0,lr=vr.length;dr<lr;dr++)vr[dr].offset=1-vr[dr].offset;var Tr=Math.min(ar.r1,ar.r2);if(Tr>0){var Br=Math.max(ar.r1,ar.r2),Jr=Tr/Br;for(dr=0,lr=vr.length;dr<lr;dr++)vr[dr].offset+=Jr*(1-vr[dr].offset)}}for(dr=0,lr=vr.length;dr<lr;dr++){var Yr=vr[dr];pr.push("<stop ",'offset="',Yr.offset*100+"%",'" style="stop-color:',Yr.color,typeof Yr.opacity<"u"?";stop-opacity: "+Yr.opacity:";",`"/>
`)}return pr.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),pr.join("")},toLive:function(nr){var er,ar=e.util.object.clone(this.coords),dr,lr;if(!!this.type){for(this.type==="linear"?er=nr.createLinearGradient(ar.x1,ar.y1,ar.x2,ar.y2):this.type==="radial"&&(er=nr.createRadialGradient(ar.x1,ar.y1,ar.r1,ar.x2,ar.y2,ar.r2)),dr=0,lr=this.colorStops.length;dr<lr;dr++){var sr=this.colorStops[dr].color,pr=this.colorStops[dr].opacity,mr=this.colorStops[dr].offset;typeof pr<"u"&&(sr=new e.Color(sr).setAlpha(pr).toRgba()),er.addColorStop(mr,sr)}return er}}}),e.util.object.extend(e.Gradient,{fromElement:function(nr,er,ar,dr){var lr=parseFloat(ar)/(/%$/.test(ar)?100:1);lr=lr<0?0:lr>1?1:lr,isNaN(lr)&&(lr=1);var sr=nr.getElementsByTagName("stop"),pr,mr=nr.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",vr=nr.getAttribute("gradientTransform")||"",yr=[],br,_r,xr=0,Nr=0,zr;for(nr.nodeName==="linearGradient"||nr.nodeName==="LINEARGRADIENT"?(pr="linear",br=tr(nr)):(pr="radial",br=hr(nr)),_r=sr.length;_r--;)yr.push(cr(sr[_r],lr));zr=e.parseTransformAttribute(vr),or(er,br,dr,mr),mr==="pixels"&&(xr=-er.left,Nr=-er.top);var Tr=new e.Gradient({id:nr.getAttribute("id"),type:pr,coords:br,colorStops:yr,gradientUnits:mr,gradientTransform:zr,offsetX:xr,offsetY:Nr});return Tr}});function or(nr,er,ar,dr){var lr,sr;Object.keys(er).forEach(function(pr){lr=er[pr],lr==="Infinity"?sr=1:lr==="-Infinity"?sr=0:(sr=parseFloat(er[pr],10),typeof lr=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(lr)&&(sr*=.01,dr==="pixels"&&((pr==="x1"||pr==="x2"||pr==="r2")&&(sr*=ar.viewBoxWidth||ar.width),(pr==="y1"||pr==="y2")&&(sr*=ar.viewBoxHeight||ar.height)))),er[pr]=sr})}}(),function(){var cr=e.util.toFixed;e.Pattern=e.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(tr,hr){if(tr||(tr={}),this.id=e.Object.__uid++,this.setOptions(tr),!tr.source||tr.source&&typeof tr.source!="string"){hr&&hr(this);return}else{var ur=this;this.source=e.util.createImage(),e.util.loadImage(tr.source,function(or,nr){ur.source=or,hr&&hr(ur,nr)},null,this.crossOrigin)}},toObject:function(tr){var hr=e.Object.NUM_FRACTION_DIGITS,ur,or;return typeof this.source.src=="string"?ur=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(ur=this.source.toDataURL()),or={type:"pattern",source:ur,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:cr(this.offsetX,hr),offsetY:cr(this.offsetY,hr),patternTransform:this.patternTransform?this.patternTransform.concat():null},e.util.populateWithProperties(this,or,tr),or},toSVG:function(tr){var hr=typeof this.source=="function"?this.source():this.source,ur=hr.width/tr.width,or=hr.height/tr.height,nr=this.offsetX/tr.width,er=this.offsetY/tr.height,ar="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(or=1,er&&(or+=Math.abs(er))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(ur=1,nr&&(ur+=Math.abs(nr))),hr.src?ar=hr.src:hr.toDataURL&&(ar=hr.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+nr+'" y="'+er+'" width="'+ur+'" height="'+or+`">
<image x="0" y="0" width="`+hr.width+'" height="'+hr.height+'" xlink:href="'+ar+`"></image>
</pattern>
`},setOptions:function(tr){for(var hr in tr)this[hr]=tr[hr]},toLive:function(tr){var hr=this.source;return!hr||typeof hr.src<"u"&&(!hr.complete||hr.naturalWidth===0||hr.naturalHeight===0)?"":tr.createPattern(hr,this.repeat)}})}(),function(cr){var tr=cr.fabric||(cr.fabric={}),hr=tr.util.toFixed;if(tr.Shadow){tr.warn("fabric.Shadow is already defined.");return}tr.Shadow=tr.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(ur){typeof ur=="string"&&(ur=this._parseShadow(ur));for(var or in ur)this[or]=ur[or];this.id=tr.Object.__uid++},_parseShadow:function(ur){var or=ur.trim(),nr=tr.Shadow.reOffsetsAndBlur.exec(or)||[],er=or.replace(tr.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:er.trim(),offsetX:parseFloat(nr[1],10)||0,offsetY:parseFloat(nr[2],10)||0,blur:parseFloat(nr[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(ur){var or=40,nr=40,er=tr.Object.NUM_FRACTION_DIGITS,ar=tr.util.rotateVector({x:this.offsetX,y:this.offsetY},tr.util.degreesToRadians(-ur.angle)),dr=20,lr=new tr.Color(this.color);return ur.width&&ur.height&&(or=hr((Math.abs(ar.x)+this.blur)/ur.width,er)*100+dr,nr=hr((Math.abs(ar.y)+this.blur)/ur.height,er)*100+dr),ur.flipX&&(ar.x*=-1),ur.flipY&&(ar.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+nr+'%" height="'+(100+2*nr)+'%" x="-'+or+'%" width="'+(100+2*or)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+hr(this.blur?this.blur/2:0,er)+`"></feGaussianBlur>
	<feOffset dx="`+hr(ar.x,er)+'" dy="'+hr(ar.y,er)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+lr.toRgb()+'" flood-opacity="'+lr.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var ur={},or=tr.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(nr){this[nr]!==or[nr]&&(ur[nr]=this[nr])},this),ur}}),tr.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}(St),function(){if(e.StaticCanvas){e.warn("fabric.StaticCanvas is already defined.");return}var cr=e.util.object.extend,tr=e.util.getElementOffset,hr=e.util.removeFromArray,ur=e.util.toFixed,or=e.util.transformPoint,nr=e.util.invertTransform,er=e.util.getNodeCanvas,ar=e.util.createCanvasElement,dr=new Error("Could not initialize `canvas` element");e.StaticCanvas=e.util.createClass(e.CommonMethods,{initialize:function(lr,sr){sr||(sr={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(lr,sr)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:e.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(lr,sr){var pr=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(lr),this._initOptions(sr),this.interactive||this._initRetinaScaling(),sr.overlayImage&&this.setOverlayImage(sr.overlayImage,pr),sr.backgroundImage&&this.setBackgroundImage(sr.backgroundImage,pr),sr.backgroundColor&&this.setBackgroundColor(sr.backgroundColor,pr),sr.overlayColor&&this.setOverlayColor(sr.overlayColor,pr),this.calcOffset()},_isRetinaScaling:function(){return e.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,e.devicePixelRatio):1},_initRetinaScaling:function(){if(!!this._isRetinaScaling()){var lr=e.devicePixelRatio;this.__initRetinaScaling(lr,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(lr,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(lr,sr,pr){sr.setAttribute("width",this.width*lr),sr.setAttribute("height",this.height*lr),pr.scale(lr,lr)},calcOffset:function(){return this._offset=tr(this.lowerCanvasEl),this},setOverlayImage:function(lr,sr,pr){return this.__setBgOverlayImage("overlayImage",lr,sr,pr)},setBackgroundImage:function(lr,sr,pr){return this.__setBgOverlayImage("backgroundImage",lr,sr,pr)},setOverlayColor:function(lr,sr){return this.__setBgOverlayColor("overlayColor",lr,sr)},setBackgroundColor:function(lr,sr){return this.__setBgOverlayColor("backgroundColor",lr,sr)},__setBgOverlayImage:function(lr,sr,pr,mr){return typeof sr=="string"?e.util.loadImage(sr,function(vr,yr){if(vr){var br=new e.Image(vr,mr);this[lr]=br,br.canvas=this}pr&&pr(vr,yr)},this,mr&&mr.crossOrigin):(mr&&sr.setOptions(mr),this[lr]=sr,sr&&(sr.canvas=this),pr&&pr(sr,!1)),this},__setBgOverlayColor:function(lr,sr,pr){return this[lr]=sr,this._initGradient(sr,lr),this._initPattern(sr,lr,pr),this},_createCanvasElement:function(){var lr=ar();if(!lr||(lr.style||(lr.style={}),typeof lr.getContext>"u"))throw dr;return lr},_initOptions:function(lr){var sr=this.lowerCanvasEl;this._setOptions(lr),this.width=this.width||parseInt(sr.width,10)||0,this.height=this.height||parseInt(sr.height,10)||0,this.lowerCanvasEl.style&&(sr.width=this.width,sr.height=this.height,sr.style.width=this.width+"px",sr.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(lr){lr&&lr.getContext?this.lowerCanvasEl=lr:this.lowerCanvasEl=e.util.getById(lr)||this._createCanvasElement(),e.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(lr,sr){return this.setDimensions({width:lr},sr)},setHeight:function(lr,sr){return this.setDimensions({height:lr},sr)},setDimensions:function(lr,sr){var pr;sr=sr||{};for(var mr in lr)pr=lr[mr],sr.cssOnly||(this._setBackstoreDimension(mr,lr[mr]),pr+="px",this.hasLostContext=!0),sr.backstoreOnly||this._setCssDimension(mr,pr);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),sr.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(lr,sr){return this.lowerCanvasEl[lr]=sr,this.upperCanvasEl&&(this.upperCanvasEl[lr]=sr),this.cacheCanvasEl&&(this.cacheCanvasEl[lr]=sr),this[lr]=sr,this},_setCssDimension:function(lr,sr){return this.lowerCanvasEl.style[lr]=sr,this.upperCanvasEl&&(this.upperCanvasEl.style[lr]=sr),this.wrapperEl&&(this.wrapperEl.style[lr]=sr),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(lr){var sr=this._activeObject,pr=this.backgroundImage,mr=this.overlayImage,vr,yr,br;for(this.viewportTransform=lr,yr=0,br=this._objects.length;yr<br;yr++)vr=this._objects[yr],vr.group||vr.setCoords(!0);return sr&&sr.setCoords(),pr&&pr.setCoords(!0),mr&&mr.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(lr,sr){var pr=lr,mr=this.viewportTransform.slice(0);lr=or(lr,nr(this.viewportTransform)),mr[0]=sr,mr[3]=sr;var vr=or(lr,mr);return mr[4]+=pr.x-vr.x,mr[5]+=pr.y-vr.y,this.setViewportTransform(mr)},setZoom:function(lr){return this.zoomToPoint(new e.Point(0,0),lr),this},absolutePan:function(lr){var sr=this.viewportTransform.slice(0);return sr[4]=-lr.x,sr[5]=-lr.y,this.setViewportTransform(sr)},relativePan:function(lr){return this.absolutePan(new e.Point(-lr.x-this.viewportTransform[4],-lr.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(lr){this.stateful&&lr.setupState(),lr._set("canvas",this),lr.setCoords(),this.fire("object:added",{target:lr}),lr.fire("added")},_onObjectRemoved:function(lr){this.fire("object:removed",{target:lr}),lr.fire("removed"),delete lr.canvas},clearContext:function(lr){return lr.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var lr=this.contextContainer;return this.renderCanvas(lr,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=e.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var lr={},sr=this.width,pr=this.height,mr=nr(this.viewportTransform);return lr.tl=or({x:0,y:0},mr),lr.br=or({x:sr,y:pr},mr),lr.tr=new e.Point(lr.br.x,lr.tl.y),lr.bl=new e.Point(lr.tl.x,lr.br.y),this.vptCoords=lr,lr},cancelRequestedRender:function(){this.isRendering&&(e.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(lr,sr){var pr=this.viewportTransform,mr=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(lr),e.util.setImageSmoothing(lr,this.imageSmoothingEnabled),this.fire("before:render",{ctx:lr}),this._renderBackground(lr),lr.save(),lr.transform(pr[0],pr[1],pr[2],pr[3],pr[4],pr[5]),this._renderObjects(lr,sr),lr.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(lr),mr&&(mr.canvas=this,mr.shouldCache(),mr._transformDone=!0,mr.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(lr)),this._renderOverlay(lr),this.controlsAboveOverlay&&this.interactive&&this.drawControls(lr),this.fire("after:render",{ctx:lr})},drawClipPathOnCanvas:function(lr){var sr=this.viewportTransform,pr=this.clipPath;lr.save(),lr.transform(sr[0],sr[1],sr[2],sr[3],sr[4],sr[5]),lr.globalCompositeOperation="destination-in",pr.transform(lr),lr.scale(1/pr.zoomX,1/pr.zoomY),lr.drawImage(pr._cacheCanvas,-pr.cacheTranslationX,-pr.cacheTranslationY),lr.restore()},_renderObjects:function(lr,sr){var pr,mr;for(pr=0,mr=sr.length;pr<mr;++pr)sr[pr]&&sr[pr].render(lr)},_renderBackgroundOrOverlay:function(lr,sr){var pr=this[sr+"Color"],mr=this[sr+"Image"],vr=this.viewportTransform,yr=this[sr+"Vpt"];if(!(!pr&&!mr)){if(pr){lr.save(),lr.beginPath(),lr.moveTo(0,0),lr.lineTo(this.width,0),lr.lineTo(this.width,this.height),lr.lineTo(0,this.height),lr.closePath(),lr.fillStyle=pr.toLive?pr.toLive(lr,this):pr,yr&&lr.transform(vr[0],vr[1],vr[2],vr[3],vr[4],vr[5]),lr.transform(1,0,0,1,pr.offsetX||0,pr.offsetY||0);var br=pr.gradientTransform||pr.patternTransform;br&&lr.transform(br[0],br[1],br[2],br[3],br[4],br[5]),lr.fill(),lr.restore()}mr&&(lr.save(),yr&&lr.transform(vr[0],vr[1],vr[2],vr[3],vr[4],vr[5]),mr.render(lr),lr.restore())}},_renderBackground:function(lr){this._renderBackgroundOrOverlay(lr,"background")},_renderOverlay:function(lr){this._renderBackgroundOrOverlay(lr,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new e.Point(this.width/2,this.height/2)},centerObjectH:function(lr){return this._centerObject(lr,new e.Point(this.getCenterPoint().x,lr.getCenterPoint().y))},centerObjectV:function(lr){return this._centerObject(lr,new e.Point(lr.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(lr){var sr=this.getCenterPoint();return this._centerObject(lr,sr)},viewportCenterObject:function(lr){var sr=this.getVpCenter();return this._centerObject(lr,sr)},viewportCenterObjectH:function(lr){var sr=this.getVpCenter();return this._centerObject(lr,new e.Point(sr.x,lr.getCenterPoint().y)),this},viewportCenterObjectV:function(lr){var sr=this.getVpCenter();return this._centerObject(lr,new e.Point(lr.getCenterPoint().x,sr.y))},getVpCenter:function(){var lr=this.getCenterPoint(),sr=nr(this.viewportTransform);return or(lr,sr)},_centerObject:function(lr,sr){return lr.setPositionByOrigin(sr,"center","center"),lr.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(lr){return this.toDatalessObject(lr)},toObject:function(lr){return this._toObjectMethod("toObject",lr)},toDatalessObject:function(lr){return this._toObjectMethod("toDatalessObject",lr)},_toObjectMethod:function(lr,sr){var pr=this.clipPath,mr={version:e.version,objects:this._toObjects(lr,sr)};return pr&&!pr.excludeFromExport&&(mr.clipPath=this._toObject(this.clipPath,lr,sr)),cr(mr,this.__serializeBgOverlay(lr,sr)),e.util.populateWithProperties(this,mr,sr),mr},_toObjects:function(lr,sr){return this._objects.filter(function(pr){return!pr.excludeFromExport}).map(function(pr){return this._toObject(pr,lr,sr)},this)},_toObject:function(lr,sr,pr){var mr;this.includeDefaultValues||(mr=lr.includeDefaultValues,lr.includeDefaultValues=!1);var vr=lr[sr](pr);return this.includeDefaultValues||(lr.includeDefaultValues=mr),vr},__serializeBgOverlay:function(lr,sr){var pr={},mr=this.backgroundImage,vr=this.overlayImage,yr=this.backgroundColor,br=this.overlayColor;return yr&&yr.toObject?yr.excludeFromExport||(pr.background=yr.toObject(sr)):yr&&(pr.background=yr),br&&br.toObject?br.excludeFromExport||(pr.overlay=br.toObject(sr)):br&&(pr.overlay=br),mr&&!mr.excludeFromExport&&(pr.backgroundImage=this._toObject(mr,lr,sr)),vr&&!vr.excludeFromExport&&(pr.overlayImage=this._toObject(vr,lr,sr)),pr},svgViewportTransformation:!0,toSVG:function(lr,sr){lr||(lr={}),lr.reviver=sr;var pr=[];return this._setSVGPreamble(pr,lr),this._setSVGHeader(pr,lr),this.clipPath&&pr.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(pr,"background"),this._setSVGBgOverlayImage(pr,"backgroundImage",sr),this._setSVGObjects(pr,sr),this.clipPath&&pr.push(`</g>
`),this._setSVGBgOverlayColor(pr,"overlay"),this._setSVGBgOverlayImage(pr,"overlayImage",sr),pr.push("</svg>"),pr.join("")},_setSVGPreamble:function(lr,sr){sr.suppressPreamble||lr.push('<?xml version="1.0" encoding="',sr.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(lr,sr){var pr=sr.width||this.width,mr=sr.height||this.height,vr,yr='viewBox="0 0 '+this.width+" "+this.height+'" ',br=e.Object.NUM_FRACTION_DIGITS;sr.viewBox?yr='viewBox="'+sr.viewBox.x+" "+sr.viewBox.y+" "+sr.viewBox.width+" "+sr.viewBox.height+'" ':this.svgViewportTransformation&&(vr=this.viewportTransform,yr='viewBox="'+ur(-vr[4]/vr[0],br)+" "+ur(-vr[5]/vr[3],br)+" "+ur(this.width/vr[0],br)+" "+ur(this.height/vr[3],br)+'" '),lr.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',pr,'" ','height="',mr,'" ',yr,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",e.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(sr),`</defs>
`)},createSVGClipPathMarkup:function(lr){var sr=this.clipPath;return sr?(sr.clipPathId="CLIPPATH_"+e.Object.__uid++,'<clipPath id="'+sr.clipPathId+`" >
`+this.clipPath.toClipPathSVG(lr.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var lr=this,sr=["background","overlay"].map(function(pr){var mr=lr[pr+"Color"];if(mr&&mr.toLive){var vr=lr[pr+"Vpt"],yr=lr.viewportTransform,br={width:lr.width/(vr?yr[0]:1),height:lr.height/(vr?yr[3]:1)};return mr.toSVG(br,{additionalTransform:vr?e.util.matrixToSVG(yr):""})}});return sr.join("")},createSVGFontFacesMarkup:function(){var lr="",sr={},pr,mr,vr,yr,br,_r,xr,Nr,zr,Tr=e.fontPaths,Br=[];for(this._objects.forEach(function Yr(Xr){Br.push(Xr),Xr._objects&&Xr._objects.forEach(Yr)}),Nr=0,zr=Br.length;Nr<zr;Nr++)if(pr=Br[Nr],mr=pr.fontFamily,!(pr.type.indexOf("text")===-1||sr[mr]||!Tr[mr])&&(sr[mr]=!0,!!pr.styles)){vr=pr.styles;for(br in vr){yr=vr[br];for(xr in yr)_r=yr[xr],mr=_r.fontFamily,!sr[mr]&&Tr[mr]&&(sr[mr]=!0)}}for(var Jr in sr)lr+=[`		@font-face {
`,"			font-family: '",Jr,`';
`,"			src: url('",Tr[Jr],`');
`,`		}
`].join("");return lr&&(lr=['	<style type="text/css">',`<![CDATA[
`,lr,"]]>",`</style>
`].join("")),lr},_setSVGObjects:function(lr,sr){var pr,mr,vr,yr=this._objects;for(mr=0,vr=yr.length;mr<vr;mr++)pr=yr[mr],!pr.excludeFromExport&&this._setSVGObject(lr,pr,sr)},_setSVGObject:function(lr,sr,pr){lr.push(sr.toSVG(pr))},_setSVGBgOverlayImage:function(lr,sr,pr){this[sr]&&!this[sr].excludeFromExport&&this[sr].toSVG&&lr.push(this[sr].toSVG(pr))},_setSVGBgOverlayColor:function(lr,sr){var pr=this[sr+"Color"],mr=this.viewportTransform,vr=this.width,yr=this.height;if(!!pr)if(pr.toLive){var br=pr.repeat,_r=e.util.invertTransform(mr),xr=this[sr+"Vpt"],Nr=xr?e.util.matrixToSVG(_r):"";lr.push('<rect transform="'+Nr+" translate(",vr/2,",",yr/2,')"',' x="',pr.offsetX-vr/2,'" y="',pr.offsetY-yr/2,'" ','width="',br==="repeat-y"||br==="no-repeat"?pr.source.width:vr,'" height="',br==="repeat-x"||br==="no-repeat"?pr.source.height:yr,'" fill="url(#SVGID_'+pr.id+')"',`></rect>
`)}else lr.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',pr,'"',`></rect>
`)},sendToBack:function(lr){if(!lr)return this;var sr=this._activeObject,pr,mr,vr;if(lr===sr&&lr.type==="activeSelection")for(vr=sr._objects,pr=vr.length;pr--;)mr=vr[pr],hr(this._objects,mr),this._objects.unshift(mr);else hr(this._objects,lr),this._objects.unshift(lr);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(lr){if(!lr)return this;var sr=this._activeObject,pr,mr,vr;if(lr===sr&&lr.type==="activeSelection")for(vr=sr._objects,pr=0;pr<vr.length;pr++)mr=vr[pr],hr(this._objects,mr),this._objects.push(mr);else hr(this._objects,lr),this._objects.push(lr);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(lr,sr){if(!lr)return this;var pr=this._activeObject,mr,vr,yr,br,_r,xr=0;if(lr===pr&&lr.type==="activeSelection")for(_r=pr._objects,mr=0;mr<_r.length;mr++)vr=_r[mr],yr=this._objects.indexOf(vr),yr>0+xr&&(br=yr-1,hr(this._objects,vr),this._objects.splice(br,0,vr)),xr++;else yr=this._objects.indexOf(lr),yr!==0&&(br=this._findNewLowerIndex(lr,yr,sr),hr(this._objects,lr),this._objects.splice(br,0,lr));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(lr,sr,pr){var mr,vr;if(pr)for(mr=sr,vr=sr-1;vr>=0;--vr){var yr=lr.intersectsWithObject(this._objects[vr])||lr.isContainedWithinObject(this._objects[vr])||this._objects[vr].isContainedWithinObject(lr);if(yr){mr=vr;break}}else mr=sr-1;return mr},bringForward:function(lr,sr){if(!lr)return this;var pr=this._activeObject,mr,vr,yr,br,_r,xr=0;if(lr===pr&&lr.type==="activeSelection")for(_r=pr._objects,mr=_r.length;mr--;)vr=_r[mr],yr=this._objects.indexOf(vr),yr<this._objects.length-1-xr&&(br=yr+1,hr(this._objects,vr),this._objects.splice(br,0,vr)),xr++;else yr=this._objects.indexOf(lr),yr!==this._objects.length-1&&(br=this._findNewUpperIndex(lr,yr,sr),hr(this._objects,lr),this._objects.splice(br,0,lr));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(lr,sr,pr){var mr,vr,yr;if(pr)for(mr=sr,vr=sr+1,yr=this._objects.length;vr<yr;++vr){var br=lr.intersectsWithObject(this._objects[vr])||lr.isContainedWithinObject(this._objects[vr])||this._objects[vr].isContainedWithinObject(lr);if(br){mr=vr;break}}else mr=sr+1;return mr},moveTo:function(lr,sr){return hr(this._objects,lr),this._objects.splice(sr,0,lr),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(e.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(lr){lr.dispose&&lr.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),e.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),e.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),cr(e.StaticCanvas.prototype,e.Observable),cr(e.StaticCanvas.prototype,e.Collection),cr(e.StaticCanvas.prototype,e.DataURLExporter),cr(e.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(lr){var sr=ar();if(!sr||!sr.getContext)return null;var pr=sr.getContext("2d");if(!pr)return null;switch(lr){case"setLineDash":return typeof pr.setLineDash<"u";default:return null}}}),e.StaticCanvas.prototype.toJSON=e.StaticCanvas.prototype.toObject,e.isLikelyNode&&(e.StaticCanvas.prototype.createPNGStream=function(){var lr=er(this.lowerCanvasEl);return lr&&lr.createPNGStream()},e.StaticCanvas.prototype.createJPEGStream=function(lr){var sr=er(this.lowerCanvasEl);return sr&&sr.createJPEGStream(lr)})}(),e.BaseBrush=e.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(cr){cr.strokeStyle=this.color,cr.lineWidth=this.width,cr.lineCap=this.strokeLineCap,cr.miterLimit=this.strokeMiterLimit,cr.lineJoin=this.strokeLineJoin,cr.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(cr){var tr=this.canvas.viewportTransform;cr.save(),cr.transform(tr[0],tr[1],tr[2],tr[3],tr[4],tr[5])},_setShadow:function(){if(!!this.shadow){var cr=this.canvas,tr=this.shadow,hr=cr.contextTop,ur=cr.getZoom();cr&&cr._isRetinaScaling()&&(ur*=e.devicePixelRatio),hr.shadowColor=tr.color,hr.shadowBlur=tr.blur*ur,hr.shadowOffsetX=tr.offsetX*ur,hr.shadowOffsetY=tr.offsetY*ur}},needsFullRender:function(){var cr=new e.Color(this.color);return cr.getAlpha()<1||!!this.shadow},_resetShadow:function(){var cr=this.canvas.contextTop;cr.shadowColor="",cr.shadowBlur=cr.shadowOffsetX=cr.shadowOffsetY=0},_isOutSideCanvas:function(cr){return cr.x<0||cr.x>this.canvas.getWidth()||cr.y<0||cr.y>this.canvas.getHeight()}}),function(){e.PencilBrush=e.util.createClass(e.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(cr){this.canvas=cr,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(cr,tr,hr){var ur=tr.midPointFrom(hr);return cr.quadraticCurveTo(tr.x,tr.y,ur.x,ur.y),ur},onMouseDown:function(cr,tr){!this.canvas._isMainEvent(tr.e)||(this.drawStraightLine=tr.e[this.straightLineKey],this._prepareForDrawing(cr),this._captureDrawingPath(cr),this._render())},onMouseMove:function(cr,tr){if(!!this.canvas._isMainEvent(tr.e)&&(this.drawStraightLine=tr.e[this.straightLineKey],!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(cr))&&this._captureDrawingPath(cr)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var hr=this._points,ur=hr.length,or=this.canvas.contextTop;this._saveAndTransform(or),this.oldEnd&&(or.beginPath(),or.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(or,hr[ur-2],hr[ur-1],!0),or.stroke(),or.restore()}},onMouseUp:function(cr){return this.canvas._isMainEvent(cr.e)?(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(cr){var tr=new e.Point(cr.x,cr.y);this._reset(),this._addPoint(tr),this.canvas.contextTop.moveTo(tr.x,tr.y)},_addPoint:function(cr){return this._points.length>1&&cr.eq(this._points[this._points.length-1])?!1:(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(cr),!0)},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(cr){var tr=new e.Point(cr.x,cr.y);return this._addPoint(tr)},_render:function(cr){var tr,hr,ur=this._points[0],or=this._points[1];if(cr=cr||this.canvas.contextTop,this._saveAndTransform(cr),cr.beginPath(),this._points.length===2&&ur.x===or.x&&ur.y===or.y){var nr=this.width/1e3;ur=new e.Point(ur.x,ur.y),or=new e.Point(or.x,or.y),ur.x-=nr,or.x+=nr}for(cr.moveTo(ur.x,ur.y),tr=1,hr=this._points.length;tr<hr;tr++)this._drawSegment(cr,ur,or),ur=this._points[tr],or=this._points[tr+1];cr.lineTo(ur.x,ur.y),cr.stroke(),cr.restore()},convertPointsToSVGPath:function(cr){var tr=this.width/1e3;return e.util.getSmoothPathFromPoints(cr,tr)},_isEmptySVGPath:function(cr){var tr=e.util.joinPath(cr);return tr==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(cr){var tr=new e.Path(cr,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,tr.shadow=new e.Shadow(this.shadow)),tr},decimatePoints:function(cr,tr){if(cr.length<=2)return cr;var hr=this.canvas.getZoom(),ur=Math.pow(tr/hr,2),or,nr=cr.length-1,er=cr[0],ar=[er],dr;for(or=1;or<nr-1;or++)dr=Math.pow(er.x-cr[or].x,2)+Math.pow(er.y-cr[or].y,2),dr>=ur&&(er=cr[or],ar.push(er));return ar.push(cr[nr]),ar},_finalizeAndAddPath:function(){var cr=this.canvas.contextTop;cr.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var tr=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(tr)){this.canvas.requestRenderAll();return}var hr=this.createPath(tr);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:hr}),this.canvas.add(hr),this.canvas.requestRenderAll(),hr.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:hr})}})}(),e.CircleBrush=e.util.createClass(e.BaseBrush,{width:10,initialize:function(cr){this.canvas=cr,this.points=[]},drawDot:function(cr){var tr=this.addPoint(cr),hr=this.canvas.contextTop;this._saveAndTransform(hr),this.dot(hr,tr),hr.restore()},dot:function(cr,tr){cr.fillStyle=tr.fill,cr.beginPath(),cr.arc(tr.x,tr.y,tr.radius,0,Math.PI*2,!1),cr.closePath(),cr.fill()},onMouseDown:function(cr){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(cr)},_render:function(){var cr=this.canvas.contextTop,tr,hr,ur=this.points;for(this._saveAndTransform(cr),tr=0,hr=ur.length;tr<hr;tr++)this.dot(cr,ur[tr]);cr.restore()},onMouseMove:function(cr){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(cr)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(cr),this._render()):this.drawDot(cr))},onMouseUp:function(){var cr=this.canvas.renderOnAddRemove,tr,hr;this.canvas.renderOnAddRemove=!1;var ur=[];for(tr=0,hr=this.points.length;tr<hr;tr++){var or=this.points[tr],nr=new e.Circle({radius:or.radius,left:or.x,top:or.y,originX:"center",originY:"center",fill:or.fill});this.shadow&&(nr.shadow=new e.Shadow(this.shadow)),ur.push(nr)}var er=new e.Group(ur);er.canvas=this.canvas,this.canvas.fire("before:path:created",{path:er}),this.canvas.add(er),this.canvas.fire("path:created",{path:er}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=cr,this.canvas.requestRenderAll()},addPoint:function(cr){var tr=new e.Point(cr.x,cr.y),hr=e.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,ur=new e.Color(this.color).setAlpha(e.util.getRandomInt(0,100)/100).toRgba();return tr.radius=hr,tr.fill=ur,this.points.push(tr),tr}}),e.SprayBrush=e.util.createClass(e.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(cr){this.canvas=cr,this.sprayChunks=[]},onMouseDown:function(cr){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(cr),this.render(this.sprayChunkPoints)},onMouseMove:function(cr){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(cr)||(this.addSprayChunk(cr),this.render(this.sprayChunkPoints))},onMouseUp:function(){var cr=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var tr=[],hr=0,ur=this.sprayChunks.length;hr<ur;hr++)for(var or=this.sprayChunks[hr],nr=0,er=or.length;nr<er;nr++){var ar=new e.Rect({width:or[nr].width,height:or[nr].width,left:or[nr].x+1,top:or[nr].y+1,originX:"center",originY:"center",fill:this.color});tr.push(ar)}this.optimizeOverlapping&&(tr=this._getOptimizedRects(tr));var dr=new e.Group(tr);this.shadow&&dr.set("shadow",new e.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:dr}),this.canvas.add(dr),this.canvas.fire("path:created",{path:dr}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=cr,this.canvas.requestRenderAll()},_getOptimizedRects:function(cr){var tr={},hr,ur,or;for(ur=0,or=cr.length;ur<or;ur++)hr=cr[ur].left+""+cr[ur].top,tr[hr]||(tr[hr]=cr[ur]);var nr=[];for(hr in tr)nr.push(tr[hr]);return nr},render:function(cr){var tr=this.canvas.contextTop,hr,ur;for(tr.fillStyle=this.color,this._saveAndTransform(tr),hr=0,ur=cr.length;hr<ur;hr++){var or=cr[hr];typeof or.opacity<"u"&&(tr.globalAlpha=or.opacity),tr.fillRect(or.x,or.y,or.width,or.width)}tr.restore()},_render:function(){var cr=this.canvas.contextTop,tr,hr;for(cr.fillStyle=this.color,this._saveAndTransform(cr),tr=0,hr=this.sprayChunks.length;tr<hr;tr++)this.render(this.sprayChunks[tr]);cr.restore()},addSprayChunk:function(cr){this.sprayChunkPoints=[];var tr,hr,ur,or=this.width/2,nr;for(nr=0;nr<this.density;nr++){tr=e.util.getRandomInt(cr.x-or,cr.x+or),hr=e.util.getRandomInt(cr.y-or,cr.y+or),this.dotWidthVariance?ur=e.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):ur=this.dotWidth;var er=new e.Point(tr,hr);er.width=ur,this.randomOpacity&&(er.opacity=e.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(er)}this.sprayChunks.push(this.sprayChunkPoints)}}),e.PatternBrush=e.util.createClass(e.PencilBrush,{getPatternSrc:function(){var cr=20,tr=5,hr=e.util.createCanvasElement(),ur=hr.getContext("2d");return hr.width=hr.height=cr+tr,ur.fillStyle=this.color,ur.beginPath(),ur.arc(cr/2,cr/2,cr/2,0,Math.PI*2,!1),ur.closePath(),ur.fill(),hr},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(cr){return cr.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(cr){this.callSuper("_setBrushStyles",cr),cr.strokeStyle=this.getPattern(cr)},createPath:function(cr){var tr=this.callSuper("createPath",cr),hr=tr._getLeftTopCoords().scalarAdd(tr.strokeWidth/2);return tr.stroke=new e.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-hr.x,offsetY:-hr.y}),tr}}),function(){var cr=e.util.getPointer,tr=e.util.degreesToRadians,hr=e.util.isTouchEvent;e.Canvas=e.util.createClass(e.StaticCanvas,{initialize:function(or,nr){nr||(nr={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(or,nr),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=e.PencilBrush&&new e.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var or=this.getActiveObjects(),nr,er,ar;if(or.length>0&&!this.preserveObjectStacking){er=[],ar=[];for(var dr=0,lr=this._objects.length;dr<lr;dr++)nr=this._objects[dr],or.indexOf(nr)===-1?er.push(nr):ar.push(nr);or.length>1&&(this._activeObject._objects=ar),er.push.apply(er,ar)}else er=this._objects;return er},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var or=this.contextContainer;return this.renderCanvas(or,this._chooseObjectsToRender()),this},renderTopLayer:function(or){or.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(or),this.contextTopDirty=!0),or.restore()},renderTop:function(){var or=this.contextTop;return this.clearContext(or),this.renderTopLayer(or),this.fire("after:render"),this},_normalizePointer:function(or,nr){var er=or.calcTransformMatrix(),ar=e.util.invertTransform(er),dr=this.restorePointerVpt(nr);return e.util.transformPoint(dr,ar)},isTargetTransparent:function(or,nr,er){if(or.shouldCache()&&or._cacheCanvas&&or!==this._activeObject){var ar=this._normalizePointer(or,{x:nr,y:er}),dr=Math.max(or.cacheTranslationX+ar.x*or.zoomX,0),lr=Math.max(or.cacheTranslationY+ar.y*or.zoomY,0),vr=e.util.isTransparent(or._cacheContext,Math.round(dr),Math.round(lr),this.targetFindTolerance);return vr}var sr=this.contextCache,pr=or.selectionBackgroundColor,mr=this.viewportTransform;or.selectionBackgroundColor="",this.clearContext(sr),sr.save(),sr.transform(mr[0],mr[1],mr[2],mr[3],mr[4],mr[5]),or.render(sr),sr.restore(),or.selectionBackgroundColor=pr;var vr=e.util.isTransparent(sr,nr,er,this.targetFindTolerance);return vr},_isSelectionKeyPressed:function(or){var nr=!1;return Array.isArray(this.selectionKey)?nr=!!this.selectionKey.find(function(er){return or[er]===!0}):nr=or[this.selectionKey],nr},_shouldClearSelection:function(or,nr){var er=this.getActiveObjects(),ar=this._activeObject;return!nr||nr&&ar&&er.length>1&&er.indexOf(nr)===-1&&ar!==nr&&!this._isSelectionKeyPressed(or)||nr&&!nr.evented||nr&&!nr.selectable&&ar&&ar!==nr},_shouldCenterTransform:function(or,nr,er){if(!!or){var ar;return nr==="scale"||nr==="scaleX"||nr==="scaleY"||nr==="resizing"?ar=this.centeredScaling||or.centeredScaling:nr==="rotate"&&(ar=this.centeredRotation||or.centeredRotation),ar?!er:er}},_getOriginFromCorner:function(or,nr){var er={x:or.originX,y:or.originY};return nr==="ml"||nr==="tl"||nr==="bl"?er.x="right":(nr==="mr"||nr==="tr"||nr==="br")&&(er.x="left"),nr==="tl"||nr==="mt"||nr==="tr"?er.y="bottom":(nr==="bl"||nr==="mb"||nr==="br")&&(er.y="top"),er},_getActionFromCorner:function(or,nr,er,ar){if(!nr||!or)return"drag";var dr=ar.controls[nr];return dr.getActionName(er,dr,ar)},_setupCurrentTransform:function(or,nr,er){if(!!nr){var ar=this.getPointer(or),dr=nr.__corner,lr=nr.controls[dr],sr=er&&dr?lr.getActionHandler(or,nr,lr):e.controlsUtils.dragHandler,pr=this._getActionFromCorner(er,dr,or,nr),mr=this._getOriginFromCorner(nr,dr),vr=or[this.centeredKey],yr={target:nr,action:pr,actionHandler:sr,corner:dr,scaleX:nr.scaleX,scaleY:nr.scaleY,skewX:nr.skewX,skewY:nr.skewY,offsetX:ar.x-nr.left,offsetY:ar.y-nr.top,originX:mr.x,originY:mr.y,ex:ar.x,ey:ar.y,lastX:ar.x,lastY:ar.y,theta:tr(nr.angle),width:nr.width*nr.scaleX,shiftKey:or.shiftKey,altKey:vr,original:e.util.saveObjectTransform(nr)};this._shouldCenterTransform(nr,pr,vr)&&(yr.originX="center",yr.originY="center"),yr.original.originX=mr.x,yr.original.originY=mr.y,this._currentTransform=yr,this._beforeTransform(or)}},setCursor:function(or){this.upperCanvasEl.style.cursor=or},_drawSelection:function(or){var nr=this._groupSelector,er=new e.Point(nr.ex,nr.ey),ar=e.util.transformPoint(er,this.viewportTransform),dr=new e.Point(nr.ex+nr.left,nr.ey+nr.top),lr=e.util.transformPoint(dr,this.viewportTransform),sr=Math.min(ar.x,lr.x),pr=Math.min(ar.y,lr.y),mr=Math.max(ar.x,lr.x),vr=Math.max(ar.y,lr.y),yr=this.selectionLineWidth/2;this.selectionColor&&(or.fillStyle=this.selectionColor,or.fillRect(sr,pr,mr-sr,vr-pr)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(or.lineWidth=this.selectionLineWidth,or.strokeStyle=this.selectionBorderColor,sr+=yr,pr+=yr,mr-=yr,vr-=yr,e.Object.prototype._setLineDash.call(this,or,this.selectionDashArray),or.strokeRect(sr,pr,mr-sr,vr-pr))},findTarget:function(or,nr){if(!this.skipTargetFind){var er=!0,ar=this.getPointer(or,er),dr=this._activeObject,lr=this.getActiveObjects(),sr,pr,mr=hr(or),vr=lr.length>1&&!nr||lr.length===1;if(this.targets=[],vr&&dr._findTargetCorner(ar,mr)||lr.length>1&&!nr&&dr===this._searchPossibleTargets([dr],ar))return dr;if(lr.length===1&&dr===this._searchPossibleTargets([dr],ar))if(this.preserveObjectStacking)sr=dr,pr=this.targets,this.targets=[];else return dr;var yr=this._searchPossibleTargets(this._objects,ar);return or[this.altSelectionKey]&&yr&&sr&&yr!==sr&&(yr=sr,this.targets=pr),yr}},_checkTarget:function(or,nr,er){if(nr&&nr.visible&&nr.evented&&nr.containsPoint(or))if((this.perPixelTargetFind||nr.perPixelTargetFind)&&!nr.isEditing){var ar=this.isTargetTransparent(nr,er.x,er.y);if(!ar)return!0}else return!0},_searchPossibleTargets:function(or,nr){for(var er,ar=or.length,dr;ar--;){var lr=or[ar],sr=lr.group?this._normalizePointer(lr.group,nr):nr;if(this._checkTarget(sr,lr,nr)){er=or[ar],er.subTargetCheck&&er instanceof e.Group&&(dr=this._searchPossibleTargets(er._objects,nr),dr&&this.targets.push(dr));break}}return er},restorePointerVpt:function(or){return e.util.transformPoint(or,e.util.invertTransform(this.viewportTransform))},getPointer:function(or,nr){if(this._absolutePointer&&!nr)return this._absolutePointer;if(this._pointer&&nr)return this._pointer;var er=cr(or),ar=this.upperCanvasEl,dr=ar.getBoundingClientRect(),lr=dr.width||0,sr=dr.height||0,pr;(!lr||!sr)&&("top"in dr&&"bottom"in dr&&(sr=Math.abs(dr.top-dr.bottom)),"right"in dr&&"left"in dr&&(lr=Math.abs(dr.right-dr.left))),this.calcOffset(),er.x=er.x-this._offset.left,er.y=er.y-this._offset.top,nr||(er=this.restorePointerVpt(er));var mr=this.getRetinaScaling();return mr!==1&&(er.x/=mr,er.y/=mr),lr===0||sr===0?pr={width:1,height:1}:pr={width:ar.width/lr,height:ar.height/sr},{x:er.x*pr.width,y:er.y*pr.height}},_createUpperCanvas:function(){var or=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),nr=this.lowerCanvasEl,er=this.upperCanvasEl;er?er.className="":(er=this._createCanvasElement(),this.upperCanvasEl=er),e.util.addClass(er,"upper-canvas "+or),this.wrapperEl.appendChild(er),this._copyCanvasStyle(nr,er),this._applyCanvasStyle(er),this.contextTop=er.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=e.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),e.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),e.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(or){var nr=this.width||or.width,er=this.height||or.height;e.util.setStyle(or,{position:"absolute",width:nr+"px",height:er+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),or.width=nr,or.height=er,e.util.makeElementUnselectable(or)},_copyCanvasStyle:function(or,nr){nr.style.cssText=or.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var or=this._activeObject;return or?or.type==="activeSelection"&&or._objects?or._objects.slice(0):[or]:[]},_onObjectRemoved:function(or){or===this._activeObject&&(this.fire("before:selection:cleared",{target:or}),this._discardActiveObject(),this.fire("selection:cleared",{target:or}),or.fire("deselected")),or===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",or)},_fireSelectionEvents:function(or,nr){var er=!1,ar=this.getActiveObjects(),dr=[],lr=[];or.forEach(function(sr){ar.indexOf(sr)===-1&&(er=!0,sr.fire("deselected",{e:nr,target:sr}),lr.push(sr))}),ar.forEach(function(sr){or.indexOf(sr)===-1&&(er=!0,sr.fire("selected",{e:nr,target:sr}),dr.push(sr))}),or.length>0&&ar.length>0?er&&this.fire("selection:updated",{e:nr,selected:dr,deselected:lr}):ar.length>0?this.fire("selection:created",{e:nr,selected:dr}):or.length>0&&this.fire("selection:cleared",{e:nr,deselected:lr})},setActiveObject:function(or,nr){var er=this.getActiveObjects();return this._setActiveObject(or,nr),this._fireSelectionEvents(er,nr),this},_setActiveObject:function(or,nr){return this._activeObject===or||!this._discardActiveObject(nr,or)||or.onSelect({e:nr})?!1:(this._activeObject=or,!0)},_discardActiveObject:function(or,nr){var er=this._activeObject;if(er){if(er.onDeselect({e:or,object:nr}))return!1;this._activeObject=null}return!0},discardActiveObject:function(or){var nr=this.getActiveObjects(),er=this.getActiveObject();return nr.length&&this.fire("before:selection:cleared",{target:er,e:or}),this._discardActiveObject(or),this._fireSelectionEvents(nr,or),this},dispose:function(){var or=this.wrapperEl;return this.removeListeners(),or.removeChild(this.upperCanvasEl),or.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(nr){e.util.cleanUpJsdomNode(this[nr]),this[nr]=void 0}.bind(this)),or.parentNode&&or.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,e.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(or){var nr=this._activeObject;nr&&nr._renderControls(or)},_toObject:function(or,nr,er){var ar=this._realizeGroupTransformOnObject(or),dr=this.callSuper("_toObject",or,nr,er);return this._unwindGroupTransformOnObject(or,ar),dr},_realizeGroupTransformOnObject:function(or){if(or.group&&or.group.type==="activeSelection"&&this._activeObject===or.group){var nr=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],er={};return nr.forEach(function(ar){er[ar]=or[ar]}),e.util.addTransformToObject(or,this._activeObject.calcOwnMatrix()),er}else return null},_unwindGroupTransformOnObject:function(or,nr){nr&&or.set(nr)},_setSVGObject:function(or,nr,er){var ar=this._realizeGroupTransformOnObject(nr);this.callSuper("_setSVGObject",or,nr,er),this._unwindGroupTransformOnObject(nr,ar)},setViewportTransform:function(or){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),e.StaticCanvas.prototype.setViewportTransform.call(this,or)}});for(var ur in e.StaticCanvas)ur!=="prototype"&&(e.Canvas[ur]=e.StaticCanvas[ur])}(),function(){var cr=e.util.addListener,tr=e.util.removeListener,hr=3,ur=2,or=1,nr={passive:!1};function er(ar,dr){return ar.button&&ar.button===dr-1}e.util.object.extend(e.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(cr,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(ar,dr){var lr=this.upperCanvasEl,sr=this._getEventPrefix();ar(e.window,"resize",this._onResize),ar(lr,sr+"down",this._onMouseDown),ar(lr,sr+"move",this._onMouseMove,nr),ar(lr,sr+"out",this._onMouseOut),ar(lr,sr+"enter",this._onMouseEnter),ar(lr,"wheel",this._onMouseWheel),ar(lr,"contextmenu",this._onContextMenu),ar(lr,"dblclick",this._onDoubleClick),ar(lr,"dragover",this._onDragOver),ar(lr,"dragenter",this._onDragEnter),ar(lr,"dragleave",this._onDragLeave),ar(lr,"drop",this._onDrop),this.enablePointerEvents||ar(lr,"touchstart",this._onTouchStart,nr),typeof eventjs<"u"&&dr in eventjs&&(eventjs[dr](lr,"gesture",this._onGesture),eventjs[dr](lr,"drag",this._onDrag),eventjs[dr](lr,"orientation",this._onOrientationChange),eventjs[dr](lr,"shake",this._onShake),eventjs[dr](lr,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(tr,"remove");var ar=this._getEventPrefix();tr(e.document,ar+"up",this._onMouseUp),tr(e.document,"touchend",this._onTouchEnd,nr),tr(e.document,ar+"move",this._onMouseMove,nr),tr(e.document,"touchmove",this._onMouseMove,nr)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(ar,dr){this.__onTransformGesture&&this.__onTransformGesture(ar,dr)},_onDrag:function(ar,dr){this.__onDrag&&this.__onDrag(ar,dr)},_onMouseWheel:function(ar){this.__onMouseWheel(ar)},_onMouseOut:function(ar){var dr=this._hoveredTarget;this.fire("mouse:out",{target:dr,e:ar}),this._hoveredTarget=null,dr&&dr.fire("mouseout",{e:ar});var lr=this;this._hoveredTargets.forEach(function(sr){lr.fire("mouse:out",{target:dr,e:ar}),sr&&dr.fire("mouseout",{e:ar})}),this._hoveredTargets=[]},_onMouseEnter:function(ar){!this._currentTransform&&!this.findTarget(ar)&&(this.fire("mouse:over",{target:null,e:ar}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(ar,dr){this.__onOrientationChange&&this.__onOrientationChange(ar,dr)},_onShake:function(ar,dr){this.__onShake&&this.__onShake(ar,dr)},_onLongPress:function(ar,dr){this.__onLongPress&&this.__onLongPress(ar,dr)},_onDragOver:function(ar){ar.preventDefault();var dr=this._simpleEventHandler("dragover",ar);this._fireEnterLeaveEvents(dr,ar)},_onDrop:function(ar){return this._simpleEventHandler("drop:before",ar),this._simpleEventHandler("drop",ar)},_onContextMenu:function(ar){return this.stopContextMenu&&(ar.stopPropagation(),ar.preventDefault()),!1},_onDoubleClick:function(ar){this._cacheTransformEventData(ar),this._handleEvent(ar,"dblclick"),this._resetTransformEventData(ar)},getPointerId:function(ar){var dr=ar.changedTouches;return dr?dr[0]&&dr[0].identifier:this.enablePointerEvents?ar.pointerId:-1},_isMainEvent:function(ar){return ar.isPrimary===!0?!0:ar.isPrimary===!1?!1:ar.type==="touchend"&&ar.touches.length===0?!0:ar.changedTouches?ar.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(ar){ar.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(ar)),this.__onMouseDown(ar),this._resetTransformEventData();var dr=this.upperCanvasEl,lr=this._getEventPrefix();cr(e.document,"touchend",this._onTouchEnd,nr),cr(e.document,"touchmove",this._onMouseMove,nr),tr(dr,lr+"down",this._onMouseDown)},_onMouseDown:function(ar){this.__onMouseDown(ar),this._resetTransformEventData();var dr=this.upperCanvasEl,lr=this._getEventPrefix();tr(dr,lr+"move",this._onMouseMove,nr),cr(e.document,lr+"up",this._onMouseUp),cr(e.document,lr+"move",this._onMouseMove,nr)},_onTouchEnd:function(ar){if(!(ar.touches.length>0)){this.__onMouseUp(ar),this._resetTransformEventData(),this.mainTouchId=null;var dr=this._getEventPrefix();tr(e.document,"touchend",this._onTouchEnd,nr),tr(e.document,"touchmove",this._onMouseMove,nr);var lr=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){cr(lr.upperCanvasEl,dr+"down",lr._onMouseDown),lr._willAddMouseDown=0},400)}},_onMouseUp:function(ar){this.__onMouseUp(ar),this._resetTransformEventData();var dr=this.upperCanvasEl,lr=this._getEventPrefix();this._isMainEvent(ar)&&(tr(e.document,lr+"up",this._onMouseUp),tr(e.document,lr+"move",this._onMouseMove,nr),cr(dr,lr+"move",this._onMouseMove,nr))},_onMouseMove:function(ar){!this.allowTouchScrolling&&ar.preventDefault&&ar.preventDefault(),this.__onMouseMove(ar)},_onResize:function(){this.calcOffset()},_shouldRender:function(ar){var dr=this._activeObject;return!!dr!=!!ar||dr&&ar&&dr!==ar?!0:(dr&&dr.isEditing,!1)},__onMouseUp:function(ar){var dr,lr=this._currentTransform,sr=this._groupSelector,pr=!1,mr=!sr||sr.left===0&&sr.top===0;if(this._cacheTransformEventData(ar),dr=this._target,this._handleEvent(ar,"up:before"),er(ar,hr)){this.fireRightClick&&this._handleEvent(ar,"up",hr,mr);return}if(er(ar,ur)){this.fireMiddleClick&&this._handleEvent(ar,"up",ur,mr),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(ar);return}if(!!this._isMainEvent(ar)){if(lr&&(this._finalizeCurrentTransform(ar),pr=lr.actionPerformed),!mr){var vr=dr===this._activeObject;this._maybeGroupObjects(ar),pr||(pr=this._shouldRender(dr)||!vr&&dr===this._activeObject)}var yr,br;if(dr){if(yr=dr._findTargetCorner(this.getPointer(ar,!0),e.util.isTouchEvent(ar)),dr.selectable&&dr!==this._activeObject&&dr.activeOn==="up")this.setActiveObject(dr,ar),pr=!0;else{var _r=dr.controls[yr],xr=_r&&_r.getMouseUpHandler(ar,dr,_r);xr&&(br=this.getPointer(ar),xr(ar,lr,br.x,br.y))}dr.isMoving=!1}if(lr&&(lr.target!==dr||lr.corner!==yr)){var Nr=lr.target&&lr.target.controls[lr.corner],zr=Nr&&Nr.getMouseUpHandler(ar,dr,_r);br=br||this.getPointer(ar),zr&&zr(ar,lr,br.x,br.y)}this._setCursorFromEvent(ar,dr),this._handleEvent(ar,"up",or,mr),this._groupSelector=null,this._currentTransform=null,dr&&(dr.__corner=0),pr?this.requestRenderAll():mr||this.renderTop()}},_simpleEventHandler:function(ar,dr){var lr=this.findTarget(dr),sr=this.targets,pr={e:dr,target:lr,subTargets:sr};if(this.fire(ar,pr),lr&&lr.fire(ar,pr),!sr)return lr;for(var mr=0;mr<sr.length;mr++)sr[mr].fire(ar,pr);return lr},_handleEvent:function(ar,dr,lr,sr){var pr=this._target,mr=this.targets||[],vr={e:ar,target:pr,subTargets:mr,button:lr||or,isClick:sr||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};dr==="up"&&(vr.currentTarget=this.findTarget(ar),vr.currentSubTargets=this.targets),this.fire("mouse:"+dr,vr),pr&&pr.fire("mouse"+dr,vr);for(var yr=0;yr<mr.length;yr++)mr[yr].fire("mouse"+dr,vr)},_finalizeCurrentTransform:function(ar){var dr=this._currentTransform,lr=dr.target,sr={e:ar,target:lr,transform:dr,action:dr.action};lr._scaling&&(lr._scaling=!1),lr.setCoords(),(dr.actionPerformed||this.stateful&&lr.hasStateChanged())&&this._fire("modified",sr)},_onMouseDownInDrawingMode:function(ar){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(ar).requestRenderAll();var dr=this.getPointer(ar);this.freeDrawingBrush.onMouseDown(dr,{e:ar,pointer:dr}),this._handleEvent(ar,"down")},_onMouseMoveInDrawingMode:function(ar){if(this._isCurrentlyDrawing){var dr=this.getPointer(ar);this.freeDrawingBrush.onMouseMove(dr,{e:ar,pointer:dr})}this.setCursor(this.freeDrawingCursor),this._handleEvent(ar,"move")},_onMouseUpInDrawingMode:function(ar){var dr=this.getPointer(ar);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:ar,pointer:dr}),this._handleEvent(ar,"up")},__onMouseDown:function(ar){this._cacheTransformEventData(ar),this._handleEvent(ar,"down:before");var dr=this._target;if(er(ar,hr)){this.fireRightClick&&this._handleEvent(ar,"down",hr);return}if(er(ar,ur)){this.fireMiddleClick&&this._handleEvent(ar,"down",ur);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(ar);return}if(!!this._isMainEvent(ar)&&!this._currentTransform){var lr=this._pointer;this._previousPointer=lr;var sr=this._shouldRender(dr),pr=this._shouldGroup(ar,dr);if(this._shouldClearSelection(ar,dr)?this.discardActiveObject(ar):pr&&(this._handleGrouping(ar,dr),dr=this._activeObject),this.selection&&(!dr||!dr.selectable&&!dr.isEditing&&dr!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),dr){var mr=dr===this._activeObject;dr.selectable&&dr.activeOn==="down"&&this.setActiveObject(dr,ar);var vr=dr._findTargetCorner(this.getPointer(ar,!0),e.util.isTouchEvent(ar));if(dr.__corner=vr,dr===this._activeObject&&(vr||!pr)){this._setupCurrentTransform(ar,dr,mr);var yr=dr.controls[vr],lr=this.getPointer(ar),br=yr&&yr.getMouseDownHandler(ar,dr,yr);br&&br(ar,this._currentTransform,lr.x,lr.y)}}this._handleEvent(ar,"down"),(sr||pr)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(ar){this._resetTransformEventData(),this._pointer=this.getPointer(ar,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(ar)||null},_beforeTransform:function(ar){var dr=this._currentTransform;this.stateful&&dr.target.saveState(),this.fire("before:transform",{e:ar,transform:dr})},__onMouseMove:function(ar){this._handleEvent(ar,"move:before"),this._cacheTransformEventData(ar);var dr,lr;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(ar);return}if(!!this._isMainEvent(ar)){var sr=this._groupSelector;sr?(lr=this._absolutePointer,sr.left=lr.x-sr.ex,sr.top=lr.y-sr.ey,this.renderTop()):this._currentTransform?this._transformObject(ar):(dr=this.findTarget(ar)||null,this._setCursorFromEvent(ar,dr),this._fireOverOutEvents(dr,ar)),this._handleEvent(ar,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(ar,dr){var lr=this._hoveredTarget,sr=this._hoveredTargets,pr=this.targets,mr=Math.max(sr.length,pr.length);this.fireSyntheticInOutEvents(ar,dr,{oldTarget:lr,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var vr=0;vr<mr;vr++)this.fireSyntheticInOutEvents(pr[vr],dr,{oldTarget:sr[vr],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=ar,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(ar,dr){var lr=this._draggedoverTarget,sr=this._hoveredTargets,pr=this.targets,mr=Math.max(sr.length,pr.length);this.fireSyntheticInOutEvents(ar,dr,{oldTarget:lr,evtOut:"dragleave",evtIn:"dragenter"});for(var vr=0;vr<mr;vr++)this.fireSyntheticInOutEvents(pr[vr],dr,{oldTarget:sr[vr],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=ar},fireSyntheticInOutEvents:function(ar,dr,lr){var sr,pr,mr=lr.oldTarget,vr,yr,br=mr!==ar,_r=lr.canvasEvtIn,xr=lr.canvasEvtOut;br&&(sr={e:dr,target:ar,previousTarget:mr},pr={e:dr,target:mr,nextTarget:ar}),yr=ar&&br,vr=mr&&br,vr&&(xr&&this.fire(xr,pr),mr.fire(lr.evtOut,pr)),yr&&(_r&&this.fire(_r,sr),ar.fire(lr.evtIn,sr))},__onMouseWheel:function(ar){this._cacheTransformEventData(ar),this._handleEvent(ar,"wheel"),this._resetTransformEventData()},_transformObject:function(ar){var dr=this.getPointer(ar),lr=this._currentTransform;lr.reset=!1,lr.shiftKey=ar.shiftKey,lr.altKey=ar[this.centeredKey],this._performTransformAction(ar,lr,dr),lr.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(ar,dr,lr){var sr=lr.x,pr=lr.y,mr=dr.action,vr=!1,yr=dr.actionHandler;yr&&(vr=yr(ar,dr,sr,pr)),mr==="drag"&&vr&&(dr.target.isMoving=!0,this.setCursor(dr.target.moveCursor||this.moveCursor)),dr.actionPerformed=dr.actionPerformed||vr},_fire:e.controlsUtils.fireEvent,_setCursorFromEvent:function(ar,dr){if(!dr)return this.setCursor(this.defaultCursor),!1;var lr=dr.hoverCursor||this.hoverCursor,sr=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,pr=(!sr||!sr.contains(dr))&&dr._findTargetCorner(this.getPointer(ar,!0));pr?this.setCursor(this.getCornerCursor(pr,dr,ar)):(dr.subTargetCheck&&this.targets.concat().reverse().map(function(mr){lr=mr.hoverCursor||lr}),this.setCursor(lr))},getCornerCursor:function(ar,dr,lr){var sr=dr.controls[ar];return sr.cursorStyleHandler(lr,sr,dr)}})}(),function(){var cr=Math.min,tr=Math.max;e.util.object.extend(e.Canvas.prototype,{_shouldGroup:function(hr,ur){var or=this._activeObject;return or&&this._isSelectionKeyPressed(hr)&&ur&&ur.selectable&&this.selection&&(or!==ur||or.type==="activeSelection")&&!ur.onSelect({e:hr})},_handleGrouping:function(hr,ur){var or=this._activeObject;or.__corner||ur===or&&(ur=this.findTarget(hr,!0),!ur||!ur.selectable)||(or&&or.type==="activeSelection"?this._updateActiveSelection(ur,hr):this._createActiveSelection(ur,hr))},_updateActiveSelection:function(hr,ur){var or=this._activeObject,nr=or._objects.slice(0);or.contains(hr)?(or.removeWithUpdate(hr),this._hoveredTarget=hr,this._hoveredTargets=this.targets.concat(),or.size()===1&&this._setActiveObject(or.item(0),ur)):(or.addWithUpdate(hr),this._hoveredTarget=or,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(nr,ur)},_createActiveSelection:function(hr,ur){var or=this.getActiveObjects(),nr=this._createGroup(hr);this._hoveredTarget=nr,this._setActiveObject(nr,ur),this._fireSelectionEvents(or,ur)},_createGroup:function(hr){var ur=this._objects,or=ur.indexOf(this._activeObject)<ur.indexOf(hr),nr=or?[this._activeObject,hr]:[hr,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new e.ActiveSelection(nr,{canvas:this})},_groupSelectedObjects:function(hr){var ur=this._collectObjects(hr),or;ur.length===1?this.setActiveObject(ur[0],hr):ur.length>1&&(or=new e.ActiveSelection(ur.reverse(),{canvas:this}),this.setActiveObject(or,hr))},_collectObjects:function(hr){for(var ur=[],or,nr=this._groupSelector.ex,er=this._groupSelector.ey,ar=nr+this._groupSelector.left,dr=er+this._groupSelector.top,lr=new e.Point(cr(nr,ar),cr(er,dr)),sr=new e.Point(tr(nr,ar),tr(er,dr)),pr=!this.selectionFullyContained,mr=nr===ar&&er===dr,vr=this._objects.length;vr--&&(or=this._objects[vr],!(!(!or||!or.selectable||!or.visible)&&(pr&&or.intersectsWithRect(lr,sr,!0)||or.isContainedWithinRect(lr,sr,!0)||pr&&or.containsPoint(lr,null,!0)||pr&&or.containsPoint(sr,null,!0))&&(ur.push(or),mr))););return ur.length>1&&(ur=ur.filter(function(yr){return!yr.onSelect({e:hr})})),ur},_maybeGroupObjects:function(hr){this.selection&&this._groupSelector&&this._groupSelectedObjects(hr),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){e.util.object.extend(e.StaticCanvas.prototype,{toDataURL:function(cr){cr||(cr={});var tr=cr.format||"png",hr=cr.quality||1,ur=(cr.multiplier||1)*(cr.enableRetinaScaling?this.getRetinaScaling():1),or=this.toCanvasElement(ur,cr);return e.util.toDataURL(or,tr,hr)},toCanvasElement:function(cr,tr){cr=cr||1,tr=tr||{};var hr=(tr.width||this.width)*cr,ur=(tr.height||this.height)*cr,or=this.getZoom(),nr=this.width,er=this.height,ar=or*cr,dr=this.viewportTransform,lr=(dr[4]-(tr.left||0))*cr,sr=(dr[5]-(tr.top||0))*cr,pr=this.interactive,mr=[ar,0,0,ar,lr,sr],vr=this.enableRetinaScaling,yr=e.util.createCanvasElement(),br=this.contextTop;return yr.width=hr,yr.height=ur,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=mr,this.width=hr,this.height=ur,this.calcViewportBoundaries(),this.renderCanvas(yr.getContext("2d"),this._objects),this.viewportTransform=dr,this.width=nr,this.height=er,this.calcViewportBoundaries(),this.interactive=pr,this.enableRetinaScaling=vr,this.contextTop=br,yr}})}(),e.util.object.extend(e.StaticCanvas.prototype,{loadFromJSON:function(cr,tr,hr){if(!!cr){var ur=typeof cr=="string"?JSON.parse(cr):e.util.object.clone(cr),or=this,nr=ur.clipPath,er=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete ur.clipPath,this._enlivenObjects(ur.objects,function(ar){or.clear(),or._setBgOverlay(ur,function(){nr?or._enlivenObjects([nr],function(dr){or.clipPath=dr[0],or.__setupCanvas.call(or,ur,ar,er,tr)}):or.__setupCanvas.call(or,ur,ar,er,tr)})},hr),this}},__setupCanvas:function(cr,tr,hr,ur){var or=this;tr.forEach(function(nr,er){or.insertAt(nr,er)}),this.renderOnAddRemove=hr,delete cr.objects,delete cr.backgroundImage,delete cr.overlayImage,delete cr.background,delete cr.overlay,this._setOptions(cr),this.renderAll(),ur&&ur()},_setBgOverlay:function(cr,tr){var hr={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!cr.backgroundImage&&!cr.overlayImage&&!cr.background&&!cr.overlay){tr&&tr();return}var ur=function(){hr.backgroundImage&&hr.overlayImage&&hr.backgroundColor&&hr.overlayColor&&tr&&tr()};this.__setBgOverlay("backgroundImage",cr.backgroundImage,hr,ur),this.__setBgOverlay("overlayImage",cr.overlayImage,hr,ur),this.__setBgOverlay("backgroundColor",cr.background,hr,ur),this.__setBgOverlay("overlayColor",cr.overlay,hr,ur)},__setBgOverlay:function(cr,tr,hr,ur){var or=this;if(!tr){hr[cr]=!0,ur&&ur();return}cr==="backgroundImage"||cr==="overlayImage"?e.util.enlivenObjects([tr],function(nr){or[cr]=nr[0],hr[cr]=!0,ur&&ur()}):this["set"+e.util.string.capitalize(cr,!0)](tr,function(){hr[cr]=!0,ur&&ur()})},_enlivenObjects:function(cr,tr,hr){if(!cr||cr.length===0){tr&&tr([]);return}e.util.enlivenObjects(cr,function(ur){tr&&tr(ur)},null,hr)},_toDataURL:function(cr,tr){this.clone(function(hr){tr(hr.toDataURL(cr))})},_toDataURLWithMultiplier:function(cr,tr,hr){this.clone(function(ur){hr(ur.toDataURLWithMultiplier(cr,tr))})},clone:function(cr,tr){var hr=JSON.stringify(this.toJSON(tr));this.cloneWithoutData(function(ur){ur.loadFromJSON(hr,function(){cr&&cr(ur)})})},cloneWithoutData:function(cr){var tr=e.util.createCanvasElement();tr.width=this.width,tr.height=this.height;var hr=new e.Canvas(tr);this.backgroundImage?(hr.setBackgroundImage(this.backgroundImage.src,function(){hr.renderAll(),cr&&cr(hr)}),hr.backgroundImageOpacity=this.backgroundImageOpacity,hr.backgroundImageStretch=this.backgroundImageStretch):cr&&cr(hr)}}),function(cr){var tr=cr.fabric||(cr.fabric={}),hr=tr.util.object.extend,ur=tr.util.object.clone,or=tr.util.toFixed,nr=tr.util.string.capitalize,er=tr.util.degreesToRadians,ar=!tr.isLikelyNode,dr=2;tr.Object||(tr.Object=tr.util.createClass(tr.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:ar,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(lr){lr&&this.setOptions(lr)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=tr.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(lr){var sr=tr.perfLimitSizeTotal,pr=lr.width,mr=lr.height,vr=tr.maxCacheSideLimit,yr=tr.minCacheSideLimit;if(pr<=vr&&mr<=vr&&pr*mr<=sr)return pr<yr&&(lr.width=yr),mr<yr&&(lr.height=yr),lr;var br=pr/mr,_r=tr.util.limitDimsByArea(br,sr),xr=tr.util.capValue,Nr=xr(yr,_r.x,vr),zr=xr(yr,_r.y,vr);return pr>Nr&&(lr.zoomX/=pr/Nr,lr.width=Nr,lr.capped=!0),mr>zr&&(lr.zoomY/=mr/zr,lr.height=zr,lr.capped=!0),lr},_getCacheCanvasDimensions:function(){var lr=this.getTotalObjectScaling(),sr=this._getTransformedDimensions(0,0),pr=sr.x*lr.scaleX/this.scaleX,mr=sr.y*lr.scaleY/this.scaleY;return{width:pr+dr,height:mr+dr,zoomX:lr.scaleX,zoomY:lr.scaleY,x:pr,y:mr}},_updateCacheCanvas:function(){var lr=this.canvas;if(this.noScaleCache&&lr&&lr._currentTransform){var sr=lr._currentTransform.target,pr=lr._currentTransform.action;if(this===sr&&pr.slice&&pr.slice(0,5)==="scale")return!1}var mr=this._cacheCanvas,vr=this._limitCacheSize(this._getCacheCanvasDimensions()),yr=tr.minCacheSideLimit,br=vr.width,_r=vr.height,xr,Nr,zr=vr.zoomX,Tr=vr.zoomY,Br=br!==this.cacheWidth||_r!==this.cacheHeight,Jr=this.zoomX!==zr||this.zoomY!==Tr,Yr=Br||Jr,Xr=0,Vr=0,$r=!1;if(Br){var Lr=this._cacheCanvas.width,Er=this._cacheCanvas.height,Hr=br>Lr||_r>Er,Gr=(br<Lr*.9||_r<Er*.9)&&Lr>yr&&Er>yr;$r=Hr||Gr,Hr&&!vr.capped&&(br>yr||_r>yr)&&(Xr=br*.1,Vr=_r*.1)}return this instanceof tr.Text&&this.path&&(Yr=!0,$r=!0,Xr+=this.getHeightOfLine(0)*this.zoomX,Vr+=this.getHeightOfLine(0)*this.zoomY),Yr?($r?(mr.width=Math.ceil(br+Xr),mr.height=Math.ceil(_r+Vr)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,mr.width,mr.height)),xr=vr.x/2,Nr=vr.y/2,this.cacheTranslationX=Math.round(mr.width/2-xr)+xr,this.cacheTranslationY=Math.round(mr.height/2-Nr)+Nr,this.cacheWidth=br,this.cacheHeight=_r,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(zr,Tr),this.zoomX=zr,this.zoomY=Tr,!0):!1},setOptions:function(lr){this._setOptions(lr),this._initGradient(lr.fill,"fill"),this._initGradient(lr.stroke,"stroke"),this._initPattern(lr.fill,"fill"),this._initPattern(lr.stroke,"stroke")},transform:function(lr){var sr=this.group&&!this.group._transformDone||this.group&&this.canvas&&lr===this.canvas.contextTop,pr=this.calcTransformMatrix(!sr);lr.transform(pr[0],pr[1],pr[2],pr[3],pr[4],pr[5])},toObject:function(lr){var sr=tr.Object.NUM_FRACTION_DIGITS,pr={type:this.type,version:tr.version,originX:this.originX,originY:this.originY,left:or(this.left,sr),top:or(this.top,sr),width:or(this.width,sr),height:or(this.height,sr),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:or(this.strokeWidth,sr),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:or(this.strokeMiterLimit,sr),scaleX:or(this.scaleX,sr),scaleY:or(this.scaleY,sr),angle:or(this.angle,sr),flipX:this.flipX,flipY:this.flipY,opacity:or(this.opacity,sr),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:or(this.skewX,sr),skewY:or(this.skewY,sr)};return this.clipPath&&!this.clipPath.excludeFromExport&&(pr.clipPath=this.clipPath.toObject(lr),pr.clipPath.inverted=this.clipPath.inverted,pr.clipPath.absolutePositioned=this.clipPath.absolutePositioned),tr.util.populateWithProperties(this,pr,lr),this.includeDefaultValues||(pr=this._removeDefaultValues(pr)),pr},toDatalessObject:function(lr){return this.toObject(lr)},_removeDefaultValues:function(lr){var sr=tr.util.getKlass(lr.type).prototype,pr=sr.stateProperties;return pr.forEach(function(mr){mr==="left"||mr==="top"||(lr[mr]===sr[mr]&&delete lr[mr],Array.isArray(lr[mr])&&Array.isArray(sr[mr])&&lr[mr].length===0&&sr[mr].length===0&&delete lr[mr])}),lr},toString:function(){return"#<fabric."+nr(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var lr=tr.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(lr.scaleX),scaleY:Math.abs(lr.scaleY)}},getTotalObjectScaling:function(){var lr=this.getObjectScaling(),sr=lr.scaleX,pr=lr.scaleY;if(this.canvas){var mr=this.canvas.getZoom(),vr=this.canvas.getRetinaScaling();sr*=mr*vr,pr*=mr*vr}return{scaleX:sr,scaleY:pr}},getObjectOpacity:function(){var lr=this.opacity;return this.group&&(lr*=this.group.getObjectOpacity()),lr},_set:function(lr,sr){var pr=lr==="scaleX"||lr==="scaleY",mr=this[lr]!==sr,vr=!1;return pr&&(sr=this._constrainScale(sr)),lr==="scaleX"&&sr<0?(this.flipX=!this.flipX,sr*=-1):lr==="scaleY"&&sr<0?(this.flipY=!this.flipY,sr*=-1):lr==="shadow"&&sr&&!(sr instanceof tr.Shadow)?sr=new tr.Shadow(sr):lr==="dirty"&&this.group&&this.group.set("dirty",sr),this[lr]=sr,mr&&(vr=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(lr)>-1?(this.dirty=!0,vr&&this.group.set("dirty",!0)):vr&&this.stateProperties.indexOf(lr)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:tr.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(lr){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(lr.save(),this._setupCompositeOperation(lr),this.drawSelectionBackground(lr),this.transform(lr),this._setOpacity(lr),this._setShadow(lr,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(lr)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(lr),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),lr.restore())},renderCache:function(lr){lr=lr||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,lr.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(lr,sr){if(lr.save(),sr.inverted?lr.globalCompositeOperation="destination-out":lr.globalCompositeOperation="destination-in",sr.absolutePositioned){var pr=tr.util.invertTransform(this.calcTransformMatrix());lr.transform(pr[0],pr[1],pr[2],pr[3],pr[4],pr[5])}sr.transform(lr),lr.scale(1/sr.zoomX,1/sr.zoomY),lr.drawImage(sr._cacheCanvas,-sr.cacheTranslationX,-sr.cacheTranslationY),lr.restore()},drawObject:function(lr,sr){var pr=this.fill,mr=this.stroke;sr?(this.fill="black",this.stroke="",this._setClippingProperties(lr)):this._renderBackground(lr),this._render(lr),this._drawClipPath(lr,this.clipPath),this.fill=pr,this.stroke=mr},_drawClipPath:function(lr,sr){!sr||(sr.canvas=this.canvas,sr.shouldCache(),sr._transformDone=!0,sr.renderCache({forClipping:!0}),this.drawClipPathOnCache(lr,sr))},drawCacheOnCanvas:function(lr){lr.scale(1/this.zoomX,1/this.zoomY),lr.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(lr){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!lr&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!lr){var sr=this.cacheWidth/this.zoomX,pr=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-sr/2,-pr/2,sr,pr)}return!0}return!1},_renderBackground:function(lr){if(!!this.backgroundColor){var sr=this._getNonTransformedDimensions();lr.fillStyle=this.backgroundColor,lr.fillRect(-sr.x/2,-sr.y/2,sr.x,sr.y),this._removeShadow(lr)}},_setOpacity:function(lr){this.group&&!this.group._transformDone?lr.globalAlpha=this.getObjectOpacity():lr.globalAlpha*=this.opacity},_setStrokeStyles:function(lr,sr){var pr=sr.stroke;pr&&(lr.lineWidth=sr.strokeWidth,lr.lineCap=sr.strokeLineCap,lr.lineDashOffset=sr.strokeDashOffset,lr.lineJoin=sr.strokeLineJoin,lr.miterLimit=sr.strokeMiterLimit,pr.toLive?pr.gradientUnits==="percentage"||pr.gradientTransform||pr.patternTransform?this._applyPatternForTransformedGradient(lr,pr):(lr.strokeStyle=pr.toLive(lr,this),this._applyPatternGradientTransform(lr,pr)):lr.strokeStyle=sr.stroke)},_setFillStyles:function(lr,sr){var pr=sr.fill;pr&&(pr.toLive?(lr.fillStyle=pr.toLive(lr,this),this._applyPatternGradientTransform(lr,sr.fill)):lr.fillStyle=pr)},_setClippingProperties:function(lr){lr.globalAlpha=1,lr.strokeStyle="transparent",lr.fillStyle="#000000"},_setLineDash:function(lr,sr){!sr||sr.length===0||(1&sr.length&&sr.push.apply(sr,sr),lr.setLineDash(sr))},_renderControls:function(lr,sr){var pr=this.getViewportTransform(),mr=this.calcTransformMatrix(),vr,yr,br;sr=sr||{},yr=typeof sr.hasBorders<"u"?sr.hasBorders:this.hasBorders,br=typeof sr.hasControls<"u"?sr.hasControls:this.hasControls,mr=tr.util.multiplyTransformMatrices(pr,mr),vr=tr.util.qrDecompose(mr),lr.save(),lr.translate(vr.translateX,vr.translateY),lr.lineWidth=1*this.borderScaleFactor,this.group||(lr.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(vr.angle-=180),lr.rotate(er(this.group?vr.angle:this.angle)),sr.forActiveSelection||this.group?yr&&this.drawBordersInGroup(lr,vr,sr):yr&&this.drawBorders(lr,sr),br&&this.drawControls(lr,sr),lr.restore()},_setShadow:function(lr){if(!!this.shadow){var sr=this.shadow,pr=this.canvas,mr,vr=pr&&pr.viewportTransform[0]||1,yr=pr&&pr.viewportTransform[3]||1;sr.nonScaling?mr={scaleX:1,scaleY:1}:mr=this.getObjectScaling(),pr&&pr._isRetinaScaling()&&(vr*=tr.devicePixelRatio,yr*=tr.devicePixelRatio),lr.shadowColor=sr.color,lr.shadowBlur=sr.blur*tr.browserShadowBlurConstant*(vr+yr)*(mr.scaleX+mr.scaleY)/4,lr.shadowOffsetX=sr.offsetX*vr*mr.scaleX,lr.shadowOffsetY=sr.offsetY*yr*mr.scaleY}},_removeShadow:function(lr){!this.shadow||(lr.shadowColor="",lr.shadowBlur=lr.shadowOffsetX=lr.shadowOffsetY=0)},_applyPatternGradientTransform:function(lr,sr){if(!sr||!sr.toLive)return{offsetX:0,offsetY:0};var pr=sr.gradientTransform||sr.patternTransform,mr=-this.width/2+sr.offsetX||0,vr=-this.height/2+sr.offsetY||0;return sr.gradientUnits==="percentage"?lr.transform(this.width,0,0,this.height,mr,vr):lr.transform(1,0,0,1,mr,vr),pr&&lr.transform(pr[0],pr[1],pr[2],pr[3],pr[4],pr[5]),{offsetX:mr,offsetY:vr}},_renderPaintInOrder:function(lr){this.paintFirst==="stroke"?(this._renderStroke(lr),this._renderFill(lr)):(this._renderFill(lr),this._renderStroke(lr))},_render:function(){},_renderFill:function(lr){!this.fill||(lr.save(),this._setFillStyles(lr,this),this.fillRule==="evenodd"?lr.fill("evenodd"):lr.fill(),lr.restore())},_renderStroke:function(lr){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(lr),lr.save(),this.strokeUniform&&this.group){var sr=this.getObjectScaling();lr.scale(1/sr.scaleX,1/sr.scaleY)}else this.strokeUniform&&lr.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(lr,this.strokeDashArray),this._setStrokeStyles(lr,this),lr.stroke(),lr.restore()}},_applyPatternForTransformedGradient:function(lr,sr){var pr=this._limitCacheSize(this._getCacheCanvasDimensions()),mr=tr.util.createCanvasElement(),vr,yr=this.canvas.getRetinaScaling(),br=pr.x/this.scaleX/yr,_r=pr.y/this.scaleY/yr;mr.width=br,mr.height=_r,vr=mr.getContext("2d"),vr.beginPath(),vr.moveTo(0,0),vr.lineTo(br,0),vr.lineTo(br,_r),vr.lineTo(0,_r),vr.closePath(),vr.translate(br/2,_r/2),vr.scale(pr.zoomX/this.scaleX/yr,pr.zoomY/this.scaleY/yr),this._applyPatternGradientTransform(vr,sr),vr.fillStyle=sr.toLive(lr),vr.fill(),lr.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),lr.scale(yr*this.scaleX/pr.zoomX,yr*this.scaleY/pr.zoomY),lr.strokeStyle=vr.createPattern(mr,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var lr=tr.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",lr.scaleX),this.set("scaleY",lr.scaleY),this.angle=lr.angle,this.skewX=lr.skewX,this.skewY=0}},_removeTransformMatrix:function(lr){var sr=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),sr=tr.util.transformPoint(sr,this.transformMatrix)),this.transformMatrix=null,lr&&(this.scaleX*=lr.scaleX,this.scaleY*=lr.scaleY,this.cropX=lr.cropX,this.cropY=lr.cropY,sr.x+=lr.offsetLeft,sr.y+=lr.offsetTop,this.width=lr.width,this.height=lr.height),this.setPositionByOrigin(sr,"center","center")},clone:function(lr,sr){var pr=this.toObject(sr);this.constructor.fromObject?this.constructor.fromObject(pr,lr):tr.Object._fromObject("Object",pr,lr)},cloneAsImage:function(lr,sr){var pr=this.toCanvasElement(sr);return lr&&lr(new tr.Image(pr)),this},toCanvasElement:function(lr){lr||(lr={});var sr=tr.util,pr=sr.saveObjectTransform(this),mr=this.group,vr=this.shadow,yr=Math.abs,br=(lr.multiplier||1)*(lr.enableRetinaScaling?tr.devicePixelRatio:1);delete this.group,lr.withoutTransform&&sr.resetObjectTransform(this),lr.withoutShadow&&(this.shadow=null);var _r=tr.util.createCanvasElement(),xr=this.getBoundingRect(!0,!0),Nr=this.shadow,zr,Tr={x:0,y:0},Br,Jr,Yr;Nr&&(Br=Nr.blur,Nr.nonScaling?zr={scaleX:1,scaleY:1}:zr=this.getObjectScaling(),Tr.x=2*Math.round(yr(Nr.offsetX)+Br)*yr(zr.scaleX),Tr.y=2*Math.round(yr(Nr.offsetY)+Br)*yr(zr.scaleY)),Jr=xr.width+Tr.x,Yr=xr.height+Tr.y,_r.width=Math.ceil(Jr),_r.height=Math.ceil(Yr);var Xr=new tr.StaticCanvas(_r,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});lr.format==="jpeg"&&(Xr.backgroundColor="#fff"),this.setPositionByOrigin(new tr.Point(Xr.width/2,Xr.height/2),"center","center");var Vr=this.canvas;Xr.add(this);var $r=Xr.toCanvasElement(br||1,lr);return this.shadow=vr,this.set("canvas",Vr),mr&&(this.group=mr),this.set(pr).setCoords(),Xr._objects=[],Xr.dispose(),Xr=null,$r},toDataURL:function(lr){return lr||(lr={}),tr.util.toDataURL(this.toCanvasElement(lr),lr.format||"png",lr.quality||1)},isType:function(lr){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===lr},complexity:function(){return 1},toJSON:function(lr){return this.toObject(lr)},rotate:function(lr){var sr=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return sr&&this._setOriginToCenter(),this.set("angle",lr),sr&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(lr,sr){sr=sr||this.canvas.getPointer(lr);var pr=new tr.Point(sr.x,sr.y),mr=this._getLeftTopCoords();return this.angle&&(pr=tr.util.rotatePoint(pr,mr,er(-this.angle))),{x:pr.x-mr.x,y:pr.y-mr.y}},_setupCompositeOperation:function(lr){this.globalCompositeOperation&&(lr.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){tr.runningAnimations&&tr.runningAnimations.cancelByTarget(this)}}),tr.util.createAccessors&&tr.util.createAccessors(tr.Object),hr(tr.Object.prototype,tr.Observable),tr.Object.NUM_FRACTION_DIGITS=2,tr.Object.ENLIVEN_PROPS=["clipPath"],tr.Object._fromObject=function(lr,sr,pr,mr){var vr=tr[lr];sr=ur(sr,!0),tr.util.enlivenPatterns([sr.fill,sr.stroke],function(yr){typeof yr[0]<"u"&&(sr.fill=yr[0]),typeof yr[1]<"u"&&(sr.stroke=yr[1]),tr.util.enlivenObjectEnlivables(sr,sr,function(){var br=mr?new vr(sr[mr],sr):new vr(sr);pr&&pr(br)})})},tr.Object.__uid=0)}(St),function(){var cr=e.util.degreesToRadians,tr={left:-.5,center:0,right:.5},hr={top:-.5,center:0,bottom:.5};e.util.object.extend(e.Object.prototype,{translateToGivenOrigin:function(ur,or,nr,er,ar){var dr=ur.x,lr=ur.y,sr,pr,mr;return typeof or=="string"?or=tr[or]:or-=.5,typeof er=="string"?er=tr[er]:er-=.5,sr=er-or,typeof nr=="string"?nr=hr[nr]:nr-=.5,typeof ar=="string"?ar=hr[ar]:ar-=.5,pr=ar-nr,(sr||pr)&&(mr=this._getTransformedDimensions(),dr=ur.x+sr*mr.x,lr=ur.y+pr*mr.y),new e.Point(dr,lr)},translateToCenterPoint:function(ur,or,nr){var er=this.translateToGivenOrigin(ur,or,nr,"center","center");return this.angle?e.util.rotatePoint(er,ur,cr(this.angle)):er},translateToOriginPoint:function(ur,or,nr){var er=this.translateToGivenOrigin(ur,"center","center",or,nr);return this.angle?e.util.rotatePoint(er,ur,cr(this.angle)):er},getCenterPoint:function(){var ur=new e.Point(this.left,this.top);return this.translateToCenterPoint(ur,this.originX,this.originY)},getPointByOrigin:function(ur,or){var nr=this.getCenterPoint();return this.translateToOriginPoint(nr,ur,or)},toLocalPoint:function(ur,or,nr){var er=this.getCenterPoint(),ar,dr;return typeof or<"u"&&typeof nr<"u"?ar=this.translateToGivenOrigin(er,"center","center",or,nr):ar=new e.Point(this.left,this.top),dr=new e.Point(ur.x,ur.y),this.angle&&(dr=e.util.rotatePoint(dr,er,-cr(this.angle))),dr.subtractEquals(ar)},setPositionByOrigin:function(ur,or,nr){var er=this.translateToCenterPoint(ur,or,nr),ar=this.translateToOriginPoint(er,this.originX,this.originY);this.set("left",ar.x),this.set("top",ar.y)},adjustPosition:function(ur){var or=cr(this.angle),nr=this.getScaledWidth(),er=e.util.cos(or)*nr,ar=e.util.sin(or)*nr,dr,lr;typeof this.originX=="string"?dr=tr[this.originX]:dr=this.originX-.5,typeof ur=="string"?lr=tr[ur]:lr=ur-.5,this.left+=er*(lr-dr),this.top+=ar*(lr-dr),this.setCoords(),this.originX=ur},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var ur=this.getCenterPoint();this.originX="center",this.originY="center",this.left=ur.x,this.top=ur.y},_resetOrigin:function(){var ur=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=ur.x,this.top=ur.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function cr(nr){return[new e.Point(nr.tl.x,nr.tl.y),new e.Point(nr.tr.x,nr.tr.y),new e.Point(nr.br.x,nr.br.y),new e.Point(nr.bl.x,nr.bl.y)]}var tr=e.util,hr=tr.degreesToRadians,ur=tr.multiplyTransformMatrices,or=tr.transformPoint;tr.object.extend(e.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(nr,er){return er?nr?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),nr?this.aCoords:this.lineCoords)},getCoords:function(nr,er){return cr(this._getCoords(nr,er))},intersectsWithRect:function(nr,er,ar,dr){var lr=this.getCoords(ar,dr),sr=e.Intersection.intersectPolygonRectangle(lr,nr,er);return sr.status==="Intersection"},intersectsWithObject:function(nr,er,ar){var dr=e.Intersection.intersectPolygonPolygon(this.getCoords(er,ar),nr.getCoords(er,ar));return dr.status==="Intersection"||nr.isContainedWithinObject(this,er,ar)||this.isContainedWithinObject(nr,er,ar)},isContainedWithinObject:function(nr,er,ar){for(var dr=this.getCoords(er,ar),lr=er?nr.aCoords:nr.lineCoords,sr=0,pr=nr._getImageLines(lr);sr<4;sr++)if(!nr.containsPoint(dr[sr],pr))return!1;return!0},isContainedWithinRect:function(nr,er,ar,dr){var lr=this.getBoundingRect(ar,dr);return lr.left>=nr.x&&lr.left+lr.width<=er.x&&lr.top>=nr.y&&lr.top+lr.height<=er.y},containsPoint:function(nr,sr,ar,dr){var lr=this._getCoords(ar,dr),sr=sr||this._getImageLines(lr),pr=this._findCrossPoints(nr,sr);return pr!==0&&pr%2===1},isOnScreen:function(nr){if(!this.canvas)return!1;var er=this.canvas.vptCoords.tl,ar=this.canvas.vptCoords.br,dr=this.getCoords(!0,nr);return dr.some(function(lr){return lr.x<=ar.x&&lr.x>=er.x&&lr.y<=ar.y&&lr.y>=er.y})||this.intersectsWithRect(er,ar,!0,nr)?!0:this._containsCenterOfCanvas(er,ar,nr)},_containsCenterOfCanvas:function(nr,er,ar){var dr={x:(nr.x+er.x)/2,y:(nr.y+er.y)/2};return!!this.containsPoint(dr,null,!0,ar)},isPartiallyOnScreen:function(nr){if(!this.canvas)return!1;var er=this.canvas.vptCoords.tl,ar=this.canvas.vptCoords.br;if(this.intersectsWithRect(er,ar,!0,nr))return!0;var dr=this.getCoords(!0,nr).every(function(lr){return(lr.x>=ar.x||lr.x<=er.x)&&(lr.y>=ar.y||lr.y<=er.y)});return dr&&this._containsCenterOfCanvas(er,ar,nr)},_getImageLines:function(nr){var er={topline:{o:nr.tl,d:nr.tr},rightline:{o:nr.tr,d:nr.br},bottomline:{o:nr.br,d:nr.bl},leftline:{o:nr.bl,d:nr.tl}};return er},_findCrossPoints:function(nr,er){var ar,dr,lr,sr,pr,mr=0,vr;for(var yr in er)if(vr=er[yr],!(vr.o.y<nr.y&&vr.d.y<nr.y)&&!(vr.o.y>=nr.y&&vr.d.y>=nr.y)&&(vr.o.x===vr.d.x&&vr.o.x>=nr.x?pr=vr.o.x:(ar=0,dr=(vr.d.y-vr.o.y)/(vr.d.x-vr.o.x),lr=nr.y-ar*nr.x,sr=vr.o.y-dr*vr.o.x,pr=-(lr-sr)/(ar-dr)),pr>=nr.x&&(mr+=1),mr===2))break;return mr},getBoundingRect:function(nr,er){var ar=this.getCoords(nr,er);return tr.makeBoundingBoxFromPoints(ar)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(nr){return Math.abs(nr)<this.minScaleLimit?nr<0?-this.minScaleLimit:this.minScaleLimit:nr===0?1e-4:nr},scale:function(nr){return this._set("scaleX",nr),this._set("scaleY",nr),this.setCoords()},scaleToWidth:function(nr,er){var ar=this.getBoundingRect(er).width/this.getScaledWidth();return this.scale(nr/this.width/ar)},scaleToHeight:function(nr,er){var ar=this.getBoundingRect(er).height/this.getScaledHeight();return this.scale(nr/this.height/ar)},calcLineCoords:function(){var nr=this.getViewportTransform(),er=this.padding,ar=hr(this.angle),dr=tr.cos(ar),lr=tr.sin(ar),sr=dr*er,pr=lr*er,mr=sr+pr,vr=sr-pr,yr=this.calcACoords(),br={tl:or(yr.tl,nr),tr:or(yr.tr,nr),bl:or(yr.bl,nr),br:or(yr.br,nr)};return er&&(br.tl.x-=vr,br.tl.y-=mr,br.tr.x+=mr,br.tr.y-=vr,br.bl.x-=mr,br.bl.y+=vr,br.br.x+=vr,br.br.y+=mr),br},calcOCoords:function(){var nr=this._calcRotateMatrix(),er=this._calcTranslateMatrix(),ar=this.getViewportTransform(),dr=ur(ar,er),lr=ur(dr,nr),lr=ur(lr,[1/ar[0],0,0,1/ar[3],0,0]),sr=this._calculateCurrentDimensions(),pr={};return this.forEachControl(function(mr,vr,yr){pr[vr]=mr.positionHandler(sr,lr,yr)}),pr},calcACoords:function(){var nr=this._calcRotateMatrix(),er=this._calcTranslateMatrix(),ar=ur(er,nr),dr=this._getTransformedDimensions(),lr=dr.x/2,sr=dr.y/2;return{tl:or({x:-lr,y:-sr},ar),tr:or({x:lr,y:-sr},ar),bl:or({x:-lr,y:sr},ar),br:or({x:lr,y:sr},ar)}},setCoords:function(nr){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),nr?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return tr.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var nr=this.getCenterPoint();return[1,0,0,1,nr.x,nr.y]},transformMatrixKey:function(nr){var er="_",ar="";return!nr&&this.group&&(ar=this.group.transformMatrixKey(nr)+er),ar+this.top+er+this.left+er+this.scaleX+er+this.scaleY+er+this.skewX+er+this.skewY+er+this.angle+er+this.originX+er+this.originY+er+this.width+er+this.height+er+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(nr){var er=this.calcOwnMatrix();if(nr||!this.group)return er;var ar=this.transformMatrixKey(nr),dr=this.matrixCache||(this.matrixCache={});return dr.key===ar?dr.value:(this.group&&(er=ur(this.group.calcTransformMatrix(!1),er)),dr.key=ar,dr.value=er,er)},calcOwnMatrix:function(){var nr=this.transformMatrixKey(!0),er=this.ownMatrixCache||(this.ownMatrixCache={});if(er.key===nr)return er.value;var ar=this._calcTranslateMatrix(),dr={angle:this.angle,translateX:ar[4],translateY:ar[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return er.key=nr,er.value=tr.composeMatrix(dr),er.value},_getNonTransformedDimensions:function(){var nr=this.strokeWidth,er=this.width+nr,ar=this.height+nr;return{x:er,y:ar}},_getTransformedDimensions:function(nr,er){typeof nr>"u"&&(nr=this.skewX),typeof er>"u"&&(er=this.skewY);var ar,dr,lr,sr=nr===0&&er===0;if(this.strokeUniform?(dr=this.width,lr=this.height):(ar=this._getNonTransformedDimensions(),dr=ar.x,lr=ar.y),sr)return this._finalizeDimensions(dr*this.scaleX,lr*this.scaleY);var pr=tr.sizeAfterTransform(dr,lr,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:nr,skewY:er});return this._finalizeDimensions(pr.x,pr.y)},_finalizeDimensions:function(nr,er){return this.strokeUniform?{x:nr+this.strokeWidth,y:er+this.strokeWidth}:{x:nr,y:er}},_calculateCurrentDimensions:function(){var nr=this.getViewportTransform(),er=this._getTransformedDimensions(),ar=or(er,nr,!0);return ar.scalarAdd(2*this.padding)}})}(),e.util.object.extend(e.Object.prototype,{sendToBack:function(){return this.group?e.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?e.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(cr){return this.group?e.StaticCanvas.prototype.sendBackwards.call(this.group,this,cr):this.canvas&&this.canvas.sendBackwards(this,cr),this},bringForward:function(cr){return this.group?e.StaticCanvas.prototype.bringForward.call(this.group,this,cr):this.canvas&&this.canvas.bringForward(this,cr),this},moveTo:function(cr){return this.group&&this.group.type!=="activeSelection"?e.StaticCanvas.prototype.moveTo.call(this.group,this,cr):this.canvas&&this.canvas.moveTo(this,cr),this}}),function(){function cr(hr,ur){if(ur){if(ur.toLive)return hr+": url(#SVGID_"+ur.id+"); ";var or=new e.Color(ur),nr=hr+": "+or.toRgb()+"; ",er=or.getAlpha();return er!==1&&(nr+=hr+"-opacity: "+er.toString()+"; "),nr}else return hr+": none; "}var tr=e.util.toFixed;e.util.object.extend(e.Object.prototype,{getSvgStyles:function(hr){var ur=this.fillRule?this.fillRule:"nonzero",or=this.strokeWidth?this.strokeWidth:"0",nr=this.strokeDashArray?this.strokeDashArray.join(" "):"none",er=this.strokeDashOffset?this.strokeDashOffset:"0",ar=this.strokeLineCap?this.strokeLineCap:"butt",dr=this.strokeLineJoin?this.strokeLineJoin:"miter",lr=this.strokeMiterLimit?this.strokeMiterLimit:"4",sr=typeof this.opacity<"u"?this.opacity:"1",pr=this.visible?"":" visibility: hidden;",mr=hr?"":this.getSvgFilter(),vr=cr("fill",this.fill),yr=cr("stroke",this.stroke);return[yr,"stroke-width: ",or,"; ","stroke-dasharray: ",nr,"; ","stroke-linecap: ",ar,"; ","stroke-dashoffset: ",er,"; ","stroke-linejoin: ",dr,"; ","stroke-miterlimit: ",lr,"; ",vr,"fill-rule: ",ur,"; ","opacity: ",sr,";",mr,pr].join("")},getSvgSpanStyles:function(hr,ur){var or="; ",er=hr.fontFamily?"font-family: "+(hr.fontFamily.indexOf("'")===-1&&hr.fontFamily.indexOf('"')===-1?"'"+hr.fontFamily+"'":hr.fontFamily)+or:"",nr=hr.strokeWidth?"stroke-width: "+hr.strokeWidth+or:"",er=er,ar=hr.fontSize?"font-size: "+hr.fontSize+"px"+or:"",dr=hr.fontStyle?"font-style: "+hr.fontStyle+or:"",lr=hr.fontWeight?"font-weight: "+hr.fontWeight+or:"",sr=hr.fill?cr("fill",hr.fill):"",pr=hr.stroke?cr("stroke",hr.stroke):"",mr=this.getSvgTextDecoration(hr),vr=hr.deltaY?"baseline-shift: "+-hr.deltaY+"; ":"";return mr&&(mr="text-decoration: "+mr+or),[pr,nr,er,ar,dr,lr,mr,sr,vr,ur?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(hr){return["overline","underline","line-through"].filter(function(ur){return hr[ur.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(hr,ur){var or=hr?this.calcTransformMatrix():this.calcOwnMatrix(),nr='transform="'+e.util.matrixToSVG(or);return nr+(ur||"")+'" '},_setSVGBg:function(hr){if(this.backgroundColor){var ur=e.Object.NUM_FRACTION_DIGITS;hr.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',tr(-this.width/2,ur),'" y="',tr(-this.height/2,ur),'" width="',tr(this.width,ur),'" height="',tr(this.height,ur),`"></rect>
`)}},toSVG:function(hr){return this._createBaseSVGMarkup(this._toSVG(hr),{reviver:hr})},toClipPathSVG:function(hr){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(hr),{reviver:hr})},_createBaseClipPathSVGMarkup:function(hr,ur){ur=ur||{};var or=ur.reviver,nr=ur.additionalTransform||"",er=[this.getSvgTransform(!0,nr),this.getSvgCommons()].join(""),ar=hr.indexOf("COMMON_PARTS");return hr[ar]=er,or?or(hr.join("")):hr.join("")},_createBaseSVGMarkup:function(hr,ur){ur=ur||{};var or=ur.noStyle,nr=ur.reviver,er=or?"":'style="'+this.getSvgStyles()+'" ',ar=ur.withShadow?'style="'+this.getSvgFilter()+'" ':"",dr=this.clipPath,lr=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",sr=dr&&dr.absolutePositioned,pr=this.stroke,mr=this.fill,vr=this.shadow,yr,br=[],_r,xr=hr.indexOf("COMMON_PARTS"),Nr=ur.additionalTransform;return dr&&(dr.clipPathId="CLIPPATH_"+e.Object.__uid++,_r='<clipPath id="'+dr.clipPathId+`" >
`+dr.toClipPathSVG(nr)+`</clipPath>
`),sr&&br.push("<g ",ar,this.getSvgCommons(),` >
`),br.push("<g ",this.getSvgTransform(!1),sr?"":ar+this.getSvgCommons(),` >
`),yr=[er,lr,or?"":this.addPaintOrder()," ",Nr?'transform="'+Nr+'" ':""].join(""),hr[xr]=yr,mr&&mr.toLive&&br.push(mr.toSVG(this)),pr&&pr.toLive&&br.push(pr.toSVG(this)),vr&&br.push(vr.toSVG(this)),dr&&br.push(_r),br.push(hr.join("")),br.push(`</g>
`),sr&&br.push(`</g>
`),nr?nr(br.join("")):br.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var cr=e.util.object.extend,tr="stateProperties";function hr(or,nr,er){var ar={},dr=!0;er.forEach(function(lr){ar[lr]=or[lr]}),cr(or[nr],ar,dr)}function ur(or,nr,er){if(or===nr)return!0;if(Array.isArray(or)){if(!Array.isArray(nr)||or.length!==nr.length)return!1;for(var ar=0,dr=or.length;ar<dr;ar++)if(!ur(or[ar],nr[ar]))return!1;return!0}else if(or&&typeof or=="object"){var lr=Object.keys(or),sr;if(!nr||typeof nr!="object"||!er&&lr.length!==Object.keys(nr).length)return!1;for(var ar=0,dr=lr.length;ar<dr;ar++)if(sr=lr[ar],!(sr==="canvas"||sr==="group")&&!ur(or[sr],nr[sr]))return!1;return!0}}e.util.object.extend(e.Object.prototype,{hasStateChanged:function(or){or=or||tr;var nr="_"+or;return Object.keys(this[nr]).length<this[or].length?!0:!ur(this[nr],this,!0)},saveState:function(or){var nr=or&&or.propertySet||tr,er="_"+nr;return this[er]?(hr(this,er,this[nr]),or&&or.stateProperties&&hr(this,er,or.stateProperties),this):this.setupState(or)},setupState:function(or){or=or||{};var nr=or.propertySet||tr;return or.propertySet=nr,this["_"+nr]={},this.saveState(or),this}})}(),function(){var cr=e.util.degreesToRadians;e.util.object.extend(e.Object.prototype,{_findTargetCorner:function(tr,hr){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var ur=tr.x,or=tr.y,nr,er,ar=Object.keys(this.oCoords),dr=ar.length-1,lr;for(this.__corner=0;dr>=0;dr--)if(lr=ar[dr],!!this.isControlVisible(lr)&&(er=this._getImageLines(hr?this.oCoords[lr].touchCorner:this.oCoords[lr].corner),nr=this._findCrossPoints({x:ur,y:or},er),nr!==0&&nr%2===1))return this.__corner=lr,lr;return!1},forEachControl:function(tr){for(var hr in this.controls)tr(this.controls[hr],hr,this)},_setCornerCoords:function(){var tr=this.oCoords;for(var hr in tr){var ur=this.controls[hr];tr[hr].corner=ur.calcCornerCoords(this.angle,this.cornerSize,tr[hr].x,tr[hr].y,!1),tr[hr].touchCorner=ur.calcCornerCoords(this.angle,this.touchCornerSize,tr[hr].x,tr[hr].y,!0)}},drawSelectionBackground:function(tr){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;tr.save();var hr=this.getCenterPoint(),ur=this._calculateCurrentDimensions(),or=this.canvas.viewportTransform;return tr.translate(hr.x,hr.y),tr.scale(1/or[0],1/or[3]),tr.rotate(cr(this.angle)),tr.fillStyle=this.selectionBackgroundColor,tr.fillRect(-ur.x/2,-ur.y/2,ur.x,ur.y),tr.restore(),this},drawBorders:function(tr,hr){hr=hr||{};var ur=this._calculateCurrentDimensions(),or=this.borderScaleFactor,nr=ur.x+or,er=ur.y+or,ar=typeof hr.hasControls<"u"?hr.hasControls:this.hasControls,dr=!1;return tr.save(),tr.strokeStyle=hr.borderColor||this.borderColor,this._setLineDash(tr,hr.borderDashArray||this.borderDashArray),tr.strokeRect(-nr/2,-er/2,nr,er),ar&&(tr.beginPath(),this.forEachControl(function(lr,sr,pr){lr.withConnection&&lr.getVisibility(pr,sr)&&(dr=!0,tr.moveTo(lr.x*nr,lr.y*er),tr.lineTo(lr.x*nr+lr.offsetX,lr.y*er+lr.offsetY))}),dr&&tr.stroke()),tr.restore(),this},drawBordersInGroup:function(tr,hr,ur){ur=ur||{};var or=e.util.sizeAfterTransform(this.width,this.height,hr),nr=this.strokeWidth,er=this.strokeUniform,ar=this.borderScaleFactor,dr=or.x+nr*(er?this.canvas.getZoom():hr.scaleX)+ar,lr=or.y+nr*(er?this.canvas.getZoom():hr.scaleY)+ar;return tr.save(),this._setLineDash(tr,ur.borderDashArray||this.borderDashArray),tr.strokeStyle=ur.borderColor||this.borderColor,tr.strokeRect(-dr/2,-lr/2,dr,lr),tr.restore(),this},drawControls:function(tr,hr){hr=hr||{},tr.save();var ur=this.canvas.getRetinaScaling(),or,nr;return tr.setTransform(ur,0,0,ur,0,0),tr.strokeStyle=tr.fillStyle=hr.cornerColor||this.cornerColor,this.transparentCorners||(tr.strokeStyle=hr.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(tr,hr.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(or=this.group.calcTransformMatrix()),this.forEachControl(function(er,ar,dr){nr=dr.oCoords[ar],er.getVisibility(dr,ar)&&(or&&(nr=e.util.transformPoint(nr,or)),er.render(tr,nr.x,nr.y,hr,dr))}),tr.restore(),this},isControlVisible:function(tr){return this.controls[tr]&&this.controls[tr].getVisibility(this,tr)},setControlVisible:function(tr,hr){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[tr]=hr,this},setControlsVisibility:function(tr){tr||(tr={});for(var hr in tr)this.setControlVisible(hr,tr[hr]);return this},onDeselect:function(){},onSelect:function(){}})}(),e.util.object.extend(e.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(cr,tr){tr=tr||{};var hr=function(){},ur=tr.onComplete||hr,or=tr.onChange||hr,nr=this;return e.util.animate({target:this,startValue:cr.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(er){cr.set("left",er),nr.requestRenderAll(),or()},onComplete:function(){cr.setCoords(),ur()}})},fxCenterObjectV:function(cr,tr){tr=tr||{};var hr=function(){},ur=tr.onComplete||hr,or=tr.onChange||hr,nr=this;return e.util.animate({target:this,startValue:cr.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(er){cr.set("top",er),nr.requestRenderAll(),or()},onComplete:function(){cr.setCoords(),ur()}})},fxRemove:function(cr,tr){tr=tr||{};var hr=function(){},ur=tr.onComplete||hr,or=tr.onChange||hr,nr=this;return e.util.animate({target:this,startValue:cr.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(er){cr.set("opacity",er),nr.requestRenderAll(),or()},onComplete:function(){nr.remove(cr),ur()}})}}),e.util.object.extend(e.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var cr=[],tr,hr,ur=[];for(tr in arguments[0])cr.push(tr);for(var or=0,nr=cr.length;or<nr;or++)tr=cr[or],hr=or!==nr-1,ur.push(this._animate(tr,arguments[0][tr],arguments[1],hr));return ur}else return this._animate.apply(this,arguments)},_animate:function(cr,tr,hr,ur){var or=this,nr;tr=tr.toString(),hr?hr=e.util.object.clone(hr):hr={},~cr.indexOf(".")&&(nr=cr.split("."));var er=or.colorProperties.indexOf(cr)>-1||nr&&or.colorProperties.indexOf(nr[1])>-1,ar=nr?this.get(nr[0])[nr[1]]:this.get(cr);"from"in hr||(hr.from=ar),er||(~tr.indexOf("=")?tr=ar+parseFloat(tr.replace("=","")):tr=parseFloat(tr));var dr={target:this,startValue:hr.from,endValue:tr,byValue:hr.by,easing:hr.easing,duration:hr.duration,abort:hr.abort&&function(lr,sr,pr){return hr.abort.call(or,lr,sr,pr)},onChange:function(lr,sr,pr){nr?or[nr[0]][nr[1]]=lr:or.set(cr,lr),!ur&&hr.onChange&&hr.onChange(lr,sr,pr)},onComplete:function(lr,sr,pr){ur||(or.setCoords(),hr.onComplete&&hr.onComplete(lr,sr,pr))}};return er?e.util.animateColor(dr.startValue,dr.endValue,dr.duration,dr):e.util.animate(dr)}}),function(cr){var tr=cr.fabric||(cr.fabric={}),hr=tr.util.object.extend,ur=tr.util.object.clone,or={x1:1,x2:1,y1:1,y2:1};if(tr.Line){tr.warn("fabric.Line is already defined");return}tr.Line=tr.util.createClass(tr.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:tr.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(er,ar){er||(er=[0,0,0,0]),this.callSuper("initialize",ar),this.set("x1",er[0]),this.set("y1",er[1]),this.set("x2",er[2]),this.set("y2",er[3]),this._setWidthHeight(ar)},_setWidthHeight:function(er){er||(er={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in er?er.left:this._getLeftToOriginX(),this.top="top"in er?er.top:this._getTopToOriginY()},_set:function(er,ar){return this.callSuper("_set",er,ar),typeof or[er]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:nr({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:nr({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(er){er.beginPath();var ar=this.calcLinePoints();er.moveTo(ar.x1,ar.y1),er.lineTo(ar.x2,ar.y2),er.lineWidth=this.strokeWidth;var dr=er.strokeStyle;er.strokeStyle=this.stroke||er.fillStyle,this.stroke&&this._renderStroke(er),er.strokeStyle=dr},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(er){return hr(this.callSuper("toObject",er),this.calcLinePoints())},_getNonTransformedDimensions:function(){var er=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(er.y-=this.strokeWidth),this.height===0&&(er.x-=this.strokeWidth)),er},calcLinePoints:function(){var er=this.x1<=this.x2?-1:1,ar=this.y1<=this.y2?-1:1,dr=er*this.width*.5,lr=ar*this.height*.5,sr=er*this.width*-.5,pr=ar*this.height*-.5;return{x1:dr,x2:sr,y1:lr,y2:pr}},_toSVG:function(){var er=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',er.x1,'" y1="',er.y1,'" x2="',er.x2,'" y2="',er.y2,`" />
`]}}),tr.Line.ATTRIBUTE_NAMES=tr.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),tr.Line.fromElement=function(er,ar,dr){dr=dr||{};var lr=tr.parseAttributes(er,tr.Line.ATTRIBUTE_NAMES),sr=[lr.x1||0,lr.y1||0,lr.x2||0,lr.y2||0];ar(new tr.Line(sr,hr(lr,dr)))},tr.Line.fromObject=function(er,ar){function dr(sr){delete sr.points,ar&&ar(sr)}var lr=ur(er,!0);lr.points=[er.x1,er.y1,er.x2,er.y2],tr.Object._fromObject("Line",lr,dr,"points")};function nr(er,ar){var dr=er.origin,lr=er.axis1,sr=er.axis2,pr=er.dimension,mr=ar.nearest,vr=ar.center,yr=ar.farthest;return function(){switch(this.get(dr)){case mr:return Math.min(this.get(lr),this.get(sr));case vr:return Math.min(this.get(lr),this.get(sr))+.5*this.get(pr);case yr:return Math.max(this.get(lr),this.get(sr))}}}}(St),function(cr){var tr=cr.fabric||(cr.fabric={}),hr=tr.util.degreesToRadians;if(tr.Circle){tr.warn("fabric.Circle is already defined.");return}tr.Circle=tr.util.createClass(tr.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:tr.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(or,nr){return this.callSuper("_set",or,nr),or==="radius"&&this.setRadius(nr),this},toObject:function(or){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(or))},_toSVG:function(){var or,nr=0,er=0,ar=(this.endAngle-this.startAngle)%360;if(ar===0)or=["<circle ","COMMON_PARTS",'cx="'+nr+'" cy="'+er+'" ','r="',this.radius,`" />
`];else{var dr=hr(this.startAngle),lr=hr(this.endAngle),sr=this.radius,pr=tr.util.cos(dr)*sr,mr=tr.util.sin(dr)*sr,vr=tr.util.cos(lr)*sr,yr=tr.util.sin(lr)*sr,br=ar>180?"1":"0";or=['<path d="M '+pr+" "+mr," A "+sr+" "+sr," 0 ",+br+" 1"," "+vr+" "+yr,'" ',"COMMON_PARTS",` />
`]}return or},_render:function(or){or.beginPath(),or.arc(0,0,this.radius,hr(this.startAngle),hr(this.endAngle),!1),this._renderPaintInOrder(or)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(or){return this.radius=or,this.set("width",or*2).set("height",or*2)}}),tr.Circle.ATTRIBUTE_NAMES=tr.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),tr.Circle.fromElement=function(or,nr){var er=tr.parseAttributes(or,tr.Circle.ATTRIBUTE_NAMES);if(!ur(er))throw new Error("value of `r` attribute is required and can not be negative");er.left=(er.left||0)-er.radius,er.top=(er.top||0)-er.radius,nr(new tr.Circle(er))};function ur(or){return"radius"in or&&or.radius>=0}tr.Circle.fromObject=function(or,nr){tr.Object._fromObject("Circle",or,nr)}}(St),function(cr){var tr=cr.fabric||(cr.fabric={});if(tr.Triangle){tr.warn("fabric.Triangle is already defined");return}tr.Triangle=tr.util.createClass(tr.Object,{type:"triangle",width:100,height:100,_render:function(hr){var ur=this.width/2,or=this.height/2;hr.beginPath(),hr.moveTo(-ur,or),hr.lineTo(0,-or),hr.lineTo(ur,or),hr.closePath(),this._renderPaintInOrder(hr)},_toSVG:function(){var hr=this.width/2,ur=this.height/2,or=[-hr+" "+ur,"0 "+-ur,hr+" "+ur].join(",");return["<polygon ","COMMON_PARTS",'points="',or,'" />']}}),tr.Triangle.fromObject=function(hr,ur){return tr.Object._fromObject("Triangle",hr,ur)}}(St),function(cr){var tr=cr.fabric||(cr.fabric={}),hr=Math.PI*2;if(tr.Ellipse){tr.warn("fabric.Ellipse is already defined.");return}tr.Ellipse=tr.util.createClass(tr.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:tr.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(ur){this.callSuper("initialize",ur),this.set("rx",ur&&ur.rx||0),this.set("ry",ur&&ur.ry||0)},_set:function(ur,or){switch(this.callSuper("_set",ur,or),ur){case"rx":this.rx=or,this.set("width",or*2);break;case"ry":this.ry=or,this.set("height",or*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(ur){return this.callSuper("toObject",["rx","ry"].concat(ur))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(ur){ur.beginPath(),ur.save(),ur.transform(1,0,0,this.ry/this.rx,0,0),ur.arc(0,0,this.rx,0,hr,!1),ur.restore(),this._renderPaintInOrder(ur)}}),tr.Ellipse.ATTRIBUTE_NAMES=tr.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),tr.Ellipse.fromElement=function(ur,or){var nr=tr.parseAttributes(ur,tr.Ellipse.ATTRIBUTE_NAMES);nr.left=(nr.left||0)-nr.rx,nr.top=(nr.top||0)-nr.ry,or(new tr.Ellipse(nr))},tr.Ellipse.fromObject=function(ur,or){tr.Object._fromObject("Ellipse",ur,or)}}(St),function(cr){var tr=cr.fabric||(cr.fabric={}),hr=tr.util.object.extend;if(tr.Rect){tr.warn("fabric.Rect is already defined");return}tr.Rect=tr.util.createClass(tr.Object,{stateProperties:tr.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:tr.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(ur){this.callSuper("initialize",ur),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(ur){var or=this.rx?Math.min(this.rx,this.width/2):0,nr=this.ry?Math.min(this.ry,this.height/2):0,er=this.width,ar=this.height,dr=-this.width/2,lr=-this.height/2,sr=or!==0||nr!==0,pr=1-.5522847498;ur.beginPath(),ur.moveTo(dr+or,lr),ur.lineTo(dr+er-or,lr),sr&&ur.bezierCurveTo(dr+er-pr*or,lr,dr+er,lr+pr*nr,dr+er,lr+nr),ur.lineTo(dr+er,lr+ar-nr),sr&&ur.bezierCurveTo(dr+er,lr+ar-pr*nr,dr+er-pr*or,lr+ar,dr+er-or,lr+ar),ur.lineTo(dr+or,lr+ar),sr&&ur.bezierCurveTo(dr+pr*or,lr+ar,dr,lr+ar-pr*nr,dr,lr+ar-nr),ur.lineTo(dr,lr+nr),sr&&ur.bezierCurveTo(dr,lr+pr*nr,dr+pr*or,lr,dr+or,lr),ur.closePath(),this._renderPaintInOrder(ur)},toObject:function(ur){return this.callSuper("toObject",["rx","ry"].concat(ur))},_toSVG:function(){var ur=-this.width/2,or=-this.height/2;return["<rect ","COMMON_PARTS",'x="',ur,'" y="',or,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),tr.Rect.ATTRIBUTE_NAMES=tr.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),tr.Rect.fromElement=function(ur,or,nr){if(!ur)return or(null);nr=nr||{};var er=tr.parseAttributes(ur,tr.Rect.ATTRIBUTE_NAMES);er.left=er.left||0,er.top=er.top||0,er.height=er.height||0,er.width=er.width||0;var ar=new tr.Rect(hr(nr?tr.util.object.clone(nr):{},er));ar.visible=ar.visible&&ar.width>0&&ar.height>0,or(ar)},tr.Rect.fromObject=function(ur,or){return tr.Object._fromObject("Rect",ur,or)}}(St),function(cr){var tr=cr.fabric||(cr.fabric={}),hr=tr.util.object.extend,ur=tr.util.array.min,or=tr.util.array.max,nr=tr.util.toFixed,er=tr.util.projectStrokeOnPoints;if(tr.Polyline){tr.warn("fabric.Polyline is already defined");return}tr.Polyline=tr.util.createClass(tr.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:tr.Object.prototype.cacheProperties.concat("points"),initialize:function(ar,dr){dr=dr||{},this.points=ar||[],this.callSuper("initialize",dr),this._setPositionDimensions(dr)},_projectStrokeOnPoints:function(){return er(this.points,this,!0)},_setPositionDimensions:function(ar){var dr=this._calcDimensions(ar),lr,sr=this.exactBoundingBox?this.strokeWidth:0;this.width=dr.width-sr,this.height=dr.height-sr,ar.fromSVG||(lr=this.translateToGivenOrigin({x:dr.left-this.strokeWidth/2+sr/2,y:dr.top-this.strokeWidth/2+sr/2},"left","top",this.originX,this.originY)),typeof ar.left>"u"&&(this.left=ar.fromSVG?dr.left:lr.x),typeof ar.top>"u"&&(this.top=ar.fromSVG?dr.top:lr.y),this.pathOffset={x:dr.left+this.width/2+sr/2,y:dr.top+this.height/2+sr/2}},_calcDimensions:function(){var ar=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,dr=ur(ar,"x")||0,lr=ur(ar,"y")||0,sr=or(ar,"x")||0,pr=or(ar,"y")||0,mr=sr-dr,vr=pr-lr;return{left:dr,top:lr,width:mr,height:vr}},toObject:function(ar){return hr(this.callSuper("toObject",ar),{points:this.points.concat()})},_toSVG:function(){for(var ar=[],dr=this.pathOffset.x,lr=this.pathOffset.y,sr=tr.Object.NUM_FRACTION_DIGITS,pr=0,mr=this.points.length;pr<mr;pr++)ar.push(nr(this.points[pr].x-dr,sr),",",nr(this.points[pr].y-lr,sr)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',ar.join(""),`" />
`]},commonRender:function(ar){var dr,lr=this.points.length,sr=this.pathOffset.x,pr=this.pathOffset.y;if(!lr||isNaN(this.points[lr-1].y))return!1;ar.beginPath(),ar.moveTo(this.points[0].x-sr,this.points[0].y-pr);for(var mr=0;mr<lr;mr++)dr=this.points[mr],ar.lineTo(dr.x-sr,dr.y-pr);return!0},_render:function(ar){!this.commonRender(ar)||this._renderPaintInOrder(ar)},complexity:function(){return this.get("points").length}}),tr.Polyline.ATTRIBUTE_NAMES=tr.SHARED_ATTRIBUTES.concat(),tr.Polyline.fromElementGenerator=function(ar){return function(dr,lr,sr){if(!dr)return lr(null);sr||(sr={});var pr=tr.parsePointsAttribute(dr.getAttribute("points")),mr=tr.parseAttributes(dr,tr[ar].ATTRIBUTE_NAMES);mr.fromSVG=!0,lr(new tr[ar](pr,hr(mr,sr)))}},tr.Polyline.fromElement=tr.Polyline.fromElementGenerator("Polyline"),tr.Polyline.fromObject=function(ar,dr){return tr.Object._fromObject("Polyline",ar,dr,"points")}}(St),function(cr){var tr=cr.fabric||(cr.fabric={}),hr=tr.util.projectStrokeOnPoints;if(tr.Polygon){tr.warn("fabric.Polygon is already defined");return}tr.Polygon=tr.util.createClass(tr.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return hr(this.points,this)},_render:function(ur){!this.commonRender(ur)||(ur.closePath(),this._renderPaintInOrder(ur))}}),tr.Polygon.ATTRIBUTE_NAMES=tr.SHARED_ATTRIBUTES.concat(),tr.Polygon.fromElement=tr.Polyline.fromElementGenerator("Polygon"),tr.Polygon.fromObject=function(ur,or){tr.Object._fromObject("Polygon",ur,or,"points")}}(St),function(cr){var tr=cr.fabric||(cr.fabric={}),hr=tr.util.array.min,ur=tr.util.array.max,or=tr.util.object.extend,nr=tr.util.object.clone,er=tr.util.toFixed;if(tr.Path){tr.warn("fabric.Path is already defined");return}tr.Path=tr.util.createClass(tr.Object,{type:"path",path:null,cacheProperties:tr.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:tr.Object.prototype.stateProperties.concat("path"),initialize:function(ar,dr){dr=nr(dr||{}),delete dr.path,this.callSuper("initialize",dr),this._setPath(ar||[],dr)},_setPath:function(ar,dr){this.path=tr.util.makePathSimpler(Array.isArray(ar)?ar:tr.util.parsePath(ar)),tr.Polyline.prototype._setPositionDimensions.call(this,dr||{})},_renderPathCommands:function(ar){var dr,lr=0,sr=0,pr=0,mr=0,vr=0,yr=0,br=-this.pathOffset.x,_r=-this.pathOffset.y;ar.beginPath();for(var xr=0,Nr=this.path.length;xr<Nr;++xr)switch(dr=this.path[xr],dr[0]){case"L":pr=dr[1],mr=dr[2],ar.lineTo(pr+br,mr+_r);break;case"M":pr=dr[1],mr=dr[2],lr=pr,sr=mr,ar.moveTo(pr+br,mr+_r);break;case"C":pr=dr[5],mr=dr[6],vr=dr[3],yr=dr[4],ar.bezierCurveTo(dr[1]+br,dr[2]+_r,vr+br,yr+_r,pr+br,mr+_r);break;case"Q":ar.quadraticCurveTo(dr[1]+br,dr[2]+_r,dr[3]+br,dr[4]+_r),pr=dr[3],mr=dr[4],vr=dr[1],yr=dr[2];break;case"z":case"Z":pr=lr,mr=sr,ar.closePath();break}},_render:function(ar){this._renderPathCommands(ar),this._renderPaintInOrder(ar)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(ar){return or(this.callSuper("toObject",ar),{path:this.path.map(function(dr){return dr.slice()})})},toDatalessObject:function(ar){var dr=this.toObject(["sourcePath"].concat(ar));return dr.sourcePath&&delete dr.path,dr},_toSVG:function(){var ar=tr.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',ar,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var ar=tr.Object.NUM_FRACTION_DIGITS;return" translate("+er(-this.pathOffset.x,ar)+", "+er(-this.pathOffset.y,ar)+")"},toClipPathSVG:function(ar){var dr=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:ar,additionalTransform:dr})},toSVG:function(ar){var dr=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:ar,additionalTransform:dr})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var ar=[],dr=[],lr,sr=0,pr=0,mr=0,vr=0,yr,br=0,_r=this.path.length;br<_r;++br){switch(lr=this.path[br],lr[0]){case"L":mr=lr[1],vr=lr[2],yr=[];break;case"M":mr=lr[1],vr=lr[2],sr=mr,pr=vr,yr=[];break;case"C":yr=tr.util.getBoundsOfCurve(mr,vr,lr[1],lr[2],lr[3],lr[4],lr[5],lr[6]),mr=lr[5],vr=lr[6];break;case"Q":yr=tr.util.getBoundsOfCurve(mr,vr,lr[1],lr[2],lr[1],lr[2],lr[3],lr[4]),mr=lr[3],vr=lr[4];break;case"z":case"Z":mr=sr,vr=pr;break}yr.forEach(function(Yr){ar.push(Yr.x),dr.push(Yr.y)}),ar.push(mr),dr.push(vr)}var xr=hr(ar)||0,Nr=hr(dr)||0,zr=ur(ar)||0,Tr=ur(dr)||0,Br=zr-xr,Jr=Tr-Nr;return{left:xr,top:Nr,width:Br,height:Jr}}}),tr.Path.fromObject=function(ar,dr){if(typeof ar.sourcePath=="string"){var lr=ar.sourcePath;tr.loadSVGFromURL(lr,function(sr){var pr=sr[0];pr.setOptions(ar),ar.clipPath?tr.util.enlivenObjects([ar.clipPath],function(mr){pr.clipPath=mr[0],dr&&dr(pr)}):dr&&dr(pr)})}else tr.Object._fromObject("Path",ar,dr,"path")},tr.Path.ATTRIBUTE_NAMES=tr.SHARED_ATTRIBUTES.concat(["d"]),tr.Path.fromElement=function(ar,dr,lr){var sr=tr.parseAttributes(ar,tr.Path.ATTRIBUTE_NAMES);sr.fromSVG=!0,dr(new tr.Path(sr.d,or(sr,lr)))}}(St),function(cr){var tr=cr.fabric||(cr.fabric={}),hr=tr.util.array.min,ur=tr.util.array.max;tr.Group||(tr.Group=tr.util.createClass(tr.Object,tr.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(or,nr,er){nr=nr||{},this._objects=[],er&&this.callSuper("initialize",nr),this._objects=or||[];for(var ar=this._objects.length;ar--;)this._objects[ar].group=this;if(er)this._updateObjectsACoords();else{var dr=nr&&nr.centerPoint;nr.originX!==void 0&&(this.originX=nr.originX),nr.originY!==void 0&&(this.originY=nr.originY),dr||this._calcBounds(),this._updateObjectsCoords(dr),delete nr.centerPoint,this.callSuper("initialize",nr)}this.setCoords()},_updateObjectsACoords:function(){for(var or=!0,nr=this._objects.length;nr--;)this._objects[nr].setCoords(or)},_updateObjectsCoords:function(nr){for(var nr=nr||this.getCenterPoint(),er=this._objects.length;er--;)this._updateObjectCoords(this._objects[er],nr)},_updateObjectCoords:function(or,nr){var er=or.left,ar=or.top,dr=!0;or.set({left:er-nr.x,top:ar-nr.y}),or.group=this,or.setCoords(dr)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(or){var nr=!!this.group;return this._restoreObjectsState(),tr.util.resetObjectTransform(this),or&&(nr&&tr.util.removeTransformFromObject(or,this.group.calcTransformMatrix()),this._objects.push(or),or.group=this,or._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,nr?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(or){return this._restoreObjectsState(),tr.util.resetObjectTransform(this),this.remove(or),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(or){this.dirty=!0,or.group=this,or._set("canvas",this.canvas)},_onObjectRemoved:function(or){this.dirty=!0,delete or.group},_set:function(or,nr){var er=this._objects.length;if(this.useSetOnGroup)for(;er--;)this._objects[er].setOnGroup(or,nr);if(or==="canvas")for(;er--;)this._objects[er]._set(or,nr);tr.Object.prototype._set.call(this,or,nr)},toObject:function(or){var nr=this.includeDefaultValues,er=this._objects.filter(function(dr){return!dr.excludeFromExport}).map(function(dr){var lr=dr.includeDefaultValues;dr.includeDefaultValues=nr;var sr=dr.toObject(or);return dr.includeDefaultValues=lr,sr}),ar=tr.Object.prototype.toObject.call(this,or);return ar.objects=er,ar},toDatalessObject:function(or){var nr,er=this.sourcePath;if(er)nr=er;else{var ar=this.includeDefaultValues;nr=this._objects.map(function(lr){var sr=lr.includeDefaultValues;lr.includeDefaultValues=ar;var pr=lr.toDatalessObject(or);return lr.includeDefaultValues=sr,pr})}var dr=tr.Object.prototype.toDatalessObject.call(this,or);return dr.objects=nr,dr},render:function(or){this._transformDone=!0,this.callSuper("render",or),this._transformDone=!1},shouldCache:function(){var or=tr.Object.prototype.shouldCache.call(this);if(or){for(var nr=0,er=this._objects.length;nr<er;nr++)if(this._objects[nr].willDrawShadow())return this.ownCaching=!1,!1}return or},willDrawShadow:function(){if(tr.Object.prototype.willDrawShadow.call(this))return!0;for(var or=0,nr=this._objects.length;or<nr;or++)if(this._objects[or].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(or){for(var nr=0,er=this._objects.length;nr<er;nr++)this._objects[nr].render(or);this._drawClipPath(or,this.clipPath)},isCacheDirty:function(or){if(this.callSuper("isCacheDirty",or))return!0;if(!this.statefullCache)return!1;for(var nr=0,er=this._objects.length;nr<er;nr++)if(this._objects[nr].isCacheDirty(!0)){if(this._cacheCanvas){var ar=this.cacheWidth/this.zoomX,dr=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-ar/2,-dr/2,ar,dr)}return!0}return!1},_restoreObjectsState:function(){var or=this.calcOwnMatrix();return this._objects.forEach(function(nr){tr.util.addTransformToObject(nr,or),delete nr.group,nr.setCoords()}),this},destroy:function(){return this._objects.forEach(function(or){or.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(or){or.dispose&&or.dispose()}),this._objects=[]},toActiveSelection:function(){if(!!this.canvas){var or=this._objects,nr=this.canvas;this._objects=[];var er=this.toObject();delete er.objects;var ar=new tr.ActiveSelection([]);return ar.set(er),ar.type="activeSelection",nr.remove(this),or.forEach(function(dr){dr.group=ar,dr.dirty=!0,nr.add(dr)}),ar.canvas=nr,ar._objects=or,nr._activeObject=ar,ar.setCoords(),ar}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var or=!0;return this.forEachObject(function(nr){nr.setCoords(or)}),this},_calcBounds:function(or){for(var nr=[],er=[],ar,dr,lr,sr=["tr","br","bl","tl"],pr=0,mr=this._objects.length,vr,yr=sr.length;pr<mr;++pr){for(ar=this._objects[pr],lr=ar.calcACoords(),vr=0;vr<yr;vr++)dr=sr[vr],nr.push(lr[dr].x),er.push(lr[dr].y);ar.aCoords=lr}this._getBounds(nr,er,or)},_getBounds:function(or,nr,er){var ar=new tr.Point(hr(or),hr(nr)),dr=new tr.Point(ur(or),ur(nr)),lr=ar.y||0,sr=ar.x||0,pr=dr.x-ar.x||0,mr=dr.y-ar.y||0;this.width=pr,this.height=mr,er||this.setPositionByOrigin({x:sr,y:lr},"left","top")},_toSVG:function(or){for(var nr=["<g ","COMMON_PARTS",` >
`],er=0,ar=this._objects.length;er<ar;er++)nr.push("		",this._objects[er].toSVG(or));return nr.push(`</g>
`),nr},getSvgStyles:function(){var or=typeof this.opacity<"u"&&this.opacity!==1?"opacity: "+this.opacity+";":"",nr=this.visible?"":" visibility: hidden;";return[or,this.getSvgFilter(),nr].join("")},toClipPathSVG:function(or){for(var nr=[],er=0,ar=this._objects.length;er<ar;er++)nr.push("	",this._objects[er].toClipPathSVG(or));return this._createBaseClipPathSVGMarkup(nr,{reviver:or})}}),tr.Group.fromObject=function(or,nr){var er=or.objects,ar=tr.util.object.clone(or,!0);if(delete ar.objects,typeof er=="string"){tr.loadSVGFromURL(er,function(dr){var lr=tr.util.groupSVGElements(dr,or,er),sr=ar.clipPath;delete ar.clipPath,lr.set(ar),sr?tr.util.enlivenObjects([sr],function(pr){lr.clipPath=pr[0],nr&&nr(lr)}):nr&&nr(lr)});return}tr.util.enlivenObjects(er,function(dr){tr.util.enlivenObjectEnlivables(or,ar,function(){nr&&nr(new tr.Group(dr,ar,!0))})})})}(St),function(cr){var tr=cr.fabric||(cr.fabric={});tr.ActiveSelection||(tr.ActiveSelection=tr.util.createClass(tr.Group,{type:"activeSelection",initialize:function(hr,ur){ur=ur||{},this._objects=hr||[];for(var or=this._objects.length;or--;)this._objects[or].group=this;ur.originX&&(this.originX=ur.originX),ur.originY&&(this.originY=ur.originY),this._calcBounds(),this._updateObjectsCoords(),tr.Object.prototype.initialize.call(this,ur),this.setCoords()},toGroup:function(){var hr=this._objects.concat();this._objects=[];var ur=tr.Object.prototype.toObject.call(this),or=new tr.Group([]);if(delete ur.type,or.set(ur),hr.forEach(function(er){er.canvas.remove(er),er.group=or}),or._objects=hr,!this.canvas)return or;var nr=this.canvas;return nr.add(or),nr._activeObject=or,or.setCoords(),or},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(hr,ur,or){hr.save(),hr.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",hr,ur),or=or||{},typeof or.hasControls>"u"&&(or.hasControls=!1),or.forActiveSelection=!0;for(var nr=0,er=this._objects.length;nr<er;nr++)this._objects[nr]._renderControls(hr,or);hr.restore()}}),tr.ActiveSelection.fromObject=function(hr,ur){tr.util.enlivenObjects(hr.objects,function(or){delete hr.objects,ur&&ur(new tr.ActiveSelection(or,hr,!0))})})}(St),function(cr){var tr=e.util.object.extend;if(cr.fabric||(cr.fabric={}),cr.fabric.Image){e.warn("fabric.Image is already defined.");return}e.Image=e.util.createClass(e.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:e.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:e.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(hr,ur){ur||(ur={}),this.filters=[],this.cacheKey="texture"+e.Object.__uid++,this.callSuper("initialize",ur),this._initElement(hr,ur)},getElement:function(){return this._element||{}},setElement:function(hr,ur){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=hr,this._originalElement=hr,this._initConfig(ur),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(hr){var ur=e.filterBackend;ur&&ur.evictCachesForKey&&ur.evictCachesForKey(hr)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(hr){e.util.cleanUpJsdomNode(this[hr]),this[hr]=void 0}.bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var hr=this.getElement();return{width:hr.naturalWidth||hr.width,height:hr.naturalHeight||hr.height}},_stroke:function(hr){if(!(!this.stroke||this.strokeWidth===0)){var ur=this.width/2,or=this.height/2;hr.beginPath(),hr.moveTo(-ur,-or),hr.lineTo(ur,-or),hr.lineTo(ur,or),hr.lineTo(-ur,or),hr.lineTo(-ur,-or),hr.closePath()}},toObject:function(hr){var ur=[];this.filters.forEach(function(nr){nr&&ur.push(nr.toObject())});var or=tr(this.callSuper("toObject",["cropX","cropY"].concat(hr)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:ur});return this.resizeFilter&&(or.resizeFilter=this.resizeFilter.toObject()),or},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var hr=[],ur=[],or,nr=this._element,er=-this.width/2,ar=-this.height/2,dr="",lr="";if(!nr)return[];if(this.hasCrop()){var sr=e.Object.__uid++;hr.push('<clipPath id="imageCrop_'+sr+`">
`,'	<rect x="'+er+'" y="'+ar+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),dr=' clip-path="url(#imageCrop_'+sr+')" '}if(this.imageSmoothing||(lr='" image-rendering="optimizeSpeed'),ur.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',er-this.cropX,'" y="',ar-this.cropY,'" width="',nr.width||nr.naturalWidth,'" height="',nr.height||nr.height,lr,'"',dr,`></image>
`),this.stroke||this.strokeDashArray){var pr=this.fill;this.fill=null,or=["	<rect ",'x="',er,'" y="',ar,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=pr}return this.paintFirst!=="fill"?hr=hr.concat(or,ur):hr=hr.concat(ur,or),hr},getSrc:function(hr){var ur=hr?this._element:this._originalElement;return ur?ur.toDataURL?ur.toDataURL():this.srcFromAttribute?ur.getAttribute("src"):ur.src:this.src||""},setSrc:function(hr,ur,or){return e.util.loadImage(hr,function(nr,er){this.setElement(nr,or),this._setWidthHeight(),ur&&ur(this,er)},this,or&&or.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var hr=this.resizeFilter,ur=this.minimumScaleTrigger,or=this.getTotalObjectScaling(),nr=or.scaleX,er=or.scaleY,ar=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!hr||nr>ur&&er>ur){this._element=ar,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=nr,this._lastScaleY=er;return}e.filterBackend||(e.filterBackend=e.initFilterBackend());var dr=e.util.createCanvasElement(),lr=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,sr=ar.width,pr=ar.height;dr.width=sr,dr.height=pr,this._element=dr,this._lastScaleX=hr.scaleX=nr,this._lastScaleY=hr.scaleY=er,e.filterBackend.applyFilters([hr],ar,sr,pr,this._element,lr),this._filterScalingX=dr.width/this._originalElement.width,this._filterScalingY=dr.height/this._originalElement.height},applyFilters:function(hr){if(hr=hr||this.filters||[],hr=hr.filter(function(ar){return ar&&!ar.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),hr.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var ur=this._originalElement,or=ur.naturalWidth||ur.width,nr=ur.naturalHeight||ur.height;if(this._element===this._originalElement){var er=e.util.createCanvasElement();er.width=or,er.height=nr,this._element=er,this._filteredEl=er}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,or,nr),this._lastScaleX=1,this._lastScaleY=1;return e.filterBackend||(e.filterBackend=e.initFilterBackend()),e.filterBackend.applyFilters(hr,this._originalElement,or,nr,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(hr){e.util.setImageSmoothing(hr,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(hr),this._renderPaintInOrder(hr)},drawCacheOnCanvas:function(hr){e.util.setImageSmoothing(hr,this.imageSmoothing),e.Object.prototype.drawCacheOnCanvas.call(this,hr)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(hr){var ur=this._element;if(!!ur){var or=this._filterScalingX,nr=this._filterScalingY,er=this.width,ar=this.height,dr=Math.min,lr=Math.max,sr=lr(this.cropX,0),pr=lr(this.cropY,0),mr=ur.naturalWidth||ur.width,vr=ur.naturalHeight||ur.height,yr=sr*or,br=pr*nr,_r=dr(er*or,mr-yr),xr=dr(ar*nr,vr-br),Nr=-er/2,zr=-ar/2,Tr=dr(er,mr/or-sr),Br=dr(ar,vr/nr-pr);ur&&hr.drawImage(ur,yr,br,_r,xr,Nr,zr,Tr,Br)}},_needsResize:function(){var hr=this.getTotalObjectScaling();return hr.scaleX!==this._lastScaleX||hr.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(hr,ur){this.setElement(e.util.getById(hr),ur),e.util.addClass(this.getElement(),e.Image.CSS_CANVAS)},_initConfig:function(hr){hr||(hr={}),this.setOptions(hr),this._setWidthHeight(hr)},_initFilters:function(hr,ur){hr&&hr.length?e.util.enlivenObjects(hr,function(or){ur&&ur(or)},"fabric.Image.filters"):ur&&ur()},_setWidthHeight:function(hr){hr||(hr={});var ur=this.getElement();this.width=hr.width||ur.naturalWidth||ur.width||0,this.height=hr.height||ur.naturalHeight||ur.height||0},parsePreserveAspectRatioAttribute:function(){var hr=e.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),ur=this._element.width,or=this._element.height,nr=1,er=1,ar=0,dr=0,lr=0,sr=0,pr,mr=this.width,vr=this.height,yr={width:mr,height:vr};return hr&&(hr.alignX!=="none"||hr.alignY!=="none")?(hr.meetOrSlice==="meet"&&(nr=er=e.util.findScaleToFit(this._element,yr),pr=(mr-ur*nr)/2,hr.alignX==="Min"&&(ar=-pr),hr.alignX==="Max"&&(ar=pr),pr=(vr-or*er)/2,hr.alignY==="Min"&&(dr=-pr),hr.alignY==="Max"&&(dr=pr)),hr.meetOrSlice==="slice"&&(nr=er=e.util.findScaleToCover(this._element,yr),pr=ur-mr/nr,hr.alignX==="Mid"&&(lr=pr/2),hr.alignX==="Max"&&(lr=pr),pr=or-vr/er,hr.alignY==="Mid"&&(sr=pr/2),hr.alignY==="Max"&&(sr=pr),ur=mr/nr,or=vr/er)):(nr=mr/ur,er=vr/or),{width:ur,height:or,scaleX:nr,scaleY:er,offsetLeft:ar,offsetTop:dr,cropX:lr,cropY:sr}}}),e.Image.CSS_CANVAS="canvas-img",e.Image.prototype.getSvgSrc=e.Image.prototype.getSrc,e.Image.fromObject=function(hr,ur){var or=e.util.object.clone(hr);e.util.loadImage(or.src,function(nr,er){if(er){ur&&ur(null,!0);return}e.Image.prototype._initFilters.call(or,or.filters,function(ar){or.filters=ar||[],e.Image.prototype._initFilters.call(or,[or.resizeFilter],function(dr){or.resizeFilter=dr[0],e.util.enlivenObjectEnlivables(or,or,function(){var lr=new e.Image(nr,or);ur(lr,!1)})})})},null,or.crossOrigin)},e.Image.fromURL=function(hr,ur,or){e.util.loadImage(hr,function(nr,er){ur&&ur(new e.Image(nr,or),er)},null,or&&or.crossOrigin)},e.Image.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),e.Image.fromElement=function(hr,ur,or){var nr=e.parseAttributes(hr,e.Image.ATTRIBUTE_NAMES);e.Image.fromURL(nr["xlink:href"],ur,tr(or?e.util.object.clone(or):{},nr))}}(St),e.util.object.extend(e.Object.prototype,{_getAngleValueForStraighten:function(){var cr=this.angle%360;return cr>0?Math.round((cr-1)/90)*90:Math.round(cr/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(cr){cr=cr||{};var tr=function(){},hr=cr.onComplete||tr,ur=cr.onChange||tr,or=this;return e.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(nr){or.rotate(nr),ur()},onComplete:function(){or.setCoords(),hr()}})}}),e.util.object.extend(e.StaticCanvas.prototype,{straightenObject:function(cr){return cr.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(cr){return cr.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){function cr(hr,ur){var or="precision "+ur+` float;
void main(){}`,nr=hr.createShader(hr.FRAGMENT_SHADER);return hr.shaderSource(nr,or),hr.compileShader(nr),!!hr.getShaderParameter(nr,hr.COMPILE_STATUS)}e.isWebglSupported=function(hr){if(e.isLikelyNode)return!1;hr=hr||e.WebglFilterBackend.prototype.tileSize;var ur=document.createElement("canvas"),or=ur.getContext("webgl")||ur.getContext("experimental-webgl"),nr=!1;if(or){e.maxTextureSize=or.getParameter(or.MAX_TEXTURE_SIZE),nr=e.maxTextureSize>=hr;for(var er=["highp","mediump","lowp"],ar=0;ar<3;ar++)if(cr(or,er[ar])){e.webGlPrecision=er[ar];break}}return this.isSupported=nr,nr},e.WebglFilterBackend=tr;function tr(hr){hr&&hr.tileSize&&(this.tileSize=hr.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}tr.prototype={tileSize:2048,resources:{},setupGLContext:function(hr,ur){this.dispose(),this.createWebGLCanvas(hr,ur),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(hr,ur)},chooseFastestCopyGLTo2DMethod:function(hr,ur){var or=typeof window.performance<"u",nr;try{new ImageData(1,1),nr=!0}catch{nr=!1}var er=typeof ArrayBuffer<"u",ar=typeof Uint8ClampedArray<"u";if(!!(or&&nr&&er&&ar)){var dr=e.util.createCanvasElement(),lr=new ArrayBuffer(hr*ur*4);if(e.forceGLPutImageData){this.imageBuffer=lr,this.copyGLTo2D=gr;return}var sr={imageBuffer:lr,destinationWidth:hr,destinationHeight:ur,targetCanvas:dr},pr,mr,vr;dr.width=hr,dr.height=ur,pr=window.performance.now(),rr.call(sr,this.gl,sr),mr=window.performance.now()-pr,pr=window.performance.now(),gr.call(sr,this.gl,sr),vr=window.performance.now()-pr,mr>vr?(this.imageBuffer=lr,this.copyGLTo2D=gr):this.copyGLTo2D=rr}},createWebGLCanvas:function(hr,ur){var or=e.util.createCanvasElement();or.width=hr,or.height=ur;var nr={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},er=or.getContext("webgl",nr);er||(er=or.getContext("experimental-webgl",nr)),er&&(er.clearColor(0,0,0,0),this.canvas=or,this.gl=er)},applyFilters:function(hr,ur,or,nr,er,ar){var dr=this.gl,lr;ar&&(lr=this.getCachedTexture(ar,ur));var sr={originalWidth:ur.width||ur.originalWidth,originalHeight:ur.height||ur.originalHeight,sourceWidth:or,sourceHeight:nr,destinationWidth:or,destinationHeight:nr,context:dr,sourceTexture:this.createTexture(dr,or,nr,!lr&&ur),targetTexture:this.createTexture(dr,or,nr),originalTexture:lr||this.createTexture(dr,or,nr,!lr&&ur),passes:hr.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:er},pr=dr.createFramebuffer();return dr.bindFramebuffer(dr.FRAMEBUFFER,pr),hr.forEach(function(mr){mr&&mr.applyTo(sr)}),ir(sr),this.copyGLTo2D(dr,sr),dr.bindTexture(dr.TEXTURE_2D,null),dr.deleteTexture(sr.sourceTexture),dr.deleteTexture(sr.targetTexture),dr.deleteFramebuffer(pr),er.getContext("2d").setTransform(1,0,0,1,0,0),sr},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(hr,ur,or,nr){var er=hr.createTexture();return hr.bindTexture(hr.TEXTURE_2D,er),hr.texParameteri(hr.TEXTURE_2D,hr.TEXTURE_MAG_FILTER,hr.NEAREST),hr.texParameteri(hr.TEXTURE_2D,hr.TEXTURE_MIN_FILTER,hr.NEAREST),hr.texParameteri(hr.TEXTURE_2D,hr.TEXTURE_WRAP_S,hr.CLAMP_TO_EDGE),hr.texParameteri(hr.TEXTURE_2D,hr.TEXTURE_WRAP_T,hr.CLAMP_TO_EDGE),nr?hr.texImage2D(hr.TEXTURE_2D,0,hr.RGBA,hr.RGBA,hr.UNSIGNED_BYTE,nr):hr.texImage2D(hr.TEXTURE_2D,0,hr.RGBA,ur,or,0,hr.RGBA,hr.UNSIGNED_BYTE,null),er},getCachedTexture:function(hr,ur){if(this.textureCache[hr])return this.textureCache[hr];var or=this.createTexture(this.gl,ur.width,ur.height,ur);return this.textureCache[hr]=or,or},evictCachesForKey:function(hr){this.textureCache[hr]&&(this.gl.deleteTexture(this.textureCache[hr]),delete this.textureCache[hr])},copyGLTo2D:rr,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var hr=this.gl,ur={renderer:"",vendor:""};if(!hr)return ur;var or=hr.getExtension("WEBGL_debug_renderer_info");if(or){var nr=hr.getParameter(or.UNMASKED_RENDERER_WEBGL),er=hr.getParameter(or.UNMASKED_VENDOR_WEBGL);nr&&(ur.renderer=nr.toLowerCase()),er&&(ur.vendor=er.toLowerCase())}return this.gpuInfo=ur,ur}}}();function ir(cr){var tr=cr.targetCanvas,hr=tr.width,ur=tr.height,or=cr.destinationWidth,nr=cr.destinationHeight;(hr!==or||ur!==nr)&&(tr.width=or,tr.height=nr)}function rr(cr,tr){var hr=cr.canvas,ur=tr.targetCanvas,or=ur.getContext("2d");or.translate(0,ur.height),or.scale(1,-1);var nr=hr.height-ur.height;or.drawImage(hr,0,nr,ur.width,ur.height,0,0,ur.width,ur.height)}function gr(cr,tr){var hr=tr.targetCanvas,ur=hr.getContext("2d"),or=tr.destinationWidth,nr=tr.destinationHeight,er=or*nr*4,ar=new Uint8Array(this.imageBuffer,0,er),dr=new Uint8ClampedArray(this.imageBuffer,0,er);cr.readPixels(0,0,or,nr,cr.RGBA,cr.UNSIGNED_BYTE,ar);var lr=new ImageData(dr,or,nr);ur.putImageData(lr,0,0)}(function(){var cr=function(){};e.Canvas2dFilterBackend=tr;function tr(){}tr.prototype={evictCachesForKey:cr,dispose:cr,clearWebGLCaches:cr,resources:{},applyFilters:function(hr,ur,or,nr,er){var ar=er.getContext("2d");ar.drawImage(ur,0,0,or,nr);var dr=ar.getImageData(0,0,or,nr),lr=ar.getImageData(0,0,or,nr),sr={sourceWidth:or,sourceHeight:nr,imageData:dr,originalEl:ur,originalImageData:lr,canvasEl:er,ctx:ar,filterBackend:this};return hr.forEach(function(pr){pr.applyTo(sr)}),(sr.imageData.width!==or||sr.imageData.height!==nr)&&(er.width=sr.imageData.width,er.height=sr.imageData.height),ar.putImageData(sr.imageData,0,0),sr}}})(),e.Image=e.Image||{},e.Image.filters=e.Image.filters||{},e.Image.filters.BaseFilter=e.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(cr){cr&&this.setOptions(cr)},setOptions:function(cr){for(var tr in cr)this[tr]=cr[tr]},createProgram:function(cr,tr,hr){tr=tr||this.fragmentSource,hr=hr||this.vertexSource,e.webGlPrecision!=="highp"&&(tr=tr.replace(/precision highp float/g,"precision "+e.webGlPrecision+" float"));var ur=cr.createShader(cr.VERTEX_SHADER);if(cr.shaderSource(ur,hr),cr.compileShader(ur),!cr.getShaderParameter(ur,cr.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+cr.getShaderInfoLog(ur));var or=cr.createShader(cr.FRAGMENT_SHADER);if(cr.shaderSource(or,tr),cr.compileShader(or),!cr.getShaderParameter(or,cr.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+cr.getShaderInfoLog(or));var nr=cr.createProgram();if(cr.attachShader(nr,ur),cr.attachShader(nr,or),cr.linkProgram(nr),!cr.getProgramParameter(nr,cr.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+cr.getProgramInfoLog(nr));var er=this.getAttributeLocations(cr,nr),ar=this.getUniformLocations(cr,nr)||{};return ar.uStepW=cr.getUniformLocation(nr,"uStepW"),ar.uStepH=cr.getUniformLocation(nr,"uStepH"),{program:nr,attributeLocations:er,uniformLocations:ar}},getAttributeLocations:function(cr,tr){return{aPosition:cr.getAttribLocation(tr,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(cr,tr,hr){var ur=tr.aPosition,or=cr.createBuffer();cr.bindBuffer(cr.ARRAY_BUFFER,or),cr.enableVertexAttribArray(ur),cr.vertexAttribPointer(ur,2,cr.FLOAT,!1,0,0),cr.bufferData(cr.ARRAY_BUFFER,hr,cr.STATIC_DRAW)},_setupFrameBuffer:function(cr){var tr=cr.context,hr,ur;cr.passes>1?(hr=cr.destinationWidth,ur=cr.destinationHeight,(cr.sourceWidth!==hr||cr.sourceHeight!==ur)&&(tr.deleteTexture(cr.targetTexture),cr.targetTexture=cr.filterBackend.createTexture(tr,hr,ur)),tr.framebufferTexture2D(tr.FRAMEBUFFER,tr.COLOR_ATTACHMENT0,tr.TEXTURE_2D,cr.targetTexture,0)):(tr.bindFramebuffer(tr.FRAMEBUFFER,null),tr.finish())},_swapTextures:function(cr){cr.passes--,cr.pass++;var tr=cr.targetTexture;cr.targetTexture=cr.sourceTexture,cr.sourceTexture=tr},isNeutralState:function(){var cr=this.mainParameter,tr=e.Image.filters[this.type].prototype;if(cr)if(Array.isArray(tr[cr])){for(var hr=tr[cr].length;hr--;)if(this[cr][hr]!==tr[cr][hr])return!1;return!0}else return tr[cr]===this[cr];else return!1},applyTo:function(cr){cr.webgl?(this._setupFrameBuffer(cr),this.applyToWebGL(cr),this._swapTextures(cr)):this.applyTo2d(cr)},retrieveShader:function(cr){return cr.programCache.hasOwnProperty(this.type)||(cr.programCache[this.type]=this.createProgram(cr.context)),cr.programCache[this.type]},applyToWebGL:function(cr){var tr=cr.context,hr=this.retrieveShader(cr);cr.pass===0&&cr.originalTexture?tr.bindTexture(tr.TEXTURE_2D,cr.originalTexture):tr.bindTexture(tr.TEXTURE_2D,cr.sourceTexture),tr.useProgram(hr.program),this.sendAttributeData(tr,hr.attributeLocations,cr.aPosition),tr.uniform1f(hr.uniformLocations.uStepW,1/cr.sourceWidth),tr.uniform1f(hr.uniformLocations.uStepH,1/cr.sourceHeight),this.sendUniformData(tr,hr.uniformLocations),tr.viewport(0,0,cr.destinationWidth,cr.destinationHeight),tr.drawArrays(tr.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(cr,tr,hr){cr.activeTexture(hr),cr.bindTexture(cr.TEXTURE_2D,tr),cr.activeTexture(cr.TEXTURE0)},unbindAdditionalTexture:function(cr,tr){cr.activeTexture(tr),cr.bindTexture(cr.TEXTURE_2D,null),cr.activeTexture(cr.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(cr){this[this.mainParameter]=cr},sendUniformData:function(){},createHelpLayer:function(cr){if(!cr.helpLayer){var tr=document.createElement("canvas");tr.width=cr.sourceWidth,tr.height=cr.sourceHeight,cr.helpLayer=tr}},toObject:function(){var cr={type:this.type},tr=this.mainParameter;return tr&&(cr[tr]=this[tr]),cr},toJSON:function(){return this.toObject()}}),e.Image.filters.BaseFilter.fromObject=function(cr,tr){var hr=new e.Image.filters[cr.type](cr);return tr&&tr(hr),hr},function(cr){var tr=cr.fabric||(cr.fabric={}),hr=tr.Image.filters,ur=tr.util.createClass;hr.ColorMatrix=ur(hr.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(or){this.callSuper("initialize",or),this.matrix=this.matrix.slice(0)},applyTo2d:function(or){var nr=or.imageData,er=nr.data,ar=er.length,dr=this.matrix,lr,sr,pr,mr,vr,yr=this.colorsOnly;for(vr=0;vr<ar;vr+=4)lr=er[vr],sr=er[vr+1],pr=er[vr+2],yr?(er[vr]=lr*dr[0]+sr*dr[1]+pr*dr[2]+dr[4]*255,er[vr+1]=lr*dr[5]+sr*dr[6]+pr*dr[7]+dr[9]*255,er[vr+2]=lr*dr[10]+sr*dr[11]+pr*dr[12]+dr[14]*255):(mr=er[vr+3],er[vr]=lr*dr[0]+sr*dr[1]+pr*dr[2]+mr*dr[3]+dr[4]*255,er[vr+1]=lr*dr[5]+sr*dr[6]+pr*dr[7]+mr*dr[8]+dr[9]*255,er[vr+2]=lr*dr[10]+sr*dr[11]+pr*dr[12]+mr*dr[13]+dr[14]*255,er[vr+3]=lr*dr[15]+sr*dr[16]+pr*dr[17]+mr*dr[18]+dr[19]*255)},getUniformLocations:function(or,nr){return{uColorMatrix:or.getUniformLocation(nr,"uColorMatrix"),uConstants:or.getUniformLocation(nr,"uConstants")}},sendUniformData:function(or,nr){var er=this.matrix,ar=[er[0],er[1],er[2],er[3],er[5],er[6],er[7],er[8],er[10],er[11],er[12],er[13],er[15],er[16],er[17],er[18]],dr=[er[4],er[9],er[14],er[19]];or.uniformMatrix4fv(nr.uColorMatrix,!1,ar),or.uniform4fv(nr.uConstants,dr)}}),tr.Image.filters.ColorMatrix.fromObject=tr.Image.filters.BaseFilter.fromObject}(St),function(cr){var tr=cr.fabric||(cr.fabric={}),hr=tr.Image.filters,ur=tr.util.createClass;hr.Brightness=ur(hr.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(or){if(this.brightness!==0){var nr=or.imageData,er=nr.data,ar,dr=er.length,lr=Math.round(this.brightness*255);for(ar=0;ar<dr;ar+=4)er[ar]=er[ar]+lr,er[ar+1]=er[ar+1]+lr,er[ar+2]=er[ar+2]+lr}},getUniformLocations:function(or,nr){return{uBrightness:or.getUniformLocation(nr,"uBrightness")}},sendUniformData:function(or,nr){or.uniform1f(nr.uBrightness,this.brightness)}}),tr.Image.filters.Brightness.fromObject=tr.Image.filters.BaseFilter.fromObject}(St),function(cr){var tr=cr.fabric||(cr.fabric={}),hr=tr.util.object.extend,ur=tr.Image.filters,or=tr.util.createClass;ur.Convolute=or(ur.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(nr){var er=Math.sqrt(this.matrix.length),ar=this.type+"_"+er+"_"+(this.opaque?1:0),dr=this.fragmentSource[ar];return nr.programCache.hasOwnProperty(ar)||(nr.programCache[ar]=this.createProgram(nr.context,dr)),nr.programCache[ar]},applyTo2d:function(nr){var er=nr.imageData,ar=er.data,dr=this.matrix,lr=Math.round(Math.sqrt(dr.length)),sr=Math.floor(lr/2),pr=er.width,mr=er.height,vr=nr.ctx.createImageData(pr,mr),yr=vr.data,br=this.opaque?1:0,_r,xr,Nr,zr,Tr,Br,Jr,Yr,Xr,Vr,$r,Lr,Er;for($r=0;$r<mr;$r++)for(Vr=0;Vr<pr;Vr++){for(Tr=($r*pr+Vr)*4,_r=0,xr=0,Nr=0,zr=0,Er=0;Er<lr;Er++)for(Lr=0;Lr<lr;Lr++)Jr=$r+Er-sr,Br=Vr+Lr-sr,!(Jr<0||Jr>=mr||Br<0||Br>=pr)&&(Yr=(Jr*pr+Br)*4,Xr=dr[Er*lr+Lr],_r+=ar[Yr]*Xr,xr+=ar[Yr+1]*Xr,Nr+=ar[Yr+2]*Xr,br||(zr+=ar[Yr+3]*Xr));yr[Tr]=_r,yr[Tr+1]=xr,yr[Tr+2]=Nr,br?yr[Tr+3]=ar[Tr+3]:yr[Tr+3]=zr}nr.imageData=vr},getUniformLocations:function(nr,er){return{uMatrix:nr.getUniformLocation(er,"uMatrix"),uOpaque:nr.getUniformLocation(er,"uOpaque"),uHalfSize:nr.getUniformLocation(er,"uHalfSize"),uSize:nr.getUniformLocation(er,"uSize")}},sendUniformData:function(nr,er){nr.uniform1fv(er.uMatrix,this.matrix)},toObject:function(){return hr(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),tr.Image.filters.Convolute.fromObject=tr.Image.filters.BaseFilter.fromObject}(St),function(cr){var tr=cr.fabric||(cr.fabric={}),hr=tr.Image.filters,ur=tr.util.createClass;hr.Grayscale=ur(hr.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(or){var nr=or.imageData,er=nr.data,ar,dr=er.length,lr,sr=this.mode;for(ar=0;ar<dr;ar+=4)sr==="average"?lr=(er[ar]+er[ar+1]+er[ar+2])/3:sr==="lightness"?lr=(Math.min(er[ar],er[ar+1],er[ar+2])+Math.max(er[ar],er[ar+1],er[ar+2]))/2:sr==="luminosity"&&(lr=.21*er[ar]+.72*er[ar+1]+.07*er[ar+2]),er[ar]=lr,er[ar+1]=lr,er[ar+2]=lr},retrieveShader:function(or){var nr=this.type+"_"+this.mode;if(!or.programCache.hasOwnProperty(nr)){var er=this.fragmentSource[this.mode];or.programCache[nr]=this.createProgram(or.context,er)}return or.programCache[nr]},getUniformLocations:function(or,nr){return{uMode:or.getUniformLocation(nr,"uMode")}},sendUniformData:function(or,nr){var er=1;or.uniform1i(nr.uMode,er)},isNeutralState:function(){return!1}}),tr.Image.filters.Grayscale.fromObject=tr.Image.filters.BaseFilter.fromObject}(St),function(cr){var tr=cr.fabric||(cr.fabric={}),hr=tr.Image.filters,ur=tr.util.createClass;hr.Invert=ur(hr.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(or){var nr=or.imageData,er=nr.data,ar,dr=er.length;for(ar=0;ar<dr;ar+=4)er[ar]=255-er[ar],er[ar+1]=255-er[ar+1],er[ar+2]=255-er[ar+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(or,nr){return{uInvert:or.getUniformLocation(nr,"uInvert")}},sendUniformData:function(or,nr){or.uniform1i(nr.uInvert,this.invert)}}),tr.Image.filters.Invert.fromObject=tr.Image.filters.BaseFilter.fromObject}(St),function(cr){var tr=cr.fabric||(cr.fabric={}),hr=tr.util.object.extend,ur=tr.Image.filters,or=tr.util.createClass;ur.Noise=or(ur.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(nr){if(this.noise!==0){var er=nr.imageData,ar=er.data,dr,lr=ar.length,sr=this.noise,pr;for(dr=0,lr=ar.length;dr<lr;dr+=4)pr=(.5-Math.random())*sr,ar[dr]+=pr,ar[dr+1]+=pr,ar[dr+2]+=pr}},getUniformLocations:function(nr,er){return{uNoise:nr.getUniformLocation(er,"uNoise"),uSeed:nr.getUniformLocation(er,"uSeed")}},sendUniformData:function(nr,er){nr.uniform1f(er.uNoise,this.noise/255),nr.uniform1f(er.uSeed,Math.random())},toObject:function(){return hr(this.callSuper("toObject"),{noise:this.noise})}}),tr.Image.filters.Noise.fromObject=tr.Image.filters.BaseFilter.fromObject}(St),function(cr){var tr=cr.fabric||(cr.fabric={}),hr=tr.Image.filters,ur=tr.util.createClass;hr.Pixelate=ur(hr.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(or){var nr=or.imageData,er=nr.data,ar=nr.height,dr=nr.width,lr,sr,pr,mr,vr,yr,br,_r,xr,Nr,zr;for(sr=0;sr<ar;sr+=this.blocksize)for(pr=0;pr<dr;pr+=this.blocksize)for(lr=sr*4*dr+pr*4,mr=er[lr],vr=er[lr+1],yr=er[lr+2],br=er[lr+3],Nr=Math.min(sr+this.blocksize,ar),zr=Math.min(pr+this.blocksize,dr),_r=sr;_r<Nr;_r++)for(xr=pr;xr<zr;xr++)lr=_r*4*dr+xr*4,er[lr]=mr,er[lr+1]=vr,er[lr+2]=yr,er[lr+3]=br},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(or,nr){return{uBlocksize:or.getUniformLocation(nr,"uBlocksize"),uStepW:or.getUniformLocation(nr,"uStepW"),uStepH:or.getUniformLocation(nr,"uStepH")}},sendUniformData:function(or,nr){or.uniform1f(nr.uBlocksize,this.blocksize)}}),tr.Image.filters.Pixelate.fromObject=tr.Image.filters.BaseFilter.fromObject}(St),function(cr){var tr=cr.fabric||(cr.fabric={}),hr=tr.util.object.extend,ur=tr.Image.filters,or=tr.util.createClass;ur.RemoveColor=or(ur.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(nr){var er=nr.imageData,ar=er.data,dr,lr=this.distance*255,sr,pr,mr,vr=new tr.Color(this.color).getSource(),yr=[vr[0]-lr,vr[1]-lr,vr[2]-lr],br=[vr[0]+lr,vr[1]+lr,vr[2]+lr];for(dr=0;dr<ar.length;dr+=4)sr=ar[dr],pr=ar[dr+1],mr=ar[dr+2],sr>yr[0]&&pr>yr[1]&&mr>yr[2]&&sr<br[0]&&pr<br[1]&&mr<br[2]&&(ar[dr+3]=0)},getUniformLocations:function(nr,er){return{uLow:nr.getUniformLocation(er,"uLow"),uHigh:nr.getUniformLocation(er,"uHigh")}},sendUniformData:function(nr,er){var ar=new tr.Color(this.color).getSource(),dr=parseFloat(this.distance),lr=[0+ar[0]/255-dr,0+ar[1]/255-dr,0+ar[2]/255-dr,1],sr=[ar[0]/255+dr,ar[1]/255+dr,ar[2]/255+dr,1];nr.uniform4fv(er.uLow,lr),nr.uniform4fv(er.uHigh,sr)},toObject:function(){return hr(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),tr.Image.filters.RemoveColor.fromObject=tr.Image.filters.BaseFilter.fromObject}(St),function(cr){var tr=cr.fabric||(cr.fabric={}),hr=tr.Image.filters,ur=tr.util.createClass,or={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var nr in or)hr[nr]=ur(hr.ColorMatrix,{type:nr,matrix:or[nr],mainParameter:!1,colorsOnly:!0}),tr.Image.filters[nr].fromObject=tr.Image.filters.BaseFilter.fromObject}(St),function(cr){var tr=cr.fabric,hr=tr.Image.filters,ur=tr.util.createClass;hr.BlendColor=ur(hr.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(or){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[or]+`}
}`},retrieveShader:function(or){var nr=this.type+"_"+this.mode,er;return or.programCache.hasOwnProperty(nr)||(er=this.buildSource(this.mode),or.programCache[nr]=this.createProgram(or.context,er)),or.programCache[nr]},applyTo2d:function(or){var nr=or.imageData,er=nr.data,ar=er.length,dr,lr,sr,pr,mr,vr,yr,br=1-this.alpha;yr=new tr.Color(this.color).getSource(),dr=yr[0]*this.alpha,lr=yr[1]*this.alpha,sr=yr[2]*this.alpha;for(var _r=0;_r<ar;_r+=4)switch(pr=er[_r],mr=er[_r+1],vr=er[_r+2],this.mode){case"multiply":er[_r]=pr*dr/255,er[_r+1]=mr*lr/255,er[_r+2]=vr*sr/255;break;case"screen":er[_r]=255-(255-pr)*(255-dr)/255,er[_r+1]=255-(255-mr)*(255-lr)/255,er[_r+2]=255-(255-vr)*(255-sr)/255;break;case"add":er[_r]=pr+dr,er[_r+1]=mr+lr,er[_r+2]=vr+sr;break;case"diff":case"difference":er[_r]=Math.abs(pr-dr),er[_r+1]=Math.abs(mr-lr),er[_r+2]=Math.abs(vr-sr);break;case"subtract":er[_r]=pr-dr,er[_r+1]=mr-lr,er[_r+2]=vr-sr;break;case"darken":er[_r]=Math.min(pr,dr),er[_r+1]=Math.min(mr,lr),er[_r+2]=Math.min(vr,sr);break;case"lighten":er[_r]=Math.max(pr,dr),er[_r+1]=Math.max(mr,lr),er[_r+2]=Math.max(vr,sr);break;case"overlay":er[_r]=dr<128?2*pr*dr/255:255-2*(255-pr)*(255-dr)/255,er[_r+1]=lr<128?2*mr*lr/255:255-2*(255-mr)*(255-lr)/255,er[_r+2]=sr<128?2*vr*sr/255:255-2*(255-vr)*(255-sr)/255;break;case"exclusion":er[_r]=dr+pr-2*dr*pr/255,er[_r+1]=lr+mr-2*lr*mr/255,er[_r+2]=sr+vr-2*sr*vr/255;break;case"tint":er[_r]=dr+pr*br,er[_r+1]=lr+mr*br,er[_r+2]=sr+vr*br}},getUniformLocations:function(or,nr){return{uColor:or.getUniformLocation(nr,"uColor")}},sendUniformData:function(or,nr){var er=new tr.Color(this.color).getSource();er[0]=this.alpha*er[0]/255,er[1]=this.alpha*er[1]/255,er[2]=this.alpha*er[2]/255,er[3]=this.alpha,or.uniform4fv(nr.uColor,er)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),tr.Image.filters.BlendColor.fromObject=tr.Image.filters.BaseFilter.fromObject}(St),function(cr){var tr=cr.fabric,hr=tr.Image.filters,ur=tr.util.createClass;hr.BlendImage=ur(hr.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(or){var nr=this.type+"_"+this.mode,er=this.fragmentSource[this.mode];return or.programCache.hasOwnProperty(nr)||(or.programCache[nr]=this.createProgram(or.context,er)),or.programCache[nr]},applyToWebGL:function(or){var nr=or.context,er=this.createTexture(or.filterBackend,this.image);this.bindAdditionalTexture(nr,er,nr.TEXTURE1),this.callSuper("applyToWebGL",or),this.unbindAdditionalTexture(nr,nr.TEXTURE1)},createTexture:function(or,nr){return or.getCachedTexture(nr.cacheKey,nr._element)},calculateMatrix:function(){var or=this.image,nr=or._element.width,er=or._element.height;return[1/or.scaleX,0,0,0,1/or.scaleY,0,-or.left/nr,-or.top/er,1]},applyTo2d:function(or){var nr=or.imageData,er=or.filterBackend.resources,ar=nr.data,dr=ar.length,lr=nr.width,sr=nr.height,pr,mr,vr,yr,br,_r,xr,Nr,zr,Tr,Br=this.image,Jr;er.blendImage||(er.blendImage=tr.util.createCanvasElement()),zr=er.blendImage,Tr=zr.getContext("2d"),zr.width!==lr||zr.height!==sr?(zr.width=lr,zr.height=sr):Tr.clearRect(0,0,lr,sr),Tr.setTransform(Br.scaleX,0,0,Br.scaleY,Br.left,Br.top),Tr.drawImage(Br._element,0,0,lr,sr),Jr=Tr.getImageData(0,0,lr,sr).data;for(var Yr=0;Yr<dr;Yr+=4)switch(br=ar[Yr],_r=ar[Yr+1],xr=ar[Yr+2],Nr=ar[Yr+3],pr=Jr[Yr],mr=Jr[Yr+1],vr=Jr[Yr+2],yr=Jr[Yr+3],this.mode){case"multiply":ar[Yr]=br*pr/255,ar[Yr+1]=_r*mr/255,ar[Yr+2]=xr*vr/255,ar[Yr+3]=Nr*yr/255;break;case"mask":ar[Yr+3]=yr;break}},getUniformLocations:function(or,nr){return{uTransformMatrix:or.getUniformLocation(nr,"uTransformMatrix"),uImage:or.getUniformLocation(nr,"uImage")}},sendUniformData:function(or,nr){var er=this.calculateMatrix();or.uniform1i(nr.uImage,1),or.uniformMatrix3fv(nr.uTransformMatrix,!1,er)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),tr.Image.filters.BlendImage.fromObject=function(or,nr){tr.Image.fromObject(or.image,function(er){var ar=tr.util.object.clone(or);ar.image=er,nr(new tr.Image.filters.BlendImage(ar))})}}(St),function(cr){var tr=cr.fabric||(cr.fabric={}),hr=Math.pow,ur=Math.floor,or=Math.sqrt,nr=Math.abs,er=Math.round,ar=Math.sin,dr=Math.ceil,lr=tr.Image.filters,sr=tr.util.createClass;lr.Resize=sr(lr.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(pr,mr){return{uDelta:pr.getUniformLocation(mr,"uDelta"),uTaps:pr.getUniformLocation(mr,"uTaps")}},sendUniformData:function(pr,mr){pr.uniform2fv(mr.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),pr.uniform1fv(mr.uTaps,this.taps)},retrieveShader:function(pr){var mr=this.getFilterWindow(),vr=this.type+"_"+mr;if(!pr.programCache.hasOwnProperty(vr)){var yr=this.generateShader(mr);pr.programCache[vr]=this.createProgram(pr.context,yr)}return pr.programCache[vr]},getFilterWindow:function(){var pr=this.tempScale;return Math.ceil(this.lanczosLobes/pr)},getTaps:function(){for(var pr=this.lanczosCreate(this.lanczosLobes),mr=this.tempScale,vr=this.getFilterWindow(),yr=new Array(vr),br=1;br<=vr;br++)yr[br-1]=pr(br*mr);return yr},generateShader:function(yr){for(var mr=new Array(yr),vr=this.fragmentSourceTOP,yr,br=1;br<=yr;br++)mr[br-1]=br+".0 * uDelta";return vr+="uniform float uTaps["+yr+`];
`,vr+=`void main() {
`,vr+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,vr+=`  float sum = 1.0;
`,mr.forEach(function(_r,xr){vr+="  color += texture2D(uTexture, vTexCoord + "+_r+") * uTaps["+xr+`];
`,vr+="  color += texture2D(uTexture, vTexCoord - "+_r+") * uTaps["+xr+`];
`,vr+="  sum += 2.0 * uTaps["+xr+`];
`}),vr+=`  gl_FragColor = color / sum;
`,vr+="}",vr},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(pr){pr.webgl?(pr.passes++,this.width=pr.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=pr.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),pr.destinationWidth=this.dW,this._setupFrameBuffer(pr),this.applyToWebGL(pr),this._swapTextures(pr),pr.sourceWidth=pr.destinationWidth,this.height=pr.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),pr.destinationHeight=this.dH,this._setupFrameBuffer(pr),this.applyToWebGL(pr),this._swapTextures(pr),pr.sourceHeight=pr.destinationHeight):this.applyTo2d(pr)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(pr){return function(mr){if(mr>=pr||mr<=-pr)return 0;if(mr<11920929e-14&&mr>-11920929e-14)return 1;mr*=Math.PI;var vr=mr/pr;return ar(mr)/mr*ar(vr)/vr}},applyTo2d:function(pr){var mr=pr.imageData,vr=this.scaleX,yr=this.scaleY;this.rcpScaleX=1/vr,this.rcpScaleY=1/yr;var br=mr.width,_r=mr.height,xr=er(br*vr),Nr=er(_r*yr),zr;this.resizeType==="sliceHack"?zr=this.sliceByTwo(pr,br,_r,xr,Nr):this.resizeType==="hermite"?zr=this.hermiteFastResize(pr,br,_r,xr,Nr):this.resizeType==="bilinear"?zr=this.bilinearFiltering(pr,br,_r,xr,Nr):this.resizeType==="lanczos"&&(zr=this.lanczosResize(pr,br,_r,xr,Nr)),pr.imageData=zr},sliceByTwo:function(pr,mr,vr,yr,br){var _r=pr.imageData,xr=.5,Nr=!1,zr=!1,Tr=mr*xr,Br=vr*xr,Jr=tr.filterBackend.resources,Yr,Xr,Vr=0,$r=0,Lr=mr,Er=0;for(Jr.sliceByTwo||(Jr.sliceByTwo=document.createElement("canvas")),Yr=Jr.sliceByTwo,(Yr.width<mr*1.5||Yr.height<vr)&&(Yr.width=mr*1.5,Yr.height=vr),Xr=Yr.getContext("2d"),Xr.clearRect(0,0,mr*1.5,vr),Xr.putImageData(_r,0,0),yr=ur(yr),br=ur(br);!Nr||!zr;)mr=Tr,vr=Br,yr<ur(Tr*xr)?Tr=ur(Tr*xr):(Tr=yr,Nr=!0),br<ur(Br*xr)?Br=ur(Br*xr):(Br=br,zr=!0),Xr.drawImage(Yr,Vr,$r,mr,vr,Lr,Er,Tr,Br),Vr=Lr,$r=Er,Er+=Br;return Xr.getImageData(Vr,$r,yr,br)},lanczosResize:function(pr,mr,vr,yr,br){function _r(Gr){var Cr,kr,Sr,Pr,jr,Wr,Kr,Qr,on,pn,fn;for(Er.x=(Gr+.5)*Br,Hr.x=ur(Er.x),Cr=0;Cr<br;Cr++){for(Er.y=(Cr+.5)*Jr,Hr.y=ur(Er.y),jr=0,Wr=0,Kr=0,Qr=0,on=0,kr=Hr.x-Vr;kr<=Hr.x+Vr;kr++)if(!(kr<0||kr>=mr)){pn=ur(1e3*nr(kr-Er.x)),Lr[pn]||(Lr[pn]={});for(var en=Hr.y-$r;en<=Hr.y+$r;en++)en<0||en>=vr||(fn=ur(1e3*nr(en-Er.y)),Lr[pn][fn]||(Lr[pn][fn]=Tr(or(hr(pn*Yr,2)+hr(fn*Xr,2))/1e3)),Sr=Lr[pn][fn],Sr>0&&(Pr=(en*mr+kr)*4,jr+=Sr,Wr+=Sr*xr[Pr],Kr+=Sr*xr[Pr+1],Qr+=Sr*xr[Pr+2],on+=Sr*xr[Pr+3]))}Pr=(Cr*yr+Gr)*4,zr[Pr]=Wr/jr,zr[Pr+1]=Kr/jr,zr[Pr+2]=Qr/jr,zr[Pr+3]=on/jr}return++Gr<yr?_r(Gr):Nr}var xr=pr.imageData.data,Nr=pr.ctx.createImageData(yr,br),zr=Nr.data,Tr=this.lanczosCreate(this.lanczosLobes),Br=this.rcpScaleX,Jr=this.rcpScaleY,Yr=2/this.rcpScaleX,Xr=2/this.rcpScaleY,Vr=dr(Br*this.lanczosLobes/2),$r=dr(Jr*this.lanczosLobes/2),Lr={},Er={},Hr={};return _r(0)},bilinearFiltering:function(pr,mr,vr,yr,br){var _r,xr,Nr,zr,Tr,Br,Jr,Yr,Xr,Vr,$r,Lr,Er=0,Hr,Gr=this.rcpScaleX,Cr=this.rcpScaleY,kr=4*(mr-1),Sr=pr.imageData,Pr=Sr.data,jr=pr.ctx.createImageData(yr,br),Wr=jr.data;for(Jr=0;Jr<br;Jr++)for(Yr=0;Yr<yr;Yr++)for(Tr=ur(Gr*Yr),Br=ur(Cr*Jr),Xr=Gr*Yr-Tr,Vr=Cr*Jr-Br,Hr=4*(Br*mr+Tr),$r=0;$r<4;$r++)_r=Pr[Hr+$r],xr=Pr[Hr+4+$r],Nr=Pr[Hr+kr+$r],zr=Pr[Hr+kr+4+$r],Lr=_r*(1-Xr)*(1-Vr)+xr*Xr*(1-Vr)+Nr*Vr*(1-Xr)+zr*Xr*Vr,Wr[Er++]=Lr;return jr},hermiteFastResize:function(pr,mr,vr,yr,br){for(var _r=this.rcpScaleX,xr=this.rcpScaleY,Nr=dr(_r/2),zr=dr(xr/2),Tr=pr.imageData,Br=Tr.data,Jr=pr.ctx.createImageData(yr,br),Yr=Jr.data,Xr=0;Xr<br;Xr++)for(var Vr=0;Vr<yr;Vr++){for(var $r=(Vr+Xr*yr)*4,Lr=0,Er=0,Hr=0,Gr=0,Cr=0,kr=0,Sr=0,Pr=(Xr+.5)*xr,jr=ur(Xr*xr);jr<(Xr+1)*xr;jr++)for(var Wr=nr(Pr-(jr+.5))/zr,Kr=(Vr+.5)*_r,Qr=Wr*Wr,on=ur(Vr*_r);on<(Vr+1)*_r;on++){var pn=nr(Kr-(on+.5))/Nr,fn=or(Qr+pn*pn);fn>1&&fn<-1||(Lr=2*fn*fn*fn-3*fn*fn+1,Lr>0&&(pn=4*(on+jr*mr),Sr+=Lr*Br[pn+3],Hr+=Lr,Br[pn+3]<255&&(Lr=Lr*Br[pn+3]/250),Gr+=Lr*Br[pn],Cr+=Lr*Br[pn+1],kr+=Lr*Br[pn+2],Er+=Lr))}Yr[$r]=Gr/Er,Yr[$r+1]=Cr/Er,Yr[$r+2]=kr/Er,Yr[$r+3]=Sr/Hr}return Jr},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),tr.Image.filters.Resize.fromObject=tr.Image.filters.BaseFilter.fromObject}(St),function(cr){var tr=cr.fabric||(cr.fabric={}),hr=tr.Image.filters,ur=tr.util.createClass;hr.Contrast=ur(hr.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(or){if(this.contrast!==0){var nr=or.imageData,er,dr,ar=nr.data,dr=ar.length,lr=Math.floor(this.contrast*255),sr=259*(lr+255)/(255*(259-lr));for(er=0;er<dr;er+=4)ar[er]=sr*(ar[er]-128)+128,ar[er+1]=sr*(ar[er+1]-128)+128,ar[er+2]=sr*(ar[er+2]-128)+128}},getUniformLocations:function(or,nr){return{uContrast:or.getUniformLocation(nr,"uContrast")}},sendUniformData:function(or,nr){or.uniform1f(nr.uContrast,this.contrast)}}),tr.Image.filters.Contrast.fromObject=tr.Image.filters.BaseFilter.fromObject}(St),function(cr){var tr=cr.fabric||(cr.fabric={}),hr=tr.Image.filters,ur=tr.util.createClass;hr.Saturation=ur(hr.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(or){if(this.saturation!==0){var nr=or.imageData,er=nr.data,ar=er.length,dr=-this.saturation,lr,sr;for(lr=0;lr<ar;lr+=4)sr=Math.max(er[lr],er[lr+1],er[lr+2]),er[lr]+=sr!==er[lr]?(sr-er[lr])*dr:0,er[lr+1]+=sr!==er[lr+1]?(sr-er[lr+1])*dr:0,er[lr+2]+=sr!==er[lr+2]?(sr-er[lr+2])*dr:0}},getUniformLocations:function(or,nr){return{uSaturation:or.getUniformLocation(nr,"uSaturation")}},sendUniformData:function(or,nr){or.uniform1f(nr.uSaturation,-this.saturation)}}),tr.Image.filters.Saturation.fromObject=tr.Image.filters.BaseFilter.fromObject}(St),function(cr){var tr=cr.fabric||(cr.fabric={}),hr=tr.Image.filters,ur=tr.util.createClass;hr.Vibrance=ur(hr.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(or){if(this.vibrance!==0){var nr=or.imageData,er=nr.data,ar=er.length,dr=-this.vibrance,lr,sr,pr,mr;for(lr=0;lr<ar;lr+=4)sr=Math.max(er[lr],er[lr+1],er[lr+2]),pr=(er[lr]+er[lr+1]+er[lr+2])/3,mr=Math.abs(sr-pr)*2/255*dr,er[lr]+=sr!==er[lr]?(sr-er[lr])*mr:0,er[lr+1]+=sr!==er[lr+1]?(sr-er[lr+1])*mr:0,er[lr+2]+=sr!==er[lr+2]?(sr-er[lr+2])*mr:0}},getUniformLocations:function(or,nr){return{uVibrance:or.getUniformLocation(nr,"uVibrance")}},sendUniformData:function(or,nr){or.uniform1f(nr.uVibrance,-this.vibrance)}}),tr.Image.filters.Vibrance.fromObject=tr.Image.filters.BaseFilter.fromObject}(St),function(cr){var tr=cr.fabric||(cr.fabric={}),hr=tr.Image.filters,ur=tr.util.createClass;hr.Blur=ur(hr.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(or){or.webgl?(this.aspectRatio=or.sourceWidth/or.sourceHeight,or.passes++,this._setupFrameBuffer(or),this.horizontal=!0,this.applyToWebGL(or),this._swapTextures(or),this._setupFrameBuffer(or),this.horizontal=!1,this.applyToWebGL(or),this._swapTextures(or)):this.applyTo2d(or)},applyTo2d:function(or){or.imageData=this.simpleBlur(or)},simpleBlur:function(or){var nr=or.filterBackend.resources,er,ar,dr=or.imageData.width,lr=or.imageData.height;nr.blurLayer1||(nr.blurLayer1=tr.util.createCanvasElement(),nr.blurLayer2=tr.util.createCanvasElement()),er=nr.blurLayer1,ar=nr.blurLayer2,(er.width!==dr||er.height!==lr)&&(ar.width=er.width=dr,ar.height=er.height=lr);var sr=er.getContext("2d"),pr=ar.getContext("2d"),mr=15,vr,yr,br,_r,xr=this.blur*.06*.5;for(sr.putImageData(or.imageData,0,0),pr.clearRect(0,0,dr,lr),_r=-mr;_r<=mr;_r++)vr=(Math.random()-.5)/4,yr=_r/mr,br=xr*yr*dr+vr,pr.globalAlpha=1-Math.abs(yr),pr.drawImage(er,br,vr),sr.drawImage(ar,0,0),pr.globalAlpha=1,pr.clearRect(0,0,ar.width,ar.height);for(_r=-mr;_r<=mr;_r++)vr=(Math.random()-.5)/4,yr=_r/mr,br=xr*yr*lr+vr,pr.globalAlpha=1-Math.abs(yr),pr.drawImage(er,vr,br),sr.drawImage(ar,0,0),pr.globalAlpha=1,pr.clearRect(0,0,ar.width,ar.height);or.ctx.drawImage(er,0,0);var Nr=or.ctx.getImageData(0,0,er.width,er.height);return sr.globalAlpha=1,sr.clearRect(0,0,er.width,er.height),Nr},getUniformLocations:function(or,nr){return{delta:or.getUniformLocation(nr,"uDelta")}},sendUniformData:function(or,nr){var er=this.chooseRightDelta();or.uniform2fv(nr.delta,er)},chooseRightDelta:function(){var or=1,nr=[0,0],er;return this.horizontal?this.aspectRatio>1&&(or=1/this.aspectRatio):this.aspectRatio<1&&(or=this.aspectRatio),er=or*this.blur*.12,this.horizontal?nr[0]=er:nr[1]=er,nr}}),hr.Blur.fromObject=tr.Image.filters.BaseFilter.fromObject}(St),function(cr){var tr=cr.fabric||(cr.fabric={}),hr=tr.Image.filters,ur=tr.util.createClass;hr.Gamma=ur(hr.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(or){this.gamma=[1,1,1],hr.BaseFilter.prototype.initialize.call(this,or)},applyTo2d:function(or){var nr=or.imageData,er=nr.data,ar=this.gamma,dr=er.length,lr=1/ar[0],sr=1/ar[1],pr=1/ar[2],mr;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),mr=0,dr=256;mr<dr;mr++)this.rVals[mr]=Math.pow(mr/255,lr)*255,this.gVals[mr]=Math.pow(mr/255,sr)*255,this.bVals[mr]=Math.pow(mr/255,pr)*255;for(mr=0,dr=er.length;mr<dr;mr+=4)er[mr]=this.rVals[er[mr]],er[mr+1]=this.gVals[er[mr+1]],er[mr+2]=this.bVals[er[mr+2]]},getUniformLocations:function(or,nr){return{uGamma:or.getUniformLocation(nr,"uGamma")}},sendUniformData:function(or,nr){or.uniform3fv(nr.uGamma,this.gamma)}}),tr.Image.filters.Gamma.fromObject=tr.Image.filters.BaseFilter.fromObject}(St),function(cr){var tr=cr.fabric||(cr.fabric={}),hr=tr.Image.filters,ur=tr.util.createClass;hr.Composed=ur(hr.BaseFilter,{type:"Composed",subFilters:[],initialize:function(or){this.callSuper("initialize",or),this.subFilters=this.subFilters.slice(0)},applyTo:function(or){or.passes+=this.subFilters.length-1,this.subFilters.forEach(function(nr){nr.applyTo(or)})},toObject:function(){return tr.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(or){return or.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(or){return!or.isNeutralState()})}}),tr.Image.filters.Composed.fromObject=function(or,nr){var er=or.subFilters||[],ar=er.map(function(lr){return new tr.Image.filters[lr.type](lr)}),dr=new tr.Image.filters.Composed({subFilters:ar});return nr&&nr(dr),dr}}(St),function(cr){var tr=cr.fabric||(cr.fabric={}),hr=tr.Image.filters,ur=tr.util.createClass;hr.HueRotation=ur(hr.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var or=this.rotation*Math.PI,nr=tr.util.cos(or),er=tr.util.sin(or),ar=1/3,dr=Math.sqrt(ar)*er,lr=1-nr;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=nr+lr/3,this.matrix[1]=ar*lr-dr,this.matrix[2]=ar*lr+dr,this.matrix[5]=ar*lr+dr,this.matrix[6]=nr+ar*lr,this.matrix[7]=ar*lr-dr,this.matrix[10]=ar*lr-dr,this.matrix[11]=ar*lr+dr,this.matrix[12]=nr+ar*lr},isNeutralState:function(or){return this.calculateMatrix(),hr.BaseFilter.prototype.isNeutralState.call(this,or)},applyTo:function(or){this.calculateMatrix(),hr.BaseFilter.prototype.applyTo.call(this,or)}}),tr.Image.filters.HueRotation.fromObject=tr.Image.filters.BaseFilter.fromObject}(St),function(cr){var tr=cr.fabric||(cr.fabric={}),hr=tr.util.object.clone;if(tr.Text){tr.warn("fabric.Text is already defined");return}var ur="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");tr.Text=tr.util.createClass(tr.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:tr.Object.prototype.stateProperties.concat(ur),cacheProperties:tr.Object.prototype.cacheProperties.concat(ur),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(or,nr){this.styles=nr?nr.styles||{}:{},this.text=or,this.__skipDimension=!0,this.callSuper("initialize",nr),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var or=this.path;or&&(or.segmentsInfo=tr.util.getPathSegmentsInfo(or.path))},getMeasuringContext:function(){return tr._measuringContext||(tr._measuringContext=this.canvas&&this.canvas.contextCache||tr.util.createCanvasElement().getContext("2d")),tr._measuringContext},_splitText:function(){var or=this._splitTextIntoLines(this.text);return this.textLines=or.lines,this._textLines=or.graphemeLines,this._unwrappedTextLines=or._unwrappedLines,this._text=or.graphemeText,or},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var or,nr,er,ar,dr,lr,sr,pr=0,mr=this._textLines.length;pr<mr;pr++)if(!(this.textAlign!=="justify"&&(pr===mr-1||this.isEndOfWrapping(pr)))&&(ar=0,dr=this._textLines[pr],nr=this.getLineWidth(pr),nr<this.width&&(sr=this.textLines[pr].match(this._reSpacesAndTabs)))){er=sr.length,or=(this.width-nr)/er;for(var vr=0,yr=dr.length;vr<=yr;vr++)lr=this.__charBounds[pr][vr],this._reSpaceAndTab.test(dr[vr])?(lr.width+=or,lr.kernedWidth+=or,lr.left+=ar,ar+=or):lr.left+=ar}},isEndOfWrapping:function(or){return or===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var or=this.callSuper("_getCacheCanvasDimensions"),nr=this.fontSize;return or.width+=nr*or.zoomX,or.height+=nr*or.zoomY,or},_render:function(or){var nr=this.path;nr&&!nr.isNotVisible()&&nr._render(or),this._setTextStyles(or),this._renderTextLinesBackground(or),this._renderTextDecoration(or,"underline"),this._renderText(or),this._renderTextDecoration(or,"overline"),this._renderTextDecoration(or,"linethrough")},_renderText:function(or){this.paintFirst==="stroke"?(this._renderTextStroke(or),this._renderTextFill(or)):(this._renderTextFill(or),this._renderTextStroke(or))},_setTextStyles:function(or,nr,er){if(or.textBaseline="alphabetical",this.path)switch(this.pathAlign){case"center":or.textBaseline="middle";break;case"ascender":or.textBaseline="top";break;case"descender":or.textBaseline="bottom";break}or.font=this._getFontDeclaration(nr,er)},calcTextWidth:function(){for(var or=this.getLineWidth(0),nr=1,er=this._textLines.length;nr<er;nr++){var ar=this.getLineWidth(nr);ar>or&&(or=ar)}return or},_renderTextLine:function(or,nr,er,ar,dr,lr){this._renderChars(or,nr,er,ar,dr,lr)},_renderTextLinesBackground:function(or){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var nr,er,ar=or.fillStyle,dr,lr,sr=this._getLeftOffset(),pr=this._getTopOffset(),mr=0,vr=0,yr,br,_r=this.path,xr,Nr=0,zr=this._textLines.length;Nr<zr;Nr++){if(nr=this.getHeightOfLine(Nr),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",Nr)){pr+=nr;continue}dr=this._textLines[Nr],er=this._getLineLeftOffset(Nr),vr=0,mr=0,lr=this.getValueOfPropertyAt(Nr,0,"textBackgroundColor");for(var Tr=0,Br=dr.length;Tr<Br;Tr++)yr=this.__charBounds[Nr][Tr],br=this.getValueOfPropertyAt(Nr,Tr,"textBackgroundColor"),_r?(or.save(),or.translate(yr.renderLeft,yr.renderTop),or.rotate(yr.angle),or.fillStyle=br,br&&or.fillRect(-yr.width/2,-nr/this.lineHeight*(1-this._fontSizeFraction),yr.width,nr/this.lineHeight),or.restore()):br!==lr?(xr=sr+er+mr,this.direction==="rtl"&&(xr=this.width-xr-vr),or.fillStyle=lr,lr&&or.fillRect(xr,pr,vr,nr/this.lineHeight),mr=yr.left,vr=yr.width,lr=br):vr+=yr.kernedWidth;br&&!_r&&(xr=sr+er+mr,this.direction==="rtl"&&(xr=this.width-xr-vr),or.fillStyle=br,or.fillRect(xr,pr,vr,nr/this.lineHeight)),pr+=nr}or.fillStyle=ar,this._removeShadow(or)}},getFontCache:function(or){var nr=or.fontFamily.toLowerCase();tr.charWidthsCache[nr]||(tr.charWidthsCache[nr]={});var er=tr.charWidthsCache[nr],ar=or.fontStyle.toLowerCase()+"_"+(or.fontWeight+"").toLowerCase();return er[ar]||(er[ar]={}),er[ar]},_measureChar:function(or,nr,er,ar){var dr=this.getFontCache(nr),lr=this._getFontDeclaration(nr),sr=this._getFontDeclaration(ar),pr=er+or,mr=lr===sr,vr,yr,br,_r=nr.fontSize/this.CACHE_FONT_SIZE,xr;if(er&&dr[er]!==void 0&&(br=dr[er]),dr[or]!==void 0&&(xr=vr=dr[or]),mr&&dr[pr]!==void 0&&(yr=dr[pr],xr=yr-br),vr===void 0||br===void 0||yr===void 0){var Nr=this.getMeasuringContext();this._setTextStyles(Nr,nr,!0)}return vr===void 0&&(xr=vr=Nr.measureText(or).width,dr[or]=vr),br===void 0&&mr&&er&&(br=Nr.measureText(er).width,dr[er]=br),mr&&yr===void 0&&(yr=Nr.measureText(pr).width,dr[pr]=yr,xr=yr-br),{width:vr*_r,kernedWidth:xr*_r}},getHeightOfChar:function(or,nr){return this.getValueOfPropertyAt(or,nr,"fontSize")},measureLine:function(or){var nr=this._measureLine(or);return this.charSpacing!==0&&(nr.width-=this._getWidthOfCharSpacing()),nr.width<0&&(nr.width=0),nr},_measureLine:function(or){var nr=0,er,ar,dr=this._textLines[or],lr,sr,pr=0,mr=new Array(dr.length),vr=0,yr,br,_r=this.path,xr=this.pathSide==="right";for(this.__charBounds[or]=mr,er=0;er<dr.length;er++)ar=dr[er],sr=this._getGraphemeBox(ar,or,er,lr),mr[er]=sr,nr+=sr.kernedWidth,lr=ar;if(mr[er]={left:sr?sr.left+sr.width:0,width:0,kernedWidth:0,height:this.fontSize},_r){switch(br=_r.segmentsInfo[_r.segmentsInfo.length-1].length,yr=tr.util.getPointOnPath(_r.path,0,_r.segmentsInfo),yr.x+=_r.pathOffset.x,yr.y+=_r.pathOffset.y,this.textAlign){case"left":vr=xr?br-nr:0;break;case"center":vr=(br-nr)/2;break;case"right":vr=xr?0:br-nr;break}for(vr+=this.pathStartOffset*(xr?-1:1),er=xr?dr.length-1:0;xr?er>=0:er<dr.length;xr?er--:er++)sr=mr[er],vr>br?vr%=br:vr<0&&(vr+=br),this._setGraphemeOnPath(vr,sr,yr),vr+=sr.kernedWidth}return{width:nr,numOfSpaces:pr}},_setGraphemeOnPath:function(or,nr,er){var ar=or+nr.kernedWidth/2,dr=this.path,lr=tr.util.getPointOnPath(dr.path,ar,dr.segmentsInfo);nr.renderLeft=lr.x-er.x,nr.renderTop=lr.y-er.y,nr.angle=lr.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(or,nr,er,ar,dr){var lr=this.getCompleteStyleDeclaration(nr,er),sr=ar?this.getCompleteStyleDeclaration(nr,er-1):{},pr=this._measureChar(or,lr,ar,sr),mr=pr.kernedWidth,vr=pr.width,yr;this.charSpacing!==0&&(yr=this._getWidthOfCharSpacing(),vr+=yr,mr+=yr);var br={width:vr,left:0,height:lr.fontSize,kernedWidth:mr,deltaY:lr.deltaY};if(er>0&&!dr){var _r=this.__charBounds[nr][er-1];br.left=_r.left+_r.width+pr.kernedWidth-pr.width}return br},getHeightOfLine:function(or){if(this.__lineHeights[or])return this.__lineHeights[or];for(var nr=this._textLines[or],er=this.getHeightOfChar(or,0),ar=1,dr=nr.length;ar<dr;ar++)er=Math.max(this.getHeightOfChar(or,ar),er);return this.__lineHeights[or]=er*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var or,nr=0,er=0,ar=this._textLines.length;er<ar;er++)or=this.getHeightOfLine(er),nr+=er===ar-1?or/this.lineHeight:or;return nr},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(or,nr){or.save();for(var er=0,ar=this._getLeftOffset(),dr=this._getTopOffset(),lr=0,sr=this._textLines.length;lr<sr;lr++){var pr=this.getHeightOfLine(lr),mr=pr/this.lineHeight,vr=this._getLineLeftOffset(lr);this._renderTextLine(nr,or,this._textLines[lr],ar+vr,dr+er+mr,lr),er+=pr}or.restore()},_renderTextFill:function(or){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(or,"fillText")},_renderTextStroke:function(or){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(or),or.save(),this._setLineDash(or,this.strokeDashArray),or.beginPath(),this._renderTextCommon(or,"strokeText"),or.closePath(),or.restore())},_renderChars:function(or,nr,er,ar,dr,lr){var sr=this.getHeightOfLine(lr),pr=this.textAlign.indexOf("justify")!==-1,mr,vr,yr="",br,_r=0,xr,Nr=this.path,zr=!pr&&this.charSpacing===0&&this.isEmptyStyles(lr)&&!Nr,Tr=this.direction==="ltr",Br=this.direction==="ltr"?1:-1,Jr,Yr=nr.canvas.getAttribute("dir");if(nr.save(),Yr!==this.direction&&(nr.canvas.setAttribute("dir",Tr?"ltr":"rtl"),nr.direction=Tr?"ltr":"rtl",nr.textAlign=Tr?"left":"right"),dr-=sr*this._fontSizeFraction/this.lineHeight,zr){this._renderChar(or,nr,lr,0,er.join(""),ar,dr,sr),nr.restore();return}for(var Xr=0,Vr=er.length-1;Xr<=Vr;Xr++)xr=Xr===Vr||this.charSpacing||Nr,yr+=er[Xr],br=this.__charBounds[lr][Xr],_r===0?(ar+=Br*(br.kernedWidth-br.width),_r+=br.width):_r+=br.kernedWidth,pr&&!xr&&this._reSpaceAndTab.test(er[Xr])&&(xr=!0),xr||(mr=mr||this.getCompleteStyleDeclaration(lr,Xr),vr=this.getCompleteStyleDeclaration(lr,Xr+1),xr=tr.util.hasStyleChanged(mr,vr,!1)),xr&&(Nr?(nr.save(),nr.translate(br.renderLeft,br.renderTop),nr.rotate(br.angle),this._renderChar(or,nr,lr,Xr,yr,-_r/2,0,sr),nr.restore()):(Jr=ar,this._renderChar(or,nr,lr,Xr,yr,Jr,dr,sr)),yr="",mr=vr,ar+=Br*_r,_r=0);nr.restore()},_applyPatternGradientTransformText:function(or){var nr=tr.util.createCanvasElement(),er,ar=this.width+this.strokeWidth,dr=this.height+this.strokeWidth;return nr.width=ar,nr.height=dr,er=nr.getContext("2d"),er.beginPath(),er.moveTo(0,0),er.lineTo(ar,0),er.lineTo(ar,dr),er.lineTo(0,dr),er.closePath(),er.translate(ar/2,dr/2),er.fillStyle=or.toLive(er),this._applyPatternGradientTransform(er,or),er.fill(),er.createPattern(nr,"no-repeat")},handleFiller:function(or,nr,er){var ar,dr;return er.toLive?er.gradientUnits==="percentage"||er.gradientTransform||er.patternTransform?(ar=-this.width/2,dr=-this.height/2,or.translate(ar,dr),or[nr]=this._applyPatternGradientTransformText(er),{offsetX:ar,offsetY:dr}):(or[nr]=er.toLive(or,this),this._applyPatternGradientTransform(or,er)):(or[nr]=er,{offsetX:0,offsetY:0})},_setStrokeStyles:function(or,nr){return or.lineWidth=nr.strokeWidth,or.lineCap=this.strokeLineCap,or.lineDashOffset=this.strokeDashOffset,or.lineJoin=this.strokeLineJoin,or.miterLimit=this.strokeMiterLimit,this.handleFiller(or,"strokeStyle",nr.stroke)},_setFillStyles:function(or,nr){return this.handleFiller(or,"fillStyle",nr.fill)},_renderChar:function(or,nr,er,ar,dr,lr,sr){var pr=this._getStyleDeclaration(er,ar),mr=this.getCompleteStyleDeclaration(er,ar),vr=or==="fillText"&&mr.fill,yr=or==="strokeText"&&mr.stroke&&mr.strokeWidth,br,_r;!yr&&!vr||(nr.save(),vr&&(br=this._setFillStyles(nr,mr)),yr&&(_r=this._setStrokeStyles(nr,mr)),nr.font=this._getFontDeclaration(mr),pr&&pr.textBackgroundColor&&this._removeShadow(nr),pr&&pr.deltaY&&(sr+=pr.deltaY),vr&&nr.fillText(dr,lr-br.offsetX,sr-br.offsetY),yr&&nr.strokeText(dr,lr-_r.offsetX,sr-_r.offsetY),nr.restore())},setSuperscript:function(or,nr){return this._setScript(or,nr,this.superscript)},setSubscript:function(or,nr){return this._setScript(or,nr,this.subscript)},_setScript:function(or,nr,er){var ar=this.get2DCursorLocation(or,!0),dr=this.getValueOfPropertyAt(ar.lineIndex,ar.charIndex,"fontSize"),lr=this.getValueOfPropertyAt(ar.lineIndex,ar.charIndex,"deltaY"),sr={fontSize:dr*er.size,deltaY:lr+dr*er.baseline};return this.setSelectionStyles(sr,or,nr),this},_getLineLeftOffset:function(or){var nr=this.getLineWidth(or),er=this.width-nr,ar=this.textAlign,dr=this.direction,sr,lr=0,sr=this.isEndOfWrapping(or);return ar==="justify"||ar==="justify-center"&&!sr||ar==="justify-right"&&!sr||ar==="justify-left"&&!sr?0:(ar==="center"&&(lr=er/2),ar==="right"&&(lr=er),ar==="justify-center"&&(lr=er/2),ar==="justify-right"&&(lr=er),dr==="rtl"&&(lr-=er),lr)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var or=this._forceClearCache;return or||(or=this.hasStateChanged("_dimensionAffectingProps")),or&&(this.dirty=!0,this._forceClearCache=!1),or},getLineWidth:function(or){if(this.__lineWidths[or]!==void 0)return this.__lineWidths[or];var nr=this.measureLine(or),er=nr.width;return this.__lineWidths[or]=er,er},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(or,nr,er){var ar=this._getStyleDeclaration(or,nr);return ar&&typeof ar[er]<"u"?ar[er]:this[er]},_renderTextDecoration:function(or,nr){if(!(!this[nr]&&!this.styleHas(nr))){for(var er,ar,dr,lr,sr,pr,mr,vr,yr=this._getLeftOffset(),br=this._getTopOffset(),_r,xr,Nr,zr,Tr,Br,Jr,Yr,Xr=this.path,Vr=this._getWidthOfCharSpacing(),$r=this.offsets[nr],Lr=0,Er=this._textLines.length;Lr<Er;Lr++){if(er=this.getHeightOfLine(Lr),!this[nr]&&!this.styleHas(nr,Lr)){br+=er;continue}mr=this._textLines[Lr],Br=er/this.lineHeight,lr=this._getLineLeftOffset(Lr),xr=0,Nr=0,vr=this.getValueOfPropertyAt(Lr,0,nr),Yr=this.getValueOfPropertyAt(Lr,0,"fill"),_r=br+Br*(1-this._fontSizeFraction),ar=this.getHeightOfChar(Lr,0),sr=this.getValueOfPropertyAt(Lr,0,"deltaY");for(var Hr=0,Gr=mr.length;Hr<Gr;Hr++)if(zr=this.__charBounds[Lr][Hr],Tr=this.getValueOfPropertyAt(Lr,Hr,nr),Jr=this.getValueOfPropertyAt(Lr,Hr,"fill"),dr=this.getHeightOfChar(Lr,Hr),pr=this.getValueOfPropertyAt(Lr,Hr,"deltaY"),Xr&&Tr&&Jr)or.save(),or.fillStyle=Yr,or.translate(zr.renderLeft,zr.renderTop),or.rotate(zr.angle),or.fillRect(-zr.kernedWidth/2,$r*dr+pr,zr.kernedWidth,this.fontSize/15),or.restore();else if((Tr!==vr||Jr!==Yr||dr!==ar||pr!==sr)&&Nr>0){var Cr=yr+lr+xr;this.direction==="rtl"&&(Cr=this.width-Cr-Nr),vr&&Yr&&(or.fillStyle=Yr,or.fillRect(Cr,_r+$r*ar+sr,Nr,this.fontSize/15)),xr=zr.left,Nr=zr.width,vr=Tr,Yr=Jr,ar=dr,sr=pr}else Nr+=zr.kernedWidth;var Cr=yr+lr+xr;this.direction==="rtl"&&(Cr=this.width-Cr-Nr),or.fillStyle=Jr,Tr&&Jr&&or.fillRect(Cr,_r+$r*ar+sr,Nr-Vr,this.fontSize/15),br+=er}this._removeShadow(or)}},_getFontDeclaration:function(or,nr){var er=or||this,ar=this.fontFamily,dr=tr.Text.genericFonts.indexOf(ar.toLowerCase())>-1,lr=ar===void 0||ar.indexOf("'")>-1||ar.indexOf(",")>-1||ar.indexOf('"')>-1||dr?er.fontFamily:'"'+er.fontFamily+'"';return[tr.isLikelyNode?er.fontWeight:er.fontStyle,tr.isLikelyNode?er.fontStyle:er.fontWeight,nr?this.CACHE_FONT_SIZE+"px":er.fontSize+"px",lr].join(" ")},render:function(or){!this.visible||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",or))},_splitTextIntoLines:function(or){for(var nr=or.split(this._reNewline),er=new Array(nr.length),ar=[`
`],dr=[],lr=0;lr<nr.length;lr++)er[lr]=tr.util.string.graphemeSplit(nr[lr]),dr=dr.concat(er[lr],ar);return dr.pop(),{_unwrappedLines:er,lines:nr,graphemeText:dr,graphemeLines:er}},toObject:function(or){var nr=ur.concat(or),er=this.callSuper("toObject",nr);return er.styles=tr.util.stylesToArray(this.styles,this.text),er.path&&(er.path=this.path.toObject()),er},set:function(or,nr){this.callSuper("set",or,nr);var er=!1,ar=!1;if(typeof or=="object")for(var dr in or)dr==="path"&&this.setPathInfo(),er=er||this._dimensionAffectingProps.indexOf(dr)!==-1,ar=ar||dr==="path";else er=this._dimensionAffectingProps.indexOf(or)!==-1,ar=or==="path";return ar&&this.setPathInfo(),er&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),tr.Text.ATTRIBUTE_NAMES=tr.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),tr.Text.DEFAULT_SVG_FONT_SIZE=16,tr.Text.fromElement=function(or,nr,er){if(!or)return nr(null);var ar=tr.parseAttributes(or,tr.Text.ATTRIBUTE_NAMES),dr=ar.textAnchor||"left";if(er=tr.util.object.extend(er?hr(er):{},ar),er.top=er.top||0,er.left=er.left||0,ar.textDecoration){var lr=ar.textDecoration;lr.indexOf("underline")!==-1&&(er.underline=!0),lr.indexOf("overline")!==-1&&(er.overline=!0),lr.indexOf("line-through")!==-1&&(er.linethrough=!0),delete er.textDecoration}"dx"in ar&&(er.left+=ar.dx),"dy"in ar&&(er.top+=ar.dy),"fontSize"in er||(er.fontSize=tr.Text.DEFAULT_SVG_FONT_SIZE);var sr="";"textContent"in or?sr=or.textContent:"firstChild"in or&&or.firstChild!==null&&"data"in or.firstChild&&or.firstChild.data!==null&&(sr=or.firstChild.data),sr=sr.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var pr=er.strokeWidth;er.strokeWidth=0;var mr=new tr.Text(sr,er),vr=mr.getScaledHeight()/mr.height,yr=(mr.height+mr.strokeWidth)*mr.lineHeight-mr.height,br=yr*vr,_r=mr.getScaledHeight()+br,xr=0;dr==="center"&&(xr=mr.getScaledWidth()/2),dr==="right"&&(xr=mr.getScaledWidth()),mr.set({left:mr.left-xr,top:mr.top-(_r-mr.fontSize*(.07+mr._fontSizeFraction))/mr.lineHeight,strokeWidth:typeof pr<"u"?pr:1}),nr(mr)},tr.Text.fromObject=function(or,nr){var er=hr(or),ar=or.path;return delete er.path,tr.Object._fromObject("Text",er,function(dr){dr.styles=tr.util.stylesFromArray(or.styles,or.text),ar?tr.Object._fromObject("Path",ar,function(lr){dr.set("path",lr),nr(dr)},"path"):nr(dr)},"text")},tr.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],tr.util.createAccessors&&tr.util.createAccessors(tr.Text)}(St),function(){e.util.object.extend(e.Text.prototype,{isEmptyStyles:function(cr){if(!this.styles||typeof cr<"u"&&!this.styles[cr])return!0;var tr=typeof cr>"u"?this.styles:{line:this.styles[cr]};for(var hr in tr)for(var ur in tr[hr])for(var or in tr[hr][ur])return!1;return!0},styleHas:function(cr,tr){if(!this.styles||!cr||cr===""||typeof tr<"u"&&!this.styles[tr])return!1;var hr=typeof tr>"u"?this.styles:{0:this.styles[tr]};for(var ur in hr)for(var or in hr[ur])if(typeof hr[ur][or][cr]<"u")return!0;return!1},cleanStyle:function(cr){if(!this.styles||!cr||cr==="")return!1;var tr=this.styles,hr=0,ur,or,nr=!0,er=0,ar;for(var dr in tr){ur=0;for(var lr in tr[dr]){var ar=tr[dr][lr],sr=ar.hasOwnProperty(cr);hr++,sr?(or?ar[cr]!==or&&(nr=!1):or=ar[cr],ar[cr]===this[cr]&&delete ar[cr]):nr=!1,Object.keys(ar).length!==0?ur++:delete tr[dr][lr]}ur===0&&delete tr[dr]}for(var pr=0;pr<this._textLines.length;pr++)er+=this._textLines[pr].length;nr&&hr===er&&(this[cr]=or,this.removeStyle(cr))},removeStyle:function(cr){if(!(!this.styles||!cr||cr==="")){var tr=this.styles,hr,ur,or;for(ur in tr){hr=tr[ur];for(or in hr)delete hr[or][cr],Object.keys(hr[or]).length===0&&delete hr[or];Object.keys(hr).length===0&&delete tr[ur]}}},_extendStyles:function(cr,tr){var hr=this.get2DCursorLocation(cr);this._getLineStyle(hr.lineIndex)||this._setLineStyle(hr.lineIndex),this._getStyleDeclaration(hr.lineIndex,hr.charIndex)||this._setStyleDeclaration(hr.lineIndex,hr.charIndex,{}),e.util.object.extend(this._getStyleDeclaration(hr.lineIndex,hr.charIndex),tr)},get2DCursorLocation:function(cr,tr){typeof cr>"u"&&(cr=this.selectionStart);for(var hr=tr?this._unwrappedTextLines:this._textLines,ur=hr.length,or=0;or<ur;or++){if(cr<=hr[or].length)return{lineIndex:or,charIndex:cr};cr-=hr[or].length+this.missingNewlineOffset(or)}return{lineIndex:or-1,charIndex:hr[or-1].length<cr?hr[or-1].length:cr}},getSelectionStyles:function(cr,tr,hr){typeof cr>"u"&&(cr=this.selectionStart||0),typeof tr>"u"&&(tr=this.selectionEnd||cr);for(var ur=[],or=cr;or<tr;or++)ur.push(this.getStyleAtPosition(or,hr));return ur},getStyleAtPosition:function(cr,tr){var hr=this.get2DCursorLocation(cr),ur=tr?this.getCompleteStyleDeclaration(hr.lineIndex,hr.charIndex):this._getStyleDeclaration(hr.lineIndex,hr.charIndex);return ur||{}},setSelectionStyles:function(cr,tr,hr){typeof tr>"u"&&(tr=this.selectionStart||0),typeof hr>"u"&&(hr=this.selectionEnd||tr);for(var ur=tr;ur<hr;ur++)this._extendStyles(ur,cr);return this._forceClearCache=!0,this},_getStyleDeclaration:function(cr,tr){var hr=this.styles&&this.styles[cr];return hr?hr[tr]:null},getCompleteStyleDeclaration:function(cr,tr){for(var hr=this._getStyleDeclaration(cr,tr)||{},ur={},or,nr=0;nr<this._styleProperties.length;nr++)or=this._styleProperties[nr],ur[or]=typeof hr[or]>"u"?this[or]:hr[or];return ur},_setStyleDeclaration:function(cr,tr,hr){this.styles[cr][tr]=hr},_deleteStyleDeclaration:function(cr,tr){delete this.styles[cr][tr]},_getLineStyle:function(cr){return!!this.styles[cr]},_setLineStyle:function(cr){this.styles[cr]={}},_deleteLineStyle:function(cr){delete this.styles[cr]}})}(),function(){function cr(tr){tr.textDecoration&&(tr.textDecoration.indexOf("underline")>-1&&(tr.underline=!0),tr.textDecoration.indexOf("line-through")>-1&&(tr.linethrough=!0),tr.textDecoration.indexOf("overline")>-1&&(tr.overline=!0),delete tr.textDecoration)}e.IText=e.util.createClass(e.Text,e.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(tr,hr){this.callSuper("initialize",tr,hr),this.initBehavior()},setSelectionStart:function(tr){tr=Math.max(tr,0),this._updateAndFire("selectionStart",tr)},setSelectionEnd:function(tr){tr=Math.min(tr,this.text.length),this._updateAndFire("selectionEnd",tr)},_updateAndFire:function(tr,hr){this[tr]!==hr&&(this._fireSelectionChanged(),this[tr]=hr),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(tr){this.clearContextTop(),this.callSuper("render",tr),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(tr){this.callSuper("_render",tr)},clearContextTop:function(tr){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var hr=this.canvas.contextTop,ur=this.canvas.viewportTransform;hr.save(),hr.transform(ur[0],ur[1],ur[2],ur[3],ur[4],ur[5]),this.transform(hr),this._clearTextArea(hr),tr||hr.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var tr=this._getCursorBoundaries(),hr=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(tr,hr):this.renderSelection(tr,hr),hr.restore()}},_clearTextArea:function(tr){var hr=this.width+4,ur=this.height+4;tr.clearRect(-hr/2,-ur/2,hr,ur)},_getCursorBoundaries:function(tr){typeof tr>"u"&&(tr=this.selectionStart);var hr=this._getLeftOffset(),ur=this._getTopOffset(),or=this._getCursorBoundariesOffsets(tr);return{left:hr,top:ur,leftOffset:or.left,topOffset:or.top}},_getCursorBoundariesOffsets:function(tr){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var hr,ur,or,nr=0,er=0,ar,dr=this.get2DCursorLocation(tr);or=dr.charIndex,ur=dr.lineIndex;for(var lr=0;lr<ur;lr++)nr+=this.getHeightOfLine(lr);hr=this._getLineLeftOffset(ur);var sr=this.__charBounds[ur][or];return sr&&(er=sr.left),this.charSpacing!==0&&or===this._textLines[ur].length&&(er-=this._getWidthOfCharSpacing()),ar={top:nr,left:hr+(er>0?er:0)},this.direction==="rtl"&&(ar.left*=-1),this.cursorOffsetCache=ar,this.cursorOffsetCache},renderCursor:function(tr,hr){var ur=this.get2DCursorLocation(),or=ur.lineIndex,nr=ur.charIndex>0?ur.charIndex-1:0,er=this.getValueOfPropertyAt(or,nr,"fontSize"),ar=this.scaleX*this.canvas.getZoom(),dr=this.cursorWidth/ar,lr=tr.topOffset,sr=this.getValueOfPropertyAt(or,nr,"deltaY");lr+=(1-this._fontSizeFraction)*this.getHeightOfLine(or)/this.lineHeight-er*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(tr,hr),hr.fillStyle=this.cursorColor||this.getValueOfPropertyAt(or,nr,"fill"),hr.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,hr.fillRect(tr.left+tr.leftOffset-dr/2,lr+tr.top+sr,dr,er)},renderSelection:function(tr,hr){for(var ur=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,or=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,nr=this.textAlign.indexOf("justify")!==-1,er=this.get2DCursorLocation(ur),ar=this.get2DCursorLocation(or),dr=er.lineIndex,lr=ar.lineIndex,sr=er.charIndex<0?0:er.charIndex,pr=ar.charIndex<0?0:ar.charIndex,mr=dr;mr<=lr;mr++){var vr=this._getLineLeftOffset(mr)||0,yr=this.getHeightOfLine(mr),br=0,_r=0,xr=0;if(mr===dr&&(_r=this.__charBounds[dr][sr].left),mr>=dr&&mr<lr)xr=nr&&!this.isEndOfWrapping(mr)?this.width:this.getLineWidth(mr)||5;else if(mr===lr)if(pr===0)xr=this.__charBounds[lr][pr].left;else{var Nr=this._getWidthOfCharSpacing();xr=this.__charBounds[lr][pr-1].left+this.__charBounds[lr][pr-1].width-Nr}br=yr,(this.lineHeight<1||mr===lr&&this.lineHeight>1)&&(yr/=this.lineHeight);var zr=tr.left+vr+_r,Tr=xr-_r,Br=yr,Jr=0;this.inCompositionMode?(hr.fillStyle=this.compositionColor||"black",Br=1,Jr=yr):hr.fillStyle=this.selectionColor,this.direction==="rtl"&&(zr=this.width-zr-Tr),hr.fillRect(zr,tr.top+tr.topOffset+Jr,Tr,Br),tr.topOffset+=br}},getCurrentCharFontSize:function(){var tr=this._getCurrentCharIndex();return this.getValueOfPropertyAt(tr.l,tr.c,"fontSize")},getCurrentCharColor:function(){var tr=this._getCurrentCharIndex();return this.getValueOfPropertyAt(tr.l,tr.c,"fill")},_getCurrentCharIndex:function(){var tr=this.get2DCursorLocation(this.selectionStart,!0),hr=tr.charIndex>0?tr.charIndex-1:0;return{l:tr.lineIndex,c:hr}}}),e.IText.fromObject=function(tr,hr){var ur=e.util.stylesFromArray(tr.styles,tr.text),or=Object.assign({},tr,{styles:ur});if(cr(or),or.styles)for(var nr in or.styles)for(var er in or.styles[nr])cr(or.styles[nr][er]);e.Object._fromObject("IText",or,hr,"text")}}(),function(){var cr=e.util.object.clone;e.util.object.extend(e.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var tr=this;this.on("added",function(){var hr=tr.canvas;hr&&(hr._hasITextHandlers||(hr._hasITextHandlers=!0,tr._initCanvasHandlers(hr)),hr._iTextInstances=hr._iTextInstances||[],hr._iTextInstances.push(tr))})},initRemovedHandler:function(){var tr=this;this.on("removed",function(){var hr=tr.canvas;hr&&(hr._iTextInstances=hr._iTextInstances||[],e.util.removeFromArray(hr._iTextInstances,tr),hr._iTextInstances.length===0&&(hr._hasITextHandlers=!1,tr._removeCanvasHandlers(hr)))})},_initCanvasHandlers:function(tr){tr._mouseUpITextHandler=function(){tr._iTextInstances&&tr._iTextInstances.forEach(function(hr){hr.__isMousedown=!1})},tr.on("mouse:up",tr._mouseUpITextHandler)},_removeCanvasHandlers:function(tr){tr.off("mouse:up",tr._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(tr,hr,ur,or){var nr;return nr={isAborted:!1,abort:function(){this.isAborted=!0}},tr.animate("_currentCursorOpacity",hr,{duration:ur,onComplete:function(){nr.isAborted||tr[or]()},onChange:function(){tr.canvas&&tr.selectionStart===tr.selectionEnd&&tr.renderCursorOrSelection()},abort:function(){return nr.isAborted}}),nr},_onTickComplete:function(){var tr=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){tr._currentTickCompleteState=tr._animateCursor(tr,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(tr){var hr=this,ur=tr?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){hr._tick()},ur)},abortCursorAnimation:function(){var tr=this._currentTickState||this._currentTickCompleteState,hr=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,tr&&hr&&hr.clearContext(hr.contextTop||hr.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(tr){var hr=0,ur=tr-1;if(this._reSpace.test(this._text[ur]))for(;this._reSpace.test(this._text[ur]);)hr++,ur--;for(;/\S/.test(this._text[ur])&&ur>-1;)hr++,ur--;return tr-hr},findWordBoundaryRight:function(tr){var hr=0,ur=tr;if(this._reSpace.test(this._text[ur]))for(;this._reSpace.test(this._text[ur]);)hr++,ur++;for(;/\S/.test(this._text[ur])&&ur<this._text.length;)hr++,ur++;return tr+hr},findLineBoundaryLeft:function(tr){for(var hr=0,ur=tr-1;!/\n/.test(this._text[ur])&&ur>-1;)hr++,ur--;return tr-hr},findLineBoundaryRight:function(tr){for(var hr=0,ur=tr;!/\n/.test(this._text[ur])&&ur<this._text.length;)hr++,ur++;return tr+hr},searchWordBoundary:function(tr,hr){for(var ur=this._text,or=this._reSpace.test(ur[tr])?tr-1:tr,nr=ur[or],er=e.reNonWord;!er.test(nr)&&or>0&&or<ur.length;)or+=hr,nr=ur[or];return er.test(nr)&&(or+=hr===1?0:1),or},selectWord:function(tr){tr=tr||this.selectionStart;var hr=this.searchWordBoundary(tr,-1),ur=this.searchWordBoundary(tr,1);this.selectionStart=hr,this.selectionEnd=ur,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(tr){tr=tr||this.selectionStart;var hr=this.findLineBoundaryLeft(tr),ur=this.findLineBoundaryRight(tr);return this.selectionStart=hr,this.selectionEnd=ur,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(tr){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(tr),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(tr){tr._iTextInstances&&tr._iTextInstances.forEach(function(hr){hr.selected=!1,hr.isEditing&&hr.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(tr){if(!(!this.__isMousedown||!this.isEditing)){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var hr=this.getSelectionStartFromPointer(tr.e),ur=this.selectionStart,or=this.selectionEnd;(hr!==this.__selectionStartOnMouseDown||ur===or)&&(ur===hr||or===hr)||(hr>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=hr):(this.selectionStart=hr,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==ur||this.selectionEnd!==or)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(tr,hr,ur){var or=ur.slice(0,tr),nr=e.util.string.graphemeSplit(or).length;if(tr===hr)return{selectionStart:nr,selectionEnd:nr};var er=ur.slice(tr,hr),ar=e.util.string.graphemeSplit(er).length;return{selectionStart:nr,selectionEnd:nr+ar}},fromGraphemeToStringSelection:function(tr,hr,ur){var or=ur.slice(0,tr),nr=or.join("").length;if(tr===hr)return{selectionStart:nr,selectionEnd:nr};var er=ur.slice(tr,hr),ar=er.join("").length;return{selectionStart:nr,selectionEnd:nr+ar}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var tr=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=tr.selectionStart,this.hiddenTextarea.selectionEnd=tr.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(!!this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var tr=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=tr.selectionEnd,this.inCompositionMode||(this.selectionStart=tr.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var tr=this._calcTextareaPosition();this.hiddenTextarea.style.left=tr.left,this.hiddenTextarea.style.top=tr.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var tr=this.inCompositionMode?this.compositionStart:this.selectionStart,hr=this._getCursorBoundaries(tr),ur=this.get2DCursorLocation(tr),or=ur.lineIndex,nr=ur.charIndex,er=this.getValueOfPropertyAt(or,nr,"fontSize")*this.lineHeight,ar=hr.leftOffset,dr=this.calcTransformMatrix(),lr={x:hr.left+ar,y:hr.top+hr.topOffset+er},sr=this.canvas.getRetinaScaling(),pr=this.canvas.upperCanvasEl,mr=pr.width/sr,vr=pr.height/sr,yr=mr-er,br=vr-er,_r=pr.clientWidth/mr,xr=pr.clientHeight/vr;return lr=e.util.transformPoint(lr,dr),lr=e.util.transformPoint(lr,this.canvas.viewportTransform),lr.x*=_r,lr.y*=xr,lr.x<0&&(lr.x=0),lr.x>yr&&(lr.x=yr),lr.y<0&&(lr.y=0),lr.y>br&&(lr.y=br),lr.x+=this.canvas._offset.left,lr.y+=this.canvas._offset.top,{left:lr.x+"px",top:lr.y+"px",fontSize:er+"px",charHeight:er}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){!this._savedProps||(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var tr=this._textBeforeEdit!==this.text,hr=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,hr&&(hr.blur&&hr.blur(),hr.parentNode&&hr.parentNode.removeChild(hr)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),tr&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),tr&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var tr in this.styles)this._textLines[tr]||delete this.styles[tr]},removeStyleFromTo:function(tr,hr){var ur=this.get2DCursorLocation(tr,!0),or=this.get2DCursorLocation(hr,!0),nr=ur.lineIndex,er=ur.charIndex,ar=or.lineIndex,dr=or.charIndex,lr,sr;if(nr!==ar){if(this.styles[nr])for(lr=er;lr<this._unwrappedTextLines[nr].length;lr++)delete this.styles[nr][lr];if(this.styles[ar])for(lr=dr;lr<this._unwrappedTextLines[ar].length;lr++)sr=this.styles[ar][lr],sr&&(this.styles[nr]||(this.styles[nr]={}),this.styles[nr][er+lr-dr]=sr);for(lr=nr+1;lr<=ar;lr++)delete this.styles[lr];this.shiftLineStyles(ar,nr-ar)}else if(this.styles[nr]){sr=this.styles[nr];var pr=dr-er,mr,vr;for(lr=er;lr<dr;lr++)delete sr[lr];for(vr in this.styles[nr])mr=parseInt(vr,10),mr>=dr&&(sr[mr-pr]=sr[vr],delete sr[vr])}},shiftLineStyles:function(tr,hr){var ur=cr(this.styles);for(var or in this.styles){var nr=parseInt(or,10);nr>tr&&(this.styles[nr+hr]=ur[nr],ur[nr-hr]||delete this.styles[nr])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(tr,hr,ur,or){var nr,er={},ar=!1,dr=this._unwrappedTextLines[tr].length===hr;ur||(ur=1),this.shiftLineStyles(tr,ur),this.styles[tr]&&(nr=this.styles[tr][hr===0?hr:hr-1]);for(var lr in this.styles[tr]){var sr=parseInt(lr,10);sr>=hr&&(ar=!0,er[sr-hr]=this.styles[tr][lr],dr&&hr===0||delete this.styles[tr][lr])}var pr=!1;for(ar&&!dr&&(this.styles[tr+ur]=er,pr=!0),pr&&ur--;ur>0;)or&&or[ur-1]?this.styles[tr+ur]={0:cr(or[ur-1])}:nr?this.styles[tr+ur]={0:cr(nr)}:delete this.styles[tr+ur],ur--;this._forceClearCache=!0},insertCharStyleObject:function(tr,hr,ur,or){this.styles||(this.styles={});var nr=this.styles[tr],er=nr?cr(nr):{};ur||(ur=1);for(var ar in er){var dr=parseInt(ar,10);dr>=hr&&(nr[dr+ur]=er[dr],er[dr-ur]||delete nr[dr])}if(this._forceClearCache=!0,or){for(;ur--;)!Object.keys(or[ur]).length||(this.styles[tr]||(this.styles[tr]={}),this.styles[tr][hr+ur]=cr(or[ur]));return}if(!!nr)for(var lr=nr[hr?hr-1:1];lr&&ur--;)this.styles[tr][hr+ur]=cr(lr)},insertNewStyleBlock:function(tr,hr,ur){for(var or=this.get2DCursorLocation(hr,!0),nr=[0],er=0,ar=0;ar<tr.length;ar++)tr[ar]===`
`?(er++,nr[er]=0):nr[er]++;nr[0]>0&&(this.insertCharStyleObject(or.lineIndex,or.charIndex,nr[0],ur),ur=ur&&ur.slice(nr[0]+1)),er&&this.insertNewlineStyleObject(or.lineIndex,or.charIndex+nr[0],er);for(var ar=1;ar<er;ar++)nr[ar]>0?this.insertCharStyleObject(or.lineIndex+ar,0,nr[ar],ur):ur&&this.styles[or.lineIndex+ar]&&ur[0]&&(this.styles[or.lineIndex+ar][0]=ur[0]),ur=ur&&ur.slice(nr[ar]+1);nr[ar]>0&&this.insertCharStyleObject(or.lineIndex+ar,0,nr[ar],ur)},setSelectionStartEndWithShift:function(tr,hr,ur){ur<=tr?(hr===tr?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=tr),this.selectionStart=ur):ur>tr&&ur<hr?this._selectionDirection==="right"?this.selectionEnd=ur:this.selectionStart=ur:(hr===tr?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=hr),this.selectionEnd=ur)},setSelectionInBoundaries:function(){var tr=this.text.length;this.selectionStart>tr?this.selectionStart=tr:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>tr?this.selectionEnd=tr:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),e.util.object.extend(e.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(cr){if(!!this.canvas){this.__newClickTime=+new Date;var tr=cr.pointer;this.isTripleClick(tr)&&(this.fire("tripleclick",cr),this._stopEvent(cr.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=tr,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(cr){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===cr.x&&this.__lastPointer.y===cr.y},_stopEvent:function(cr){cr.preventDefault&&cr.preventDefault(),cr.stopPropagation&&cr.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(cr){!this.isEditing||this.selectWord(this.getSelectionStartFromPointer(cr.e))},tripleClickHandler:function(cr){!this.isEditing||this.selectLine(this.getSelectionStartFromPointer(cr.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(cr){!this.canvas||!this.editable||cr.e.button&&cr.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(cr.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(cr){!this.canvas||!this.editable||cr.e.button&&cr.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(cr){if(this.__isMousedown=!1,!(!this.editable||this.group||cr.transform&&cr.transform.actionPerformed||cr.e.button&&cr.e.button!==1)){if(this.canvas){var tr=this.canvas._activeObject;if(tr&&tr!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(cr.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(cr){var tr=this.getSelectionStartFromPointer(cr),hr=this.selectionStart,ur=this.selectionEnd;cr.shiftKey?this.setSelectionStartEndWithShift(hr,ur,tr):(this.selectionStart=tr,this.selectionEnd=tr),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(cr){for(var tr=this.getLocalPointer(cr),hr=0,ur=0,or=0,nr=0,er=0,ar,dr,lr=0,sr=this._textLines.length;lr<sr&&or<=tr.y;lr++)or+=this.getHeightOfLine(lr)*this.scaleY,er=lr,lr>0&&(nr+=this._textLines[lr-1].length+this.missingNewlineOffset(lr-1));ar=this._getLineLeftOffset(er),ur=ar*this.scaleX,dr=this._textLines[er],this.direction==="rtl"&&(tr.x=this.width*this.scaleX-tr.x+ur);for(var pr=0,mr=dr.length;pr<mr&&(hr=ur,ur+=this.__charBounds[er][pr].kernedWidth*this.scaleX,ur<=tr.x);pr++)nr++;return this._getNewSelectionStartFromOffset(tr,hr,ur,nr,mr)},_getNewSelectionStartFromOffset:function(cr,tr,hr,ur,or){var nr=cr.x-tr,er=hr-cr.x,ar=er>nr||er<0?0:1,dr=ur+ar;return this.flipX&&(dr=or-dr),dr>this._text.length&&(dr=this._text.length),dr}}),e.util.object.extend(e.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=e.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var cr=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+cr.top+"; left: "+cr.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding\uFF70top: "+cr.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):e.document.body.appendChild(this.hiddenTextarea),e.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),e.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),e.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),e.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),e.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),e.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),e.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),e.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),e.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(e.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(cr){if(!!this.isEditing){var tr=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(cr.keyCode in tr)this[tr[cr.keyCode]](cr);else if(cr.keyCode in this.ctrlKeysMapDown&&(cr.ctrlKey||cr.metaKey))this[this.ctrlKeysMapDown[cr.keyCode]](cr);else return;cr.stopImmediatePropagation(),cr.preventDefault(),cr.keyCode>=33&&cr.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(cr){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(cr.keyCode in this.ctrlKeysMapUp&&(cr.ctrlKey||cr.metaKey))this[this.ctrlKeysMapUp[cr.keyCode]](cr);else return;cr.stopImmediatePropagation(),cr.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(cr){var tr=this.fromPaste;if(this.fromPaste=!1,cr&&cr.stopPropagation(),!!this.isEditing){var hr=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,ur=this._text.length,or=hr.length,nr,er,ar=or-ur,dr=this.selectionStart,lr=this.selectionEnd,sr=dr!==lr,pr,mr,vr;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var yr=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),br=dr>yr.selectionStart;sr?(nr=this._text.slice(dr,lr),ar+=lr-dr):or<ur&&(br?nr=this._text.slice(lr+ar,lr):nr=this._text.slice(dr,dr-ar)),er=hr.slice(yr.selectionEnd-ar,yr.selectionEnd),nr&&nr.length&&(er.length&&(pr=this.getSelectionStyles(dr,dr+1,!1),pr=er.map(function(){return pr[0]})),sr?(mr=dr,vr=lr):br?(mr=lr-nr.length,vr=lr):(mr=lr,vr=lr+nr.length),this.removeStyleFromTo(mr,vr)),er.length&&(tr&&er.join("")===e.copiedText&&!e.disableStyleCopyPaste&&(pr=e.copiedTextStyle),this.insertNewStyleBlock(er,dr,pr)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(cr){this.compositionStart=cr.target.selectionStart,this.compositionEnd=cr.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(e.copiedText=this.getSelectedText(),e.disableStyleCopyPaste?e.copiedTextStyle=null:e.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(cr){return cr&&cr.clipboardData||e.window.clipboardData},_getWidthBeforeCursor:function(cr,tr){var hr=this._getLineLeftOffset(cr),ur;return tr>0&&(ur=this.__charBounds[cr][tr-1],hr+=ur.left+ur.width),hr},getDownCursorOffset:function(cr,tr){var hr=this._getSelectionForOffset(cr,tr),ur=this.get2DCursorLocation(hr),or=ur.lineIndex;if(or===this._textLines.length-1||cr.metaKey||cr.keyCode===34)return this._text.length-hr;var nr=ur.charIndex,er=this._getWidthBeforeCursor(or,nr),ar=this._getIndexOnLine(or+1,er),dr=this._textLines[or].slice(nr);return dr.length+ar+1+this.missingNewlineOffset(or)},_getSelectionForOffset:function(cr,tr){return cr.shiftKey&&this.selectionStart!==this.selectionEnd&&tr?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(cr,tr){var hr=this._getSelectionForOffset(cr,tr),ur=this.get2DCursorLocation(hr),or=ur.lineIndex;if(or===0||cr.metaKey||cr.keyCode===33)return-hr;var nr=ur.charIndex,er=this._getWidthBeforeCursor(or,nr),ar=this._getIndexOnLine(or-1,er),dr=this._textLines[or].slice(0,nr),lr=this.missingNewlineOffset(or-1);return-this._textLines[or-1].length+ar-dr.length+(1-lr)},_getIndexOnLine:function(cr,tr){for(var hr=this._textLines[cr],ur=this._getLineLeftOffset(cr),or=ur,nr=0,er,ar,dr=0,lr=hr.length;dr<lr;dr++)if(er=this.__charBounds[cr][dr].width,or+=er,or>tr){ar=!0;var sr=or-er,pr=or,mr=Math.abs(sr-tr),vr=Math.abs(pr-tr);nr=vr<mr?dr:dr-1;break}return ar||(nr=hr.length-1),nr},moveCursorDown:function(cr){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",cr)},moveCursorUp:function(cr){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",cr)},_moveCursorUpOrDown:function(cr,tr){var hr="get"+cr+"CursorOffset",ur=this[hr](tr,this._selectionDirection==="right");tr.shiftKey?this.moveCursorWithShift(ur):this.moveCursorWithoutShift(ur),ur!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(cr){var tr=this._selectionDirection==="left"?this.selectionStart+cr:this.selectionEnd+cr;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,tr),cr!==0},moveCursorWithoutShift:function(cr){return cr<0?(this.selectionStart+=cr,this.selectionEnd=this.selectionStart):(this.selectionEnd+=cr,this.selectionStart=this.selectionEnd),cr!==0},moveCursorLeft:function(cr){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",cr)},_move:function(cr,tr,hr){var ur;if(cr.altKey)ur=this["findWordBoundary"+hr](this[tr]);else if(cr.metaKey||cr.keyCode===35||cr.keyCode===36)ur=this["findLineBoundary"+hr](this[tr]);else return this[tr]+=hr==="Left"?-1:1,!0;if(typeof ur<"u"&&this[tr]!==ur)return this[tr]=ur,!0},_moveLeft:function(cr,tr){return this._move(cr,tr,"Left")},_moveRight:function(cr,tr){return this._move(cr,tr,"Right")},moveCursorLeftWithoutShift:function(cr){var tr=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(tr=this._moveLeft(cr,"selectionStart")),this.selectionEnd=this.selectionStart,tr},moveCursorLeftWithShift:function(cr){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(cr,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(cr,"selectionStart")},moveCursorRight:function(cr){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",cr)},_moveCursorLeftOrRight:function(cr,tr){var hr="moveCursor"+cr+"With";this._currentCursorOpacity=1,tr.shiftKey?hr+="Shift":hr+="outShift",this[hr](tr)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(cr){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(cr,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(cr,"selectionEnd")},moveCursorRightWithoutShift:function(cr){var tr=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(tr=this._moveRight(cr,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,tr},removeChars:function(cr,tr){typeof tr>"u"&&(tr=cr+1),this.removeStyleFromTo(cr,tr),this._text.splice(cr,tr-cr),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(cr,tr,hr,ur){typeof ur>"u"&&(ur=hr),ur>hr&&this.removeStyleFromTo(hr,ur);var or=e.util.string.graphemeSplit(cr);this.insertNewStyleBlock(or,hr,tr),this._text=[].concat(this._text.slice(0,hr),or,this._text.slice(ur)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var cr=e.util.toFixed,tr=/  +/g;e.util.object.extend(e.Text.prototype,{_toSVG:function(){var hr=this._getSVGLeftTopOffsets(),ur=this._getSVGTextAndBg(hr.textTop,hr.textLeft);return this._wrapSVGTextAndBg(ur)},toSVG:function(hr){return this._createBaseSVGMarkup(this._toSVG(),{reviver:hr,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(hr){var ur=!0,or=this.getSvgTextDecoration(this);return[hr.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",or?'text-decoration="'+or+'" ':"",'style="',this.getSvgStyles(ur),'"',this.addPaintOrder()," >",hr.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(hr,ur){var or=[],nr=[],er=hr,ar;this._setSVGBg(nr);for(var dr=0,lr=this._textLines.length;dr<lr;dr++)ar=this._getLineLeftOffset(dr),(this.textBackgroundColor||this.styleHas("textBackgroundColor",dr))&&this._setSVGTextLineBg(nr,dr,ur+ar,er),this._setSVGTextLineText(or,dr,ur+ar,er),er+=this.getHeightOfLine(dr);return{textSpans:or,textBgRects:nr}},_createTextCharSpan:function(hr,ur,or,nr){var er=hr!==hr.trim()||hr.match(tr),ar=this.getSvgSpanStyles(ur,er),dr=ar?'style="'+ar+'"':"",lr=ur.deltaY,sr="",pr=e.Object.NUM_FRACTION_DIGITS;return lr&&(sr=' dy="'+cr(lr,pr)+'" '),['<tspan x="',cr(or,pr),'" y="',cr(nr,pr),'" ',sr,dr,">",e.util.string.escapeXml(hr),"</tspan>"].join("")},_setSVGTextLineText:function(hr,ur,or,nr){var er=this.getHeightOfLine(ur),ar=this.textAlign.indexOf("justify")!==-1,dr,lr,sr="",pr,mr,vr=0,yr=this._textLines[ur],br;nr+=er*(1-this._fontSizeFraction)/this.lineHeight;for(var _r=0,xr=yr.length-1;_r<=xr;_r++)br=_r===xr||this.charSpacing,sr+=yr[_r],pr=this.__charBounds[ur][_r],vr===0?(or+=pr.kernedWidth-pr.width,vr+=pr.width):vr+=pr.kernedWidth,ar&&!br&&this._reSpaceAndTab.test(yr[_r])&&(br=!0),br||(dr=dr||this.getCompleteStyleDeclaration(ur,_r),lr=this.getCompleteStyleDeclaration(ur,_r+1),br=e.util.hasStyleChanged(dr,lr,!0)),br&&(mr=this._getStyleDeclaration(ur,_r)||{},hr.push(this._createTextCharSpan(sr,mr,or,nr)),sr="",dr=lr,or+=vr,vr=0)},_pushTextBgRect:function(hr,ur,or,nr,er,ar){var dr=e.Object.NUM_FRACTION_DIGITS;hr.push("		<rect ",this._getFillAttributes(ur),' x="',cr(or,dr),'" y="',cr(nr,dr),'" width="',cr(er,dr),'" height="',cr(ar,dr),`"></rect>
`)},_setSVGTextLineBg:function(hr,ur,or,nr){for(var er=this._textLines[ur],ar=this.getHeightOfLine(ur)/this.lineHeight,dr=0,lr=0,sr,pr,mr=this.getValueOfPropertyAt(ur,0,"textBackgroundColor"),vr=0,yr=er.length;vr<yr;vr++)sr=this.__charBounds[ur][vr],pr=this.getValueOfPropertyAt(ur,vr,"textBackgroundColor"),pr!==mr?(mr&&this._pushTextBgRect(hr,mr,or+lr,nr,dr,ar),lr=sr.left,dr=sr.width,mr=pr):dr+=sr.kernedWidth;pr&&this._pushTextBgRect(hr,pr,or+lr,nr,dr,ar)},_getFillAttributes:function(hr){var ur=hr&&typeof hr=="string"?new e.Color(hr):"";return!ur||!ur.getSource()||ur.getAlpha()===1?'fill="'+hr+'"':'opacity="'+ur.getAlpha()+'" fill="'+ur.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(hr){for(var ur=0,or=0,nr=0;nr<hr;nr++)ur+=this.getHeightOfLine(nr);return or=this.getHeightOfLine(nr),{lineTop:ur,offset:(this._fontSizeMult-this._fontSizeFraction)*or/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(hr){var ur=e.Object.prototype.getSvgStyles.call(this,hr);return ur+" white-space: pre;"}})}(),function(cr){var tr=cr.fabric||(cr.fabric={});tr.Textbox=tr.util.createClass(tr.IText,tr.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:tr.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(hr){for(var ur=0,or=0,nr=0,er={},ar=0;ar<hr.graphemeLines.length;ar++)hr.graphemeText[nr]===`
`&&ar>0?(or=0,nr++,ur++):!this.splitByGrapheme&&this._reSpaceAndTab.test(hr.graphemeText[nr])&&ar>0&&(or++,nr++),er[ar]={line:ur,offset:or},nr+=hr.graphemeLines[ar].length,or+=hr.graphemeLines[ar].length;return er},styleHas:function(hr,ur){if(this._styleMap&&!this.isWrapping){var or=this._styleMap[ur];or&&(ur=or.line)}return tr.Text.prototype.styleHas.call(this,hr,ur)},isEmptyStyles:function(hr){if(!this.styles)return!0;var ur=0,or=hr+1,nr,er,ar=!1,dr=this._styleMap[hr],lr=this._styleMap[hr+1];dr&&(hr=dr.line,ur=dr.offset),lr&&(or=lr.line,ar=or===hr,nr=lr.offset),er=typeof hr>"u"?this.styles:{line:this.styles[hr]};for(var sr in er)for(var pr in er[sr])if(pr>=ur&&(!ar||pr<nr))for(var mr in er[sr][pr])return!1;return!0},_getStyleDeclaration:function(hr,ur){if(this._styleMap&&!this.isWrapping){var or=this._styleMap[hr];if(!or)return null;hr=or.line,ur=or.offset+ur}return this.callSuper("_getStyleDeclaration",hr,ur)},_setStyleDeclaration:function(hr,ur,or){var nr=this._styleMap[hr];hr=nr.line,ur=nr.offset+ur,this.styles[hr][ur]=or},_deleteStyleDeclaration:function(hr,ur){var or=this._styleMap[hr];hr=or.line,ur=or.offset+ur,delete this.styles[hr][ur]},_getLineStyle:function(hr){var ur=this._styleMap[hr];return!!this.styles[ur.line]},_setLineStyle:function(hr){var ur=this._styleMap[hr];this.styles[ur.line]={}},_wrapText:function(hr,ur){var or=[],nr;for(this.isWrapping=!0,nr=0;nr<hr.length;nr++)or=or.concat(this._wrapLine(hr[nr],nr,ur));return this.isWrapping=!1,or},_measureWord:function(hr,ur,or){var nr=0,er,ar=!0;or=or||0;for(var dr=0,lr=hr.length;dr<lr;dr++){var sr=this._getGraphemeBox(hr[dr],ur,dr+or,er,ar);nr+=sr.kernedWidth,er=hr[dr]}return nr},_wrapLine:function(hr,ur,or,zr){var er=0,ar=this.splitByGrapheme,dr=[],lr=[],sr=ar?tr.util.string.graphemeSplit(hr):hr.split(this._wordJoiners),pr="",mr=0,vr=ar?"":" ",yr=0,br=0,_r=0,xr=!0,Nr=this._getWidthOfCharSpacing(),zr=zr||0;sr.length===0&&sr.push([]),or-=zr;for(var Tr=0;Tr<sr.length;Tr++)pr=ar?sr[Tr]:tr.util.string.graphemeSplit(sr[Tr]),yr=this._measureWord(pr,ur,mr),mr+=pr.length,er+=br+yr-Nr,er>or&&!xr?(dr.push(lr),lr=[],er=yr,xr=!0):er+=Nr,!xr&&!ar&&lr.push(vr),lr=lr.concat(pr),br=ar?0:this._measureWord([vr],ur,mr),mr++,xr=!1,yr>_r&&(_r=yr);return Tr&&dr.push(lr),_r+zr>this.dynamicMinWidth&&(this.dynamicMinWidth=_r-Nr+zr),dr},isEndOfWrapping:function(hr){return!this._styleMap[hr+1]||this._styleMap[hr+1].line!==this._styleMap[hr].line},missingNewlineOffset:function(hr){return this.splitByGrapheme?this.isEndOfWrapping(hr)?1:0:1},_splitTextIntoLines:function(hr){for(var ur=tr.Text.prototype._splitTextIntoLines.call(this,hr),or=this._wrapText(ur.lines,this.width),nr=new Array(or.length),er=0;er<or.length;er++)nr[er]=or[er].join("");return ur.lines=nr,ur.graphemeLines=or,ur},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var hr={};for(var ur in this._styleMap)this._textLines[ur]&&(hr[this._styleMap[ur].line]=1);for(var ur in this.styles)hr[ur]||delete this.styles[ur]},toObject:function(hr){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(hr))}}),tr.Textbox.fromObject=function(hr,ur){var or=tr.util.stylesFromArray(hr.styles,hr.text),nr=Object.assign({},hr,{styles:or});return tr.Object._fromObject("Textbox",nr,ur,"text")}}(St),function(){var cr=e.controlsUtils,tr=cr.scaleSkewCursorStyleHandler,hr=cr.scaleCursorStyleHandler,ur=cr.scalingEqually,or=cr.scalingYOrSkewingX,nr=cr.scalingXOrSkewingY,er=cr.scaleOrSkewActionName,ar=e.Object.prototype.controls;if(ar.ml=new e.Control({x:-.5,y:0,cursorStyleHandler:tr,actionHandler:nr,getActionName:er}),ar.mr=new e.Control({x:.5,y:0,cursorStyleHandler:tr,actionHandler:nr,getActionName:er}),ar.mb=new e.Control({x:0,y:.5,cursorStyleHandler:tr,actionHandler:or,getActionName:er}),ar.mt=new e.Control({x:0,y:-.5,cursorStyleHandler:tr,actionHandler:or,getActionName:er}),ar.tl=new e.Control({x:-.5,y:-.5,cursorStyleHandler:hr,actionHandler:ur}),ar.tr=new e.Control({x:.5,y:-.5,cursorStyleHandler:hr,actionHandler:ur}),ar.bl=new e.Control({x:-.5,y:.5,cursorStyleHandler:hr,actionHandler:ur}),ar.br=new e.Control({x:.5,y:.5,cursorStyleHandler:hr,actionHandler:ur}),ar.mtr=new e.Control({x:0,y:-.5,actionHandler:cr.rotationWithSnapping,cursorStyleHandler:cr.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),e.Textbox){var dr=e.Textbox.prototype.controls={};dr.mtr=ar.mtr,dr.tr=ar.tr,dr.br=ar.br,dr.tl=ar.tl,dr.bl=ar.bl,dr.mt=ar.mt,dr.mb=ar.mb,dr.mr=new e.Control({x:.5,y:0,actionHandler:cr.changeWidth,cursorStyleHandler:tr,actionName:"resizing"}),dr.ml=new e.Control({x:-.5,y:0,actionHandler:cr.changeWidth,cursorStyleHandler:tr,actionName:"resizing"})}}()})(fabric$1);const TextModal=({show:St,setMode:e,fa:_e})=>{if(!St)return null;const[_i,ir]=react.exports.useState(null);return jsx("div",{className:" position-center fixed z-50 flex h-full w-full items-center justify-center bg-black bg-opacity-50",children:jsxs("div",{className:"h-[187px] w-[354px] rounded-[10px] bg-white drop-shadow-md",children:[jsxs("div",{className:"flex h-[55px] items-center justify-center py-4 px-5",children:[jsx("h4",{className:"flex-1 text-center",children:"\u6587\u5B57\u6846"}),jsx(XMarkIcon$1,{onClick:()=>e(null),className:"h-6 w-6 flex-none cursor-pointer"})]}),jsx("div",{className:"flex h-[76px] justify-center border-y border-blue-dark py-5 px-2.5",children:jsx("input",{onChange:gr=>ir(gr.target.value),className:" w-full rounded-md border border-gray-dark py-2.5 px-3",placeholder:"\u8ACB\u8F38\u5165\u6587\u5B57"})}),jsxs("div",{className:"flex justify-end gap-2.5 p-2.5",children:[jsx("button",{className:"btn-white border",children:"\u6E05\u9664"}),jsx("button",{onClick:()=>{const gr=new fabric$1.fabric.IText(_i,{left:200,top:200});_e.add(gr).renderAll(),e(null)},type:"button",className:"btn-black",children:"\u5B8C\u6210"})]})]})})};function Bars3Icon({title:St,titleId:e,..._e},_i){return jsxs("svg",{...Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:_i,"aria-labelledby":e},_e),children:[St?jsx("title",{id:e,children:St}):null,jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})]})}const ForwardRef$7=react.exports.forwardRef(Bars3Icon),Bars3Icon$1=ForwardRef$7;function EnvelopeIcon({title:St,titleId:e,..._e},_i){return jsxs("svg",{...Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:_i,"aria-labelledby":e},_e),children:[St?jsx("title",{id:e,children:St}):null,jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"})]})}const ForwardRef$6=react.exports.forwardRef(EnvelopeIcon),EnvelopeIcon$1=ForwardRef$6;function MapPinIcon({title:St,titleId:e,..._e},_i){return jsxs("svg",{...Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:_i,"aria-labelledby":e},_e),children:[St?jsx("title",{id:e,children:St}):null,jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 11-6 0 3 3 0 016 0z"}),jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z"})]})}const ForwardRef$5=react.exports.forwardRef(MapPinIcon),MapPinIcon$1=ForwardRef$5;function MinusIcon({title:St,titleId:e,..._e},_i){return jsxs("svg",{...Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:_i,"aria-labelledby":e},_e),children:[St?jsx("title",{id:e,children:St}):null,jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 12h-15"})]})}const ForwardRef$4=react.exports.forwardRef(MinusIcon),MinusIcon$1=ForwardRef$4;function PhoneIcon({title:St,titleId:e,..._e},_i){return jsxs("svg",{...Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:_i,"aria-labelledby":e},_e),children:[St?jsx("title",{id:e,children:St}):null,jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z"})]})}const ForwardRef$3=react.exports.forwardRef(PhoneIcon),PhoneIcon$1=ForwardRef$3;function PlusCircleIcon({title:St,titleId:e,..._e},_i){return jsxs("svg",{...Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:_i,"aria-labelledby":e},_e),children:[St?jsx("title",{id:e,children:St}):null,jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})]})}const ForwardRef$2=react.exports.forwardRef(PlusCircleIcon),PlusCircleIcon$1=ForwardRef$2;function PlusIcon({title:St,titleId:e,..._e},_i){return jsxs("svg",{...Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:_i,"aria-labelledby":e},_e),children:[St?jsx("title",{id:e,children:St}):null,jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})]})}const ForwardRef$1=react.exports.forwardRef(PlusIcon),PlusIcon$1=ForwardRef$1;function TrashIcon({title:St,titleId:e,..._e},_i){return jsxs("svg",{...Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:_i,"aria-labelledby":e},_e),children:[St?jsx("title",{id:e,children:St}):null,jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})]})}const ForwardRef=react.exports.forwardRef(TrashIcon),TrashIcon$1=ForwardRef,signIcon$1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEbSURBVHgB7ZfRDYIwFEVvDAMwQkdwA3UDnUBH0AlkA+MGOIluoE5gN5ANtE0eCTygtKWFH25yE8U25xQJFGCaHKiT5Kz6ox4SOphSXSPhFg3P+MGl6rdi5dIj3ODVuXn5Q+YJ133CLp3whA0sqLY5WYzhp/0GdgFmFbMMYcNX/uIDFoiXPeoLequuMZKAhudowosxBDhcdsFjCCxb4BsYLuyQAhp+b4FL06RQAiU8dYGHEhC+8BACYgh8qIAguKDvhSt8iIDwgAsEFGiDvwzjL6of6mABgfpq+uA62465XgJS9UrQHfrhxiTwi8tGxJiYT8NZYBaYBazC7wMrhN8Z66S2Amu07FxjRv8FEuOl8eKjz0BOnwXi58EF/lnSZcQ2rNNDAAAAAElFTkSuQmCC",PersonalModal=({show:St,setMode:e,fa:_e,userMail:_i,userTel:ir,userAdr:rr,setSigned:gr,onPasteSign:cr})=>{if(!St)return null;const tr=nr=>{const er=new fabric$1.fabric.IText(_i,{left:200,top:100});_e.add(er).renderAll(),gr(!0)},hr=nr=>{const er=new fabric$1.fabric.IText(ir,{left:300,top:200});_e.add(er).renderAll(),gr(!0)},ur=nr=>{const er=new fabric$1.fabric.IText(rr,{left:400,top:300});_e.add(er).renderAll(),gr(!0)},or=()=>{cr("imgPersonal")};return jsx("div",{className:" position-center fixed z-50 flex h-full w-full items-center justify-center bg-black bg-opacity-50",children:jsxs("div",{className:"h-[335px] w-[206px] rounded-[10px] bg-white drop-shadow-md",children:[jsxs("div",{className:"flex h-[55px] items-center justify-center border-b border-blue-dark py-4 px-5",children:[jsx("h4",{className:"flex-1 text-center",children:"\u500B\u4EBA\u5316"}),jsx(XMarkIcon$1,{onClick:()=>e(null),className:"h-6 w-6 flex-none cursor-pointer"})]}),jsx("div",{className:"flex h-[76px] justify-center py-5 px-2.5",children:jsxs("div",{className:"flex flex-col gap-2.5 ",children:[jsxs("button",{name:"mail",onClick:tr,type:"button",className:cx("btn-group",{disabled:_i===null}),children:[jsx(EnvelopeIcon$1,{className:"h-5 w-5"}),jsx("span",{children:"\u4FE1\u7BB1"})]}),jsxs("button",{name:"tel",onClick:hr,type:"button",className:cx("btn-group",{disabled:ir===null}),children:[jsx(PhoneIcon$1,{className:"h-5 w-5"}),jsx("span",{children:"\u96FB\u8A71"})]}),jsxs("button",{name:"adr",onClick:ur,type:"button",className:cx("btn-group",{disabled:rr===null}),children:[jsx(MapPinIcon$1,{className:"h-5 w-5"}),jsx("span",{children:"\u5730\u5740"})]}),jsxs("button",{onClick:or,type:"button",className:cx("btn-group",{disabled:localStorage.imgPersonal===void 0}),children:[jsx("img",{src:signIcon$1,alt:"icon on screen",className:"ml-0.5 w-4"}),jsx("span",{children:"\u7C3D\u540D"})]})]})})]})})},signIcon="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAgCAYAAACcuBHKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEmSURBVHgB7ZfrDYIwFEYvhgEcgQ3UCXQUNpANhAnUCdQNHIENdAPYQDaoX2MbsSFA21v8w0luCvR1aJM+IvoDQoglkhTRRFF0pamRAoin+LKOW2ZLsgR/UduUV/2UiJWZsUa8hBuVaniUgDECklxn5sKPxEsAxEb5RsVYzkNTIrqnoEC9vF0o77Ljom8ENAsKCDq8UN8IhJZQAikNCASTsBEIImErwC7hIsAq4SrAJuEjwCLhK+AtwSHgJQGBo42A2j8S4pJAYwck2VgBxQNRoW7GIgF2NgJqBBL1ujfzY3KjoM8h6AaBE3niJIGOSyQbYiLoLjqWWUIzS2hmCY25TmxDnLhp4HZnSuzod0meBDkdNU1LbX6I5dUcUyCfEwqPvN3dzY9vyN1PnyWyWbwAAAAASUVORK5CYII=",SideBar=({setShowHamburger:St,setFocus:e,focus:_e})=>jsxs(Fragment,{children:[jsx("div",{className:"mod model-5"}),jsx("div",{className:"md:bg-red-600 xl:bg-green-500 flex h-full w-[86px] flex-col justify-between bg-black py-5",children:jsxs("div",{className:"flex flex-col items-center justify-center gap-[18px]",children:[jsx(XMarkIcon$1,{onClick:()=>St(!1),className:"h-9 w-9 cursor-pointer text-[#C0D2DD]"}),jsxs("button",{className:cx("sidebarBtn",{focus:_e==="1"}),onClick:()=>e("1"),children:[jsx(PlusCircleIcon$1,{className:"h-9 w-9 cursor-pointer text-white"}),jsx("span",{className:"text-white",children:"\u958B\u59CB\u7C3D\u7F72"})]}),jsxs("button",{className:cx("sidebarBtn",{focus:_e==="2"}),onClick:()=>e("2"),children:[jsx("img",{src:signIcon,alt:"signIcon on screen",className:"mb-1 w-7"}),jsx("span",{className:"text-white",children:"\u5EFA\u7ACB\u7C3D\u540D"})]})]})})]}),alertImg01=""+new URL("alertImg01.4b1e329b.png",import.meta.url).href,alertImg02=""+new URL("alertImg02.08707742.png",import.meta.url).href,logoDark="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFcAAABICAYAAACDSGkiAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANQSURBVHgB7ZztUdtAEIZfCQqghEsIPwOhg1MHKUF0kFSAqQBSAaIDOpA6IDP5mZmcOoACsC+32BBZxvhzb51jn5nFcB4Ga/1ob+/OA5A+JkQd4j6EjxAuxBe8E+hifeS4wzugRPzEPkfyOMgk9hqJU0LOWoPEcVBrWSih1rLhoNayUEKtZcNBJrE1EqeEnLUWieOg1rJQQq1lw0GtZaGEnLUlEsdBJrEOiVNCrWWjhlrLgoVay0YNtZYFC7WWjRpqLQt0uqrWMlFBrWXBQK1lo4Jay4KBWstGBbWWBQM5a78hcSrIWWuQMAZy1g6QOBXUWhYM1Fo2Ksgl1yBhDOQSe43EqaDWsmCg1rJRQa1lwUA/BsrGOdRaFgzUWjbOodaycAC1lo0Sai0bDmotCyXUWjYcErN2H+N3jf6ARRyaEGch2ueB+s4dZHsjSOCH+U1x+gEcZJDZEG5CFN2B+u63zfbyGjHJssZ+/liAiRwy9caid1RdnB413vsfiIh/zC7ACCX3FjJcYtzX/mO0NwhfHxCDYG0oBw0YoeRS/YtzQdNQYs+7A+FiH8IM8x0R4LaWyCaPdC5/CRmo5jXdgebXnxreW/DR2uNDnlmsQz55vELvAiNCncpUeQhWsd5N4e5gt5bIO99LlQeD3idaQnlovR9xTW5tcXxYIQLd5LYhos7WHaj2Tv27qOLkaBAmnZ/YMrGsJfLez1QeWsgwU/P943Dbk1s0a4l+cqksnEEGi5nysN3eN6a1RP7KWAPZ8mCmRsa9b4vNiWotkc8ZH0Cu953aSHnqfYejje+m2NYS85IrXR6+dgeoPISWfJOVZHRrifyN5+hiGsgw2/sO1+99Jawl8gXP79bS2K+VJBFriUXJbSH0rmPcOdjuQHFyeEUbLlgBL/f6X/YWFkH7rBbxaUOconP3hI11EzbW3bK/H2MPYR6LzH0myk7VKxi8vjReykZJa4llk0vL0J1ZGmO0v8xKssUwl9qrfmLZ5BID7MjSeJneN0x+dDYmMRm/sEpy/6elcYtRXkGYVZJLNCFuIIOdGZlzLDSxtoUwqyaXIIMkbrf7/sD4WMj376adsJZYJ7mUWDqa2fpe6xs0mDPzF8efbifdA70uOoO72AVrib+Z6Fwqb04GhwAAAABJRU5ErkJggg==",Header=({step:St,setStep:e,showHamburger:_e,setShowHamburger:_i,isUpload:ir,onPrevStep:rr,onFinish:gr,backToStep1:cr,fileName:tr})=>jsxs("div",{className:"flex min-h-[72px] items-center justify-between bg-white px-3 drop-shadow-md",children:[jsx("div",{className:cx(!_e&&"hidden")}),jsxs("div",{className:cx("flex items-center gap-2",_e&&"hidden"),children:[jsx(Bars3Icon$1,{onClick:()=>_i(!0),className:"h-9 w-9 cursor-pointer text-[#C0D2DD]"}),jsx("img",{src:logoDark,alt:"logo-dark on screen",className:"h-9 w-[43.01px]"})]}),jsx("span",{className:"text-gray-dark",children:tr}),jsxs("div",{className:"flex h-full items-center justify-end gap-2.5",children:[St>"1"&&jsx("button",{type:"button",className:"btn-white",onClick:rr,children:"\u8FD4\u56DE"}),St==="1"&&jsx("button",{type:"button",className:cx("btn-black",{disabled:!ir}),onClick:()=>e("2"),children:jsx("span",{className:"font-medium",children:"\u4E0B\u4E00\u6B65"})}),St==="2"&&jsx("button",{type:"button",className:"btn-black",onClick:gr,children:jsx("span",{className:"font-medium",children:"\u5B8C\u6210"})}),St==="3"&&jsx("button",{onClick:cr,type:"button",className:"btn-black",children:jsx("span",{className:"font-medium",children:"\u65B0\u6A94\u6848"})})]})]});pdf.exports.GlobalWorkerOptions.workerSrc=pdfWorker;const Step1=({isUpload:St,setIsUpload:e,focus:_e,uploadPdf:_i,fileName:ir})=>{const rr=react.exports.useRef(null),gr=react.exports.useRef(null),cr=react.exports.useRef(null),[tr,hr]=react.exports.useState(1),[ur,or]=react.exports.useState(1);let nr=null;react.exports.useEffect(()=>{!St||er()},[St]);const er=()=>{const sr=new FileReader;sr.readAsArrayBuffer(_i),sr.addEventListener("load",()=>{const pr=new Uint8Array(sr.result);pdf.exports.getDocument(pr).promise.then(async mr=>{hr(mr.numPages),nr=mr;const vr=rr.current;for(let yr=1;yr<=nr.numPages;yr++){const br=document.createElement("canvas");br.className="pdf-page-canvas",vr.appendChild(br),ar(yr,br,ur)}})})},ar=(sr,pr,mr)=>{nr.getPage(sr).then(vr=>{const yr=vr.getViewport({scale:mr});return pr.width=yr.width,pr.height=yr.height,vr.render({canvasContext:pr.getContext("2d"),viewport:yr})})},dr=()=>{const sr=document.getElementById("pdf-viewer");for(;sr.firstChild;)sr.removeChild(sr.lastChild);e(!1)},lr=sr=>{const pr=document.querySelector("canvas");let mr=sr.target.getAttribute("data-name");pr.className;let vr=.25,yr=.25;if(mr==="minus"){if(ur<vr)return;if(or(ur-yr),ur===1.5){rr.current.className=" scale-125";return}else if(ur===1.25){rr.current.className=" scale-100";return}else if(ur===1){rr.current.className=" scale-75";return}else if(ur===.75){rr.current.className=" scale-50";return}}else if(mr==="plus"){if(or(ur+yr),ur===1.25){rr.current.className=" scale-150";return}else if(ur===1){rr.current.className=" scale-125";return}else if(ur===.75){rr.current.className=" scale-100";return}else if(ur===.5){rr.current.className=" scale-75";return}else if(ur===.25){rr.current.className=" scale-50";return}}};return jsx(Fragment,{children:jsx("main",{className:cx("step1-main-wrapper",{hidden:_e==="2"}),children:jsx("div",{className:cx({hidden:!St}),children:jsxs("div",{className:"step1-main-wrapper__content",children:[jsxs("div",{className:"relative mb-2.5 ",children:[jsx("p",{className:"rounded-lg border py-2.5 px-3",children:ir}),jsx("button",{onClick:dr,type:"button",className:"absolute -right-0.5 top-0 translate-y-[-1px] rounded-lg bg-red py-3 px-4 text-white ring-blue-dark hover:bg-red-dark active:ring-2 disabled:bg-gray",children:"\u522A\u9664\u6A94\u6848"})]}),jsxs("div",{className:"relative h-[538px] rounded-[10px] border bg-[#E7E9EA] p-2.5",children:[jsxs("span",{className:"absolute right-2.5 z-50 rounded-md bg-black py-1.5 px-3 font-medium text-white",children:["\u5171",tr,"\u9801"]}),jsx("div",{className:"pdf-wrapper",children:jsx("div",{className:"pdf-viewer",id:"pdf-viewer",ref:rr})}),jsxs("div",{className:"absolute bottom-2.5 right-2.5 flex gap-1",children:[jsx("button",{className:"icon-btn",children:jsx(MinusIcon$1,{onClick:lr,"data-name":"minus",ref:gr,className:cx("h-6 w-6 text-white",{disabled:ur===.25})})}),jsx("button",{className:"icon-btn",children:jsx(PlusIcon$1,{onClick:lr,ref:cr,"data-name":"plus",className:cx("h-6 w-6 text-white",{disabled:ur===1.5})})})]})]})]})})})})},text="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAiCAYAAAA3WXuFAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACJSURBVHgB7dbRCYAgFIXhYzhIbdIojdIojdIojuAGJeSTRMe4gj6cD+5Tlv+DhA7AhXGECYNREPMW5H6O5f2lJqgrBTHDBfk0B/qJxf7Rwa7805u+qTPEKIhREKMgRkGMghgFMQpiFMT4ijVznlrrx7OQx2THc29uMRvbTGeIqTlDIc2JNgJbcAOWpR4M6vukeAAAAABJRU5ErkJggg==",star="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAlCAYAAAAuqZsAAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFySURBVHgBzZjBUcMwEEUfpAGXsEeOKUElUIKO3AgdpITQAR1Qgq/cSAdOB+HIDWRij4OxZclaI7+ZP8nYGulLf21pvEGPwunB6c7p5PTJSnh1+mpUshKEzlSrggRu0cEMXLOsgDq6/oplj1P4ayo5To0ojeeeJSNDMWaPUxg3lRRnapQmoI0lA74Ys8UpTJuqdW7aRnFz9d9EdFDXzWNE+5PTs9NHRPsfLGGz/ze1xW9YGa2xIytj0/y+cak3wzp46l8Qp4p8tVWPvWWE+ol7yWDqQOAuYbm8g5Y2VI+xIxJh2WiPzHj5XrNfwNQBJXaKpqKj8yHoGZOpwWKOPYIeMtUgxphFj3sUqdCL8owSRtFUK+MbMDRKiz4qcYbGWBJ23FaJ0wQMUvE7GkPYZAwJHJhepaHNV5g+DOxJYGzmoZvvHv9Kz2Lr6XAb0Y8wPsGYfrzGgs9NPQqGy8Iwk3e66CzpWLrVK0lESPxC2KNgYr/8BlOFnOFRp9yKAAAAAElFTkSuQmCC",sign="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHgSURBVHgB7Zj/cYIwFIC/3nUAN/BtoBuUETqCI9QJpBt0AxnBDewGthNAJ9BO0PIuyfHDgFAp5A++u3doLiSfvPzAwPQIgSN5pHn82KsQIEIh6SI4WaGQ/LDfTwQmK1QlF7Zcr8HICn5JRxCyQnVMnvNYe+rVZReMiFB9kgm3ZV39DSMh+NOd0Cy7o3jywggI7WMy4Vq2LBkzAkK7pCOhkHWfg5N0JFQX/pgREPpJKsGmu8ws6UOYJYdBmCWHQZglh0GYJYfjudTpvkP9SSSxnZVfHNpkJ5NUDlRFm2QnlVROXIvWZSeXBL9kWTYIyTXtoqO/9DZRnvGTST52qLNuKL9g1tRPir/B/0YXUZ3xqzy+8sgwUhoXRuSh9l2fXoTZeZZ5fOfxhhEMAsnjiH/spYx8tOJDUy8YSWmoo+UqeivVWicq1V/acs1Khhku79xBQvtsTmmXe6E5G762dvzxqOZca0w7jTEHVBv8x4N95JqEN/TAN+szTIouNnSCib3q7I+4H8HsaDo8XrvcoLP+OFDnilu63FKmaAb0Rz7hT/kWs7LcRLg++O8TbqhIh75iz/1neiD4X+WGkPP1VZ4XaZeb6gt+hNnbVxQSGWasajo1rQfu35V0KOxtO1vbbiu/3S5FHKy6RNgAAAAASUVORK5CYII=",textWhite="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAiCAYAAAA3WXuFAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACXSURBVHgB7dfRCYNAEIThNViIpaSUlJJSUko6cUuwAx3BBznE30NBH+YDEc49dsA90GaUeI58xcM4EGnLhUaiQjmDNfu1tdOtX6/5lREHIvNQ/+I+Q9F/qDpRW86csi2eIeJAxIGIAxEHIg5EHIg4EHEg0lLB8jPXxUGqf+88Tn3hZpyhBt/xOh/q5xkiOEOSuv5xjaSCCdGjbZRBCzPrAAAAAElFTkSuQmCC",starWhite="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAlCAYAAAAuqZsAAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGiSURBVHgBzZiBVcMgEIZ/nCBuEDfoCIzgCGxg3aBuECfQDXSDuoHdIN3AbHAehj6jTeAItPC9x+O1+blc+VPuWoVMEFHDk+Ex8HhXSg2oAU7sjX7ZowY4kZbOaZDADfKgZ94zKI21bmbHytq5YGOynTms1J5rBqVYsLGsnQEbk+xMtVILNAbXJmBjGTuFNlq+rBaRqMmNNE+tcJ19bh4i9EcezxjrqEivXFKGpxdUxOnh16iMU2IHVMZPYtw7dTw9oR4e/7xy37SeytHz2MymyhcaHq90fTqSVAkWGRrPoEtj77FFDHR5aw+04vCdJrij/HTIAQfaUj6C1ikIoXHLe+Thjo+oo08Q0/a0yEcbEsQkZpCP+5AgxkprY4s8DGzlrU8g2jGKa4kkNC7mIlIrDfLjtVNkZYSNH27WAm3QTi92ywXnUj+1xq3pBes01kJjcfWxp5niS2M5CzUDO6zF88lFxZf85Wzdgc0LN0sBaalvmo/jawbEcUKJyfqm81gNzT8WGmvghZ8T6wwSobHP613MtB/Dzoqkfwj/xbO71/o039txGLjXfnWmAAAAAElFTkSuQmCC",signWhite="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHnSURBVHgB7ZiLbYMwEIYPKQNkg7BB2KDZoBkhI7QThGyQDcgIbEA6QegE0AlIJ7jeyRfJARuchIcr8Uu/IowfH3c2DgaYWIgYgs9iQHKBSoWXwDVI9BK2BpnL9cUrWAPkUsqX3sDaILX708Ma5mRFjgz16rBLGEuGSJ4cYG/1dzCGWuakFZau91rkQxha2D0nG7A1yBiGVhekBfbkJaQB1l9IabOfIWfIoTRD9qUZsi/NkH3pX0DKoFtt0MSh/viQMnCM90rAN0gZPMWmEvAJUgAuaFbiDaRAtCnxBTJCd8UwlfB+xU8GuXCoE1nKr+Sc/M2/QRCcYEC5gKbkNfmHXIKCY7ArjKhAv0D12boh886zIv+SjwRVgg9CtUVmlrlX4JhHKxYtUJ1GZOTQUofLGbQ11fIwG63+Sm5xVkpQ0+UMzwqb39WNiLa05XOij5ZsmLKzxyeOagJqVIGKwE1n8heoKLBSfeFI5Hbkd1ARfEYl+fDIm2Jh6eQMKtXsSCLAC239ApyukJxQvyuCPbg04IhmPQ3OysW3VxmLM8AP+QbmdfBJsEfoEpoP/h9RhupvYOgwVmxoX4GrBDYdAs4yVqX1Vbi0q7/wN/SzBTUXQykuQc1VTienNX11V0K1sSTSL6c+72rzB9bFka3kEJF3AAAAAElFTkSuQmCC",Footer=({mode:St,setMode:e,signed:_e,clear:_i,fa:ir,focus:rr})=>{const gr=()=>St==="sign"?jsxs("button",{className:"footer-icon-btn--active",children:[jsx("img",{src:signWhite,alt:"icon on screen",className:"w-5"}),jsx("span",{className:"text-white",children:"\u7C3D\u540D"})]}):jsxs("button",{onClick:()=>e("sign"),className:"footer-icon-btn",children:[jsx("img",{src:sign,alt:"icon on screen",className:"w-5"}),jsx("span",{children:"\u7C3D\u540D"})]}),cr=()=>St==="text"?jsxs("button",{className:"footer-icon-btn--active",children:[jsx("img",{src:textWhite,alt:"icon on screen",className:"w-5"}),jsx("span",{className:"text-white",children:"\u6587\u5B57"})]}):jsxs("button",{onClick:()=>e("text"),className:"footer-icon-btn",children:[jsx("img",{src:text,alt:"icon on screen",className:"w-5"}),jsx("span",{children:"\u6587\u5B57"})]}),tr=()=>St==="personal"?jsxs("button",{className:"footer-icon-btn--active",children:[jsx("img",{src:starWhite,alt:"icon on screen",className:"w-5"}),jsx("span",{className:"text-white",children:"\u500B\u4EBA\u5316"})]}):jsxs("button",{className:"footer-icon-btn",onClick:()=>e("personal"),children:[jsx("img",{src:star,alt:"icon on screen",className:"w-5"}),jsx("span",{children:"\u500B\u4EBA\u5316"})]}),hr=ur=>{const or=new fabric.IText(ur,{left:200,top:200});ir.add(or).renderAll()};return jsxs("footer",{className:cx({hidden:rr==="2"}),children:[jsx(gr,{}),jsx(cr,{fa:ir,textToFaImg:hr}),jsx(tr,{textToFaImg:hr}),jsxs("button",{onClick:_i,className:cx("footer-icon-btn",{disabled:_e===!1}),children:[jsx(TrashIcon$1,{className:"w-5"}),jsx("span",{children:"\u91CD\u65B0\u7C3D\u7F72"})]})]})},DownloadBtn=({onDownloadFile:St})=>jsx("button",{onClick:St,type:"button",className:"icon-btn absolute bottom-16 right-5 h-8 w-8 text-white",id:"menu-button","aria-expanded":"true","aria-haspopup":"true",children:jsx(ArrowDownTrayIcon$1,{className:"w-6"})}),Stepper=({step:St})=>jsxs("ul",{className:"flex justify-between",children:[jsxs("li",{className:"w-1/3 border-b-[6px] border-gray-dark bg-[#DEE1E3] py-2.5 text-center",children:[jsx("span",{className:"step1circle"}),jsx("span",{children:"\u4E0A\u50B3\u7C3D\u5C6C\u6A94\u6848"})]}),jsxs("li",{className:"step2bg","data-active":St>="2",children:[jsx("span",{className:"step2circle","data-active":St>="2"}),jsx("span",{children:"\u9032\u884C\u7C3D\u7F72"})]}),jsxs("li",{className:"step3bg","data-active":St==="3",children:[jsx("span",{className:"step3circle","data-active":St==="3"}),jsx("span",{children:"\u7C3D\u7F72\u5B8C\u6210"})]})]}),SettingSignModal=({focus:St,setUserAdr:e,setUserMail:_e,setUserTel:_i})=>{react.exports.useState([]);const[ir,rr]=react.exports.useState(!1),[gr,cr]=react.exports.useState(4),[tr,hr]=react.exports.useState("#000000"),[ur,or]=react.exports.useState(null),[nr,er]=react.exports.useState(null),[ar,dr]=react.exports.useState(null),lr=react.exports.useRef(null),sr=react.exports.useRef(null);react.exports.useEffect(()=>{const Tr=lr.current,Br=document.getElementById("canvas-wrapper");Tr.width=Br.offsetWidth,Tr.height=Br.offsetHeight,er(Tr);const Jr=Tr.getContext("2d");dr(Jr)},[St]),react.exports.useEffect(()=>(lr.current&&(lr.current.addEventListener("mousedown",mr),lr.current.addEventListener("mouseup",vr),lr.current.addEventListener("mouseleave",vr),lr.current.addEventListener("mousemove",yr),sr.current.addEventListener("click",br)),()=>{!lr.current||(lr.current.removeEventListener("mousedown",mr),lr.current.removeEventListener("mouseup",vr),lr.current.removeEventListener("mouseleave",vr),lr.current.removeEventListener("mousemove",yr),sr.current.removeEventListener("click",br))}),[ir]);const pr=Tr=>{const Br=nr.getBoundingClientRect();return Tr.type==="mousemove"?{x:Tr.clientX-Br.left,y:Tr.clientY-Br.top}:{x:Tr.touches[0].clientX-Br.left,y:Tr.touches[0].clientY-Br.top}},mr=Tr=>{Tr.preventDefault(),rr(!0)},vr=()=>{rr(!1),ar.beginPath()};function yr(Tr){if(!ir)return;const Br=pr(Tr);ar.lineWidth=gr,ar.strokeStyle=tr,ar.lineCap="round",ar.lineTo(Br.x,Br.y),ar.stroke()}const br=()=>{ar.clearRect(0,0,nr.width,nr.height)},_r=()=>{const Tr=canvas.toDataURL("image/png");or(Tr),localStorage.setItem("imgPersonal",Tr)},xr=Tr=>{_e(Tr.target.value)},Nr=Tr=>{_i(Tr.target.value)},zr=Tr=>{e(Tr.target.value)};return jsx("div",{className:cx({hidden:St==="1"}),children:jsx("div",{className:"h-screen w-full min-w-[540px] bg-gray py-10 px-[18px]",children:jsx("div",{className:"min-h-[600px] w-full rounded-[10px] bg-white drop-shadow-md",children:jsxs("form",{className:"flex flex-col gap-4 p-5",children:[jsxs("label",{children:[jsx("h5",{className:"ml-3",children:"\u4FE1\u7BB1"}),jsx("input",{onKeyDown:xr,type:"text",className:"h-9 w-full rounded-md border py-2.5 px-3",placeholder:"\u8ACB\u8F38\u5165\u6B32\u4F7F\u7528\u7684\u500B\u4EBA\u4FE1\u7BB1"})]}),jsxs("label",{children:[jsx("h5",{className:"ml-3",children:"\u96FB\u8A71"}),jsx("input",{onKeyDown:Nr,type:"text",className:"h-9 w-full rounded-md border py-2.5 px-3",placeholder:"\u8ACB\u8F38\u5165\u6B32\u4F7F\u7528\u7684\u500B\u4EBA\u96FB\u8A71"})]}),jsxs("label",{children:[jsx("h5",{className:"ml-3",children:"\u5730\u5740"}),jsx("input",{onKeyDown:zr,type:"text",className:"h-9 w-full rounded-md border py-2.5 px-3",placeholder:"\u8ACB\u8F38\u5165\u6B32\u4F7F\u7528\u7684\u500B\u4EBA\u5730\u5740"})]}),jsxs("div",{children:[jsx("ul",{className:"flex gap-3 pl-3 text-lg",children:jsx("li",{children:jsx("a",{className:"text-blue",children:"\u7C3D\u540D"})})}),jsxs("div",{className:"min-h-[140px] min-w-[390px] rounded-md border",children:[jsx("div",{id:"canvas-wrapper",className:"rounded-t-md border-b border-blue-dark bg-[#EBF3FC]",children:jsx("canvas",{ref:lr,className:"responsive-canvas",id:"canvas",style:{border:"1px solid #333333"}})}),jsxs("div",{className:"flex gap-2.5 border-b border-gray py-2.5 px-[14px]",children:[jsx("span",{children:"\u984F\u8272"}),jsx("span",{onClick:()=>hr("#000000"),className:"btn-color bg-black"}),jsx("span",{onClick:()=>hr("#0272A1"),className:"btn-color bg-[#0272A1]"}),jsx("span",{onClick:()=>hr("#DA2F2F"),className:"btn-color bg-[#DA2F2F]"}),jsx("span",{children:"\u5927\u5C0F"}),jsxs("div",{className:"flex items-center gap-2.5",children:[jsx("span",{onClick:()=>cr(2),className:"btn-size h-3 w-3"}),jsx("span",{onClick:()=>cr(4),className:"btn-size h-[18px] w-[18px]"}),jsx("span",{onClick:()=>cr(6),className:"btn-size h-6 w-6"})]})]}),jsxs("div",{className:"flex justify-end gap-2.5 p-2.5",children:[jsx("button",{ref:sr,type:"button",className:"btn-white border",children:"\u6E05\u9664"}),jsx("button",{onClick:_r,type:"button",className:"btn-black",children:"\u5B8C\u6210"})]})]})]})]})})})})},file="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABQCAYAAACkoQMCAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKkSURBVHgB7Zy9kdQwGIZffgLCLUEdQAc4JKQEUwFkhLcdcFTAXkbGUIGXCrgO7A64lGjRh70zjMefLVnWj7n3mXnnkhtbetaW9UneBcqgsvli88vmkiE/bWoUhLE5IY+MqbRDm7JxsLlBvitkSc7hGdIiQj7afLV5Y/MC5SFt/I2E1Og/jdKukKk0T0aNPwwdeIntkGNWw99d8gn7+DRThVI0MXVBjWnQ33YpWBTTALhkTov0E6xFMTnnEnLuI/IMzItiHpuQK0WJaZBfyJXZtj53OMA7hPFg0w15wE6QCd7F4X/+R2b7/RRkEopRoBgFilGgGAWXx/USBmnpkIjFGeAEFfLWWHJugzCCZ75j3sKt8bHTIkzO5mJauDU8RW6xnk3FHBwbnPKqWcvssff+VIpWe/mKkYacUQ73iIjPrSS8QhkbZS0iDr5rq2uDfl3lNfLwfTh/yK00228uOyiwJFCgGAWKUaAYBYpRWLvsIKXBe6TbTh1zh/5NrKj4TvAMyigk5b25kP2pxX77ivkGt4anyBHr2VQMq2uF3b4V5YuvmA5lbbOeERGfW0n4ADhf6rFjsJ7FfvuKEUROC79ObD22VAhj9hyh1bWszaQedzpss4Uy228uOyiwJFCgGAWKUaAYhZBN/Qr5qusTEmzu+85j5PHcwG2+ETM3CGOx375iSvreQY31bC6mpG+lNVjP7LF9B1+Dsipsg0jsvbruEIk1j+vPKIc7RMR3jBFu4T4OxMoRYcweP6SIrJCnupZb+YTwW3q236yuFVgSKFCMAsUoUIwCxShQjALFKFCMAsUoUIwCxShQjALFKLhU148SXjEKFKMgYs4gY+5FzA+QMX8X/GXNtkX+xe1S0v5ryIByrlIMJqjRv4q+l45slQajn4j6A9GLluCdhRlbAAAAAElFTkSuQmCC",EmptyFile=({onUploadFile:St})=>jsx(Fragment,{children:jsxs("div",{className:"empty-file-wrapper",children:[jsx("h4",{className:"text-center text-gray-dark",children:"\u4E0A\u50B3\u7C3D\u7F72\u6A94\u6848"}),jsx("div",{className:"mt-3 flex h-[559px] w-full flex-col justify-center",children:jsx("div",{className:"flex h-full items-center justify-center rounded-[10px] border-2 border-dashed border-blue-dark bg-white",children:jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[jsx("img",{src:file,alt:"file icon on screen",className:"h-10"}),jsx("p",{children:"\u8ACB\u9078\u64C7\u6B32\u4E0A\u50B3\u7684\u6587\u4EF6\u6216\u62D6\u66F3\u6A94\u6848\u81F3\u6B64\u8655\u2028\u672C\u7CFB\u7D71\u652F\u63F4PDF\u6A94"}),jsxs("label",{className:"btn-black flex w-[136px] items-center justify-center",children:[jsx("input",{onChange:St,type:"file",accept:".pdf",className:"hidden"}),jsx("span",{children:"\u9078\u64C7\u6A94\u6848"})]})]})})})]})});new E;pdf.exports.GlobalWorkerOptions.workerSrc=pdfWorker;const ShowUploadPdf=({uploadPdf:St,step:e,setFa:_e,fa:_i,focus:ir})=>{const rr=react.exports.useRef(null),gr="data:application/pdf;base64,";react.exports.useEffect(()=>{const or=new fabric$1.fabric.Canvas(rr.current);_e(or)},[rr]);function cr(or){return new Promise((nr,er)=>{const ar=new FileReader;ar.addEventListener("load",()=>nr(ar.result)),ar.addEventListener("error",er),ar.readAsDataURL(or)})}async function tr(or){or=await cr(or);const nr=window.atob(or.substring(gr.length)),ar=await(await pdf.exports.getDocument({data:nr}).promise).getPage(1),dr=ar.getViewport({scale:window.devicePixelRatio}),lr=document.createElement("canvas"),sr=lr.getContext("2d");lr.height=dr.height,lr.width=dr.width;const pr={canvasContext:sr,viewport:dr};return ar.render(pr).promise.then(()=>lr)}async function hr(or){const nr=1/window.devicePixelRatio;return new fabric$1.fabric.Image(or,{id:"renderPDF",scaleX:nr,scaleY:nr})}react.exports.useEffect(()=>{e==="2"&&ur()},[e]);const ur=async()=>{_i.requestRenderAll();const or=await tr(St),nr=await hr(or);_i.setWidth(nr.width/window.devicePixelRatio),_i.setHeight(nr.height/window.devicePixelRatio),_i.setBackgroundImage(nr,_i.renderAll.bind(_i))};return jsx("div",{className:cx("max-h-[600px] w-full bg-gray",{hidden:ir==="2"}),style:{paddingLeft:"calc(50% - 250px)"},children:jsx("canvas",{style:{left:"50%"},className:"divcanvas left-1/2 max-h-[90%] max-w-[90%]",ref:rr})})},AlertTwoButton=(St,e,_e,_i)=>{Swal.fire({icon:"warning",title:e,text:_e,buttonsStyling:!1,showDenyButton:!1,showCancelButton:!0,allowOutsideClick:!1,confirmButtonText:"\u53D6\u6D88",cancelButtonText:St,customClass:{confirmButton:"confirm-custom-row",cancelButton:"cancel-custom-row"}}).then(ir=>{if(ir.isDismissed)_i();else return})},v="5.9.0",fr=50,ip=0,op=50,w=177,h=133,nm="Comp 1",ddd=0,assets=[{id:"comp_0",nm:"Pre-comp 1",fr:50,layers:[{ddd:0,ind:1,ty:4,nm:"\u7B46 Outlines",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.322,y:1},o:{x:.333,y:0},t:0,s:[48.5,67.5,0],to:[14.667,0,0],ti:[-14.667,0,0]},{i:{x:.667,y:.667},o:{x:.333,y:.333},t:25,s:[136.5,67.5,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:40,s:[136.5,67.5,0],to:[-14.667,0,0],ti:[14.667,0,0]},{t:50,s:[48.5,67.5,0]}],ix:2,l:2},a:{a:0,k:[29.5,40,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[-.896,1.787],[0,0]],o:[[0,0],[1.077,1.698],[0,0],[0,0]],v:[[-17.038,-13.867],[-.225,12.668],[4.215,12.445],[17.038,-13.867]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.752941236309,.823529471603,.866666726505,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[17.656,66.133],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:4,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[1.883,0],[0,0],[.628,-1.295],[0,0],[0,0],[0,0]],o:[[0,0],[-1.479,0],[0,0],[0,0],[0,0],[.852,-1.652]],v:[[26.319,-26.133],[-1.302,-26.133],[-4.709,-23.989],[-29.191,26.133],[4.886,26.133],[28.606,-22.515]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[29.809,26.133],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:4,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1}],ip:0,op:120,st:0,bm:0},{ddd:0,ind:2,ty:3,nm:"\u7B46",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.322,y:1},o:{x:.333,y:0},t:0,s:[48.5,67.5,0],to:[14.667,0,0],ti:[-14.667,0,0]},{i:{x:.667,y:.667},o:{x:.333,y:.333},t:25,s:[136.5,67.5,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:40,s:[136.5,67.5,0],to:[-14.667,0,0],ti:[14.667,0,0]},{t:50,s:[48.5,67.5,0]}],ix:2,l:2},a:{a:0,k:[29.5,40,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,ip:0,op:120,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"Shape Layer 1",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[47.375,93.094,0],ix:2,l:2},a:{a:0,k:[-41,27,0],ix:1,l:2},s:{a:1,k:[{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:10,s:[0,103.009,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:20,s:[126.452,103.009,100]},{i:{x:[.833,.833,.833],y:[.833,.833,.833]},o:{x:[.167,.167,.167],y:[.167,.167,.167]},t:30,s:[126.452,103.009,100]},{t:40,s:[126.452,103.009,100]}],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ty:"rc",d:1,s:{a:0,k:[38.75,27],ix:2},p:{a:0,k:[0,0],ix:3},r:{a:0,k:0,ix:4},nm:"Rectangle Path 1",mn:"ADBE Vector Shape - Rect",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[-21.625,27],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Rectangle 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:120,st:0,bm:0},{ddd:0,ind:4,ty:4,nm:"\u5716\u5C64 2/Group 1996 Outlines",parent:2,sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:9,s:[0]},{t:10,s:[100]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:0,s:[-14,66.5,0],to:[0,-.167,0],ti:[0,.167,0]},{t:10,s:[-14,65.5,0]}],ix:2,l:2},a:{a:0,k:[29.5,40,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[1.076,1.698],[0,0],[.896,0],[0,0],[-1.076,-1.697],[0,0],[-.897,0],[0,0]],o:[[0,0],[-.449,-.714],[0,0],[-2.018,0],[0,0],[.448,.715],[0,0],[2.017,0]],v:[[23.383,9.962],[8.99,-12.688],[6.839,-13.848],[-21.23,-13.848],[-23.383,-9.962],[-9.035,12.687],[-6.883,13.849],[21.232,13.849]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[28.785,40.115],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:120,st:0,bm:0},{ddd:0,ind:7,ty:4,nm:"\u5716\u5C64 2/Group 1996 Outlines",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[45,93,0],ix:2,l:2},a:{a:0,k:[29.5,40,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[1.076,1.698],[0,0],[.896,0],[0,0],[-1.076,-1.697],[0,0],[-.897,0],[0,0]],o:[[0,0],[-.449,-.714],[0,0],[-2.018,0],[0,0],[.448,.715],[0,0],[2.017,0]],v:[[23.383,9.962],[8.99,-12.688],[6.839,-13.848],[-21.23,-13.848],[-23.383,-9.962],[-9.035,12.687],[-6.883,13.849],[21.232,13.849]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[28.785,40.115],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:120,st:0,bm:0}]}],layers=[{ddd:0,ind:1,ty:4,nm:"\u7B46 Outlines",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.322,y:1},o:{x:.333,y:0},t:0,s:[48.5,67.5,0],to:[14.667,0,0],ti:[-14.667,0,0]},{i:{x:.667,y:.667},o:{x:.333,y:.333},t:25,s:[136.5,67.5,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:40,s:[136.5,67.5,0],to:[-14.667,0,0],ti:[14.667,0,0]},{t:50,s:[48.5,67.5,0]}],ix:2,l:2},a:{a:0,k:[29.5,40,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[-.896,1.787],[0,0]],o:[[0,0],[1.077,1.698],[0,0],[0,0]],v:[[-17.038,-13.867],[-.225,12.668],[4.215,12.445],[17.038,-13.867]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.752941236309,.823529471603,.866666726505,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[17.656,66.133],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:4,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[1.883,0],[0,0],[.628,-1.295],[0,0],[0,0],[0,0]],o:[[0,0],[-1.479,0],[0,0],[0,0],[0,0],[.852,-1.652]],v:[[26.319,-26.133],[-1.302,-26.133],[-4.709,-23.989],[-29.191,26.133],[4.886,26.133],[28.606,-22.515]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[29.809,26.133],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:4,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1}],ip:0,op:120,st:0,bm:0},{ddd:0,ind:4,ty:4,nm:"Shape Layer 1",td:1,sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:30,s:[0]},{t:40,s:[100]}],ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[41.25,93.5,0],ix:2,l:2},a:{a:0,k:[-32.75,27,0],ix:1,l:2},s:{a:0,k:[130,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ty:"rc",d:1,s:{a:0,k:[112.5,47],ix:2},p:{a:0,k:[0,0],ix:3},r:{a:0,k:0,ix:4},nm:"Rectangle Path 1",mn:"ADBE Vector Shape - Rect",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[-33.75,27],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:-26,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Rectangle 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:120,st:0,bm:0},{ddd:0,ind:5,ty:0,nm:"Pre-comp 1",tt:2,refId:"comp_0",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[88.5,66.5,0],ix:2,l:2},a:{a:0,k:[88.5,66.5,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,w:177,h:133,ip:0,op:120,st:0,bm:0}],markers=[],ani={v,fr,ip,op,w,h,nm,ddd,assets,layers,markers};var lottie$1={exports:{}};(function(module,exports){typeof navigator<"u"&&function(St,e){module.exports=e()}(commonjsGlobal,function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(e){_useWebWorker=!!e},getWebWorker=function(){return _useWebWorker},setLocationHref=function(e){locationHref=e},getLocationHref=function(){return locationHref};function createTag(St){return document.createElement(St)}function extendPrototype(St,e){var _e,_i=St.length,ir;for(_e=0;_e<_i;_e+=1){ir=St[_e].prototype;for(var rr in ir)Object.prototype.hasOwnProperty.call(ir,rr)&&(e.prototype[rr]=ir[rr])}}function getDescriptor(St,e){return Object.getOwnPropertyDescriptor(St,e)}function createProxyFunction(St){function e(){}return e.prototype=St,e}var audioControllerFactory=function(){function St(e){this.audios=[],this.audioFactory=e,this._volume=1,this._isMuted=!1}return St.prototype={addAudio:function(_e){this.audios.push(_e)},pause:function(){var _e,_i=this.audios.length;for(_e=0;_e<_i;_e+=1)this.audios[_e].pause()},resume:function(){var _e,_i=this.audios.length;for(_e=0;_e<_i;_e+=1)this.audios[_e].resume()},setRate:function(_e){var _i,ir=this.audios.length;for(_i=0;_i<ir;_i+=1)this.audios[_i].setRate(_e)},createAudio:function(_e){return this.audioFactory?this.audioFactory(_e):window.Howl?new window.Howl({src:[_e]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(_e){this.audioFactory=_e},setVolume:function(_e){this._volume=_e,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var _e,_i=this.audios.length;for(_e=0;_e<_i;_e+=1)this.audios[_e].volume(this._volume*(this._isMuted?0:1))}},function(){return new St}}(),createTypedArray=function(){function St(_e,_i){var ir=0,rr=[],gr;switch(_e){case"int16":case"uint8c":gr=1;break;default:gr=1.1;break}for(ir=0;ir<_i;ir+=1)rr.push(gr);return rr}function e(_e,_i){return _e==="float32"?new Float32Array(_i):_e==="int16"?new Int16Array(_i):_e==="uint8c"?new Uint8ClampedArray(_i):St(_e,_i)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?e:St}();function createSizedArray(St){return Array.apply(null,{length:St})}function _typeof$6(St){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$6=function(_e){return typeof _e}:_typeof$6=function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$6(St)}var subframeEnabled=!0,expressionsPlugin=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var St=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],e,_e=St.length;for(e=0;e<_e;e+=1)BMMath[St[e]]=Math[St[e]]})(),BMMath.random=Math.random,BMMath.abs=function(St){var e=_typeof$6(St);if(e==="object"&&St.length){var _e=createSizedArray(St.length),_i,ir=St.length;for(_i=0;_i<ir;_i+=1)_e[_i]=Math.abs(St[_i]);return _e}return Math.abs(St)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(St){St.style.position="absolute",St.style.top=0,St.style.left=0,St.style.display="block",St.style.transformOrigin="0 0",St.style.webkitTransformOrigin="0 0",St.style.backfaceVisibility="visible",St.style.webkitBackfaceVisibility="visible",St.style.transformStyle="preserve-3d",St.style.webkitTransformStyle="preserve-3d",St.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(St,e,_e,_i){this.type=St,this.currentTime=e,this.totalTime=_e,this.direction=_i<0?-1:1}function BMCompleteEvent(St,e){this.type=St,this.direction=e<0?-1:1}function BMCompleteLoopEvent(St,e,_e,_i){this.type=St,this.currentLoop=_e,this.totalLoops=e,this.direction=_i<0?-1:1}function BMSegmentStartEvent(St,e,_e){this.type=St,this.firstFrame=e,this.totalFrames=_e}function BMDestroyEvent(St,e){this.type=St,this.target=e}function BMRenderFrameErrorEvent(St,e){this.type="renderFrameError",this.nativeError=St,this.currentTime=e}function BMConfigErrorEvent(St){this.type="configError",this.nativeError=St}var createElementID=function(){var St=0;return function(){return St+=1,idPrefix$1+"__lottie_element_"+St}}();function HSVtoRGB(St,e,_e){var _i,ir,rr,gr,cr,tr,hr,ur;switch(gr=Math.floor(St*6),cr=St*6-gr,tr=_e*(1-e),hr=_e*(1-cr*e),ur=_e*(1-(1-cr)*e),gr%6){case 0:_i=_e,ir=ur,rr=tr;break;case 1:_i=hr,ir=_e,rr=tr;break;case 2:_i=tr,ir=_e,rr=ur;break;case 3:_i=tr,ir=hr,rr=_e;break;case 4:_i=ur,ir=tr,rr=_e;break;case 5:_i=_e,ir=tr,rr=hr;break}return[_i,ir,rr]}function RGBtoHSV(St,e,_e){var _i=Math.max(St,e,_e),ir=Math.min(St,e,_e),rr=_i-ir,gr,cr=_i===0?0:rr/_i,tr=_i/255;switch(_i){case ir:gr=0;break;case St:gr=e-_e+rr*(e<_e?6:0),gr/=6*rr;break;case e:gr=_e-St+rr*2,gr/=6*rr;break;case _e:gr=St-e+rr*4,gr/=6*rr;break}return[gr,cr,tr]}function addSaturationToRGB(St,e){var _e=RGBtoHSV(St[0]*255,St[1]*255,St[2]*255);return _e[1]+=e,_e[1]>1?_e[1]=1:_e[1]<=0&&(_e[1]=0),HSVtoRGB(_e[0],_e[1],_e[2])}function addBrightnessToRGB(St,e){var _e=RGBtoHSV(St[0]*255,St[1]*255,St[2]*255);return _e[2]+=e,_e[2]>1?_e[2]=1:_e[2]<0&&(_e[2]=0),HSVtoRGB(_e[0],_e[1],_e[2])}function addHueToRGB(St,e){var _e=RGBtoHSV(St[0]*255,St[1]*255,St[2]*255);return _e[0]+=e/360,_e[0]>1?_e[0]-=1:_e[0]<0&&(_e[0]+=1),HSVtoRGB(_e[0],_e[1],_e[2])}var rgbToHex=function(){var St=[],e,_e;for(e=0;e<256;e+=1)_e=e.toString(16),St[e]=_e.length===1?"0"+_e:_e;return function(_i,ir,rr){return _i<0&&(_i=0),ir<0&&(ir=0),rr<0&&(rr=0),"#"+St[_i]+St[ir]+St[rr]}}(),setSubframeEnabled=function(e){subframeEnabled=!!e},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(e){expressionsPlugin=e},getExpressionsPlugin=function(){return expressionsPlugin},setDefaultCurveSegments=function(e){defaultCurveSegments=e},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(e){idPrefix$1=e};function createNS(St){return document.createElementNS(svgNS,St)}function _typeof$5(St){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$5=function(_e){return typeof _e}:_typeof$5=function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$5(St)}var dataManager=function(){var St=1,e=[],_e,_i,ir={onmessage:function(){},postMessage:function(er){_e({data:er})}},rr={postMessage:function(er){ir.onmessage({data:er})}};function gr(nr){if(window.Worker&&window.Blob&&getWebWorker()){var er=new Blob(["var _workerSelf = self; self.onmessage = ",nr.toString()],{type:"text/javascript"}),ar=URL.createObjectURL(er);return new Worker(ar)}return _e=nr,ir}function cr(){_i||(_i=gr(function(er){function ar(){function lr(Xr,Vr){var $r,Lr,Er=Xr.length,Hr,Gr,Cr,kr;for(Lr=0;Lr<Er;Lr+=1)if($r=Xr[Lr],"ks"in $r&&!$r.completed){if($r.completed=!0,$r.tt&&(Xr[Lr-1].td=$r.tt),$r.hasMask){var Sr=$r.masksProperties;for(Gr=Sr.length,Hr=0;Hr<Gr;Hr+=1)if(Sr[Hr].pt.k.i)yr(Sr[Hr].pt.k);else for(kr=Sr[Hr].pt.k.length,Cr=0;Cr<kr;Cr+=1)Sr[Hr].pt.k[Cr].s&&yr(Sr[Hr].pt.k[Cr].s[0]),Sr[Hr].pt.k[Cr].e&&yr(Sr[Hr].pt.k[Cr].e[0])}$r.ty===0?($r.layers=mr($r.refId,Vr),lr($r.layers,Vr)):$r.ty===4?vr($r.shapes):$r.ty===5&&Jr($r)}}function sr(Xr,Vr){if(Xr){var $r=0,Lr=Xr.length;for($r=0;$r<Lr;$r+=1)Xr[$r].t===1&&(Xr[$r].data.layers=mr(Xr[$r].data.refId,Vr),lr(Xr[$r].data.layers,Vr))}}function pr(Xr,Vr){for(var $r=0,Lr=Vr.length;$r<Lr;){if(Vr[$r].id===Xr)return Vr[$r];$r+=1}return null}function mr(Xr,Vr){var $r=pr(Xr,Vr);return $r?$r.layers.__used?JSON.parse(JSON.stringify($r.layers)):($r.layers.__used=!0,$r.layers):null}function vr(Xr){var Vr,$r=Xr.length,Lr,Er;for(Vr=$r-1;Vr>=0;Vr-=1)if(Xr[Vr].ty==="sh")if(Xr[Vr].ks.k.i)yr(Xr[Vr].ks.k);else for(Er=Xr[Vr].ks.k.length,Lr=0;Lr<Er;Lr+=1)Xr[Vr].ks.k[Lr].s&&yr(Xr[Vr].ks.k[Lr].s[0]),Xr[Vr].ks.k[Lr].e&&yr(Xr[Vr].ks.k[Lr].e[0]);else Xr[Vr].ty==="gr"&&vr(Xr[Vr].it)}function yr(Xr){var Vr,$r=Xr.i.length;for(Vr=0;Vr<$r;Vr+=1)Xr.i[Vr][0]+=Xr.v[Vr][0],Xr.i[Vr][1]+=Xr.v[Vr][1],Xr.o[Vr][0]+=Xr.v[Vr][0],Xr.o[Vr][1]+=Xr.v[Vr][1]}function br(Xr,Vr){var $r=Vr?Vr.split("."):[100,100,100];return Xr[0]>$r[0]?!0:$r[0]>Xr[0]?!1:Xr[1]>$r[1]?!0:$r[1]>Xr[1]?!1:Xr[2]>$r[2]?!0:$r[2]>Xr[2]?!1:null}var _r=function(){var Xr=[4,4,14];function Vr(Lr){var Er=Lr.t.d;Lr.t.d={k:[{s:Er,t:0}]}}function $r(Lr){var Er,Hr=Lr.length;for(Er=0;Er<Hr;Er+=1)Lr[Er].ty===5&&Vr(Lr[Er])}return function(Lr){if(br(Xr,Lr.v)&&($r(Lr.layers),Lr.assets)){var Er,Hr=Lr.assets.length;for(Er=0;Er<Hr;Er+=1)Lr.assets[Er].layers&&$r(Lr.assets[Er].layers)}}}(),xr=function(){var Xr=[4,7,99];return function(Vr){if(Vr.chars&&!br(Xr,Vr.v)){var $r,Lr=Vr.chars.length;for($r=0;$r<Lr;$r+=1){var Er=Vr.chars[$r];Er.data&&Er.data.shapes&&(vr(Er.data.shapes),Er.data.ip=0,Er.data.op=99999,Er.data.st=0,Er.data.sr=1,Er.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},Vr.chars[$r].t||(Er.data.shapes.push({ty:"no"}),Er.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),Nr=function(){var Xr=[5,7,15];function Vr(Lr){var Er=Lr.t.p;typeof Er.a=="number"&&(Er.a={a:0,k:Er.a}),typeof Er.p=="number"&&(Er.p={a:0,k:Er.p}),typeof Er.r=="number"&&(Er.r={a:0,k:Er.r})}function $r(Lr){var Er,Hr=Lr.length;for(Er=0;Er<Hr;Er+=1)Lr[Er].ty===5&&Vr(Lr[Er])}return function(Lr){if(br(Xr,Lr.v)&&($r(Lr.layers),Lr.assets)){var Er,Hr=Lr.assets.length;for(Er=0;Er<Hr;Er+=1)Lr.assets[Er].layers&&$r(Lr.assets[Er].layers)}}}(),zr=function(){var Xr=[4,1,9];function Vr(Lr){var Er,Hr=Lr.length,Gr,Cr;for(Er=0;Er<Hr;Er+=1)if(Lr[Er].ty==="gr")Vr(Lr[Er].it);else if(Lr[Er].ty==="fl"||Lr[Er].ty==="st")if(Lr[Er].c.k&&Lr[Er].c.k[0].i)for(Cr=Lr[Er].c.k.length,Gr=0;Gr<Cr;Gr+=1)Lr[Er].c.k[Gr].s&&(Lr[Er].c.k[Gr].s[0]/=255,Lr[Er].c.k[Gr].s[1]/=255,Lr[Er].c.k[Gr].s[2]/=255,Lr[Er].c.k[Gr].s[3]/=255),Lr[Er].c.k[Gr].e&&(Lr[Er].c.k[Gr].e[0]/=255,Lr[Er].c.k[Gr].e[1]/=255,Lr[Er].c.k[Gr].e[2]/=255,Lr[Er].c.k[Gr].e[3]/=255);else Lr[Er].c.k[0]/=255,Lr[Er].c.k[1]/=255,Lr[Er].c.k[2]/=255,Lr[Er].c.k[3]/=255}function $r(Lr){var Er,Hr=Lr.length;for(Er=0;Er<Hr;Er+=1)Lr[Er].ty===4&&Vr(Lr[Er].shapes)}return function(Lr){if(br(Xr,Lr.v)&&($r(Lr.layers),Lr.assets)){var Er,Hr=Lr.assets.length;for(Er=0;Er<Hr;Er+=1)Lr.assets[Er].layers&&$r(Lr.assets[Er].layers)}}}(),Tr=function(){var Xr=[4,4,18];function Vr(Lr){var Er,Hr=Lr.length,Gr,Cr;for(Er=Hr-1;Er>=0;Er-=1)if(Lr[Er].ty==="sh")if(Lr[Er].ks.k.i)Lr[Er].ks.k.c=Lr[Er].closed;else for(Cr=Lr[Er].ks.k.length,Gr=0;Gr<Cr;Gr+=1)Lr[Er].ks.k[Gr].s&&(Lr[Er].ks.k[Gr].s[0].c=Lr[Er].closed),Lr[Er].ks.k[Gr].e&&(Lr[Er].ks.k[Gr].e[0].c=Lr[Er].closed);else Lr[Er].ty==="gr"&&Vr(Lr[Er].it)}function $r(Lr){var Er,Hr,Gr=Lr.length,Cr,kr,Sr,Pr;for(Hr=0;Hr<Gr;Hr+=1){if(Er=Lr[Hr],Er.hasMask){var jr=Er.masksProperties;for(kr=jr.length,Cr=0;Cr<kr;Cr+=1)if(jr[Cr].pt.k.i)jr[Cr].pt.k.c=jr[Cr].cl;else for(Pr=jr[Cr].pt.k.length,Sr=0;Sr<Pr;Sr+=1)jr[Cr].pt.k[Sr].s&&(jr[Cr].pt.k[Sr].s[0].c=jr[Cr].cl),jr[Cr].pt.k[Sr].e&&(jr[Cr].pt.k[Sr].e[0].c=jr[Cr].cl)}Er.ty===4&&Vr(Er.shapes)}}return function(Lr){if(br(Xr,Lr.v)&&($r(Lr.layers),Lr.assets)){var Er,Hr=Lr.assets.length;for(Er=0;Er<Hr;Er+=1)Lr.assets[Er].layers&&$r(Lr.assets[Er].layers)}}}();function Br(Xr){Xr.__complete||(zr(Xr),_r(Xr),xr(Xr),Nr(Xr),Tr(Xr),lr(Xr.layers,Xr.assets),sr(Xr.chars,Xr.assets),Xr.__complete=!0)}function Jr(Xr){Xr.t.a.length===0&&"m"in Xr.t.p}var Yr={};return Yr.completeData=Br,Yr.checkColors=zr,Yr.checkChars=xr,Yr.checkPathProperties=Nr,Yr.checkShapes=Tr,Yr.completeLayers=lr,Yr}if(rr.dataManager||(rr.dataManager=ar()),rr.assetLoader||(rr.assetLoader=function(){function lr(pr){var mr=pr.getResponseHeader("content-type");return mr&&pr.responseType==="json"&&mr.indexOf("json")!==-1||pr.response&&_typeof$5(pr.response)==="object"?pr.response:pr.response&&typeof pr.response=="string"?JSON.parse(pr.response):pr.responseText?JSON.parse(pr.responseText):null}function sr(pr,mr,vr,yr){var br,_r=new XMLHttpRequest;try{_r.responseType="json"}catch{}_r.onreadystatechange=function(){if(_r.readyState===4)if(_r.status===200)br=lr(_r),vr(br);else try{br=lr(_r),vr(br)}catch(xr){yr&&yr(xr)}};try{_r.open("GET",pr,!0)}catch{_r.open("GET",mr+"/"+pr,!0)}_r.send()}return{load:sr}}()),er.data.type==="loadAnimation")rr.assetLoader.load(er.data.path,er.data.fullPath,function(lr){rr.dataManager.completeData(lr),rr.postMessage({id:er.data.id,payload:lr,status:"success"})},function(){rr.postMessage({id:er.data.id,status:"error"})});else if(er.data.type==="complete"){var dr=er.data.animation;rr.dataManager.completeData(dr),rr.postMessage({id:er.data.id,payload:dr,status:"success"})}else er.data.type==="loadData"&&rr.assetLoader.load(er.data.path,er.data.fullPath,function(lr){rr.postMessage({id:er.data.id,payload:lr,status:"success"})},function(){rr.postMessage({id:er.data.id,status:"error"})})}),_i.onmessage=function(nr){var er=nr.data,ar=er.id,dr=e[ar];e[ar]=null,er.status==="success"?dr.onComplete(er.payload):dr.onError&&dr.onError()})}function tr(nr,er){St+=1;var ar="processId_"+St;return e[ar]={onComplete:nr,onError:er},ar}function hr(nr,er,ar){cr();var dr=tr(er,ar);_i.postMessage({type:"loadAnimation",path:nr,fullPath:window.location.origin+window.location.pathname,id:dr})}function ur(nr,er,ar){cr();var dr=tr(er,ar);_i.postMessage({type:"loadData",path:nr,fullPath:window.location.origin+window.location.pathname,id:dr})}function or(nr,er,ar){cr();var dr=tr(er,ar);_i.postMessage({type:"complete",animation:nr,id:dr})}return{loadAnimation:hr,loadData:ur,completeAnimation:or}}(),ImagePreloader=function(){var St=function(){var sr=createTag("canvas");sr.width=1,sr.height=1;var pr=sr.getContext("2d");return pr.fillStyle="rgba(0,0,0,0)",pr.fillRect(0,0,1,1),sr}();function e(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function _e(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function _i(sr,pr,mr){var vr="";if(sr.e)vr=sr.p;else if(pr){var yr=sr.p;yr.indexOf("images/")!==-1&&(yr=yr.split("/")[1]),vr=pr+yr}else vr=mr,vr+=sr.u?sr.u:"",vr+=sr.p;return vr}function ir(sr){var pr=0,mr=setInterval(function(){var vr=sr.getBBox();(vr.width||pr>500)&&(this._imageLoaded(),clearInterval(mr)),pr+=1}.bind(this),50)}function rr(sr){var pr=_i(sr,this.assetsPath,this.path),mr=createNS("image");isSafari?this.testImageLoaded(mr):mr.addEventListener("load",this._imageLoaded,!1),mr.addEventListener("error",function(){vr.img=St,this._imageLoaded()}.bind(this),!1),mr.setAttributeNS("http://www.w3.org/1999/xlink","href",pr),this._elementHelper.append?this._elementHelper.append(mr):this._elementHelper.appendChild(mr);var vr={img:mr,assetData:sr};return vr}function gr(sr){var pr=_i(sr,this.assetsPath,this.path),mr=createTag("img");mr.crossOrigin="anonymous",mr.addEventListener("load",this._imageLoaded,!1),mr.addEventListener("error",function(){vr.img=St,this._imageLoaded()}.bind(this),!1),mr.src=pr;var vr={img:mr,assetData:sr};return vr}function cr(sr){var pr={assetData:sr},mr=_i(sr,this.assetsPath,this.path);return dataManager.loadData(mr,function(vr){pr.img=vr,this._footageLoaded()}.bind(this),function(){pr.img={},this._footageLoaded()}.bind(this)),pr}function tr(sr,pr){this.imagesLoadedCb=pr;var mr,vr=sr.length;for(mr=0;mr<vr;mr+=1)sr[mr].layers||(!sr[mr].t||sr[mr].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(sr[mr]))):sr[mr].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(sr[mr]))))}function hr(sr){this.path=sr||""}function ur(sr){this.assetsPath=sr||""}function or(sr){for(var pr=0,mr=this.images.length;pr<mr;){if(this.images[pr].assetData===sr)return this.images[pr].img;pr+=1}return null}function nr(){this.imagesLoadedCb=null,this.images.length=0}function er(){return this.totalImages===this.loadedAssets}function ar(){return this.totalFootages===this.loadedFootagesCount}function dr(sr,pr){sr==="svg"?(this._elementHelper=pr,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function lr(){this._imageLoaded=e.bind(this),this._footageLoaded=_e.bind(this),this.testImageLoaded=ir.bind(this),this.createFootageData=cr.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return lr.prototype={loadAssets:tr,setAssetsPath:ur,setPath:hr,loadedImages:er,loadedFootages:ar,destroy:nr,getAsset:or,createImgData:gr,createImageData:rr,imageLoaded:e,footageLoaded:_e,setCacheType:dr},lr}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(e,_e){if(this._cbs[e])for(var _i=this._cbs[e],ir=0;ir<_i.length;ir+=1)_i[ir](_e)},addEventListener:function(e,_e){return this._cbs[e]||(this._cbs[e]=[]),this._cbs[e].push(_e),function(){this.removeEventListener(e,_e)}.bind(this)},removeEventListener:function(e,_e){if(!_e)this._cbs[e]=null;else if(this._cbs[e]){for(var _i=0,ir=this._cbs[e].length;_i<ir;)this._cbs[e][_i]===_e&&(this._cbs[e].splice(_i,1),_i-=1,ir-=1),_i+=1;this._cbs[e].length||(this._cbs[e]=null)}}};var markerParser=function(){function St(e){for(var _e=e.split(`\r
`),_i={},ir,rr=0,gr=0;gr<_e.length;gr+=1)ir=_e[gr].split(":"),ir.length===2&&(_i[ir[0]]=ir[1].trim(),rr+=1);if(rr===0)throw new Error;return _i}return function(e){for(var _e=[],_i=0;_i<e.length;_i+=1){var ir=e[_i],rr={time:ir.tm,duration:ir.dr};try{rr.payload=JSON.parse(e[_i].cm)}catch{try{rr.payload=St(e[_i].cm)}catch{rr.payload={name:e[_i].cm}}}_e.push(rr)}return _e}}(),ProjectInterface=function(){function St(e){this.compositions.push(e)}return function(){function e(_e){for(var _i=0,ir=this.compositions.length;_i<ir;){if(this.compositions[_i].data&&this.compositions[_i].data.nm===_e)return this.compositions[_i].prepareFrame&&this.compositions[_i].data.xt&&this.compositions[_i].prepareFrame(this.currentFrame),this.compositions[_i].compInterface;_i+=1}return null}return e.compositions=[],e.currentFrame=0,e.registerComposition=St,e}}(),renderers={},registerRenderer=function(e,_e){renderers[e]=_e};function getRenderer(St){return renderers[St]}function _typeof$4(St){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$4=function(_e){return typeof _e}:_typeof$4=function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$4(St)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0)};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(St){(St.wrapper||St.container)&&(this.wrapper=St.wrapper||St.container);var e="svg";St.animType?e=St.animType:St.renderer&&(e=St.renderer);var _e=getRenderer(e);this.renderer=new _e(this,St.rendererSettings),this.imagePreloader.setCacheType(e,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=e,St.loop===""||St.loop===null||St.loop===void 0||St.loop===!0?this.loop=!0:St.loop===!1?this.loop=!1:this.loop=parseInt(St.loop,10),this.autoplay="autoplay"in St?St.autoplay:!0,this.name=St.name?St.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(St,"autoloadSegments")?St.autoloadSegments:!0,this.assetsPath=St.assetsPath,this.initialSegment=St.initialSegment,St.audioFactory&&this.audioController.setAudioFactory(St.audioFactory),St.animationData?this.setupAnimation(St.animationData):St.path&&(St.path.lastIndexOf("\\")!==-1?this.path=St.path.substr(0,St.path.lastIndexOf("\\")+1):this.path=St.path.substr(0,St.path.lastIndexOf("/")+1),this.fileName=St.path.substr(St.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(St.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(St){dataManager.completeAnimation(St,this.configAnimation)},AnimationItem.prototype.setData=function(St,e){e&&_typeof$4(e)!=="object"&&(e=JSON.parse(e));var _e={wrapper:St,animationData:e},_i=St.attributes;_e.path=_i.getNamedItem("data-animation-path")?_i.getNamedItem("data-animation-path").value:_i.getNamedItem("data-bm-path")?_i.getNamedItem("data-bm-path").value:_i.getNamedItem("bm-path")?_i.getNamedItem("bm-path").value:"",_e.animType=_i.getNamedItem("data-anim-type")?_i.getNamedItem("data-anim-type").value:_i.getNamedItem("data-bm-type")?_i.getNamedItem("data-bm-type").value:_i.getNamedItem("bm-type")?_i.getNamedItem("bm-type").value:_i.getNamedItem("data-bm-renderer")?_i.getNamedItem("data-bm-renderer").value:_i.getNamedItem("bm-renderer")?_i.getNamedItem("bm-renderer").value:"canvas";var ir=_i.getNamedItem("data-anim-loop")?_i.getNamedItem("data-anim-loop").value:_i.getNamedItem("data-bm-loop")?_i.getNamedItem("data-bm-loop").value:_i.getNamedItem("bm-loop")?_i.getNamedItem("bm-loop").value:"";ir==="false"?_e.loop=!1:ir==="true"?_e.loop=!0:ir!==""&&(_e.loop=parseInt(ir,10));var rr=_i.getNamedItem("data-anim-autoplay")?_i.getNamedItem("data-anim-autoplay").value:_i.getNamedItem("data-bm-autoplay")?_i.getNamedItem("data-bm-autoplay").value:_i.getNamedItem("bm-autoplay")?_i.getNamedItem("bm-autoplay").value:!0;_e.autoplay=rr!=="false",_e.name=_i.getNamedItem("data-name")?_i.getNamedItem("data-name").value:_i.getNamedItem("data-bm-name")?_i.getNamedItem("data-bm-name").value:_i.getNamedItem("bm-name")?_i.getNamedItem("bm-name").value:"";var gr=_i.getNamedItem("data-anim-prerender")?_i.getNamedItem("data-anim-prerender").value:_i.getNamedItem("data-bm-prerender")?_i.getNamedItem("data-bm-prerender").value:_i.getNamedItem("bm-prerender")?_i.getNamedItem("bm-prerender").value:"";gr==="false"&&(_e.prerender=!1),this.setParams(_e)},AnimationItem.prototype.includeLayers=function(St){St.op>this.animationData.op&&(this.animationData.op=St.op,this.totalFrames=Math.floor(St.op-this.animationData.ip));var e=this.animationData.layers,_e,_i=e.length,ir=St.layers,rr,gr=ir.length;for(rr=0;rr<gr;rr+=1)for(_e=0;_e<_i;){if(e[_e].id===ir[rr].id){e[_e]=ir[rr];break}_e+=1}if((St.chars||St.fonts)&&(this.renderer.globalData.fontManager.addChars(St.chars),this.renderer.globalData.fontManager.addFonts(St.fonts,this.renderer.globalData.defs)),St.assets)for(_i=St.assets.length,_e=0;_e<_i;_e+=1)this.animationData.assets.push(St.assets[_e]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(St){this.animationData=St;var e=getExpressionsPlugin();e&&e.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var St=this.animationData.segments;if(!St||St.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var e=St.shift();this.timeCompleted=e.time*this.frameRate;var _e=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(_e,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){var St=this.animationData.segments;St||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(St){if(!!this.renderer)try{this.animationData=St,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(St),St.assets||(St.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(St.assets),this.markers=markerParser(St.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(e){this.triggerConfigError(e)}},AnimationItem.prototype.waitForFontsLoaded=function(){!this.renderer||(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var St=getExpressionsPlugin();St&&St.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize()},AnimationItem.prototype.setSubframe=function(St){this.isSubframeEnabled=!!St},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(St){this.triggerRenderFrameError(St)}},AnimationItem.prototype.play=function(St){St&&this.name!==St||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_pause"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(St){St&&this.name!==St||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_play"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(St){St&&this.name!==St||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(St){St&&this.name!==St||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(St){for(var e,_e=0;_e<this.markers.length;_e+=1)if(e=this.markers[_e],e.payload&&e.payload.name===St)return e;return null},AnimationItem.prototype.goToAndStop=function(St,e,_e){if(!(_e&&this.name!==_e)){var _i=Number(St);if(isNaN(_i)){var ir=this.getMarkerData(St);ir&&this.goToAndStop(ir.time,!0)}else e?this.setCurrentRawFrameValue(St):this.setCurrentRawFrameValue(St*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(St,e,_e){if(!(_e&&this.name!==_e)){var _i=Number(St);if(isNaN(_i)){var ir=this.getMarkerData(St);ir&&(ir.duration?this.playSegments([ir.time,ir.time+ir.duration],!0):this.goToAndStop(ir.time,!0))}else this.goToAndStop(_i,e,_e);this.play()}},AnimationItem.prototype.advanceTime=function(St){if(!(this.isPaused===!0||this.isLoaded===!1)){var e=this.currentRawFrame+St*this.frameModifier,_e=!1;e>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(e>this.totalFrames?e%this.totalFrames:0)||(_e=!0,e=this.totalFrames-1):e>=this.totalFrames?(this.playCount+=1,this.checkSegments(e%this.totalFrames)||(this.setCurrentRawFrameValue(e%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(e):e<0?this.checkSegments(e%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+e%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(_e=!0,e=0)):this.setCurrentRawFrameValue(e),_e&&(this.setCurrentRawFrameValue(e),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(St,e){this.playCount=0,St[1]<St[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=St[0]-St[1],this.timeCompleted=this.totalFrames,this.firstFrame=St[1],this.setCurrentRawFrameValue(this.totalFrames-.001-e)):St[1]>St[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=St[1]-St[0],this.timeCompleted=this.totalFrames,this.firstFrame=St[0],this.setCurrentRawFrameValue(.001+e)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(St,e){var _e=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<St?_e=St:this.currentRawFrame+this.firstFrame>e&&(_e=e-St)),this.firstFrame=St,this.totalFrames=e-St,this.timeCompleted=this.totalFrames,_e!==-1&&this.goToAndStop(_e,!0)},AnimationItem.prototype.playSegments=function(St,e){if(e&&(this.segments.length=0),_typeof$4(St[0])==="object"){var _e,_i=St.length;for(_e=0;_e<_i;_e+=1)this.segments.push(St[_e])}else this.segments.push(St);this.segments.length&&e&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(St){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),St&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(St){return this.segments.length?(this.adjustSegment(this.segments.shift(),St),!0):!1},AnimationItem.prototype.destroy=function(St){St&&this.name!==St||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.renderer=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(St){this.currentRawFrame=St,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(St){this.playSpeed=St,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(St){this.playDirection=St<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setVolume=function(St,e){e&&this.name!==e||this.audioController.setVolume(St)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(St){St&&this.name!==St||this.audioController.mute()},AnimationItem.prototype.unmute=function(St){St&&this.name!==St||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(St){var e="";if(St.e)e=St.p;else if(this.assetsPath){var _e=St.p;_e.indexOf("images/")!==-1&&(_e=_e.split("/")[1]),e=this.assetsPath+_e}else e=this.path,e+=St.u?St.u:"",e+=St.p;return e},AnimationItem.prototype.getAssetData=function(St){for(var e=0,_e=this.assets.length;e<_e;){if(St===this.assets[e].id)return this.assets[e];e+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(St){return St?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(St,e,_e){try{var _i=this.renderer.getElementByPath(St);_i.updateDocumentData(e,_e)}catch{}},AnimationItem.prototype.trigger=function(St){if(this._cbs&&this._cbs[St])switch(St){case"enterFrame":this.triggerEvent(St,new BMEnterFrameEvent(St,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(St,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(St,new BMCompleteLoopEvent(St,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(St,new BMCompleteEvent(St,this.frameMult));break;case"segmentStart":this.triggerEvent(St,new BMSegmentStartEvent(St,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(St,new BMDestroyEvent(St,this));break;default:this.triggerEvent(St)}St==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(St,this.currentFrame,this.totalFrames,this.frameMult)),St==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(St,this.loop,this.playCount,this.frameMult)),St==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(St,this.frameMult)),St==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(St,this.firstFrame,this.totalFrames)),St==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(St,this))},AnimationItem.prototype.triggerRenderFrameError=function(St){var e=new BMRenderFrameErrorEvent(St,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)},AnimationItem.prototype.triggerConfigError=function(St){var e=new BMConfigErrorEvent(St,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)};var animationManager=function(){var St={},e=[],_e=0,_i=0,ir=0,rr=!0,gr=!1;function cr(Vr){for(var $r=0,Lr=Vr.target;$r<_i;)e[$r].animation===Lr&&(e.splice($r,1),$r-=1,_i-=1,Lr.isPaused||or()),$r+=1}function tr(Vr,$r){if(!Vr)return null;for(var Lr=0;Lr<_i;){if(e[Lr].elem===Vr&&e[Lr].elem!==null)return e[Lr].animation;Lr+=1}var Er=new AnimationItem;return nr(Er,Vr),Er.setData(Vr,$r),Er}function hr(){var Vr,$r=e.length,Lr=[];for(Vr=0;Vr<$r;Vr+=1)Lr.push(e[Vr].animation);return Lr}function ur(){ir+=1,zr()}function or(){ir-=1}function nr(Vr,$r){Vr.addEventListener("destroy",cr),Vr.addEventListener("_active",ur),Vr.addEventListener("_idle",or),e.push({elem:$r,animation:Vr}),_i+=1}function er(Vr){var $r=new AnimationItem;return nr($r,null),$r.setParams(Vr),$r}function ar(Vr,$r){var Lr;for(Lr=0;Lr<_i;Lr+=1)e[Lr].animation.setSpeed(Vr,$r)}function dr(Vr,$r){var Lr;for(Lr=0;Lr<_i;Lr+=1)e[Lr].animation.setDirection(Vr,$r)}function lr(Vr){var $r;for($r=0;$r<_i;$r+=1)e[$r].animation.play(Vr)}function sr(Vr){var $r=Vr-_e,Lr;for(Lr=0;Lr<_i;Lr+=1)e[Lr].animation.advanceTime($r);_e=Vr,ir&&!gr?window.requestAnimationFrame(sr):rr=!0}function pr(Vr){_e=Vr,window.requestAnimationFrame(sr)}function mr(Vr){var $r;for($r=0;$r<_i;$r+=1)e[$r].animation.pause(Vr)}function vr(Vr,$r,Lr){var Er;for(Er=0;Er<_i;Er+=1)e[Er].animation.goToAndStop(Vr,$r,Lr)}function yr(Vr){var $r;for($r=0;$r<_i;$r+=1)e[$r].animation.stop(Vr)}function br(Vr){var $r;for($r=0;$r<_i;$r+=1)e[$r].animation.togglePause(Vr)}function _r(Vr){var $r;for($r=_i-1;$r>=0;$r-=1)e[$r].animation.destroy(Vr)}function xr(Vr,$r,Lr){var Er=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),Hr,Gr=Er.length;for(Hr=0;Hr<Gr;Hr+=1)Lr&&Er[Hr].setAttribute("data-bm-type",Lr),tr(Er[Hr],Vr);if($r&&Gr===0){Lr||(Lr="svg");var Cr=document.getElementsByTagName("body")[0];Cr.innerText="";var kr=createTag("div");kr.style.width="100%",kr.style.height="100%",kr.setAttribute("data-bm-type",Lr),Cr.appendChild(kr),tr(kr,Vr)}}function Nr(){var Vr;for(Vr=0;Vr<_i;Vr+=1)e[Vr].animation.resize()}function zr(){!gr&&ir&&rr&&(window.requestAnimationFrame(pr),rr=!1)}function Tr(){gr=!0}function Br(){gr=!1,zr()}function Jr(Vr,$r){var Lr;for(Lr=0;Lr<_i;Lr+=1)e[Lr].animation.setVolume(Vr,$r)}function Yr(Vr){var $r;for($r=0;$r<_i;$r+=1)e[$r].animation.mute(Vr)}function Xr(Vr){var $r;for($r=0;$r<_i;$r+=1)e[$r].animation.unmute(Vr)}return St.registerAnimation=tr,St.loadAnimation=er,St.setSpeed=ar,St.setDirection=dr,St.play=lr,St.pause=mr,St.stop=yr,St.togglePause=br,St.searchAnimations=xr,St.resize=Nr,St.goToAndStop=vr,St.destroy=_r,St.freeze=Tr,St.unfreeze=Br,St.setVolume=Jr,St.mute=Yr,St.unmute=Xr,St.getRegisteredAnimations=hr,St}(),BezierFactory=function(){var St={};St.getBezierEasing=_e;var e={};function _e(pr,mr,vr,yr,br){var _r=br||("bez_"+pr+"_"+mr+"_"+vr+"_"+yr).replace(/\./g,"p");if(e[_r])return e[_r];var xr=new sr([pr,mr,vr,yr]);return e[_r]=xr,xr}var _i=4,ir=.001,rr=1e-7,gr=10,cr=11,tr=1/(cr-1),hr=typeof Float32Array=="function";function ur(pr,mr){return 1-3*mr+3*pr}function or(pr,mr){return 3*mr-6*pr}function nr(pr){return 3*pr}function er(pr,mr,vr){return((ur(mr,vr)*pr+or(mr,vr))*pr+nr(mr))*pr}function ar(pr,mr,vr){return 3*ur(mr,vr)*pr*pr+2*or(mr,vr)*pr+nr(mr)}function dr(pr,mr,vr,yr,br){var _r,xr,Nr=0;do xr=mr+(vr-mr)/2,_r=er(xr,yr,br)-pr,_r>0?vr=xr:mr=xr;while(Math.abs(_r)>rr&&++Nr<gr);return xr}function lr(pr,mr,vr,yr){for(var br=0;br<_i;++br){var _r=ar(mr,vr,yr);if(_r===0)return mr;var xr=er(mr,vr,yr)-pr;mr-=xr/_r}return mr}function sr(pr){this._p=pr,this._mSampleValues=hr?new Float32Array(cr):new Array(cr),this._precomputed=!1,this.get=this.get.bind(this)}return sr.prototype={get:function(mr){var vr=this._p[0],yr=this._p[1],br=this._p[2],_r=this._p[3];return this._precomputed||this._precompute(),vr===yr&&br===_r?mr:mr===0?0:mr===1?1:er(this._getTForX(mr),yr,_r)},_precompute:function(){var mr=this._p[0],vr=this._p[1],yr=this._p[2],br=this._p[3];this._precomputed=!0,(mr!==vr||yr!==br)&&this._calcSampleValues()},_calcSampleValues:function(){for(var mr=this._p[0],vr=this._p[2],yr=0;yr<cr;++yr)this._mSampleValues[yr]=er(yr*tr,mr,vr)},_getTForX:function(mr){for(var vr=this._p[0],yr=this._p[2],br=this._mSampleValues,_r=0,xr=1,Nr=cr-1;xr!==Nr&&br[xr]<=mr;++xr)_r+=tr;--xr;var zr=(mr-br[xr])/(br[xr+1]-br[xr]),Tr=_r+zr*tr,Br=ar(Tr,vr,yr);return Br>=ir?lr(mr,Tr,vr,yr):Br===0?Tr:dr(mr,_r,_r+tr,vr,yr)}},St}(),pooling=function(){function St(e){return e.concat(createSizedArray(e.length))}return{double:St}}(),poolFactory=function(){return function(St,e,_e){var _i=0,ir=St,rr=createSizedArray(ir),gr={newElement:cr,release:tr};function cr(){var hr;return _i?(_i-=1,hr=rr[_i]):hr=e(),hr}function tr(hr){_i===ir&&(rr=pooling.double(rr),ir*=2),_e&&_e(hr),rr[_i]=hr,_i+=1}return gr}}(),bezierLengthPool=function(){function St(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,St)}(),segmentsLengthPool=function(){function St(){return{lengths:[],totalLength:0}}function e(_e){var _i,ir=_e.lengths.length;for(_i=0;_i<ir;_i+=1)bezierLengthPool.release(_e.lengths[_i]);_e.lengths.length=0}return poolFactory(8,St,e)}();function bezFunction(){var St=Math;function e(nr,er,ar,dr,lr,sr){var pr=nr*dr+er*lr+ar*sr-lr*dr-sr*nr-ar*er;return pr>-.001&&pr<.001}function _e(nr,er,ar,dr,lr,sr,pr,mr,vr){if(ar===0&&sr===0&&vr===0)return e(nr,er,dr,lr,pr,mr);var yr=St.sqrt(St.pow(dr-nr,2)+St.pow(lr-er,2)+St.pow(sr-ar,2)),br=St.sqrt(St.pow(pr-nr,2)+St.pow(mr-er,2)+St.pow(vr-ar,2)),_r=St.sqrt(St.pow(pr-dr,2)+St.pow(mr-lr,2)+St.pow(vr-sr,2)),xr;return yr>br?yr>_r?xr=yr-br-_r:xr=_r-br-yr:_r>br?xr=_r-br-yr:xr=br-yr-_r,xr>-1e-4&&xr<1e-4}var _i=function(){return function(nr,er,ar,dr){var lr=getDefaultCurveSegments(),sr,pr,mr,vr,yr,br=0,_r,xr=[],Nr=[],zr=bezierLengthPool.newElement();for(mr=ar.length,sr=0;sr<lr;sr+=1){for(yr=sr/(lr-1),_r=0,pr=0;pr<mr;pr+=1)vr=bmPow(1-yr,3)*nr[pr]+3*bmPow(1-yr,2)*yr*ar[pr]+3*(1-yr)*bmPow(yr,2)*dr[pr]+bmPow(yr,3)*er[pr],xr[pr]=vr,Nr[pr]!==null&&(_r+=bmPow(xr[pr]-Nr[pr],2)),Nr[pr]=xr[pr];_r&&(_r=bmSqrt(_r),br+=_r),zr.percents[sr]=yr,zr.lengths[sr]=br}return zr.addedLength=br,zr}}();function ir(nr){var er=segmentsLengthPool.newElement(),ar=nr.c,dr=nr.v,lr=nr.o,sr=nr.i,pr,mr=nr._length,vr=er.lengths,yr=0;for(pr=0;pr<mr-1;pr+=1)vr[pr]=_i(dr[pr],dr[pr+1],lr[pr],sr[pr+1]),yr+=vr[pr].addedLength;return ar&&mr&&(vr[pr]=_i(dr[pr],dr[0],lr[pr],sr[0]),yr+=vr[pr].addedLength),er.totalLength=yr,er}function rr(nr){this.segmentLength=0,this.points=new Array(nr)}function gr(nr,er){this.partialLength=nr,this.point=er}var cr=function(){var nr={};return function(er,ar,dr,lr){var sr=(er[0]+"_"+er[1]+"_"+ar[0]+"_"+ar[1]+"_"+dr[0]+"_"+dr[1]+"_"+lr[0]+"_"+lr[1]).replace(/\./g,"p");if(!nr[sr]){var pr=getDefaultCurveSegments(),mr,vr,yr,br,_r,xr=0,Nr,zr,Tr=null;er.length===2&&(er[0]!==ar[0]||er[1]!==ar[1])&&e(er[0],er[1],ar[0],ar[1],er[0]+dr[0],er[1]+dr[1])&&e(er[0],er[1],ar[0],ar[1],ar[0]+lr[0],ar[1]+lr[1])&&(pr=2);var Br=new rr(pr);for(yr=dr.length,mr=0;mr<pr;mr+=1){for(zr=createSizedArray(yr),_r=mr/(pr-1),Nr=0,vr=0;vr<yr;vr+=1)br=bmPow(1-_r,3)*er[vr]+3*bmPow(1-_r,2)*_r*(er[vr]+dr[vr])+3*(1-_r)*bmPow(_r,2)*(ar[vr]+lr[vr])+bmPow(_r,3)*ar[vr],zr[vr]=br,Tr!==null&&(Nr+=bmPow(zr[vr]-Tr[vr],2));Nr=bmSqrt(Nr),xr+=Nr,Br.points[mr]=new gr(Nr,zr),Tr=zr}Br.segmentLength=xr,nr[sr]=Br}return nr[sr]}}();function tr(nr,er){var ar=er.percents,dr=er.lengths,lr=ar.length,sr=bmFloor((lr-1)*nr),pr=nr*er.addedLength,mr=0;if(sr===lr-1||sr===0||pr===dr[sr])return ar[sr];for(var vr=dr[sr]>pr?-1:1,yr=!0;yr;)if(dr[sr]<=pr&&dr[sr+1]>pr?(mr=(pr-dr[sr])/(dr[sr+1]-dr[sr]),yr=!1):sr+=vr,sr<0||sr>=lr-1){if(sr===lr-1)return ar[sr];yr=!1}return ar[sr]+(ar[sr+1]-ar[sr])*mr}function hr(nr,er,ar,dr,lr,sr){var pr=tr(lr,sr),mr=1-pr,vr=St.round((mr*mr*mr*nr[0]+(pr*mr*mr+mr*pr*mr+mr*mr*pr)*ar[0]+(pr*pr*mr+mr*pr*pr+pr*mr*pr)*dr[0]+pr*pr*pr*er[0])*1e3)/1e3,yr=St.round((mr*mr*mr*nr[1]+(pr*mr*mr+mr*pr*mr+mr*mr*pr)*ar[1]+(pr*pr*mr+mr*pr*pr+pr*mr*pr)*dr[1]+pr*pr*pr*er[1])*1e3)/1e3;return[vr,yr]}var ur=createTypedArray("float32",8);function or(nr,er,ar,dr,lr,sr,pr){lr<0?lr=0:lr>1&&(lr=1);var mr=tr(lr,pr);sr=sr>1?1:sr;var vr=tr(sr,pr),yr,br=nr.length,_r=1-mr,xr=1-vr,Nr=_r*_r*_r,zr=mr*_r*_r*3,Tr=mr*mr*_r*3,Br=mr*mr*mr,Jr=_r*_r*xr,Yr=mr*_r*xr+_r*mr*xr+_r*_r*vr,Xr=mr*mr*xr+_r*mr*vr+mr*_r*vr,Vr=mr*mr*vr,$r=_r*xr*xr,Lr=mr*xr*xr+_r*vr*xr+_r*xr*vr,Er=mr*vr*xr+_r*vr*vr+mr*xr*vr,Hr=mr*vr*vr,Gr=xr*xr*xr,Cr=vr*xr*xr+xr*vr*xr+xr*xr*vr,kr=vr*vr*xr+xr*vr*vr+vr*xr*vr,Sr=vr*vr*vr;for(yr=0;yr<br;yr+=1)ur[yr*4]=St.round((Nr*nr[yr]+zr*ar[yr]+Tr*dr[yr]+Br*er[yr])*1e3)/1e3,ur[yr*4+1]=St.round((Jr*nr[yr]+Yr*ar[yr]+Xr*dr[yr]+Vr*er[yr])*1e3)/1e3,ur[yr*4+2]=St.round(($r*nr[yr]+Lr*ar[yr]+Er*dr[yr]+Hr*er[yr])*1e3)/1e3,ur[yr*4+3]=St.round((Gr*nr[yr]+Cr*ar[yr]+kr*dr[yr]+Sr*er[yr])*1e3)/1e3;return ur}return{getSegmentsLength:ir,getNewSegment:or,getPointInSegment:hr,buildBezierData:cr,pointOnLine2D:e,pointOnLine3D:_e}}var bez=bezFunction(),PropertyFactory=function(){var St=initialDefaultFrame,e=Math.abs;function _e(lr,sr){var pr=this.offsetTime,mr;this.propType==="multidimensional"&&(mr=createTypedArray("float32",this.pv.length));for(var vr=sr.lastIndex,yr=vr,br=this.keyframes.length-1,_r=!0,xr,Nr,zr;_r;){if(xr=this.keyframes[yr],Nr=this.keyframes[yr+1],yr===br-1&&lr>=Nr.t-pr){xr.h&&(xr=Nr),vr=0;break}if(Nr.t-pr>lr){vr=yr;break}yr<br-1?yr+=1:(vr=0,_r=!1)}zr=this.keyframesMetadata[yr]||{};var Tr,Br,Jr,Yr,Xr,Vr,$r=Nr.t-pr,Lr=xr.t-pr,Er;if(xr.to){zr.bezierData||(zr.bezierData=bez.buildBezierData(xr.s,Nr.s||xr.e,xr.to,xr.ti));var Hr=zr.bezierData;if(lr>=$r||lr<Lr){var Gr=lr>=$r?Hr.points.length-1:0;for(Br=Hr.points[Gr].point.length,Tr=0;Tr<Br;Tr+=1)mr[Tr]=Hr.points[Gr].point[Tr]}else{zr.__fnct?Vr=zr.__fnct:(Vr=BezierFactory.getBezierEasing(xr.o.x,xr.o.y,xr.i.x,xr.i.y,xr.n).get,zr.__fnct=Vr),Jr=Vr((lr-Lr)/($r-Lr));var Cr=Hr.segmentLength*Jr,kr,Sr=sr.lastFrame<lr&&sr._lastKeyframeIndex===yr?sr._lastAddedLength:0;for(Xr=sr.lastFrame<lr&&sr._lastKeyframeIndex===yr?sr._lastPoint:0,_r=!0,Yr=Hr.points.length;_r;){if(Sr+=Hr.points[Xr].partialLength,Cr===0||Jr===0||Xr===Hr.points.length-1){for(Br=Hr.points[Xr].point.length,Tr=0;Tr<Br;Tr+=1)mr[Tr]=Hr.points[Xr].point[Tr];break}else if(Cr>=Sr&&Cr<Sr+Hr.points[Xr+1].partialLength){for(kr=(Cr-Sr)/Hr.points[Xr+1].partialLength,Br=Hr.points[Xr].point.length,Tr=0;Tr<Br;Tr+=1)mr[Tr]=Hr.points[Xr].point[Tr]+(Hr.points[Xr+1].point[Tr]-Hr.points[Xr].point[Tr])*kr;break}Xr<Yr-1?Xr+=1:_r=!1}sr._lastPoint=Xr,sr._lastAddedLength=Sr-Hr.points[Xr].partialLength,sr._lastKeyframeIndex=yr}}else{var Pr,jr,Wr,Kr,Qr;if(br=xr.s.length,Er=Nr.s||xr.e,this.sh&&xr.h!==1)if(lr>=$r)mr[0]=Er[0],mr[1]=Er[1],mr[2]=Er[2];else if(lr<=Lr)mr[0]=xr.s[0],mr[1]=xr.s[1],mr[2]=xr.s[2];else{var on=rr(xr.s),pn=rr(Er),fn=(lr-Lr)/($r-Lr);ir(mr,_i(on,pn,fn))}else for(yr=0;yr<br;yr+=1)xr.h!==1&&(lr>=$r?Jr=1:lr<Lr?Jr=0:(xr.o.x.constructor===Array?(zr.__fnct||(zr.__fnct=[]),zr.__fnct[yr]?Vr=zr.__fnct[yr]:(Pr=xr.o.x[yr]===void 0?xr.o.x[0]:xr.o.x[yr],jr=xr.o.y[yr]===void 0?xr.o.y[0]:xr.o.y[yr],Wr=xr.i.x[yr]===void 0?xr.i.x[0]:xr.i.x[yr],Kr=xr.i.y[yr]===void 0?xr.i.y[0]:xr.i.y[yr],Vr=BezierFactory.getBezierEasing(Pr,jr,Wr,Kr).get,zr.__fnct[yr]=Vr)):zr.__fnct?Vr=zr.__fnct:(Pr=xr.o.x,jr=xr.o.y,Wr=xr.i.x,Kr=xr.i.y,Vr=BezierFactory.getBezierEasing(Pr,jr,Wr,Kr).get,xr.keyframeMetadata=Vr),Jr=Vr((lr-Lr)/($r-Lr)))),Er=Nr.s||xr.e,Qr=xr.h===1?xr.s[yr]:xr.s[yr]+(Er[yr]-xr.s[yr])*Jr,this.propType==="multidimensional"?mr[yr]=Qr:mr=Qr}return sr.lastIndex=vr,mr}function _i(lr,sr,pr){var mr=[],vr=lr[0],yr=lr[1],br=lr[2],_r=lr[3],xr=sr[0],Nr=sr[1],zr=sr[2],Tr=sr[3],Br,Jr,Yr,Xr,Vr;return Jr=vr*xr+yr*Nr+br*zr+_r*Tr,Jr<0&&(Jr=-Jr,xr=-xr,Nr=-Nr,zr=-zr,Tr=-Tr),1-Jr>1e-6?(Br=Math.acos(Jr),Yr=Math.sin(Br),Xr=Math.sin((1-pr)*Br)/Yr,Vr=Math.sin(pr*Br)/Yr):(Xr=1-pr,Vr=pr),mr[0]=Xr*vr+Vr*xr,mr[1]=Xr*yr+Vr*Nr,mr[2]=Xr*br+Vr*zr,mr[3]=Xr*_r+Vr*Tr,mr}function ir(lr,sr){var pr=sr[0],mr=sr[1],vr=sr[2],yr=sr[3],br=Math.atan2(2*mr*yr-2*pr*vr,1-2*mr*mr-2*vr*vr),_r=Math.asin(2*pr*mr+2*vr*yr),xr=Math.atan2(2*pr*yr-2*mr*vr,1-2*pr*pr-2*vr*vr);lr[0]=br/degToRads,lr[1]=_r/degToRads,lr[2]=xr/degToRads}function rr(lr){var sr=lr[0]*degToRads,pr=lr[1]*degToRads,mr=lr[2]*degToRads,vr=Math.cos(sr/2),yr=Math.cos(pr/2),br=Math.cos(mr/2),_r=Math.sin(sr/2),xr=Math.sin(pr/2),Nr=Math.sin(mr/2),zr=vr*yr*br-_r*xr*Nr,Tr=_r*xr*br+vr*yr*Nr,Br=_r*yr*br+vr*xr*Nr,Jr=vr*xr*br-_r*yr*Nr;return[Tr,Br,Jr,zr]}function gr(){var lr=this.comp.renderedFrame-this.offsetTime,sr=this.keyframes[0].t-this.offsetTime,pr=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(lr===this._caching.lastFrame||this._caching.lastFrame!==St&&(this._caching.lastFrame>=pr&&lr>=pr||this._caching.lastFrame<sr&&lr<sr))){this._caching.lastFrame>=lr&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var mr=this.interpolateValue(lr,this._caching);this.pv=mr}return this._caching.lastFrame=lr,this.pv}function cr(lr){var sr;if(this.propType==="unidimensional")sr=lr*this.mult,e(this.v-sr)>1e-5&&(this.v=sr,this._mdf=!0);else for(var pr=0,mr=this.v.length;pr<mr;)sr=lr[pr]*this.mult,e(this.v[pr]-sr)>1e-5&&(this.v[pr]=sr,this._mdf=!0),pr+=1}function tr(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var lr,sr=this.effectsSequence.length,pr=this.kf?this.pv:this.data.k;for(lr=0;lr<sr;lr+=1)pr=this.effectsSequence[lr](pr);this.setVValue(pr),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function hr(lr){this.effectsSequence.push(lr),this.container.addDynamicProperty(this)}function ur(lr,sr,pr,mr){this.propType="unidimensional",this.mult=pr||1,this.data=sr,this.v=pr?sr.k*pr:sr.k,this.pv=sr.k,this._mdf=!1,this.elem=lr,this.container=mr,this.comp=lr.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=tr,this.setVValue=cr,this.addEffect=hr}function or(lr,sr,pr,mr){this.propType="multidimensional",this.mult=pr||1,this.data=sr,this._mdf=!1,this.elem=lr,this.container=mr,this.comp=lr.comp,this.k=!1,this.kf=!1,this.frameId=-1;var vr,yr=sr.k.length;for(this.v=createTypedArray("float32",yr),this.pv=createTypedArray("float32",yr),this.vel=createTypedArray("float32",yr),vr=0;vr<yr;vr+=1)this.v[vr]=sr.k[vr]*this.mult,this.pv[vr]=sr.k[vr];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=tr,this.setVValue=cr,this.addEffect=hr}function nr(lr,sr,pr,mr){this.propType="unidimensional",this.keyframes=sr.k,this.keyframesMetadata=[],this.offsetTime=lr.data.st,this.frameId=-1,this._caching={lastFrame:St,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=sr,this.mult=pr||1,this.elem=lr,this.container=mr,this.comp=lr.comp,this.v=St,this.pv=St,this._isFirstFrame=!0,this.getValue=tr,this.setVValue=cr,this.interpolateValue=_e,this.effectsSequence=[gr.bind(this)],this.addEffect=hr}function er(lr,sr,pr,mr){this.propType="multidimensional";var vr,yr=sr.k.length,br,_r,xr,Nr;for(vr=0;vr<yr-1;vr+=1)sr.k[vr].to&&sr.k[vr].s&&sr.k[vr+1]&&sr.k[vr+1].s&&(br=sr.k[vr].s,_r=sr.k[vr+1].s,xr=sr.k[vr].to,Nr=sr.k[vr].ti,(br.length===2&&!(br[0]===_r[0]&&br[1]===_r[1])&&bez.pointOnLine2D(br[0],br[1],_r[0],_r[1],br[0]+xr[0],br[1]+xr[1])&&bez.pointOnLine2D(br[0],br[1],_r[0],_r[1],_r[0]+Nr[0],_r[1]+Nr[1])||br.length===3&&!(br[0]===_r[0]&&br[1]===_r[1]&&br[2]===_r[2])&&bez.pointOnLine3D(br[0],br[1],br[2],_r[0],_r[1],_r[2],br[0]+xr[0],br[1]+xr[1],br[2]+xr[2])&&bez.pointOnLine3D(br[0],br[1],br[2],_r[0],_r[1],_r[2],_r[0]+Nr[0],_r[1]+Nr[1],_r[2]+Nr[2]))&&(sr.k[vr].to=null,sr.k[vr].ti=null),br[0]===_r[0]&&br[1]===_r[1]&&xr[0]===0&&xr[1]===0&&Nr[0]===0&&Nr[1]===0&&(br.length===2||br[2]===_r[2]&&xr[2]===0&&Nr[2]===0)&&(sr.k[vr].to=null,sr.k[vr].ti=null));this.effectsSequence=[gr.bind(this)],this.data=sr,this.keyframes=sr.k,this.keyframesMetadata=[],this.offsetTime=lr.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=pr||1,this.elem=lr,this.container=mr,this.comp=lr.comp,this.getValue=tr,this.setVValue=cr,this.interpolateValue=_e,this.frameId=-1;var zr=sr.k[0].s.length;for(this.v=createTypedArray("float32",zr),this.pv=createTypedArray("float32",zr),vr=0;vr<zr;vr+=1)this.v[vr]=St,this.pv[vr]=St;this._caching={lastFrame:St,lastIndex:0,value:createTypedArray("float32",zr)},this.addEffect=hr}function ar(lr,sr,pr,mr,vr){var yr;if(!sr.k.length)yr=new ur(lr,sr,mr,vr);else if(typeof sr.k[0]=="number")yr=new or(lr,sr,mr,vr);else switch(pr){case 0:yr=new nr(lr,sr,mr,vr);break;case 1:yr=new er(lr,sr,mr,vr);break}return yr.effectsSequence.length&&vr.addDynamicProperty(yr),yr}var dr={getProp:ar};return dr}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(e){this.dynamicProperties.indexOf(e)===-1&&(this.dynamicProperties.push(e),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var e,_e=this.dynamicProperties.length;for(e=0;e<_e;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(e){this.container=e,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=function(){function St(){return createTypedArray("float32",2)}return poolFactory(8,St)}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(St,e){this.c=St,this.setLength(e);for(var _e=0;_e<e;)this.v[_e]=pointPool.newElement(),this.o[_e]=pointPool.newElement(),this.i[_e]=pointPool.newElement(),_e+=1},ShapePath.prototype.setLength=function(St){for(;this._maxLength<St;)this.doubleArrayLength();this._length=St},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(St,e,_e,_i,ir){var rr;switch(this._length=Math.max(this._length,_i+1),this._length>=this._maxLength&&this.doubleArrayLength(),_e){case"v":rr=this.v;break;case"i":rr=this.i;break;case"o":rr=this.o;break;default:rr=[];break}(!rr[_i]||rr[_i]&&!ir)&&(rr[_i]=pointPool.newElement()),rr[_i][0]=St,rr[_i][1]=e},ShapePath.prototype.setTripleAt=function(St,e,_e,_i,ir,rr,gr,cr){this.setXYAt(St,e,"v",gr,cr),this.setXYAt(_e,_i,"o",gr,cr),this.setXYAt(ir,rr,"i",gr,cr)},ShapePath.prototype.reverse=function(){var St=new ShapePath;St.setPathData(this.c,this._length);var e=this.v,_e=this.o,_i=this.i,ir=0;this.c&&(St.setTripleAt(e[0][0],e[0][1],_i[0][0],_i[0][1],_e[0][0],_e[0][1],0,!1),ir=1);var rr=this._length-1,gr=this._length,cr;for(cr=ir;cr<gr;cr+=1)St.setTripleAt(e[rr][0],e[rr][1],_i[rr][0],_i[rr][1],_e[rr][0],_e[rr][1],cr,!1),rr-=1;return St};var shapePool=function(){function St(){return new ShapePath}function e(ir){var rr=ir._length,gr;for(gr=0;gr<rr;gr+=1)pointPool.release(ir.v[gr]),pointPool.release(ir.i[gr]),pointPool.release(ir.o[gr]),ir.v[gr]=null,ir.i[gr]=null,ir.o[gr]=null;ir._length=0,ir.c=!1}function _e(ir){var rr=_i.newElement(),gr,cr=ir._length===void 0?ir.v.length:ir._length;for(rr.setLength(cr),rr.c=ir.c,gr=0;gr<cr;gr+=1)rr.setTripleAt(ir.v[gr][0],ir.v[gr][1],ir.o[gr][0],ir.o[gr][1],ir.i[gr][0],ir.i[gr][1],gr);return rr}var _i=poolFactory(4,St,e);return _i.clone=_e,_i}();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(St){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=St,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var St;for(St=0;St<this._length;St+=1)shapePool.release(this.shapes[St]);this._length=0};var shapeCollectionPool=function(){var St={newShapeCollection:ir,release:rr},e=0,_e=4,_i=createSizedArray(_e);function ir(){var gr;return e?(e-=1,gr=_i[e]):gr=new ShapeCollection,gr}function rr(gr){var cr,tr=gr._length;for(cr=0;cr<tr;cr+=1)shapePool.release(gr.shapes[cr]);gr._length=0,e===_e&&(_i=pooling.double(_i),_e*=2),_i[e]=gr,e+=1}return St}(),ShapePropertyFactory=function(){var St=-999999;function e(sr,pr,mr){var vr=mr.lastIndex,yr,br,_r,xr,Nr,zr,Tr,Br,Jr,Yr=this.keyframes;if(sr<Yr[0].t-this.offsetTime)yr=Yr[0].s[0],_r=!0,vr=0;else if(sr>=Yr[Yr.length-1].t-this.offsetTime)yr=Yr[Yr.length-1].s?Yr[Yr.length-1].s[0]:Yr[Yr.length-2].e[0],_r=!0;else{for(var Xr=vr,Vr=Yr.length-1,$r=!0,Lr,Er,Hr;$r&&(Lr=Yr[Xr],Er=Yr[Xr+1],!(Er.t-this.offsetTime>sr));)Xr<Vr-1?Xr+=1:$r=!1;if(Hr=this.keyframesMetadata[Xr]||{},_r=Lr.h===1,vr=Xr,!_r){if(sr>=Er.t-this.offsetTime)Br=1;else if(sr<Lr.t-this.offsetTime)Br=0;else{var Gr;Hr.__fnct?Gr=Hr.__fnct:(Gr=BezierFactory.getBezierEasing(Lr.o.x,Lr.o.y,Lr.i.x,Lr.i.y).get,Hr.__fnct=Gr),Br=Gr((sr-(Lr.t-this.offsetTime))/(Er.t-this.offsetTime-(Lr.t-this.offsetTime)))}br=Er.s?Er.s[0]:Lr.e[0]}yr=Lr.s[0]}for(zr=pr._length,Tr=yr.i[0].length,mr.lastIndex=vr,xr=0;xr<zr;xr+=1)for(Nr=0;Nr<Tr;Nr+=1)Jr=_r?yr.i[xr][Nr]:yr.i[xr][Nr]+(br.i[xr][Nr]-yr.i[xr][Nr])*Br,pr.i[xr][Nr]=Jr,Jr=_r?yr.o[xr][Nr]:yr.o[xr][Nr]+(br.o[xr][Nr]-yr.o[xr][Nr])*Br,pr.o[xr][Nr]=Jr,Jr=_r?yr.v[xr][Nr]:yr.v[xr][Nr]+(br.v[xr][Nr]-yr.v[xr][Nr])*Br,pr.v[xr][Nr]=Jr}function _e(){var sr=this.comp.renderedFrame-this.offsetTime,pr=this.keyframes[0].t-this.offsetTime,mr=this.keyframes[this.keyframes.length-1].t-this.offsetTime,vr=this._caching.lastFrame;return vr!==St&&(vr<pr&&sr<pr||vr>mr&&sr>mr)||(this._caching.lastIndex=vr<sr?this._caching.lastIndex:0,this.interpolateShape(sr,this.pv,this._caching)),this._caching.lastFrame=sr,this.pv}function _i(){this.paths=this.localShapeCollection}function ir(sr,pr){if(sr._length!==pr._length||sr.c!==pr.c)return!1;var mr,vr=sr._length;for(mr=0;mr<vr;mr+=1)if(sr.v[mr][0]!==pr.v[mr][0]||sr.v[mr][1]!==pr.v[mr][1]||sr.o[mr][0]!==pr.o[mr][0]||sr.o[mr][1]!==pr.o[mr][1]||sr.i[mr][0]!==pr.i[mr][0]||sr.i[mr][1]!==pr.i[mr][1])return!1;return!0}function rr(sr){ir(this.v,sr)||(this.v=shapePool.clone(sr),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function gr(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var sr;this.kf?sr=this.pv:this.data.ks?sr=this.data.ks.k:sr=this.data.pt.k;var pr,mr=this.effectsSequence.length;for(pr=0;pr<mr;pr+=1)sr=this.effectsSequence[pr](sr);this.setVValue(sr),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function cr(sr,pr,mr){this.propType="shape",this.comp=sr.comp,this.container=sr,this.elem=sr,this.data=pr,this.k=!1,this.kf=!1,this._mdf=!1;var vr=mr===3?pr.pt.k:pr.ks.k;this.v=shapePool.clone(vr),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=_i,this.effectsSequence=[]}function tr(sr){this.effectsSequence.push(sr),this.container.addDynamicProperty(this)}cr.prototype.interpolateShape=e,cr.prototype.getValue=gr,cr.prototype.setVValue=rr,cr.prototype.addEffect=tr;function hr(sr,pr,mr){this.propType="shape",this.comp=sr.comp,this.elem=sr,this.container=sr,this.offsetTime=sr.data.st,this.keyframes=mr===3?pr.pt.k:pr.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var vr=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,vr),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=St,this.reset=_i,this._caching={lastFrame:St,lastIndex:0},this.effectsSequence=[_e.bind(this)]}hr.prototype.getValue=gr,hr.prototype.interpolateShape=e,hr.prototype.setVValue=rr,hr.prototype.addEffect=tr;var ur=function(){var sr=roundCorner;function pr(mr,vr){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=vr.d,this.elem=mr,this.comp=mr.comp,this.frameId=-1,this.initDynamicPropertyContainer(mr),this.p=PropertyFactory.getProp(mr,vr.p,1,0,this),this.s=PropertyFactory.getProp(mr,vr.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return pr.prototype={reset:_i,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var vr=this.p.v[0],yr=this.p.v[1],br=this.s.v[0]/2,_r=this.s.v[1]/2,xr=this.d!==3,Nr=this.v;Nr.v[0][0]=vr,Nr.v[0][1]=yr-_r,Nr.v[1][0]=xr?vr+br:vr-br,Nr.v[1][1]=yr,Nr.v[2][0]=vr,Nr.v[2][1]=yr+_r,Nr.v[3][0]=xr?vr-br:vr+br,Nr.v[3][1]=yr,Nr.i[0][0]=xr?vr-br*sr:vr+br*sr,Nr.i[0][1]=yr-_r,Nr.i[1][0]=xr?vr+br:vr-br,Nr.i[1][1]=yr-_r*sr,Nr.i[2][0]=xr?vr+br*sr:vr-br*sr,Nr.i[2][1]=yr+_r,Nr.i[3][0]=xr?vr-br:vr+br,Nr.i[3][1]=yr+_r*sr,Nr.o[0][0]=xr?vr+br*sr:vr-br*sr,Nr.o[0][1]=yr-_r,Nr.o[1][0]=xr?vr+br:vr-br,Nr.o[1][1]=yr+_r*sr,Nr.o[2][0]=xr?vr-br*sr:vr+br*sr,Nr.o[2][1]=yr+_r,Nr.o[3][0]=xr?vr-br:vr+br,Nr.o[3][1]=yr-_r*sr}},extendPrototype([DynamicPropertyContainer],pr),pr}(),or=function(){function sr(pr,mr){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=pr,this.comp=pr.comp,this.data=mr,this.frameId=-1,this.d=mr.d,this.initDynamicPropertyContainer(pr),mr.sy===1?(this.ir=PropertyFactory.getProp(pr,mr.ir,0,0,this),this.is=PropertyFactory.getProp(pr,mr.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(pr,mr.pt,0,0,this),this.p=PropertyFactory.getProp(pr,mr.p,1,0,this),this.r=PropertyFactory.getProp(pr,mr.r,0,degToRads,this),this.or=PropertyFactory.getProp(pr,mr.or,0,0,this),this.os=PropertyFactory.getProp(pr,mr.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return sr.prototype={reset:_i,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var mr=Math.floor(this.pt.v)*2,vr=Math.PI*2/mr,yr=!0,br=this.or.v,_r=this.ir.v,xr=this.os.v,Nr=this.is.v,zr=2*Math.PI*br/(mr*2),Tr=2*Math.PI*_r/(mr*2),Br,Jr,Yr,Xr,Vr=-Math.PI/2;Vr+=this.r.v;var $r=this.data.d===3?-1:1;for(this.v._length=0,Br=0;Br<mr;Br+=1){Jr=yr?br:_r,Yr=yr?xr:Nr,Xr=yr?zr:Tr;var Lr=Jr*Math.cos(Vr),Er=Jr*Math.sin(Vr),Hr=Lr===0&&Er===0?0:Er/Math.sqrt(Lr*Lr+Er*Er),Gr=Lr===0&&Er===0?0:-Lr/Math.sqrt(Lr*Lr+Er*Er);Lr+=+this.p.v[0],Er+=+this.p.v[1],this.v.setTripleAt(Lr,Er,Lr-Hr*Xr*Yr*$r,Er-Gr*Xr*Yr*$r,Lr+Hr*Xr*Yr*$r,Er+Gr*Xr*Yr*$r,Br,!0),yr=!yr,Vr+=vr*$r}},convertPolygonToPath:function(){var mr=Math.floor(this.pt.v),vr=Math.PI*2/mr,yr=this.or.v,br=this.os.v,_r=2*Math.PI*yr/(mr*4),xr,Nr=-Math.PI*.5,zr=this.data.d===3?-1:1;for(Nr+=this.r.v,this.v._length=0,xr=0;xr<mr;xr+=1){var Tr=yr*Math.cos(Nr),Br=yr*Math.sin(Nr),Jr=Tr===0&&Br===0?0:Br/Math.sqrt(Tr*Tr+Br*Br),Yr=Tr===0&&Br===0?0:-Tr/Math.sqrt(Tr*Tr+Br*Br);Tr+=+this.p.v[0],Br+=+this.p.v[1],this.v.setTripleAt(Tr,Br,Tr-Jr*_r*br*zr,Br-Yr*_r*br*zr,Tr+Jr*_r*br*zr,Br+Yr*_r*br*zr,xr,!0),Nr+=vr*zr}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],sr),sr}(),nr=function(){function sr(pr,mr){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=pr,this.comp=pr.comp,this.frameId=-1,this.d=mr.d,this.initDynamicPropertyContainer(pr),this.p=PropertyFactory.getProp(pr,mr.p,1,0,this),this.s=PropertyFactory.getProp(pr,mr.s,1,0,this),this.r=PropertyFactory.getProp(pr,mr.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return sr.prototype={convertRectToPath:function(){var mr=this.p.v[0],vr=this.p.v[1],yr=this.s.v[0]/2,br=this.s.v[1]/2,_r=bmMin(yr,br,this.r.v),xr=_r*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(mr+yr,vr-br+_r,mr+yr,vr-br+_r,mr+yr,vr-br+xr,0,!0),this.v.setTripleAt(mr+yr,vr+br-_r,mr+yr,vr+br-xr,mr+yr,vr+br-_r,1,!0),_r!==0?(this.v.setTripleAt(mr+yr-_r,vr+br,mr+yr-_r,vr+br,mr+yr-xr,vr+br,2,!0),this.v.setTripleAt(mr-yr+_r,vr+br,mr-yr+xr,vr+br,mr-yr+_r,vr+br,3,!0),this.v.setTripleAt(mr-yr,vr+br-_r,mr-yr,vr+br-_r,mr-yr,vr+br-xr,4,!0),this.v.setTripleAt(mr-yr,vr-br+_r,mr-yr,vr-br+xr,mr-yr,vr-br+_r,5,!0),this.v.setTripleAt(mr-yr+_r,vr-br,mr-yr+_r,vr-br,mr-yr+xr,vr-br,6,!0),this.v.setTripleAt(mr+yr-_r,vr-br,mr+yr-xr,vr-br,mr+yr-_r,vr-br,7,!0)):(this.v.setTripleAt(mr-yr,vr+br,mr-yr+xr,vr+br,mr-yr,vr+br,2),this.v.setTripleAt(mr-yr,vr-br,mr-yr,vr-br+xr,mr-yr,vr-br,3))):(this.v.setTripleAt(mr+yr,vr-br+_r,mr+yr,vr-br+xr,mr+yr,vr-br+_r,0,!0),_r!==0?(this.v.setTripleAt(mr+yr-_r,vr-br,mr+yr-_r,vr-br,mr+yr-xr,vr-br,1,!0),this.v.setTripleAt(mr-yr+_r,vr-br,mr-yr+xr,vr-br,mr-yr+_r,vr-br,2,!0),this.v.setTripleAt(mr-yr,vr-br+_r,mr-yr,vr-br+_r,mr-yr,vr-br+xr,3,!0),this.v.setTripleAt(mr-yr,vr+br-_r,mr-yr,vr+br-xr,mr-yr,vr+br-_r,4,!0),this.v.setTripleAt(mr-yr+_r,vr+br,mr-yr+_r,vr+br,mr-yr+xr,vr+br,5,!0),this.v.setTripleAt(mr+yr-_r,vr+br,mr+yr-xr,vr+br,mr+yr-_r,vr+br,6,!0),this.v.setTripleAt(mr+yr,vr+br-_r,mr+yr,vr+br-_r,mr+yr,vr+br-xr,7,!0)):(this.v.setTripleAt(mr-yr,vr-br,mr-yr+xr,vr-br,mr-yr,vr-br,1,!0),this.v.setTripleAt(mr-yr,vr+br,mr-yr,vr+br-xr,mr-yr,vr+br,2,!0),this.v.setTripleAt(mr+yr,vr+br,mr+yr-xr,vr+br,mr+yr,vr+br,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:_i},extendPrototype([DynamicPropertyContainer],sr),sr}();function er(sr,pr,mr){var vr;if(mr===3||mr===4){var yr=mr===3?pr.pt:pr.ks,br=yr.k;br.length?vr=new hr(sr,pr,mr):vr=new cr(sr,pr,mr)}else mr===5?vr=new nr(sr,pr):mr===6?vr=new ur(sr,pr):mr===7&&(vr=new or(sr,pr));return vr.k&&sr.addDynamicProperty(vr),vr}function ar(){return cr}function dr(){return hr}var lr={};return lr.getShapeProp=er,lr.getConstructorFunction=ar,lr.getKeyframedConstructorFunction=dr,lr}();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=function(){var St=Math.cos,e=Math.sin,_e=Math.tan,_i=Math.round;function ir(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function rr($r){if($r===0)return this;var Lr=St($r),Er=e($r);return this._t(Lr,-Er,0,0,Er,Lr,0,0,0,0,1,0,0,0,0,1)}function gr($r){if($r===0)return this;var Lr=St($r),Er=e($r);return this._t(1,0,0,0,0,Lr,-Er,0,0,Er,Lr,0,0,0,0,1)}function cr($r){if($r===0)return this;var Lr=St($r),Er=e($r);return this._t(Lr,0,Er,0,0,1,0,0,-Er,0,Lr,0,0,0,0,1)}function tr($r){if($r===0)return this;var Lr=St($r),Er=e($r);return this._t(Lr,-Er,0,0,Er,Lr,0,0,0,0,1,0,0,0,0,1)}function hr($r,Lr){return this._t(1,Lr,$r,1,0,0)}function ur($r,Lr){return this.shear(_e($r),_e(Lr))}function or($r,Lr){var Er=St(Lr),Hr=e(Lr);return this._t(Er,Hr,0,0,-Hr,Er,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,_e($r),1,0,0,0,0,1,0,0,0,0,1)._t(Er,-Hr,0,0,Hr,Er,0,0,0,0,1,0,0,0,0,1)}function nr($r,Lr,Er){return!Er&&Er!==0&&(Er=1),$r===1&&Lr===1&&Er===1?this:this._t($r,0,0,0,0,Lr,0,0,0,0,Er,0,0,0,0,1)}function er($r,Lr,Er,Hr,Gr,Cr,kr,Sr,Pr,jr,Wr,Kr,Qr,on,pn,fn){return this.props[0]=$r,this.props[1]=Lr,this.props[2]=Er,this.props[3]=Hr,this.props[4]=Gr,this.props[5]=Cr,this.props[6]=kr,this.props[7]=Sr,this.props[8]=Pr,this.props[9]=jr,this.props[10]=Wr,this.props[11]=Kr,this.props[12]=Qr,this.props[13]=on,this.props[14]=pn,this.props[15]=fn,this}function ar($r,Lr,Er){return Er=Er||0,$r!==0||Lr!==0||Er!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,$r,Lr,Er,1):this}function dr($r,Lr,Er,Hr,Gr,Cr,kr,Sr,Pr,jr,Wr,Kr,Qr,on,pn,fn){var en=this.props;if($r===1&&Lr===0&&Er===0&&Hr===0&&Gr===0&&Cr===1&&kr===0&&Sr===0&&Pr===0&&jr===0&&Wr===1&&Kr===0)return en[12]=en[12]*$r+en[15]*Qr,en[13]=en[13]*Cr+en[15]*on,en[14]=en[14]*Wr+en[15]*pn,en[15]*=fn,this._identityCalculated=!1,this;var Ir=en[0],Ur=en[1],Mr=en[2],Zr=en[3],tn=en[4],an=en[5],vn=en[6],_n=en[7],dn=en[8],Pn=en[9],gn=en[10],In=en[11],Rn=en[12],zn=en[13],Cn=en[14],Dn=en[15];return en[0]=Ir*$r+Ur*Gr+Mr*Pr+Zr*Qr,en[1]=Ir*Lr+Ur*Cr+Mr*jr+Zr*on,en[2]=Ir*Er+Ur*kr+Mr*Wr+Zr*pn,en[3]=Ir*Hr+Ur*Sr+Mr*Kr+Zr*fn,en[4]=tn*$r+an*Gr+vn*Pr+_n*Qr,en[5]=tn*Lr+an*Cr+vn*jr+_n*on,en[6]=tn*Er+an*kr+vn*Wr+_n*pn,en[7]=tn*Hr+an*Sr+vn*Kr+_n*fn,en[8]=dn*$r+Pn*Gr+gn*Pr+In*Qr,en[9]=dn*Lr+Pn*Cr+gn*jr+In*on,en[10]=dn*Er+Pn*kr+gn*Wr+In*pn,en[11]=dn*Hr+Pn*Sr+gn*Kr+In*fn,en[12]=Rn*$r+zn*Gr+Cn*Pr+Dn*Qr,en[13]=Rn*Lr+zn*Cr+Cn*jr+Dn*on,en[14]=Rn*Er+zn*kr+Cn*Wr+Dn*pn,en[15]=Rn*Hr+zn*Sr+Cn*Kr+Dn*fn,this._identityCalculated=!1,this}function lr(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function sr($r){for(var Lr=0;Lr<16;){if($r.props[Lr]!==this.props[Lr])return!1;Lr+=1}return!0}function pr($r){var Lr;for(Lr=0;Lr<16;Lr+=1)$r.props[Lr]=this.props[Lr];return $r}function mr($r){var Lr;for(Lr=0;Lr<16;Lr+=1)this.props[Lr]=$r[Lr]}function vr($r,Lr,Er){return{x:$r*this.props[0]+Lr*this.props[4]+Er*this.props[8]+this.props[12],y:$r*this.props[1]+Lr*this.props[5]+Er*this.props[9]+this.props[13],z:$r*this.props[2]+Lr*this.props[6]+Er*this.props[10]+this.props[14]}}function yr($r,Lr,Er){return $r*this.props[0]+Lr*this.props[4]+Er*this.props[8]+this.props[12]}function br($r,Lr,Er){return $r*this.props[1]+Lr*this.props[5]+Er*this.props[9]+this.props[13]}function _r($r,Lr,Er){return $r*this.props[2]+Lr*this.props[6]+Er*this.props[10]+this.props[14]}function xr(){var $r=this.props[0]*this.props[5]-this.props[1]*this.props[4],Lr=this.props[5]/$r,Er=-this.props[1]/$r,Hr=-this.props[4]/$r,Gr=this.props[0]/$r,Cr=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/$r,kr=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/$r,Sr=new Matrix;return Sr.props[0]=Lr,Sr.props[1]=Er,Sr.props[4]=Hr,Sr.props[5]=Gr,Sr.props[12]=Cr,Sr.props[13]=kr,Sr}function Nr($r){var Lr=this.getInverseMatrix();return Lr.applyToPointArray($r[0],$r[1],$r[2]||0)}function zr($r){var Lr,Er=$r.length,Hr=[];for(Lr=0;Lr<Er;Lr+=1)Hr[Lr]=Nr($r[Lr]);return Hr}function Tr($r,Lr,Er){var Hr=createTypedArray("float32",6);if(this.isIdentity())Hr[0]=$r[0],Hr[1]=$r[1],Hr[2]=Lr[0],Hr[3]=Lr[1],Hr[4]=Er[0],Hr[5]=Er[1];else{var Gr=this.props[0],Cr=this.props[1],kr=this.props[4],Sr=this.props[5],Pr=this.props[12],jr=this.props[13];Hr[0]=$r[0]*Gr+$r[1]*kr+Pr,Hr[1]=$r[0]*Cr+$r[1]*Sr+jr,Hr[2]=Lr[0]*Gr+Lr[1]*kr+Pr,Hr[3]=Lr[0]*Cr+Lr[1]*Sr+jr,Hr[4]=Er[0]*Gr+Er[1]*kr+Pr,Hr[5]=Er[0]*Cr+Er[1]*Sr+jr}return Hr}function Br($r,Lr,Er){var Hr;return this.isIdentity()?Hr=[$r,Lr,Er]:Hr=[$r*this.props[0]+Lr*this.props[4]+Er*this.props[8]+this.props[12],$r*this.props[1]+Lr*this.props[5]+Er*this.props[9]+this.props[13],$r*this.props[2]+Lr*this.props[6]+Er*this.props[10]+this.props[14]],Hr}function Jr($r,Lr){if(this.isIdentity())return $r+","+Lr;var Er=this.props;return Math.round(($r*Er[0]+Lr*Er[4]+Er[12])*100)/100+","+Math.round(($r*Er[1]+Lr*Er[5]+Er[13])*100)/100}function Yr(){for(var $r=0,Lr=this.props,Er="matrix3d(",Hr=1e4;$r<16;)Er+=_i(Lr[$r]*Hr)/Hr,Er+=$r===15?")":",",$r+=1;return Er}function Xr($r){var Lr=1e4;return $r<1e-6&&$r>0||$r>-1e-6&&$r<0?_i($r*Lr)/Lr:$r}function Vr(){var $r=this.props,Lr=Xr($r[0]),Er=Xr($r[1]),Hr=Xr($r[4]),Gr=Xr($r[5]),Cr=Xr($r[12]),kr=Xr($r[13]);return"matrix("+Lr+","+Er+","+Hr+","+Gr+","+Cr+","+kr+")"}return function(){this.reset=ir,this.rotate=rr,this.rotateX=gr,this.rotateY=cr,this.rotateZ=tr,this.skew=ur,this.skewFromAxis=or,this.shear=hr,this.scale=nr,this.setTransform=er,this.translate=ar,this.transform=dr,this.applyToPoint=vr,this.applyToX=yr,this.applyToY=br,this.applyToZ=_r,this.applyToPointArray=Br,this.applyToTriplePoints=Tr,this.applyToPointStringified=Jr,this.toCSS=Yr,this.to2dCSS=Vr,this.clone=pr,this.cloneFromProps=mr,this.equals=sr,this.inversePoints=zr,this.inversePoint=Nr,this.getInverseMatrix=xr,this._t=this.transform,this.isIdentity=lr,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(St){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$3=function(_e){return typeof _e}:_typeof$3=function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$3(St)}var lottie={};function setLocation(St){setLocationHref(St)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(St){setSubframeEnabled(St)}function setPrefix(St){setIdPrefix(St)}function loadAnimation(St){return animationManager.loadAnimation(St)}function setQuality(St){if(typeof St=="string")switch(St){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(St)&&St>1&&setDefaultCurveSegments(St)}function inBrowser(){return typeof navigator<"u"}function installPlugin(St,e){St==="expressions"&&setExpressionsPlugin(e)}function getFactory(St){switch(St){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.9.6";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(St){for(var e=queryString.split("&"),_e=0;_e<e.length;_e+=1){var _i=e[_e].split("=");if(decodeURIComponent(_i[0])==St)return decodeURIComponent(_i[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(St){}var ShapeModifiers=function(){var St={},e={};St.registerModifier=_e,St.getModifier=_i;function _e(ir,rr){e[ir]||(e[ir]=rr)}function _i(ir,rr,gr){return new e[ir](rr,gr)}return St}();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(St){if(!this.closed){St.sh.container.addDynamicProperty(St.sh);var e={shape:St.sh,data:St,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(e),this.addShapeToModifier(e),this._isAnimated&&St.setAsAnimated()}},ShapeModifier.prototype.init=function(St,e){this.shapes=[],this.elem=St,this.initDynamicPropertyContainer(St),this.initModifierProperties(St,e),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(St,e){this.s=PropertyFactory.getProp(St,e.s,0,.01,this),this.e=PropertyFactory.getProp(St,e.e,0,.01,this),this.o=PropertyFactory.getProp(St,e.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=e.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(St){St.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(St,e,_e,_i,ir){var rr=[];e<=1?rr.push({s:St,e}):St>=1?rr.push({s:St-1,e:e-1}):(rr.push({s:St,e:1}),rr.push({s:0,e:e-1}));var gr=[],cr,tr=rr.length,hr;for(cr=0;cr<tr;cr+=1)if(hr=rr[cr],!(hr.e*ir<_i||hr.s*ir>_i+_e)){var ur,or;hr.s*ir<=_i?ur=0:ur=(hr.s*ir-_i)/_e,hr.e*ir>=_i+_e?or=1:or=(hr.e*ir-_i)/_e,gr.push([ur,or])}return gr.length||gr.push([0,0]),gr},TrimModifier.prototype.releasePathsData=function(St){var e,_e=St.length;for(e=0;e<_e;e+=1)segmentsLengthPool.release(St[e]);return St.length=0,St},TrimModifier.prototype.processShapes=function(St){var e,_e;if(this._mdf||St){var _i=this.o.v%360/360;if(_i<0&&(_i+=1),this.s.v>1?e=1+_i:this.s.v<0?e=0+_i:e=this.s.v+_i,this.e.v>1?_e=1+_i:this.e.v<0?_e=0+_i:_e=this.e.v+_i,e>_e){var ir=e;e=_e,_e=ir}e=Math.round(e*1e4)*1e-4,_e=Math.round(_e*1e4)*1e-4,this.sValue=e,this.eValue=_e}else e=this.sValue,_e=this.eValue;var rr,gr,cr=this.shapes.length,tr,hr,ur,or,nr,er=0;if(_e===e)for(gr=0;gr<cr;gr+=1)this.shapes[gr].localShapeCollection.releaseShapes(),this.shapes[gr].shape._mdf=!0,this.shapes[gr].shape.paths=this.shapes[gr].localShapeCollection,this._mdf&&(this.shapes[gr].pathsData.length=0);else if(_e===1&&e===0||_e===0&&e===1){if(this._mdf)for(gr=0;gr<cr;gr+=1)this.shapes[gr].pathsData.length=0,this.shapes[gr].shape._mdf=!0}else{var ar=[],dr,lr;for(gr=0;gr<cr;gr+=1)if(dr=this.shapes[gr],!dr.shape._mdf&&!this._mdf&&!St&&this.m!==2)dr.shape.paths=dr.localShapeCollection;else{if(rr=dr.shape.paths,hr=rr._length,nr=0,!dr.shape._mdf&&dr.pathsData.length)nr=dr.totalShapeLength;else{for(ur=this.releasePathsData(dr.pathsData),tr=0;tr<hr;tr+=1)or=bez.getSegmentsLength(rr.shapes[tr]),ur.push(or),nr+=or.totalLength;dr.totalShapeLength=nr,dr.pathsData=ur}er+=nr,dr.shape._mdf=!0}var sr=e,pr=_e,mr=0,vr;for(gr=cr-1;gr>=0;gr-=1)if(dr=this.shapes[gr],dr.shape._mdf){for(lr=dr.localShapeCollection,lr.releaseShapes(),this.m===2&&cr>1?(vr=this.calculateShapeEdges(e,_e,dr.totalShapeLength,mr,er),mr+=dr.totalShapeLength):vr=[[sr,pr]],hr=vr.length,tr=0;tr<hr;tr+=1){sr=vr[tr][0],pr=vr[tr][1],ar.length=0,pr<=1?ar.push({s:dr.totalShapeLength*sr,e:dr.totalShapeLength*pr}):sr>=1?ar.push({s:dr.totalShapeLength*(sr-1),e:dr.totalShapeLength*(pr-1)}):(ar.push({s:dr.totalShapeLength*sr,e:dr.totalShapeLength}),ar.push({s:0,e:dr.totalShapeLength*(pr-1)}));var yr=this.addShapes(dr,ar[0]);if(ar[0].s!==ar[0].e){if(ar.length>1){var br=dr.shape.paths.shapes[dr.shape.paths._length-1];if(br.c){var _r=yr.pop();this.addPaths(yr,lr),yr=this.addShapes(dr,ar[1],_r)}else this.addPaths(yr,lr),yr=this.addShapes(dr,ar[1])}this.addPaths(yr,lr)}}dr.shape.paths=lr}}},TrimModifier.prototype.addPaths=function(St,e){var _e,_i=St.length;for(_e=0;_e<_i;_e+=1)e.addShape(St[_e])},TrimModifier.prototype.addSegment=function(St,e,_e,_i,ir,rr,gr){ir.setXYAt(e[0],e[1],"o",rr),ir.setXYAt(_e[0],_e[1],"i",rr+1),gr&&ir.setXYAt(St[0],St[1],"v",rr),ir.setXYAt(_i[0],_i[1],"v",rr+1)},TrimModifier.prototype.addSegmentFromArray=function(St,e,_e,_i){e.setXYAt(St[1],St[5],"o",_e),e.setXYAt(St[2],St[6],"i",_e+1),_i&&e.setXYAt(St[0],St[4],"v",_e),e.setXYAt(St[3],St[7],"v",_e+1)},TrimModifier.prototype.addShapes=function(St,e,_e){var _i=St.pathsData,ir=St.shape.paths.shapes,rr,gr=St.shape.paths._length,cr,tr,hr=0,ur,or,nr,er,ar=[],dr,lr=!0;for(_e?(or=_e._length,dr=_e._length):(_e=shapePool.newElement(),or=0,dr=0),ar.push(_e),rr=0;rr<gr;rr+=1){for(nr=_i[rr].lengths,_e.c=ir[rr].c,tr=ir[rr].c?nr.length:nr.length+1,cr=1;cr<tr;cr+=1)if(ur=nr[cr-1],hr+ur.addedLength<e.s)hr+=ur.addedLength,_e.c=!1;else if(hr>e.e){_e.c=!1;break}else e.s<=hr&&e.e>=hr+ur.addedLength?(this.addSegment(ir[rr].v[cr-1],ir[rr].o[cr-1],ir[rr].i[cr],ir[rr].v[cr],_e,or,lr),lr=!1):(er=bez.getNewSegment(ir[rr].v[cr-1],ir[rr].v[cr],ir[rr].o[cr-1],ir[rr].i[cr],(e.s-hr)/ur.addedLength,(e.e-hr)/ur.addedLength,nr[cr-1]),this.addSegmentFromArray(er,_e,or,lr),lr=!1,_e.c=!1),hr+=ur.addedLength,or+=1;if(ir[rr].c&&nr.length){if(ur=nr[cr-1],hr<=e.e){var sr=nr[cr-1].addedLength;e.s<=hr&&e.e>=hr+sr?(this.addSegment(ir[rr].v[cr-1],ir[rr].o[cr-1],ir[rr].i[0],ir[rr].v[0],_e,or,lr),lr=!1):(er=bez.getNewSegment(ir[rr].v[cr-1],ir[rr].v[0],ir[rr].o[cr-1],ir[rr].i[0],(e.s-hr)/sr,(e.e-hr)/sr,nr[cr-1]),this.addSegmentFromArray(er,_e,or,lr),lr=!1,_e.c=!1)}else _e.c=!1;hr+=ur.addedLength,or+=1}if(_e._length&&(_e.setXYAt(_e.v[dr][0],_e.v[dr][1],"i",dr),_e.setXYAt(_e.v[_e._length-1][0],_e.v[_e._length-1][1],"o",_e._length-1)),hr>e.e)break;rr<gr-1&&(_e=shapePool.newElement(),lr=!0,ar.push(_e),or=0)}return ar};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(St,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(St,e.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(St,e){var _e=e/100,_i=[0,0],ir=St._length,rr=0;for(rr=0;rr<ir;rr+=1)_i[0]+=St.v[rr][0],_i[1]+=St.v[rr][1];_i[0]/=ir,_i[1]/=ir;var gr=shapePool.newElement();gr.c=St.c;var cr,tr,hr,ur,or,nr;for(rr=0;rr<ir;rr+=1)cr=St.v[rr][0]+(_i[0]-St.v[rr][0])*_e,tr=St.v[rr][1]+(_i[1]-St.v[rr][1])*_e,hr=St.o[rr][0]+(_i[0]-St.o[rr][0])*-_e,ur=St.o[rr][1]+(_i[1]-St.o[rr][1])*-_e,or=St.i[rr][0]+(_i[0]-St.i[rr][0])*-_e,nr=St.i[rr][1]+(_i[1]-St.i[rr][1])*-_e,gr.setTripleAt(cr,tr,hr,ur,or,nr,rr);return gr},PuckerAndBloatModifier.prototype.processShapes=function(St){var e,_e,_i=this.shapes.length,ir,rr,gr=this.amount.v;if(gr!==0){var cr,tr;for(_e=0;_e<_i;_e+=1){if(cr=this.shapes[_e],tr=cr.localShapeCollection,!(!cr.shape._mdf&&!this._mdf&&!St))for(tr.releaseShapes(),cr.shape._mdf=!0,e=cr.shape.paths.shapes,rr=cr.shape.paths._length,ir=0;ir<rr;ir+=1)tr.addShape(this.processPath(e[ir],gr));cr.shape.paths=cr.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var St=[0,0];function e(tr){var hr=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||hr,this.a&&tr.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&tr.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&tr.skewFromAxis(-this.sk.v,this.sa.v),this.r?tr.rotate(-this.r.v):tr.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?tr.translate(this.px.v,this.py.v,-this.pz.v):tr.translate(this.px.v,this.py.v,0):tr.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function _e(tr){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||tr){var hr;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var ur,or;if(hr=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(ur=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/hr,0),or=this.p.getValueAtTime(this.p.keyframes[0].t/hr,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(ur=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/hr,0),or=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/hr,0)):(ur=this.p.pv,or=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/hr,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){ur=[],or=[];var nr=this.px,er=this.py;nr._caching.lastFrame+nr.offsetTime<=nr.keyframes[0].t?(ur[0]=nr.getValueAtTime((nr.keyframes[0].t+.01)/hr,0),ur[1]=er.getValueAtTime((er.keyframes[0].t+.01)/hr,0),or[0]=nr.getValueAtTime(nr.keyframes[0].t/hr,0),or[1]=er.getValueAtTime(er.keyframes[0].t/hr,0)):nr._caching.lastFrame+nr.offsetTime>=nr.keyframes[nr.keyframes.length-1].t?(ur[0]=nr.getValueAtTime(nr.keyframes[nr.keyframes.length-1].t/hr,0),ur[1]=er.getValueAtTime(er.keyframes[er.keyframes.length-1].t/hr,0),or[0]=nr.getValueAtTime((nr.keyframes[nr.keyframes.length-1].t-.01)/hr,0),or[1]=er.getValueAtTime((er.keyframes[er.keyframes.length-1].t-.01)/hr,0)):(ur=[nr.pv,er.pv],or[0]=nr.getValueAtTime((nr._caching.lastFrame+nr.offsetTime-.01)/hr,nr.offsetTime),or[1]=er.getValueAtTime((er._caching.lastFrame+er.offsetTime-.01)/hr,er.offsetTime))}else or=St,ur=or;this.v.rotate(-Math.atan2(ur[1]-or[1],ur[0]-or[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function _i(){if(!this.a.k)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function ir(){}function rr(tr){this._addDynamicProperty(tr),this.elem.addDynamicProperty(tr),this._isDirty=!0}function gr(tr,hr,ur){if(this.elem=tr,this.frameId=-1,this.propType="transform",this.data=hr,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(ur||tr),hr.p&&hr.p.s?(this.px=PropertyFactory.getProp(tr,hr.p.x,0,0,this),this.py=PropertyFactory.getProp(tr,hr.p.y,0,0,this),hr.p.z&&(this.pz=PropertyFactory.getProp(tr,hr.p.z,0,0,this))):this.p=PropertyFactory.getProp(tr,hr.p||{k:[0,0,0]},1,0,this),hr.rx){if(this.rx=PropertyFactory.getProp(tr,hr.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(tr,hr.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(tr,hr.rz,0,degToRads,this),hr.or.k[0].ti){var or,nr=hr.or.k.length;for(or=0;or<nr;or+=1)hr.or.k[or].to=null,hr.or.k[or].ti=null}this.or=PropertyFactory.getProp(tr,hr.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(tr,hr.r||{k:0},0,degToRads,this);hr.sk&&(this.sk=PropertyFactory.getProp(tr,hr.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(tr,hr.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(tr,hr.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(tr,hr.s||{k:[100,100,100]},1,.01,this),hr.o?this.o=PropertyFactory.getProp(tr,hr.o,0,.01,tr):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}gr.prototype={applyToMatrix:e,getValue:_e,precalculateMatrix:_i,autoOrient:ir},extendPrototype([DynamicPropertyContainer],gr),gr.prototype.addDynamicProperty=rr,gr.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function cr(tr,hr,ur){return new gr(tr,hr,ur)}return{getTransformProperty:cr}}();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(St,e){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(St,e.c,0,null,this),this.o=PropertyFactory.getProp(St,e.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(St,e.tr,this),this.so=PropertyFactory.getProp(St,e.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(St,e.tr.eo,0,.01,this),this.data=e,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(St,e,_e,_i,ir,rr){var gr=rr?-1:1,cr=_i.s.v[0]+(1-_i.s.v[0])*(1-ir),tr=_i.s.v[1]+(1-_i.s.v[1])*(1-ir);St.translate(_i.p.v[0]*gr*ir,_i.p.v[1]*gr*ir,_i.p.v[2]),e.translate(-_i.a.v[0],-_i.a.v[1],_i.a.v[2]),e.rotate(-_i.r.v*gr*ir),e.translate(_i.a.v[0],_i.a.v[1],_i.a.v[2]),_e.translate(-_i.a.v[0],-_i.a.v[1],_i.a.v[2]),_e.scale(rr?1/cr:cr,rr?1/tr:tr),_e.translate(_i.a.v[0],_i.a.v[1],_i.a.v[2])},RepeaterModifier.prototype.init=function(St,e,_e,_i){for(this.elem=St,this.arr=e,this.pos=_e,this.elemsData=_i,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(St),this.initModifierProperties(St,e[_e]);_e>0;)_e-=1,this._elements.unshift(e[_e]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(St){var e,_e=St.length;for(e=0;e<_e;e+=1)St[e]._processed=!1,St[e].ty==="gr"&&this.resetElements(St[e].it)},RepeaterModifier.prototype.cloneElements=function(St){var e=JSON.parse(JSON.stringify(St));return this.resetElements(e),e},RepeaterModifier.prototype.changeGroupRender=function(St,e){var _e,_i=St.length;for(_e=0;_e<_i;_e+=1)St[_e]._render=e,St[_e].ty==="gr"&&this.changeGroupRender(St[_e].it,e)},RepeaterModifier.prototype.processShapes=function(St){var e,_e,_i,ir,rr,gr=!1;if(this._mdf||St){var cr=Math.ceil(this.c.v);if(this._groups.length<cr){for(;this._groups.length<cr;){var tr={it:this.cloneElements(this._elements),ty:"gr"};tr.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,tr),this._groups.splice(0,0,tr),this._currentCopies+=1}this.elem.reloadShapes(),gr=!0}rr=0;var hr;for(_i=0;_i<=this._groups.length-1;_i+=1){if(hr=rr<cr,this._groups[_i]._render=hr,this.changeGroupRender(this._groups[_i].it,hr),!hr){var ur=this.elemsData[_i].it,or=ur[ur.length-1];or.transform.op.v!==0?(or.transform.op._mdf=!0,or.transform.op.v=0):or.transform.op._mdf=!1}rr+=1}this._currentCopies=cr;var nr=this.o.v,er=nr%1,ar=nr>0?Math.floor(nr):Math.ceil(nr),dr=this.pMatrix.props,lr=this.rMatrix.props,sr=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var pr=0;if(nr>0){for(;pr<ar;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),pr+=1;er&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,er,!1),pr+=er)}else if(nr<0){for(;pr>ar;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),pr-=1;er&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-er,!0),pr-=er)}_i=this.data.m===1?0:this._currentCopies-1,ir=this.data.m===1?1:-1,rr=this._currentCopies;for(var mr,vr;rr;){if(e=this.elemsData[_i].it,_e=e[e.length-1].transform.mProps.v.props,vr=_e.length,e[e.length-1].transform.mProps._mdf=!0,e[e.length-1].transform.op._mdf=!0,e[e.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(_i/(this._currentCopies-1)),pr!==0){for((_i!==0&&ir===1||_i!==this._currentCopies-1&&ir===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(lr[0],lr[1],lr[2],lr[3],lr[4],lr[5],lr[6],lr[7],lr[8],lr[9],lr[10],lr[11],lr[12],lr[13],lr[14],lr[15]),this.matrix.transform(sr[0],sr[1],sr[2],sr[3],sr[4],sr[5],sr[6],sr[7],sr[8],sr[9],sr[10],sr[11],sr[12],sr[13],sr[14],sr[15]),this.matrix.transform(dr[0],dr[1],dr[2],dr[3],dr[4],dr[5],dr[6],dr[7],dr[8],dr[9],dr[10],dr[11],dr[12],dr[13],dr[14],dr[15]),mr=0;mr<vr;mr+=1)_e[mr]=this.matrix.props[mr];this.matrix.reset()}else for(this.matrix.reset(),mr=0;mr<vr;mr+=1)_e[mr]=this.matrix.props[mr];pr+=1,rr-=1,_i+=ir}}else for(rr=this._currentCopies,_i=0,ir=1;rr;)e=this.elemsData[_i].it,_e=e[e.length-1].transform.mProps.v.props,e[e.length-1].transform.mProps._mdf=!1,e[e.length-1].transform.op._mdf=!1,rr-=1,_i+=ir;return gr},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(St,e){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(St,e.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(St,e){var _e=shapePool.newElement();_e.c=St.c;var _i,ir=St._length,rr,gr,cr,tr,hr,ur,or=0,nr,er,ar,dr,lr,sr;for(_i=0;_i<ir;_i+=1)rr=St.v[_i],cr=St.o[_i],gr=St.i[_i],rr[0]===cr[0]&&rr[1]===cr[1]&&rr[0]===gr[0]&&rr[1]===gr[1]?(_i===0||_i===ir-1)&&!St.c?(_e.setTripleAt(rr[0],rr[1],cr[0],cr[1],gr[0],gr[1],or),or+=1):(_i===0?tr=St.v[ir-1]:tr=St.v[_i-1],hr=Math.sqrt(Math.pow(rr[0]-tr[0],2)+Math.pow(rr[1]-tr[1],2)),ur=hr?Math.min(hr/2,e)/hr:0,lr=rr[0]+(tr[0]-rr[0])*ur,nr=lr,sr=rr[1]-(rr[1]-tr[1])*ur,er=sr,ar=nr-(nr-rr[0])*roundCorner,dr=er-(er-rr[1])*roundCorner,_e.setTripleAt(nr,er,ar,dr,lr,sr,or),or+=1,_i===ir-1?tr=St.v[0]:tr=St.v[_i+1],hr=Math.sqrt(Math.pow(rr[0]-tr[0],2)+Math.pow(rr[1]-tr[1],2)),ur=hr?Math.min(hr/2,e)/hr:0,ar=rr[0]+(tr[0]-rr[0])*ur,nr=ar,dr=rr[1]+(tr[1]-rr[1])*ur,er=dr,lr=nr-(nr-rr[0])*roundCorner,sr=er-(er-rr[1])*roundCorner,_e.setTripleAt(nr,er,ar,dr,lr,sr,or),or+=1):(_e.setTripleAt(St.v[_i][0],St.v[_i][1],St.o[_i][0],St.o[_i][1],St.i[_i][0],St.i[_i][1],or),or+=1);return _e},RoundCornersModifier.prototype.processShapes=function(St){var e,_e,_i=this.shapes.length,ir,rr,gr=this.rd.v;if(gr!==0){var cr,tr;for(_e=0;_e<_i;_e+=1){if(cr=this.shapes[_e],tr=cr.localShapeCollection,!(!cr.shape._mdf&&!this._mdf&&!St))for(tr.releaseShapes(),cr.shape._mdf=!0,e=cr.shape.paths.shapes,rr=cr.shape.paths._length,ir=0;ir<rr;ir+=1)tr.addShape(this.processPath(e[ir],gr));cr.shape.paths=cr.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(St){for(var e=St.fStyle?St.fStyle.split(" "):[],_e="normal",_i="normal",ir=e.length,rr,gr=0;gr<ir;gr+=1)switch(rr=e[gr].toLowerCase(),rr){case"italic":_i="italic";break;case"bold":_e="700";break;case"black":_e="900";break;case"medium":_e="500";break;case"regular":case"normal":_e="400";break;case"light":case"thin":_e="200";break}return{style:_i,weight:St.fWeight||_e}}var FontManager=function(){var St=5e3,e={w:0,size:0,shapes:[],data:{shapes:[]}},_e=[];_e=_e.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var _i=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"],ir=[65039,8205];function rr(vr){var yr=vr.split(","),br,_r=yr.length,xr=[];for(br=0;br<_r;br+=1)yr[br]!=="sans-serif"&&yr[br]!=="monospace"&&xr.push(yr[br]);return xr.join(",")}function gr(vr,yr){var br=createTag("span");br.setAttribute("aria-hidden",!0),br.style.fontFamily=yr;var _r=createTag("span");_r.innerText="giItT1WQy@!-/#",br.style.position="absolute",br.style.left="-10000px",br.style.top="-10000px",br.style.fontSize="300px",br.style.fontVariant="normal",br.style.fontStyle="normal",br.style.fontWeight="normal",br.style.letterSpacing="0",br.appendChild(_r),document.body.appendChild(br);var xr=_r.offsetWidth;return _r.style.fontFamily=rr(vr)+", "+yr,{node:_r,w:xr,parent:br}}function cr(){var vr,yr=this.fonts.length,br,_r,xr=yr;for(vr=0;vr<yr;vr+=1)this.fonts[vr].loaded?xr-=1:this.fonts[vr].fOrigin==="n"||this.fonts[vr].origin===0?this.fonts[vr].loaded=!0:(br=this.fonts[vr].monoCase.node,_r=this.fonts[vr].monoCase.w,br.offsetWidth!==_r?(xr-=1,this.fonts[vr].loaded=!0):(br=this.fonts[vr].sansCase.node,_r=this.fonts[vr].sansCase.w,br.offsetWidth!==_r&&(xr-=1,this.fonts[vr].loaded=!0)),this.fonts[vr].loaded&&(this.fonts[vr].sansCase.parent.parentNode.removeChild(this.fonts[vr].sansCase.parent),this.fonts[vr].monoCase.parent.parentNode.removeChild(this.fonts[vr].monoCase.parent)));xr!==0&&Date.now()-this.initTime<St?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function tr(vr,yr){var br=document.body&&yr?"svg":"canvas",_r,xr=getFontProperties(vr);if(br==="svg"){var Nr=createNS("text");Nr.style.fontSize="100px",Nr.setAttribute("font-family",vr.fFamily),Nr.setAttribute("font-style",xr.style),Nr.setAttribute("font-weight",xr.weight),Nr.textContent="1",vr.fClass?(Nr.style.fontFamily="inherit",Nr.setAttribute("class",vr.fClass)):Nr.style.fontFamily=vr.fFamily,yr.appendChild(Nr),_r=Nr}else{var zr=new OffscreenCanvas(500,500).getContext("2d");zr.font=xr.style+" "+xr.weight+" 100px "+vr.fFamily,_r=zr}function Tr(Br){return br==="svg"?(_r.textContent=Br,_r.getComputedTextLength()):_r.measureText(Br).width}return{measureText:Tr}}function hr(vr,yr){if(!vr){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=vr.list;return}if(!document.body){this.isLoaded=!0,vr.list.forEach(function(Vr){Vr.helper=tr(Vr),Vr.cache={}}),this.fonts=vr.list;return}var br=vr.list,_r,xr=br.length,Nr=xr;for(_r=0;_r<xr;_r+=1){var zr=!0,Tr,Br;if(br[_r].loaded=!1,br[_r].monoCase=gr(br[_r].fFamily,"monospace"),br[_r].sansCase=gr(br[_r].fFamily,"sans-serif"),!br[_r].fPath)br[_r].loaded=!0,Nr-=1;else if(br[_r].fOrigin==="p"||br[_r].origin===3){if(Tr=document.querySelectorAll('style[f-forigin="p"][f-family="'+br[_r].fFamily+'"], style[f-origin="3"][f-family="'+br[_r].fFamily+'"]'),Tr.length>0&&(zr=!1),zr){var Jr=createTag("style");Jr.setAttribute("f-forigin",br[_r].fOrigin),Jr.setAttribute("f-origin",br[_r].origin),Jr.setAttribute("f-family",br[_r].fFamily),Jr.type="text/css",Jr.innerText="@font-face {font-family: "+br[_r].fFamily+"; font-style: normal; src: url('"+br[_r].fPath+"');}",yr.appendChild(Jr)}}else if(br[_r].fOrigin==="g"||br[_r].origin===1){for(Tr=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),Br=0;Br<Tr.length;Br+=1)Tr[Br].href.indexOf(br[_r].fPath)!==-1&&(zr=!1);if(zr){var Yr=createTag("link");Yr.setAttribute("f-forigin",br[_r].fOrigin),Yr.setAttribute("f-origin",br[_r].origin),Yr.type="text/css",Yr.rel="stylesheet",Yr.href=br[_r].fPath,document.body.appendChild(Yr)}}else if(br[_r].fOrigin==="t"||br[_r].origin===2){for(Tr=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),Br=0;Br<Tr.length;Br+=1)br[_r].fPath===Tr[Br].src&&(zr=!1);if(zr){var Xr=createTag("link");Xr.setAttribute("f-forigin",br[_r].fOrigin),Xr.setAttribute("f-origin",br[_r].origin),Xr.setAttribute("rel","stylesheet"),Xr.setAttribute("href",br[_r].fPath),yr.appendChild(Xr)}}br[_r].helper=tr(br[_r],yr),br[_r].cache={},this.fonts.push(br[_r])}Nr===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function ur(vr){if(!!vr){this.chars||(this.chars=[]);var yr,br=vr.length,_r,xr=this.chars.length,Nr;for(yr=0;yr<br;yr+=1){for(_r=0,Nr=!1;_r<xr;)this.chars[_r].style===vr[yr].style&&this.chars[_r].fFamily===vr[yr].fFamily&&this.chars[_r].ch===vr[yr].ch&&(Nr=!0),_r+=1;Nr||(this.chars.push(vr[yr]),xr+=1)}}}function or(vr,yr,br){for(var _r=0,xr=this.chars.length;_r<xr;){if(this.chars[_r].ch===vr&&this.chars[_r].style===yr&&this.chars[_r].fFamily===br)return this.chars[_r];_r+=1}return(typeof vr=="string"&&vr.charCodeAt(0)!==13||!vr)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",vr,yr,br)),e}function nr(vr,yr,br){var _r=this.getFontByName(yr),xr=vr.charCodeAt(0);if(!_r.cache[xr+1]){var Nr=_r.helper;if(vr===" "){var zr=Nr.measureText("|"+vr+"|"),Tr=Nr.measureText("||");_r.cache[xr+1]=(zr-Tr)/100}else _r.cache[xr+1]=Nr.measureText(vr)/100}return _r.cache[xr+1]*br}function er(vr){for(var yr=0,br=this.fonts.length;yr<br;){if(this.fonts[yr].fName===vr)return this.fonts[yr];yr+=1}return this.fonts[0]}function ar(vr,yr){var br=vr.toString(16)+yr.toString(16);return _i.indexOf(br)!==-1}function dr(vr,yr){return yr?vr===ir[0]&&yr===ir[1]:vr===ir[1]}function lr(vr){return _e.indexOf(vr)!==-1}function sr(){this.isLoaded=!0}var pr=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};pr.isModifier=ar,pr.isZeroWidthJoiner=dr,pr.isCombinedCharacter=lr;var mr={addChars:ur,addFonts:hr,getCharData:or,getFontByName:er,measureText:nr,checkLoadedFonts:cr,setIsLoaded:sr};return pr.prototype=mr,pr}();function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(e){this.renderableComponents.indexOf(e)===-1&&this.renderableComponents.push(e)},removeRenderableComponent:function(e){this.renderableComponents.indexOf(e)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(e),1)},prepareRenderableFrame:function(e){this.checkLayerLimits(e)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(e){this.data.ip-this.data.st<=e&&this.data.op-this.data.st>e?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var e,_e=this.renderableComponents.length;for(e=0;e<_e;e+=1)this.renderableComponents[e].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var MaskManagerInterface=function(){function St(_e,_i){this._mask=_e,this._data=_i}Object.defineProperty(St.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(St.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var e=function(_i){var ir=createSizedArray(_i.viewData.length),rr,gr=_i.viewData.length;for(rr=0;rr<gr;rr+=1)ir[rr]=new St(_i.viewData[rr],_i.masksProperties[rr]);var cr=function(hr){for(rr=0;rr<gr;){if(_i.masksProperties[rr].nm===hr)return ir[rr];rr+=1}return null};return cr};return e}(),ExpressionPropertyInterface=function(){var St={pv:0,v:0,mult:1},e={pv:[0,0,0],v:[0,0,0],mult:1};function _e(gr,cr,tr){Object.defineProperty(gr,"velocity",{get:function(){return cr.getVelocityAtTime(cr.comp.currentFrame)}}),gr.numKeys=cr.keyframes?cr.keyframes.length:0,gr.key=function(hr){if(!gr.numKeys)return 0;var ur="";"s"in cr.keyframes[hr-1]?ur=cr.keyframes[hr-1].s:"e"in cr.keyframes[hr-2]?ur=cr.keyframes[hr-2].e:ur=cr.keyframes[hr-2].s;var or=tr==="unidimensional"?new Number(ur):Object.assign({},ur);return or.time=cr.keyframes[hr-1].t/cr.elem.comp.globalData.frameRate,or.value=tr==="unidimensional"?ur[0]:ur,or},gr.valueAtTime=cr.getValueAtTime,gr.speedAtTime=cr.getSpeedAtTime,gr.velocityAtTime=cr.getVelocityAtTime,gr.propertyGroup=cr.propertyGroup}function _i(gr){(!gr||!("pv"in gr))&&(gr=St);var cr=1/gr.mult,tr=gr.pv*cr,hr=new Number(tr);return hr.value=tr,_e(hr,gr,"unidimensional"),function(){return gr.k&&gr.getValue(),tr=gr.v*cr,hr.value!==tr&&(hr=new Number(tr),hr.value=tr,_e(hr,gr,"unidimensional")),hr}}function ir(gr){(!gr||!("pv"in gr))&&(gr=e);var cr=1/gr.mult,tr=gr.data&&gr.data.l||gr.pv.length,hr=createTypedArray("float32",tr),ur=createTypedArray("float32",tr);return hr.value=ur,_e(hr,gr,"multidimensional"),function(){gr.k&&gr.getValue();for(var or=0;or<tr;or+=1)ur[or]=gr.v[or]*cr,hr[or]=ur[or];return hr}}function rr(){return St}return function(gr){return gr?gr.propType==="unidimensional"?_i(gr):ir(gr):rr}}(),TransformExpressionInterface=function(){return function(St){function e(gr){switch(gr){case"scale":case"Scale":case"ADBE Scale":case 6:return e.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return e.rotation;case"ADBE Rotate X":return e.xRotation;case"ADBE Rotate Y":return e.yRotation;case"position":case"Position":case"ADBE Position":case 2:return e.position;case"ADBE Position_0":return e.xPosition;case"ADBE Position_1":return e.yPosition;case"ADBE Position_2":return e.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return e.anchorPoint;case"opacity":case"Opacity":case 11:return e.opacity;default:return null}}Object.defineProperty(e,"rotation",{get:ExpressionPropertyInterface(St.r||St.rz)}),Object.defineProperty(e,"zRotation",{get:ExpressionPropertyInterface(St.rz||St.r)}),Object.defineProperty(e,"xRotation",{get:ExpressionPropertyInterface(St.rx)}),Object.defineProperty(e,"yRotation",{get:ExpressionPropertyInterface(St.ry)}),Object.defineProperty(e,"scale",{get:ExpressionPropertyInterface(St.s)});var _e,_i,ir,rr;return St.p?rr=ExpressionPropertyInterface(St.p):(_e=ExpressionPropertyInterface(St.px),_i=ExpressionPropertyInterface(St.py),St.pz&&(ir=ExpressionPropertyInterface(St.pz))),Object.defineProperty(e,"position",{get:function(){return St.p?rr():[_e(),_i(),ir?ir():0]}}),Object.defineProperty(e,"xPosition",{get:ExpressionPropertyInterface(St.px)}),Object.defineProperty(e,"yPosition",{get:ExpressionPropertyInterface(St.py)}),Object.defineProperty(e,"zPosition",{get:ExpressionPropertyInterface(St.pz)}),Object.defineProperty(e,"anchorPoint",{get:ExpressionPropertyInterface(St.a)}),Object.defineProperty(e,"opacity",{get:ExpressionPropertyInterface(St.o)}),Object.defineProperty(e,"skew",{get:ExpressionPropertyInterface(St.sk)}),Object.defineProperty(e,"skewAxis",{get:ExpressionPropertyInterface(St.sa)}),Object.defineProperty(e,"orientation",{get:ExpressionPropertyInterface(St.or)}),e}}(),LayerExpressionInterface=function(){function St(hr){var ur=new Matrix;if(hr!==void 0){var or=this._elem.finalTransform.mProp.getValueAtTime(hr);or.clone(ur)}else{var nr=this._elem.finalTransform.mProp;nr.applyToMatrix(ur)}return ur}function e(hr,ur){var or=this.getMatrix(ur);return or.props[12]=0,or.props[13]=0,or.props[14]=0,this.applyPoint(or,hr)}function _e(hr,ur){var or=this.getMatrix(ur);return this.applyPoint(or,hr)}function _i(hr,ur){var or=this.getMatrix(ur);return or.props[12]=0,or.props[13]=0,or.props[14]=0,this.invertPoint(or,hr)}function ir(hr,ur){var or=this.getMatrix(ur);return this.invertPoint(or,hr)}function rr(hr,ur){if(this._elem.hierarchy&&this._elem.hierarchy.length){var or,nr=this._elem.hierarchy.length;for(or=0;or<nr;or+=1)this._elem.hierarchy[or].finalTransform.mProp.applyToMatrix(hr)}return hr.applyToPointArray(ur[0],ur[1],ur[2]||0)}function gr(hr,ur){if(this._elem.hierarchy&&this._elem.hierarchy.length){var or,nr=this._elem.hierarchy.length;for(or=0;or<nr;or+=1)this._elem.hierarchy[or].finalTransform.mProp.applyToMatrix(hr)}return hr.inversePoint(ur)}function cr(hr){var ur=new Matrix;if(ur.reset(),this._elem.finalTransform.mProp.applyToMatrix(ur),this._elem.hierarchy&&this._elem.hierarchy.length){var or,nr=this._elem.hierarchy.length;for(or=0;or<nr;or+=1)this._elem.hierarchy[or].finalTransform.mProp.applyToMatrix(ur);return ur.inversePoint(hr)}return ur.inversePoint(hr)}function tr(){return[1,1,1,1]}return function(hr){var ur;function or(dr){er.mask=new MaskManagerInterface(dr,hr)}function nr(dr){er.effect=dr}function er(dr){switch(dr){case"ADBE Root Vectors Group":case"Contents":case 2:return er.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return ur;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return er.effect;case"ADBE Text Properties":return er.textInterface;default:return null}}er.getMatrix=St,er.invertPoint=gr,er.applyPoint=rr,er.toWorld=_e,er.toWorldVec=e,er.fromWorld=ir,er.fromWorldVec=_i,er.toComp=_e,er.fromComp=cr,er.sampleImage=tr,er.sourceRectAtTime=hr.sourceRectAtTime.bind(hr),er._elem=hr,ur=TransformExpressionInterface(hr.finalTransform.mProp);var ar=getDescriptor(ur,"anchorPoint");return Object.defineProperties(er,{hasParent:{get:function(){return hr.hierarchy.length}},parent:{get:function(){return hr.hierarchy[0].layerInterface}},rotation:getDescriptor(ur,"rotation"),scale:getDescriptor(ur,"scale"),position:getDescriptor(ur,"position"),opacity:getDescriptor(ur,"opacity"),anchorPoint:ar,anchor_point:ar,transform:{get:function(){return ur}},active:{get:function(){return hr.isInRange}}}),er.startTime=hr.data.st,er.index=hr.data.ind,er.source=hr.data.refId,er.height=hr.data.ty===0?hr.data.h:100,er.width=hr.data.ty===0?hr.data.w:100,er.inPoint=hr.data.ip/hr.comp.globalData.frameRate,er.outPoint=hr.data.op/hr.comp.globalData.frameRate,er._name=hr.data.nm,er.registerMaskInterface=or,er.registerEffectsInterface=nr,er}}(),propertyGroupFactory=function(){return function(St,e){return function(_e){return _e=_e===void 0?1:_e,_e<=0?St:e(_e-1)}}}(),PropertyInterface=function(){return function(St,e){var _e={_name:St};function _i(ir){return ir=ir===void 0?1:ir,ir<=0?_e:e(ir-1)}return _i}}(),EffectsExpressionInterface=function(){var St={createEffectsInterface:e};function e(ir,rr){if(ir.effectsManager){var gr=[],cr=ir.data.ef,tr,hr=ir.effectsManager.effectElements.length;for(tr=0;tr<hr;tr+=1)gr.push(_e(cr[tr],ir.effectsManager.effectElements[tr],rr,ir));var ur=ir.data.ef||[],or=function(er){for(tr=0,hr=ur.length;tr<hr;){if(er===ur[tr].nm||er===ur[tr].mn||er===ur[tr].ix)return gr[tr];tr+=1}return null};return Object.defineProperty(or,"numProperties",{get:function(){return ur.length}}),or}return null}function _e(ir,rr,gr,cr){function tr(er){for(var ar=ir.ef,dr=0,lr=ar.length;dr<lr;){if(er===ar[dr].nm||er===ar[dr].mn||er===ar[dr].ix)return ar[dr].ty===5?ur[dr]:ur[dr]();dr+=1}throw new Error}var hr=propertyGroupFactory(tr,gr),ur=[],or,nr=ir.ef.length;for(or=0;or<nr;or+=1)ir.ef[or].ty===5?ur.push(_e(ir.ef[or],rr.effectElements[or],rr.effectElements[or].propertyGroup,cr)):ur.push(_i(rr.effectElements[or],ir.ef[or].ty,cr,hr));return ir.mn==="ADBE Color Control"&&Object.defineProperty(tr,"color",{get:function(){return ur[0]()}}),Object.defineProperties(tr,{numProperties:{get:function(){return ir.np}},_name:{value:ir.nm},propertyGroup:{value:hr}}),tr.enabled=ir.en!==0,tr.active=tr.enabled,tr}function _i(ir,rr,gr,cr){var tr=ExpressionPropertyInterface(ir.p);function hr(){return rr===10?gr.comp.compInterface(ir.p.v):tr()}return ir.p.setGroupProperty&&ir.p.setGroupProperty(PropertyInterface("",cr)),hr}return St}(),CompExpressionInterface=function(){return function(St){function e(_e){for(var _i=0,ir=St.layers.length;_i<ir;){if(St.layers[_i].nm===_e||St.layers[_i].ind===_e)return St.elements[_i].layerInterface;_i+=1}return null}return Object.defineProperty(e,"_name",{value:St.data.nm}),e.layer=e,e.pixelAspect=1,e.height=St.data.h||St.globalData.compSize.h,e.width=St.data.w||St.globalData.compSize.w,e.pixelAspect=1,e.frameDuration=1/St.globalData.frameRate,e.displayStartTime=0,e.numLayers=St.layers.length,e}}(),ShapePathInterface=function(){return function(e,_e,_i){var ir=_e.sh;function rr(cr){return cr==="Shape"||cr==="shape"||cr==="Path"||cr==="path"||cr==="ADBE Vector Shape"||cr===2?rr.path:null}var gr=propertyGroupFactory(rr,_i);return ir.setGroupProperty(PropertyInterface("Path",gr)),Object.defineProperties(rr,{path:{get:function(){return ir.k&&ir.getValue(),ir}},shape:{get:function(){return ir.k&&ir.getValue(),ir}},_name:{value:e.nm},ix:{value:e.ix},propertyIndex:{value:e.ix},mn:{value:e.mn},propertyGroup:{value:_i}}),rr}}(),ShapeExpressionInterface=function(){function St(ar,dr,lr){var sr=[],pr,mr=ar?ar.length:0;for(pr=0;pr<mr;pr+=1)ar[pr].ty==="gr"?sr.push(_e(ar[pr],dr[pr],lr)):ar[pr].ty==="fl"?sr.push(_i(ar[pr],dr[pr],lr)):ar[pr].ty==="st"?sr.push(gr(ar[pr],dr[pr],lr)):ar[pr].ty==="tm"?sr.push(cr(ar[pr],dr[pr],lr)):ar[pr].ty==="tr"||(ar[pr].ty==="el"?sr.push(hr(ar[pr],dr[pr],lr)):ar[pr].ty==="sr"?sr.push(ur(ar[pr],dr[pr],lr)):ar[pr].ty==="sh"?sr.push(ShapePathInterface(ar[pr],dr[pr],lr)):ar[pr].ty==="rc"?sr.push(or(ar[pr],dr[pr],lr)):ar[pr].ty==="rd"?sr.push(nr(ar[pr],dr[pr],lr)):ar[pr].ty==="rp"?sr.push(er(ar[pr],dr[pr],lr)):ar[pr].ty==="gf"?sr.push(ir(ar[pr],dr[pr],lr)):sr.push(rr(ar[pr],dr[pr])));return sr}function e(ar,dr,lr){var sr,pr=function(yr){for(var br=0,_r=sr.length;br<_r;){if(sr[br]._name===yr||sr[br].mn===yr||sr[br].propertyIndex===yr||sr[br].ix===yr||sr[br].ind===yr)return sr[br];br+=1}return typeof yr=="number"?sr[yr-1]:null};pr.propertyGroup=propertyGroupFactory(pr,lr),sr=St(ar.it,dr.it,pr.propertyGroup),pr.numProperties=sr.length;var mr=tr(ar.it[ar.it.length-1],dr.it[dr.it.length-1],pr.propertyGroup);return pr.transform=mr,pr.propertyIndex=ar.cix,pr._name=ar.nm,pr}function _e(ar,dr,lr){var sr=function(yr){switch(yr){case"ADBE Vectors Group":case"Contents":case 2:return sr.content;default:return sr.transform}};sr.propertyGroup=propertyGroupFactory(sr,lr);var pr=e(ar,dr,sr.propertyGroup),mr=tr(ar.it[ar.it.length-1],dr.it[dr.it.length-1],sr.propertyGroup);return sr.content=pr,sr.transform=mr,Object.defineProperty(sr,"_name",{get:function(){return ar.nm}}),sr.numProperties=ar.np,sr.propertyIndex=ar.ix,sr.nm=ar.nm,sr.mn=ar.mn,sr}function _i(ar,dr,lr){function sr(pr){return pr==="Color"||pr==="color"?sr.color:pr==="Opacity"||pr==="opacity"?sr.opacity:null}return Object.defineProperties(sr,{color:{get:ExpressionPropertyInterface(dr.c)},opacity:{get:ExpressionPropertyInterface(dr.o)},_name:{value:ar.nm},mn:{value:ar.mn}}),dr.c.setGroupProperty(PropertyInterface("Color",lr)),dr.o.setGroupProperty(PropertyInterface("Opacity",lr)),sr}function ir(ar,dr,lr){function sr(pr){return pr==="Start Point"||pr==="start point"?sr.startPoint:pr==="End Point"||pr==="end point"?sr.endPoint:pr==="Opacity"||pr==="opacity"?sr.opacity:null}return Object.defineProperties(sr,{startPoint:{get:ExpressionPropertyInterface(dr.s)},endPoint:{get:ExpressionPropertyInterface(dr.e)},opacity:{get:ExpressionPropertyInterface(dr.o)},type:{get:function(){return"a"}},_name:{value:ar.nm},mn:{value:ar.mn}}),dr.s.setGroupProperty(PropertyInterface("Start Point",lr)),dr.e.setGroupProperty(PropertyInterface("End Point",lr)),dr.o.setGroupProperty(PropertyInterface("Opacity",lr)),sr}function rr(){function ar(){return null}return ar}function gr(ar,dr,lr){var sr=propertyGroupFactory(_r,lr),pr=propertyGroupFactory(br,sr);function mr(xr){Object.defineProperty(br,ar.d[xr].nm,{get:ExpressionPropertyInterface(dr.d.dataProps[xr].p)})}var vr,yr=ar.d?ar.d.length:0,br={};for(vr=0;vr<yr;vr+=1)mr(vr),dr.d.dataProps[vr].p.setGroupProperty(pr);function _r(xr){return xr==="Color"||xr==="color"?_r.color:xr==="Opacity"||xr==="opacity"?_r.opacity:xr==="Stroke Width"||xr==="stroke width"?_r.strokeWidth:null}return Object.defineProperties(_r,{color:{get:ExpressionPropertyInterface(dr.c)},opacity:{get:ExpressionPropertyInterface(dr.o)},strokeWidth:{get:ExpressionPropertyInterface(dr.w)},dash:{get:function(){return br}},_name:{value:ar.nm},mn:{value:ar.mn}}),dr.c.setGroupProperty(PropertyInterface("Color",sr)),dr.o.setGroupProperty(PropertyInterface("Opacity",sr)),dr.w.setGroupProperty(PropertyInterface("Stroke Width",sr)),_r}function cr(ar,dr,lr){function sr(mr){return mr===ar.e.ix||mr==="End"||mr==="end"?sr.end:mr===ar.s.ix?sr.start:mr===ar.o.ix?sr.offset:null}var pr=propertyGroupFactory(sr,lr);return sr.propertyIndex=ar.ix,dr.s.setGroupProperty(PropertyInterface("Start",pr)),dr.e.setGroupProperty(PropertyInterface("End",pr)),dr.o.setGroupProperty(PropertyInterface("Offset",pr)),sr.propertyIndex=ar.ix,sr.propertyGroup=lr,Object.defineProperties(sr,{start:{get:ExpressionPropertyInterface(dr.s)},end:{get:ExpressionPropertyInterface(dr.e)},offset:{get:ExpressionPropertyInterface(dr.o)},_name:{value:ar.nm}}),sr.mn=ar.mn,sr}function tr(ar,dr,lr){function sr(mr){return ar.a.ix===mr||mr==="Anchor Point"?sr.anchorPoint:ar.o.ix===mr||mr==="Opacity"?sr.opacity:ar.p.ix===mr||mr==="Position"?sr.position:ar.r.ix===mr||mr==="Rotation"||mr==="ADBE Vector Rotation"?sr.rotation:ar.s.ix===mr||mr==="Scale"?sr.scale:ar.sk&&ar.sk.ix===mr||mr==="Skew"?sr.skew:ar.sa&&ar.sa.ix===mr||mr==="Skew Axis"?sr.skewAxis:null}var pr=propertyGroupFactory(sr,lr);return dr.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",pr)),dr.transform.mProps.p.setGroupProperty(PropertyInterface("Position",pr)),dr.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",pr)),dr.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",pr)),dr.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",pr)),dr.transform.mProps.sk&&(dr.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",pr)),dr.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",pr))),dr.transform.op.setGroupProperty(PropertyInterface("Opacity",pr)),Object.defineProperties(sr,{opacity:{get:ExpressionPropertyInterface(dr.transform.mProps.o)},position:{get:ExpressionPropertyInterface(dr.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(dr.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(dr.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(dr.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(dr.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(dr.transform.mProps.sa)},_name:{value:ar.nm}}),sr.ty="tr",sr.mn=ar.mn,sr.propertyGroup=lr,sr}function hr(ar,dr,lr){function sr(vr){return ar.p.ix===vr?sr.position:ar.s.ix===vr?sr.size:null}var pr=propertyGroupFactory(sr,lr);sr.propertyIndex=ar.ix;var mr=dr.sh.ty==="tm"?dr.sh.prop:dr.sh;return mr.s.setGroupProperty(PropertyInterface("Size",pr)),mr.p.setGroupProperty(PropertyInterface("Position",pr)),Object.defineProperties(sr,{size:{get:ExpressionPropertyInterface(mr.s)},position:{get:ExpressionPropertyInterface(mr.p)},_name:{value:ar.nm}}),sr.mn=ar.mn,sr}function ur(ar,dr,lr){function sr(vr){return ar.p.ix===vr?sr.position:ar.r.ix===vr?sr.rotation:ar.pt.ix===vr?sr.points:ar.or.ix===vr||vr==="ADBE Vector Star Outer Radius"?sr.outerRadius:ar.os.ix===vr?sr.outerRoundness:ar.ir&&(ar.ir.ix===vr||vr==="ADBE Vector Star Inner Radius")?sr.innerRadius:ar.is&&ar.is.ix===vr?sr.innerRoundness:null}var pr=propertyGroupFactory(sr,lr),mr=dr.sh.ty==="tm"?dr.sh.prop:dr.sh;return sr.propertyIndex=ar.ix,mr.or.setGroupProperty(PropertyInterface("Outer Radius",pr)),mr.os.setGroupProperty(PropertyInterface("Outer Roundness",pr)),mr.pt.setGroupProperty(PropertyInterface("Points",pr)),mr.p.setGroupProperty(PropertyInterface("Position",pr)),mr.r.setGroupProperty(PropertyInterface("Rotation",pr)),ar.ir&&(mr.ir.setGroupProperty(PropertyInterface("Inner Radius",pr)),mr.is.setGroupProperty(PropertyInterface("Inner Roundness",pr))),Object.defineProperties(sr,{position:{get:ExpressionPropertyInterface(mr.p)},rotation:{get:ExpressionPropertyInterface(mr.r)},points:{get:ExpressionPropertyInterface(mr.pt)},outerRadius:{get:ExpressionPropertyInterface(mr.or)},outerRoundness:{get:ExpressionPropertyInterface(mr.os)},innerRadius:{get:ExpressionPropertyInterface(mr.ir)},innerRoundness:{get:ExpressionPropertyInterface(mr.is)},_name:{value:ar.nm}}),sr.mn=ar.mn,sr}function or(ar,dr,lr){function sr(vr){return ar.p.ix===vr?sr.position:ar.r.ix===vr?sr.roundness:ar.s.ix===vr||vr==="Size"||vr==="ADBE Vector Rect Size"?sr.size:null}var pr=propertyGroupFactory(sr,lr),mr=dr.sh.ty==="tm"?dr.sh.prop:dr.sh;return sr.propertyIndex=ar.ix,mr.p.setGroupProperty(PropertyInterface("Position",pr)),mr.s.setGroupProperty(PropertyInterface("Size",pr)),mr.r.setGroupProperty(PropertyInterface("Rotation",pr)),Object.defineProperties(sr,{position:{get:ExpressionPropertyInterface(mr.p)},roundness:{get:ExpressionPropertyInterface(mr.r)},size:{get:ExpressionPropertyInterface(mr.s)},_name:{value:ar.nm}}),sr.mn=ar.mn,sr}function nr(ar,dr,lr){function sr(vr){return ar.r.ix===vr||vr==="Round Corners 1"?sr.radius:null}var pr=propertyGroupFactory(sr,lr),mr=dr;return sr.propertyIndex=ar.ix,mr.rd.setGroupProperty(PropertyInterface("Radius",pr)),Object.defineProperties(sr,{radius:{get:ExpressionPropertyInterface(mr.rd)},_name:{value:ar.nm}}),sr.mn=ar.mn,sr}function er(ar,dr,lr){function sr(vr){return ar.c.ix===vr||vr==="Copies"?sr.copies:ar.o.ix===vr||vr==="Offset"?sr.offset:null}var pr=propertyGroupFactory(sr,lr),mr=dr;return sr.propertyIndex=ar.ix,mr.c.setGroupProperty(PropertyInterface("Copies",pr)),mr.o.setGroupProperty(PropertyInterface("Offset",pr)),Object.defineProperties(sr,{copies:{get:ExpressionPropertyInterface(mr.c)},offset:{get:ExpressionPropertyInterface(mr.o)},_name:{value:ar.nm}}),sr.mn=ar.mn,sr}return function(ar,dr,lr){var sr;function pr(vr){if(typeof vr=="number")return vr=vr===void 0?1:vr,vr===0?lr:sr[vr-1];for(var yr=0,br=sr.length;yr<br;){if(sr[yr]._name===vr)return sr[yr];yr+=1}return null}function mr(){return lr}return pr.propertyGroup=propertyGroupFactory(pr,mr),sr=St(ar,dr,pr.propertyGroup),pr.numProperties=sr.length,pr._name="Contents",pr}}(),TextExpressionInterface=function(){return function(St){var e,_e;function _i(ir){switch(ir){case"ADBE Text Document":return _i.sourceText;default:return null}}return Object.defineProperty(_i,"sourceText",{get:function(){St.textProperty.getValue();var rr=St.textProperty.currentData.t;return rr!==e&&(St.textProperty.currentData.t=e,_e=new String(rr),_e.value=rr||new String(rr)),_e}}),_i}}(),getBlendMode=function(){var St={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(e){return St[e]||""}}();function SliderEffect(St,e,_e){this.p=PropertyFactory.getProp(e,St.v,0,0,_e)}function AngleEffect(St,e,_e){this.p=PropertyFactory.getProp(e,St.v,0,0,_e)}function ColorEffect(St,e,_e){this.p=PropertyFactory.getProp(e,St.v,1,0,_e)}function PointEffect(St,e,_e){this.p=PropertyFactory.getProp(e,St.v,1,0,_e)}function LayerIndexEffect(St,e,_e){this.p=PropertyFactory.getProp(e,St.v,0,0,_e)}function MaskIndexEffect(St,e,_e){this.p=PropertyFactory.getProp(e,St.v,0,0,_e)}function CheckboxEffect(St,e,_e){this.p=PropertyFactory.getProp(e,St.v,0,0,_e)}function NoValueEffect(){this.p={}}function EffectsManager(St,e){var _e=St.ef||[];this.effectElements=[];var _i,ir=_e.length,rr;for(_i=0;_i<ir;_i+=1)rr=new GroupEffect(_e[_i],e),this.effectElements.push(rr)}function GroupEffect(St,e){this.init(St,e)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(St,e){this.data=St,this.effectElements=[],this.initDynamicPropertyContainer(e);var _e,_i=this.data.ef.length,ir,rr=this.data.ef;for(_e=0;_e<_i;_e+=1){switch(ir=null,rr[_e].ty){case 0:ir=new SliderEffect(rr[_e],e,this);break;case 1:ir=new AngleEffect(rr[_e],e,this);break;case 2:ir=new ColorEffect(rr[_e],e,this);break;case 3:ir=new PointEffect(rr[_e],e,this);break;case 4:case 7:ir=new CheckboxEffect(rr[_e],e,this);break;case 10:ir=new LayerIndexEffect(rr[_e],e,this);break;case 11:ir=new MaskIndexEffect(rr[_e],e,this);break;case 5:ir=new EffectsManager(rr[_e],e);break;default:ir=new NoValueEffect(rr[_e]);break}ir&&this.effectElements.push(ir)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var e=0,_e=this.data.masksProperties.length;e<_e;){if(this.data.masksProperties[e].mode!=="n"&&this.data.masksProperties[e].cl!==!1)return!0;e+=1}return!1},initExpressions:function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var e=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(e),this.data.ty===0||this.data.xt?this.compInterface=CompExpressionInterface(this):this.data.ty===4?(this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=TextExpressionInterface(this),this.layerInterface.text=this.layerInterface.textInterface)},setBlendMode:function(){var e=getBlendMode(this.data.bm),_e=this.baseElement||this.layerElement;_e.style["mix-blend-mode"]=e},initBaseData:function(e,_e,_i){this.globalData=_e,this.comp=_i,this.data=e,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(e,_e){var _i,ir=this.dynamicProperties.length;for(_i=0;_i<ir;_i+=1)(_e||this._isParent&&this.dynamicProperties[_i].propType==="transform")&&(this.dynamicProperties[_i].getValue(),this.dynamicProperties[_i]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(e){this.dynamicProperties.indexOf(e)===-1&&this.dynamicProperties.push(e)}};function _typeof$2(St){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$2=function(_e){return typeof _e}:_typeof$2=function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$2(St)}var FootageInterface=function(){var St=function(_i){var ir="",rr=_i.getFootageData();function gr(){return ir="",rr=_i.getFootageData(),cr}function cr(tr){if(rr[tr])return ir=tr,rr=rr[tr],_typeof$2(rr)==="object"?cr:rr;var hr=tr.indexOf(ir);if(hr!==-1){var ur=parseInt(tr.substr(hr+ir.length),10);return rr=rr[ur],_typeof$2(rr)==="object"?cr:rr}return""}return gr},e=function(_i){function ir(rr){return rr==="Outline"?ir.outlineInterface():null}return ir._name="Outline",ir.outlineInterface=St(_i),ir};return function(_e){function _i(ir){return ir==="Data"?_i.dataInterface:null}return _i._name="Data",_i.dataInterface=e(_e),_i}}();function FootageElement(St,e,_e){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(St.refId),this.footageData=e.imageLoader.getAsset(this.assetData),this.initBaseData(St,e,_e)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){this.layerInterface=FootageInterface(this)},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(St,e,_e){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(St.refId),this.initBaseData(St,e,_e),this._isPlaying=!1,this._canPlay=!1;var _i=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(_i),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=St.tm?PropertyFactory.getProp(this,St.tm,0,e.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,St.au&&St.au.lv?St.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(St){if(this.prepareRenderableFrame(St,!0),this.prepareProperties(St,!0),this.tm._placeholder)this._currentTime=St/this.data.sr;else{var e=this.tm.v;this._currentTime=e}this._volume=this.lv.v[0];var _e=this._volume*this._volumeMultiplier;this._previousVolume!==_e&&(this._previousVolume=_e,this.audio.volume(_e))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(St){this.audio.rate(St)},AudioElement.prototype.volume=function(St){this._volumeMultiplier=St,this._previousVolume=St*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(St){var e,_e=this.layers.length,_i;for(this.completeLayers=!0,e=_e-1;e>=0;e-=1)this.elements[e]||(_i=this.layers[e],_i.ip-_i.st<=St-this.layers[e].st&&_i.op-_i.st>St-this.layers[e].st&&this.buildItem(e)),this.completeLayers=this.elements[e]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(St){switch(St.ty){case 2:return this.createImage(St);case 0:return this.createComp(St);case 1:return this.createSolid(St);case 3:return this.createNull(St);case 4:return this.createShape(St);case 5:return this.createText(St);case 6:return this.createAudio(St);case 13:return this.createCamera(St);case 15:return this.createFootage(St);default:return this.createNull(St)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(St){return new AudioElement(St,this.globalData,this)},BaseRenderer.prototype.createFootage=function(St){return new FootageElement(St,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var St,e=this.layers.length;for(St=0;St<e;St+=1)this.buildItem(St);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(St){this.completeLayers=!1;var e,_e=St.length,_i,ir=this.layers.length;for(e=0;e<_e;e+=1)for(_i=0;_i<ir;){if(this.layers[_i].id===St[e].id){this.layers[_i]=St[e];break}_i+=1}},BaseRenderer.prototype.setProjectInterface=function(St){this.globalData.projectInterface=St},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(St,e,_e){for(var _i=this.elements,ir=this.layers,rr=0,gr=ir.length;rr<gr;)ir[rr].ind==e&&(!_i[rr]||_i[rr]===!0?(this.buildItem(rr),this.addPendingElement(St)):(_e.push(_i[rr]),_i[rr].setAsParent(),ir[rr].parent!==void 0?this.buildElementParenting(St,ir[rr].parent,_e):St.setHierarchy(_e))),rr+=1},BaseRenderer.prototype.addPendingElement=function(St){this.pendingElements.push(St)},BaseRenderer.prototype.searchExtraCompositions=function(St){var e,_e=St.length;for(e=0;e<_e;e+=1)if(St[e].xt){var _i=this.createComp(St[e]);_i.initExpressions(),this.globalData.projectInterface.registerComposition(_i)}},BaseRenderer.prototype.getElementByPath=function(St){var e=St.shift(),_e;if(typeof e=="number")_e=this.elements[e];else{var _i,ir=this.elements.length;for(_i=0;_i<ir;_i+=1)if(this.elements[_i].data.nm===e){_e=this.elements[_i];break}}return St.length===0?_e:_e.getElementByPath(St)},BaseRenderer.prototype.setupGlobalData=function(St,e){this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(St.chars),this.globalData.fontManager.addFonts(St.fonts,e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=St.fr,this.globalData.nm=St.nm,this.globalData.compSize={w:St.w,h:St.h}};function TransformElement(){}TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var e,_e=this.finalTransform.mat,_i=0,ir=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;_i<ir;){if(this.hierarchy[_i].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}_i+=1}if(this.finalTransform._matMdf)for(e=this.finalTransform.mProp.v.props,_e.cloneFromProps(e),_i=0;_i<ir;_i+=1)e=this.hierarchy[_i].finalTransform.mProp.v.props,_e.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}},globalToLocal:function(e){var _e=[];_e.push(this.finalTransform);for(var _i=!0,ir=this.comp;_i;)ir.finalTransform?(ir.data.hasMask&&_e.splice(0,0,ir.finalTransform),ir=ir.comp):_i=!1;var rr,gr=_e.length,cr;for(rr=0;rr<gr;rr+=1)cr=_e[rr].mat.applyToPointArray(0,0,0),e=[e[0]-cr[0],e[1]-cr[1],0];return e},mHelper:new Matrix};function MaskElement(St,e,_e){this.data=St,this.element=e,this.globalData=_e,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var _i=this.globalData.defs,ir,rr=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(rr),this.solidPath="";var gr,cr=this.masksProperties,tr=0,hr=[],ur,or,nr=createElementID(),er,ar,dr,lr,sr="clipPath",pr="clip-path";for(ir=0;ir<rr;ir+=1)if((cr[ir].mode!=="a"&&cr[ir].mode!=="n"||cr[ir].inv||cr[ir].o.k!==100||cr[ir].o.x)&&(sr="mask",pr="mask"),(cr[ir].mode==="s"||cr[ir].mode==="i")&&tr===0?(er=createNS("rect"),er.setAttribute("fill","#ffffff"),er.setAttribute("width",this.element.comp.data.w||0),er.setAttribute("height",this.element.comp.data.h||0),hr.push(er)):er=null,gr=createNS("path"),cr[ir].mode==="n")this.viewData[ir]={op:PropertyFactory.getProp(this.element,cr[ir].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,cr[ir],3),elem:gr,lastPath:""},_i.appendChild(gr);else{tr+=1,gr.setAttribute("fill",cr[ir].mode==="s"?"#000000":"#ffffff"),gr.setAttribute("clip-rule","nonzero");var mr;if(cr[ir].x.k!==0?(sr="mask",pr="mask",lr=PropertyFactory.getProp(this.element,cr[ir].x,0,null,this.element),mr=createElementID(),ar=createNS("filter"),ar.setAttribute("id",mr),dr=createNS("feMorphology"),dr.setAttribute("operator","erode"),dr.setAttribute("in","SourceGraphic"),dr.setAttribute("radius","0"),ar.appendChild(dr),_i.appendChild(ar),gr.setAttribute("stroke",cr[ir].mode==="s"?"#000000":"#ffffff")):(dr=null,lr=null),this.storedData[ir]={elem:gr,x:lr,expan:dr,lastPath:"",lastOperator:"",filterId:mr,lastRadius:0},cr[ir].mode==="i"){or=hr.length;var vr=createNS("g");for(ur=0;ur<or;ur+=1)vr.appendChild(hr[ur]);var yr=createNS("mask");yr.setAttribute("mask-type","alpha"),yr.setAttribute("id",nr+"_"+tr),yr.appendChild(gr),_i.appendChild(yr),vr.setAttribute("mask","url("+getLocationHref()+"#"+nr+"_"+tr+")"),hr.length=0,hr.push(vr)}else hr.push(gr);cr[ir].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[ir]={elem:gr,lastPath:"",op:PropertyFactory.getProp(this.element,cr[ir].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,cr[ir],3),invRect:er},this.viewData[ir].prop.k||this.drawPath(cr[ir],this.viewData[ir].prop.v,this.viewData[ir])}for(this.maskElement=createNS(sr),rr=hr.length,ir=0;ir<rr;ir+=1)this.maskElement.appendChild(hr[ir]);tr>0&&(this.maskElement.setAttribute("id",nr),this.element.maskedElement.setAttribute(pr,"url("+getLocationHref()+"#"+nr+")"),_i.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(St){return this.viewData[St].prop},MaskElement.prototype.renderFrame=function(St){var e=this.element.finalTransform.mat,_e,_i=this.masksProperties.length;for(_e=0;_e<_i;_e+=1)if((this.viewData[_e].prop._mdf||St)&&this.drawPath(this.masksProperties[_e],this.viewData[_e].prop.v,this.viewData[_e]),(this.viewData[_e].op._mdf||St)&&this.viewData[_e].elem.setAttribute("fill-opacity",this.viewData[_e].op.v),this.masksProperties[_e].mode!=="n"&&(this.viewData[_e].invRect&&(this.element.finalTransform.mProp._mdf||St)&&this.viewData[_e].invRect.setAttribute("transform",e.getInverseMatrix().to2dCSS()),this.storedData[_e].x&&(this.storedData[_e].x._mdf||St))){var ir=this.storedData[_e].expan;this.storedData[_e].x.v<0?(this.storedData[_e].lastOperator!=="erode"&&(this.storedData[_e].lastOperator="erode",this.storedData[_e].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[_e].filterId+")")),ir.setAttribute("radius",-this.storedData[_e].x.v)):(this.storedData[_e].lastOperator!=="dilate"&&(this.storedData[_e].lastOperator="dilate",this.storedData[_e].elem.setAttribute("filter",null)),this.storedData[_e].elem.setAttribute("stroke-width",this.storedData[_e].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var St="M0,0 ";return St+=" h"+this.globalData.compSize.w,St+=" v"+this.globalData.compSize.h,St+=" h-"+this.globalData.compSize.w,St+=" v-"+this.globalData.compSize.h+" ",St},MaskElement.prototype.drawPath=function(St,e,_e){var _i=" M"+e.v[0][0]+","+e.v[0][1],ir,rr;for(rr=e._length,ir=1;ir<rr;ir+=1)_i+=" C"+e.o[ir-1][0]+","+e.o[ir-1][1]+" "+e.i[ir][0]+","+e.i[ir][1]+" "+e.v[ir][0]+","+e.v[ir][1];if(e.c&&rr>1&&(_i+=" C"+e.o[ir-1][0]+","+e.o[ir-1][1]+" "+e.i[0][0]+","+e.i[0][1]+" "+e.v[0][0]+","+e.v[0][1]),_e.lastPath!==_i){var gr="";_e.elem&&(e.c&&(gr=St.inv?this.solidPath+_i:_i),_e.elem.setAttribute("d",gr)),_e.lastPath=_i}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var St={};St.createFilter=e,St.createAlphaToLuminanceFilter=_e;function e(_i,ir){var rr=createNS("filter");return rr.setAttribute("id",_i),ir!==!0&&(rr.setAttribute("filterUnits","objectBoundingBox"),rr.setAttribute("x","0%"),rr.setAttribute("y","0%"),rr.setAttribute("width","100%"),rr.setAttribute("height","100%")),rr}function _e(){var _i=createNS("feColorMatrix");return _i.setAttribute("type","matrix"),_i.setAttribute("color-interpolation-filters","sRGB"),_i.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),_i}return St}(),featureSupport=function(){var St={maskType:!0};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(St.maskType=!1),St}(),registeredEffects={},idPrefix="filter_result_";function SVGEffects(St){var e,_e="SourceGraphic",_i=St.data.ef?St.data.ef.length:0,ir=createElementID(),rr=filtersFactory.createFilter(ir,!0),gr=0;this.filters=[];var cr;for(e=0;e<_i;e+=1){cr=null;var tr=St.data.ef[e].ty;if(registeredEffects[tr]){var hr=registeredEffects[tr].effect;cr=new hr(rr,St.effectsManager.effectElements[e],St,idPrefix+gr,_e),_e=idPrefix+gr,registeredEffects[tr].countsAsEffect&&(gr+=1)}cr&&this.filters.push(cr)}gr&&(St.globalData.defs.appendChild(rr),St.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+ir+")")),this.filters.length&&St.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(St){var e,_e=this.filters.length;for(e=0;e<_e;e+=1)this.filters[e].renderFrame(St)};function registerEffect(St,e,_e){registeredEffects[St]={effect:e,countsAsEffect:_e}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var e=null,_e,_i,ir;if(this.data.td){if(this.data.td==3||this.data.td==1){var rr=createNS("mask");rr.setAttribute("id",this.layerId),rr.setAttribute("mask-type",this.data.td==3?"luminance":"alpha"),rr.appendChild(this.layerElement),e=rr,this.globalData.defs.appendChild(rr),!featureSupport.maskType&&this.data.td==1&&(rr.setAttribute("mask-type","luminance"),_e=createElementID(),_i=filtersFactory.createFilter(_e),this.globalData.defs.appendChild(_i),_i.appendChild(filtersFactory.createAlphaToLuminanceFilter()),ir=createNS("g"),ir.appendChild(this.layerElement),e=ir,rr.appendChild(ir),ir.setAttribute("filter","url("+getLocationHref()+"#"+_e+")"))}else if(this.data.td==2){var gr=createNS("mask");gr.setAttribute("id",this.layerId),gr.setAttribute("mask-type","alpha");var cr=createNS("g");gr.appendChild(cr),_e=createElementID(),_i=filtersFactory.createFilter(_e);var tr=createNS("feComponentTransfer");tr.setAttribute("in","SourceGraphic"),_i.appendChild(tr);var hr=createNS("feFuncA");hr.setAttribute("type","table"),hr.setAttribute("tableValues","1.0 0.0"),tr.appendChild(hr),this.globalData.defs.appendChild(_i);var ur=createNS("rect");ur.setAttribute("width",this.comp.data.w),ur.setAttribute("height",this.comp.data.h),ur.setAttribute("x","0"),ur.setAttribute("y","0"),ur.setAttribute("fill","#ffffff"),ur.setAttribute("opacity","0"),cr.setAttribute("filter","url("+getLocationHref()+"#"+_e+")"),cr.appendChild(ur),cr.appendChild(this.layerElement),e=cr,featureSupport.maskType||(gr.setAttribute("mask-type","luminance"),_i.appendChild(filtersFactory.createAlphaToLuminanceFilter()),ir=createNS("g"),cr.appendChild(ur),ir.appendChild(this.layerElement),e=ir,cr.appendChild(ir)),this.globalData.defs.appendChild(gr)}}else this.data.tt?(this.matteElement.appendChild(this.layerElement),e=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var or=createNS("clipPath"),nr=createNS("path");nr.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var er=createElementID();if(or.setAttribute("id",er),or.appendChild(nr),this.globalData.defs.appendChild(or),this.checkMasks()){var ar=createNS("g");ar.setAttribute("clip-path","url("+getLocationHref()+"#"+er+")"),ar.appendChild(this.layerElement),this.transformedElement=ar,e?e.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+er+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},setMatte:function(e){!this.matteElement||this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+e+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(e){this.hierarchy=e},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var St={initElement:function(_e,_i,ir){this.initFrame(),this.initBaseData(_e,_i,ir),this.initTransform(_e,_i,ir),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var _e=this.baseElement||this.layerElement;_e.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var _e=this.baseElement||this.layerElement;_e.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(_e){this._mdf=!1,this.prepareRenderableFrame(_e),this.prepareProperties(_e,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(St)],RenderableDOMElement)})();function IImageElement(St,e,_e){this.assetData=e.getAssetData(St.refId),this.initElement(St,e,_e),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var St=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",St),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(St,e){this.elem=St,this.pos=e}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(e){var _e,_i=this.shapeModifiers.length;for(_e=0;_e<_i;_e+=1)this.shapeModifiers[_e].addShape(e)},isShapeInAnimatedModifiers:function(e){for(var _e=0,_i=this.shapeModifiers.length;_e<_i;)if(this.shapeModifiers[_e].isAnimatedWithShape(e))return!0;return!1},renderModifiers:function(){if(!!this.shapeModifiers.length){var e,_e=this.shapes.length;for(e=0;e<_e;e+=1)this.shapes[e].sh.reset();_e=this.shapeModifiers.length;var _i;for(e=_e-1;e>=0&&(_i=this.shapeModifiers[e].processShapes(this._isFirstFrame),!_i);e-=1);}},searchProcessedElement:function(e){for(var _e=this.processedElements,_i=0,ir=_e.length;_i<ir;){if(_e[_i].elem===e)return _e[_i].pos;_i+=1}return 0},addProcessedElement:function(e,_e){for(var _i=this.processedElements,ir=_i.length;ir;)if(ir-=1,_i[ir].elem===e){_i[ir].pos=_e;return}_i.push(new ProcessedElement(e,_e))},prepareFrame:function(e){this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(St,e,_e){this.caches=[],this.styles=[],this.transformers=St,this.lStr="",this.sh=_e,this.lvl=e,this._isAnimated=!!_e.k;for(var _i=0,ir=St.length;_i<ir;){if(St[_i].mProps.dynamicProperties.length){this._isAnimated=!0;break}_i+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(St,e){this.data=St,this.type=St.ty,this.d="",this.lvl=e,this._mdf=!1,this.closed=St.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(St,e,_e,_i){this.elem=St,this.frameId=-1,this.dataProps=createSizedArray(e.length),this.renderer=_e,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",e.length?e.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(_i);var ir,rr=e.length||0,gr;for(ir=0;ir<rr;ir+=1)gr=PropertyFactory.getProp(St,e[ir].v,0,0,this),this.k=gr.k||this.k,this.dataProps[ir]={n:e[ir].n,p:gr};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(St){if(!(this.elem.globalData.frameId===this.frameId&&!St)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||St,this._mdf)){var e=0,_e=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),e=0;e<_e;e+=1)this.dataProps[e].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[e].p.v:this.dashArray[e]=this.dataProps[e].p.v:this.dashoffset[0]=this.dataProps[e].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(St,e,_e){this.initDynamicPropertyContainer(St),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(St,e.o,0,.01,this),this.w=PropertyFactory.getProp(St,e.w,0,null,this),this.d=new DashProperty(St,e.d||{},"svg",this),this.c=PropertyFactory.getProp(St,e.c,1,255,this),this.style=_e,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(St,e,_e){this.initDynamicPropertyContainer(St),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(St,e.o,0,.01,this),this.c=PropertyFactory.getProp(St,e.c,1,255,this),this.style=_e}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(St,e,_e){this.initDynamicPropertyContainer(St),this.getValue=this.iterateDynamicProperties,this.style=_e}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(St,e,_e){this.data=e,this.c=createTypedArray("uint8c",e.p*4);var _i=e.k.k[0].s?e.k.k[0].s.length-e.p*4:e.k.k.length-e.p*4;this.o=createTypedArray("float32",_i),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=_i,this.initDynamicPropertyContainer(_e),this.prop=PropertyFactory.getProp(St,e.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(St,e){for(var _e=0,_i=this.o.length/2,ir;_e<_i;){if(ir=Math.abs(St[_e*4]-St[e*4+_e*2]),ir>.01)return!1;_e+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var St=0,e=this.data.k.k.length;St<e;){if(!this.comparePoints(this.data.k.k[St].s,this.data.p))return!1;St+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(St){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||St){var e,_e=this.data.p*4,_i,ir;for(e=0;e<_e;e+=1)_i=e%4===0?100:255,ir=Math.round(this.prop.v[e]*_i),this.c[e]!==ir&&(this.c[e]=ir,this._cmdf=!St);if(this.o.length)for(_e=this.prop.v.length,e=this.data.p*4;e<_e;e+=1)_i=e%2===0?100:1,ir=e%2===0?Math.round(this.prop.v[e]*100):this.prop.v[e],this.o[e-this.data.p*4]!==ir&&(this.o[e-this.data.p*4]=ir,this._omdf=!St);this._mdf=!St}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(St,e,_e){this.initDynamicPropertyContainer(St),this.getValue=this.iterateDynamicProperties,this.initGradientData(St,e,_e)}SVGGradientFillStyleData.prototype.initGradientData=function(St,e,_e){this.o=PropertyFactory.getProp(St,e.o,0,.01,this),this.s=PropertyFactory.getProp(St,e.s,1,null,this),this.e=PropertyFactory.getProp(St,e.e,1,null,this),this.h=PropertyFactory.getProp(St,e.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(St,e.a||{k:0},0,degToRads,this),this.g=new GradientProperty(St,e.g,this),this.style=_e,this.stops=[],this.setGradientData(_e.pElem,e),this.setGradientOpacity(e,_e),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(St,e){var _e=createElementID(),_i=createNS(e.t===1?"linearGradient":"radialGradient");_i.setAttribute("id",_e),_i.setAttribute("spreadMethod","pad"),_i.setAttribute("gradientUnits","userSpaceOnUse");var ir=[],rr,gr,cr;for(cr=e.g.p*4,gr=0;gr<cr;gr+=4)rr=createNS("stop"),_i.appendChild(rr),ir.push(rr);St.setAttribute(e.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+_e+")"),this.gf=_i,this.cst=ir},SVGGradientFillStyleData.prototype.setGradientOpacity=function(St,e){if(this.g._hasOpacity&&!this.g._collapsable){var _e,_i,ir,rr=createNS("mask"),gr=createNS("path");rr.appendChild(gr);var cr=createElementID(),tr=createElementID();rr.setAttribute("id",tr);var hr=createNS(St.t===1?"linearGradient":"radialGradient");hr.setAttribute("id",cr),hr.setAttribute("spreadMethod","pad"),hr.setAttribute("gradientUnits","userSpaceOnUse"),ir=St.g.k.k[0].s?St.g.k.k[0].s.length:St.g.k.k.length;var ur=this.stops;for(_i=St.g.p*4;_i<ir;_i+=2)_e=createNS("stop"),_e.setAttribute("stop-color","rgb(255,255,255)"),hr.appendChild(_e),ur.push(_e);gr.setAttribute(St.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+cr+")"),St.ty==="gs"&&(gr.setAttribute("stroke-linecap",lineCapEnum[St.lc||2]),gr.setAttribute("stroke-linejoin",lineJoinEnum[St.lj||2]),St.lj===1&&gr.setAttribute("stroke-miterlimit",St.ml)),this.of=hr,this.ms=rr,this.ost=ur,this.maskId=tr,e.msElem=gr}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(St,e,_e){this.initDynamicPropertyContainer(St),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(St,e.w,0,null,this),this.d=new DashProperty(St,e.d||{},"svg",this),this.initGradientData(St,e,_e),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(St,e,_e){this.transform={mProps:St,op:e,container:_e},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(e,_e,_i,ir){if(_e===0)return"";var rr=e.o,gr=e.i,cr=e.v,tr,hr=" M"+ir.applyToPointStringified(cr[0][0],cr[0][1]);for(tr=1;tr<_e;tr+=1)hr+=" C"+ir.applyToPointStringified(rr[tr-1][0],rr[tr-1][1])+" "+ir.applyToPointStringified(gr[tr][0],gr[tr][1])+" "+ir.applyToPointStringified(cr[tr][0],cr[tr][1]);return _i&&_e&&(hr+=" C"+ir.applyToPointStringified(rr[tr-1][0],rr[tr-1][1])+" "+ir.applyToPointStringified(gr[0][0],gr[0][1])+" "+ir.applyToPointStringified(cr[0][0],cr[0][1]),hr+="z"),hr},SVGElementsRenderer=function(){var St=new Matrix,e=new Matrix,_e={createRenderFunction:_i};function _i(or){switch(or.ty){case"fl":return cr;case"gf":return hr;case"gs":return tr;case"st":return ur;case"sh":case"el":case"rc":case"sr":return gr;case"tr":return ir;case"no":return rr;default:return null}}function ir(or,nr,er){(er||nr.transform.op._mdf)&&nr.transform.container.setAttribute("opacity",nr.transform.op.v),(er||nr.transform.mProps._mdf)&&nr.transform.container.setAttribute("transform",nr.transform.mProps.v.to2dCSS())}function rr(){}function gr(or,nr,er){var ar,dr,lr,sr,pr,mr,vr=nr.styles.length,yr=nr.lvl,br,_r,xr,Nr,zr;for(mr=0;mr<vr;mr+=1){if(sr=nr.sh._mdf||er,nr.styles[mr].lvl<yr){for(_r=e.reset(),Nr=yr-nr.styles[mr].lvl,zr=nr.transformers.length-1;!sr&&Nr>0;)sr=nr.transformers[zr].mProps._mdf||sr,Nr-=1,zr-=1;if(sr)for(Nr=yr-nr.styles[mr].lvl,zr=nr.transformers.length-1;Nr>0;)xr=nr.transformers[zr].mProps.v.props,_r.transform(xr[0],xr[1],xr[2],xr[3],xr[4],xr[5],xr[6],xr[7],xr[8],xr[9],xr[10],xr[11],xr[12],xr[13],xr[14],xr[15]),Nr-=1,zr-=1}else _r=St;if(br=nr.sh.paths,dr=br._length,sr){for(lr="",ar=0;ar<dr;ar+=1)pr=br.shapes[ar],pr&&pr._length&&(lr+=buildShapeString(pr,pr._length,pr.c,_r));nr.caches[mr]=lr}else lr=nr.caches[mr];nr.styles[mr].d+=or.hd===!0?"":lr,nr.styles[mr]._mdf=sr||nr.styles[mr]._mdf}}function cr(or,nr,er){var ar=nr.style;(nr.c._mdf||er)&&ar.pElem.setAttribute("fill","rgb("+bmFloor(nr.c.v[0])+","+bmFloor(nr.c.v[1])+","+bmFloor(nr.c.v[2])+")"),(nr.o._mdf||er)&&ar.pElem.setAttribute("fill-opacity",nr.o.v)}function tr(or,nr,er){hr(or,nr,er),ur(or,nr,er)}function hr(or,nr,er){var ar=nr.gf,dr=nr.g._hasOpacity,lr=nr.s.v,sr=nr.e.v;if(nr.o._mdf||er){var pr=or.ty==="gf"?"fill-opacity":"stroke-opacity";nr.style.pElem.setAttribute(pr,nr.o.v)}if(nr.s._mdf||er){var mr=or.t===1?"x1":"cx",vr=mr==="x1"?"y1":"cy";ar.setAttribute(mr,lr[0]),ar.setAttribute(vr,lr[1]),dr&&!nr.g._collapsable&&(nr.of.setAttribute(mr,lr[0]),nr.of.setAttribute(vr,lr[1]))}var yr,br,_r,xr;if(nr.g._cmdf||er){yr=nr.cst;var Nr=nr.g.c;for(_r=yr.length,br=0;br<_r;br+=1)xr=yr[br],xr.setAttribute("offset",Nr[br*4]+"%"),xr.setAttribute("stop-color","rgb("+Nr[br*4+1]+","+Nr[br*4+2]+","+Nr[br*4+3]+")")}if(dr&&(nr.g._omdf||er)){var zr=nr.g.o;for(nr.g._collapsable?yr=nr.cst:yr=nr.ost,_r=yr.length,br=0;br<_r;br+=1)xr=yr[br],nr.g._collapsable||xr.setAttribute("offset",zr[br*2]+"%"),xr.setAttribute("stop-opacity",zr[br*2+1])}if(or.t===1)(nr.e._mdf||er)&&(ar.setAttribute("x2",sr[0]),ar.setAttribute("y2",sr[1]),dr&&!nr.g._collapsable&&(nr.of.setAttribute("x2",sr[0]),nr.of.setAttribute("y2",sr[1])));else{var Tr;if((nr.s._mdf||nr.e._mdf||er)&&(Tr=Math.sqrt(Math.pow(lr[0]-sr[0],2)+Math.pow(lr[1]-sr[1],2)),ar.setAttribute("r",Tr),dr&&!nr.g._collapsable&&nr.of.setAttribute("r",Tr)),nr.e._mdf||nr.h._mdf||nr.a._mdf||er){Tr||(Tr=Math.sqrt(Math.pow(lr[0]-sr[0],2)+Math.pow(lr[1]-sr[1],2)));var Br=Math.atan2(sr[1]-lr[1],sr[0]-lr[0]),Jr=nr.h.v;Jr>=1?Jr=.99:Jr<=-1&&(Jr=-.99);var Yr=Tr*Jr,Xr=Math.cos(Br+nr.a.v)*Yr+lr[0],Vr=Math.sin(Br+nr.a.v)*Yr+lr[1];ar.setAttribute("fx",Xr),ar.setAttribute("fy",Vr),dr&&!nr.g._collapsable&&(nr.of.setAttribute("fx",Xr),nr.of.setAttribute("fy",Vr))}}}function ur(or,nr,er){var ar=nr.style,dr=nr.d;dr&&(dr._mdf||er)&&dr.dashStr&&(ar.pElem.setAttribute("stroke-dasharray",dr.dashStr),ar.pElem.setAttribute("stroke-dashoffset",dr.dashoffset[0])),nr.c&&(nr.c._mdf||er)&&ar.pElem.setAttribute("stroke","rgb("+bmFloor(nr.c.v[0])+","+bmFloor(nr.c.v[1])+","+bmFloor(nr.c.v[2])+")"),(nr.o._mdf||er)&&ar.pElem.setAttribute("stroke-opacity",nr.o.v),(nr.w._mdf||er)&&(ar.pElem.setAttribute("stroke-width",nr.w.v),ar.msElem&&ar.msElem.setAttribute("stroke-width",nr.w.v))}return _e}();function SVGShapeElement(St,e,_e){this.shapes=[],this.shapesData=St.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(St,e,_e),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var St,e=this.shapes.length,_e,_i,ir=this.stylesList.length,rr,gr=[],cr=!1;for(_i=0;_i<ir;_i+=1){for(rr=this.stylesList[_i],cr=!1,gr.length=0,St=0;St<e;St+=1)_e=this.shapes[St],_e.styles.indexOf(rr)!==-1&&(gr.push(_e),cr=_e._isAnimated||cr);gr.length>1&&cr&&this.setShapesAsAnimated(gr)}},SVGShapeElement.prototype.setShapesAsAnimated=function(St){var e,_e=St.length;for(e=0;e<_e;e+=1)St[e].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(St,e){var _e,_i=new SVGStyleData(St,e),ir=_i.pElem;if(St.ty==="st")_e=new SVGStrokeStyleData(this,St,_i);else if(St.ty==="fl")_e=new SVGFillStyleData(this,St,_i);else if(St.ty==="gf"||St.ty==="gs"){var rr=St.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;_e=new rr(this,St,_i),this.globalData.defs.appendChild(_e.gf),_e.maskId&&(this.globalData.defs.appendChild(_e.ms),this.globalData.defs.appendChild(_e.of),ir.setAttribute("mask","url("+getLocationHref()+"#"+_e.maskId+")"))}else St.ty==="no"&&(_e=new SVGNoStyleData(this,St,_i));return(St.ty==="st"||St.ty==="gs")&&(ir.setAttribute("stroke-linecap",lineCapEnum[St.lc||2]),ir.setAttribute("stroke-linejoin",lineJoinEnum[St.lj||2]),ir.setAttribute("fill-opacity","0"),St.lj===1&&ir.setAttribute("stroke-miterlimit",St.ml)),St.r===2&&ir.setAttribute("fill-rule","evenodd"),St.ln&&ir.setAttribute("id",St.ln),St.cl&&ir.setAttribute("class",St.cl),St.bm&&(ir.style["mix-blend-mode"]=getBlendMode(St.bm)),this.stylesList.push(_i),this.addToAnimatedContents(St,_e),_e},SVGShapeElement.prototype.createGroupElement=function(St){var e=new ShapeGroupData;return St.ln&&e.gr.setAttribute("id",St.ln),St.cl&&e.gr.setAttribute("class",St.cl),St.bm&&(e.gr.style["mix-blend-mode"]=getBlendMode(St.bm)),e},SVGShapeElement.prototype.createTransformElement=function(St,e){var _e=TransformPropertyFactory.getTransformProperty(this,St,this),_i=new SVGTransformData(_e,_e.o,e);return this.addToAnimatedContents(St,_i),_i},SVGShapeElement.prototype.createShapeElement=function(St,e,_e){var _i=4;St.ty==="rc"?_i=5:St.ty==="el"?_i=6:St.ty==="sr"&&(_i=7);var ir=ShapePropertyFactory.getShapeProp(this,St,_i,this),rr=new SVGShapeData(e,_e,ir);return this.shapes.push(rr),this.addShapeToModifiers(rr),this.addToAnimatedContents(St,rr),rr},SVGShapeElement.prototype.addToAnimatedContents=function(St,e){for(var _e=0,_i=this.animatedContents.length;_e<_i;){if(this.animatedContents[_e].element===e)return;_e+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(St),element:e,data:St})},SVGShapeElement.prototype.setElementStyles=function(St){var e=St.styles,_e,_i=this.stylesList.length;for(_e=0;_e<_i;_e+=1)this.stylesList[_e].closed||e.push(this.stylesList[_e])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var St,e=this.itemsData.length;for(St=0;St<e;St+=1)this.prevViewData[St]=this.itemsData[St];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),e=this.dynamicProperties.length,St=0;St<e;St+=1)this.dynamicProperties[St].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(St,e,_e,_i,ir,rr,gr){var cr=[].concat(rr),tr,hr=St.length-1,ur,or,nr=[],er=[],ar,dr,lr;for(tr=hr;tr>=0;tr-=1){if(lr=this.searchProcessedElement(St[tr]),lr?e[tr]=_e[lr-1]:St[tr]._render=gr,St[tr].ty==="fl"||St[tr].ty==="st"||St[tr].ty==="gf"||St[tr].ty==="gs"||St[tr].ty==="no")lr?e[tr].style.closed=!1:e[tr]=this.createStyleElement(St[tr],ir),St[tr]._render&&e[tr].style.pElem.parentNode!==_i&&_i.appendChild(e[tr].style.pElem),nr.push(e[tr].style);else if(St[tr].ty==="gr"){if(!lr)e[tr]=this.createGroupElement(St[tr]);else for(or=e[tr].it.length,ur=0;ur<or;ur+=1)e[tr].prevViewData[ur]=e[tr].it[ur];this.searchShapes(St[tr].it,e[tr].it,e[tr].prevViewData,e[tr].gr,ir+1,cr,gr),St[tr]._render&&e[tr].gr.parentNode!==_i&&_i.appendChild(e[tr].gr)}else St[tr].ty==="tr"?(lr||(e[tr]=this.createTransformElement(St[tr],_i)),ar=e[tr].transform,cr.push(ar)):St[tr].ty==="sh"||St[tr].ty==="rc"||St[tr].ty==="el"||St[tr].ty==="sr"?(lr||(e[tr]=this.createShapeElement(St[tr],cr,ir)),this.setElementStyles(e[tr])):St[tr].ty==="tm"||St[tr].ty==="rd"||St[tr].ty==="ms"||St[tr].ty==="pb"?(lr?(dr=e[tr],dr.closed=!1):(dr=ShapeModifiers.getModifier(St[tr].ty),dr.init(this,St[tr]),e[tr]=dr,this.shapeModifiers.push(dr)),er.push(dr)):St[tr].ty==="rp"&&(lr?(dr=e[tr],dr.closed=!0):(dr=ShapeModifiers.getModifier(St[tr].ty),e[tr]=dr,dr.init(this,St,tr,e),this.shapeModifiers.push(dr),gr=!1),er.push(dr));this.addProcessedElement(St[tr],tr+1)}for(hr=nr.length,tr=0;tr<hr;tr+=1)nr[tr].closed=!0;for(hr=er.length,tr=0;tr<hr;tr+=1)er[tr].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var St,e=this.stylesList.length;for(St=0;St<e;St+=1)this.stylesList[St].reset();for(this.renderShape(),St=0;St<e;St+=1)(this.stylesList[St]._mdf||this._isFirstFrame)&&(this.stylesList[St].msElem&&(this.stylesList[St].msElem.setAttribute("d",this.stylesList[St].d),this.stylesList[St].d="M0 0"+this.stylesList[St].d),this.stylesList[St].pElem.setAttribute("d",this.stylesList[St].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var St,e=this.animatedContents.length,_e;for(St=0;St<e;St+=1)_e=this.animatedContents[St],(this._isFirstFrame||_e.element._isAnimated)&&_e.data!==!0&&_e.fn(_e.data,_e.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(St,e,_e,_i,ir,rr){this.o=St,this.sw=e,this.sc=_e,this.fc=_i,this.m=ir,this.p=rr,this._mdf={o:!0,sw:!!e,sc:!!_e,fc:!!_i,m:!0,p:!0}}LetterProps.prototype.update=function(St,e,_e,_i,ir,rr){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var gr=!1;return this.o!==St&&(this.o=St,this._mdf.o=!0,gr=!0),this.sw!==e&&(this.sw=e,this._mdf.sw=!0,gr=!0),this.sc!==_e&&(this.sc=_e,this._mdf.sc=!0,gr=!0),this.fc!==_i&&(this.fc=_i,this._mdf.fc=!0,gr=!0),this.m!==ir&&(this.m=ir,this._mdf.m=!0,gr=!0),rr.length&&(this.p[0]!==rr[0]||this.p[1]!==rr[1]||this.p[4]!==rr[4]||this.p[5]!==rr[5]||this.p[12]!==rr[12]||this.p[13]!==rr[13])&&(this.p=rr,this._mdf.p=!0,gr=!0),gr};function TextProperty(St,e){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=e,this.elem=St,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(St,e){for(var _e in e)Object.prototype.hasOwnProperty.call(e,_e)&&(St[_e]=e[_e]);return St},TextProperty.prototype.setCurrentData=function(St){St.__complete||this.completeTextData(St),this.currentData=St,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(St){this.effectsSequence.push(St),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(St){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!St)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var e=this.currentData,_e=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var _i,ir=this.effectsSequence.length,rr=St||this.data.d.k[this.keysIndex].s;for(_i=0;_i<ir;_i+=1)_e!==this.keysIndex?rr=this.effectsSequence[_i](rr,rr.t):rr=this.effectsSequence[_i](this.currentData,rr.t);e!==rr&&this.setCurrentData(rr),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var St=this.data.d.k,e=this.elem.comp.renderedFrame,_e=0,_i=St.length;_e<=_i-1&&!(_e===_i-1||St[_e+1].t>e);)_e+=1;return this.keysIndex!==_e&&(this.keysIndex=_e),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(St){for(var e=[],_e=0,_i=St.length,ir,rr,gr=!1;_e<_i;)ir=St.charCodeAt(_e),FontManager.isCombinedCharacter(ir)?e[e.length-1]+=St.charAt(_e):ir>=55296&&ir<=56319?(rr=St.charCodeAt(_e+1),rr>=56320&&rr<=57343?(gr||FontManager.isModifier(ir,rr)?(e[e.length-1]+=St.substr(_e,2),gr=!1):e.push(St.substr(_e,2)),_e+=1):e.push(St.charAt(_e))):ir>56319?(rr=St.charCodeAt(_e+1),FontManager.isZeroWidthJoiner(ir,rr)?(gr=!0,e[e.length-1]+=St.substr(_e,2),_e+=1):e.push(St.charAt(_e))):FontManager.isZeroWidthJoiner(ir)?(e[e.length-1]+=St.charAt(_e),gr=!0):e.push(St.charAt(_e)),_e+=1;return e},TextProperty.prototype.completeTextData=function(St){St.__complete=!0;var e=this.elem.globalData.fontManager,_e=this.data,_i=[],ir,rr,gr,cr=0,tr,hr=_e.m.g,ur=0,or=0,nr=0,er=[],ar=0,dr=0,lr,sr,pr=e.getFontByName(St.f),mr,vr=0,yr=getFontProperties(pr);St.fWeight=yr.weight,St.fStyle=yr.style,St.finalSize=St.s,St.finalText=this.buildFinalText(St.t),rr=St.finalText.length,St.finalLineHeight=St.lh;var br=St.tr/1e3*St.finalSize,_r;if(St.sz)for(var xr=!0,Nr=St.sz[0],zr=St.sz[1],Tr,Br;xr;){Br=this.buildFinalText(St.t),Tr=0,ar=0,rr=Br.length,br=St.tr/1e3*St.finalSize;var Jr=-1;for(ir=0;ir<rr;ir+=1)_r=Br[ir].charCodeAt(0),gr=!1,Br[ir]===" "?Jr=ir:(_r===13||_r===3)&&(ar=0,gr=!0,Tr+=St.finalLineHeight||St.finalSize*1.2),e.chars?(mr=e.getCharData(Br[ir],pr.fStyle,pr.fFamily),vr=gr?0:mr.w*St.finalSize/100):vr=e.measureText(Br[ir],St.f,St.finalSize),ar+vr>Nr&&Br[ir]!==" "?(Jr===-1?rr+=1:ir=Jr,Tr+=St.finalLineHeight||St.finalSize*1.2,Br.splice(ir,Jr===ir?1:0,"\r"),Jr=-1,ar=0):(ar+=vr,ar+=br);Tr+=pr.ascent*St.finalSize/100,this.canResize&&St.finalSize>this.minimumFontSize&&zr<Tr?(St.finalSize-=1,St.finalLineHeight=St.finalSize*St.lh/St.s):(St.finalText=Br,rr=St.finalText.length,xr=!1)}ar=-br,vr=0;var Yr=0,Xr;for(ir=0;ir<rr;ir+=1)if(gr=!1,Xr=St.finalText[ir],_r=Xr.charCodeAt(0),_r===13||_r===3?(Yr=0,er.push(ar),dr=ar>dr?ar:dr,ar=-2*br,tr="",gr=!0,nr+=1):tr=Xr,e.chars?(mr=e.getCharData(Xr,pr.fStyle,e.getFontByName(St.f).fFamily),vr=gr?0:mr.w*St.finalSize/100):vr=e.measureText(tr,St.f,St.finalSize),Xr===" "?Yr+=vr+br:(ar+=vr+br+Yr,Yr=0),_i.push({l:vr,an:vr,add:ur,n:gr,anIndexes:[],val:tr,line:nr,animatorJustifyOffset:0}),hr==2){if(ur+=vr,tr===""||tr===" "||ir===rr-1){for((tr===""||tr===" ")&&(ur-=vr);or<=ir;)_i[or].an=ur,_i[or].ind=cr,_i[or].extra=vr,or+=1;cr+=1,ur=0}}else if(hr==3){if(ur+=vr,tr===""||ir===rr-1){for(tr===""&&(ur-=vr);or<=ir;)_i[or].an=ur,_i[or].ind=cr,_i[or].extra=vr,or+=1;ur=0,cr+=1}}else _i[cr].ind=cr,_i[cr].extra=0,cr+=1;if(St.l=_i,dr=ar>dr?ar:dr,er.push(ar),St.sz)St.boxWidth=St.sz[0],St.justifyOffset=0;else switch(St.boxWidth=dr,St.j){case 1:St.justifyOffset=-St.boxWidth;break;case 2:St.justifyOffset=-St.boxWidth/2;break;default:St.justifyOffset=0}St.lineWidths=er;var Vr=_e.a,$r,Lr;sr=Vr.length;var Er,Hr,Gr=[];for(lr=0;lr<sr;lr+=1){for($r=Vr[lr],$r.a.sc&&(St.strokeColorAnim=!0),$r.a.sw&&(St.strokeWidthAnim=!0),($r.a.fc||$r.a.fh||$r.a.fs||$r.a.fb)&&(St.fillColorAnim=!0),Hr=0,Er=$r.s.b,ir=0;ir<rr;ir+=1)Lr=_i[ir],Lr.anIndexes[lr]=Hr,(Er==1&&Lr.val!==""||Er==2&&Lr.val!==""&&Lr.val!==" "||Er==3&&(Lr.n||Lr.val==" "||ir==rr-1)||Er==4&&(Lr.n||ir==rr-1))&&($r.s.rn===1&&Gr.push(Hr),Hr+=1);_e.a[lr].s.totalChars=Hr;var Cr=-1,kr;if($r.s.rn===1)for(ir=0;ir<rr;ir+=1)Lr=_i[ir],Cr!=Lr.anIndexes[lr]&&(Cr=Lr.anIndexes[lr],kr=Gr.splice(Math.floor(Math.random()*Gr.length),1)[0]),Lr.anIndexes[lr]=kr}St.yOffset=St.finalLineHeight||St.finalSize*1.2,St.ls=St.ls||0,St.ascent=pr.ascent*St.finalSize/100},TextProperty.prototype.updateDocumentData=function(St,e){e=e===void 0?this.keysIndex:e;var _e=this.copyData({},this.data.d.k[e].s);_e=this.copyData(_e,St),this.data.d.k[e].s=_e,this.recalculate(e),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(St){var e=this.data.d.k[St].s;e.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(e)},TextProperty.prototype.canResizeFont=function(St){this.canResize=St,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(St){this.minimumFontSize=Math.floor(St)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var St=Math.max,e=Math.min,_e=Math.floor;function _i(rr,gr){this._currentTextLength=-1,this.k=!1,this.data=gr,this.elem=rr,this.comp=rr.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(rr),this.s=PropertyFactory.getProp(rr,gr.s||{k:0},0,0,this),"e"in gr?this.e=PropertyFactory.getProp(rr,gr.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(rr,gr.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(rr,gr.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(rr,gr.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(rr,gr.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(rr,gr.a,0,.01,this),this.dynamicProperties.length||this.getValue()}_i.prototype={getMult:function(gr){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var cr=0,tr=0,hr=1,ur=1;this.ne.v>0?cr=this.ne.v/100:tr=-this.ne.v/100,this.xe.v>0?hr=1-this.xe.v/100:ur=1+this.xe.v/100;var or=BezierFactory.getBezierEasing(cr,tr,hr,ur).get,nr=0,er=this.finalS,ar=this.finalE,dr=this.data.sh;if(dr===2)ar===er?nr=gr>=ar?1:0:nr=St(0,e(.5/(ar-er)+(gr-er)/(ar-er),1)),nr=or(nr);else if(dr===3)ar===er?nr=gr>=ar?0:1:nr=1-St(0,e(.5/(ar-er)+(gr-er)/(ar-er),1)),nr=or(nr);else if(dr===4)ar===er?nr=0:(nr=St(0,e(.5/(ar-er)+(gr-er)/(ar-er),1)),nr<.5?nr*=2:nr=1-2*(nr-.5)),nr=or(nr);else if(dr===5){if(ar===er)nr=0;else{var lr=ar-er;gr=e(St(0,gr+.5-er),ar-er);var sr=-lr/2+gr,pr=lr/2;nr=Math.sqrt(1-sr*sr/(pr*pr))}nr=or(nr)}else dr===6?(ar===er?nr=0:(gr=e(St(0,gr+.5-er),ar-er),nr=(1+Math.cos(Math.PI+Math.PI*2*gr/(ar-er)))/2),nr=or(nr)):(gr>=_e(er)&&(gr-er<0?nr=St(0,e(e(ar,1)-(er-gr),1)):nr=St(0,e(ar-gr,1))),nr=or(nr));if(this.sm.v!==100){var mr=this.sm.v*.01;mr===0&&(mr=1e-8);var vr=.5-mr*.5;nr<vr?nr=0:(nr=(nr-vr)/mr,nr>1&&(nr=1))}return nr*this.a.v},getValue:function(gr){this.iterateDynamicProperties(),this._mdf=gr||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,gr&&this.data.r===2&&(this.e.v=this._currentTextLength);var cr=this.data.r===2?1:100/this.data.totalChars,tr=this.o.v/cr,hr=this.s.v/cr+tr,ur=this.e.v/cr+tr;if(hr>ur){var or=hr;hr=ur,ur=or}this.finalS=hr,this.finalE=ur}},extendPrototype([DynamicPropertyContainer],_i);function ir(rr,gr,cr){return new _i(rr,gr)}return{getTextSelectorProp:ir}}();function TextAnimatorDataProperty(St,e,_e){var _i={propType:!1},ir=PropertyFactory.getProp,rr=e.a;this.a={r:rr.r?ir(St,rr.r,0,degToRads,_e):_i,rx:rr.rx?ir(St,rr.rx,0,degToRads,_e):_i,ry:rr.ry?ir(St,rr.ry,0,degToRads,_e):_i,sk:rr.sk?ir(St,rr.sk,0,degToRads,_e):_i,sa:rr.sa?ir(St,rr.sa,0,degToRads,_e):_i,s:rr.s?ir(St,rr.s,1,.01,_e):_i,a:rr.a?ir(St,rr.a,1,0,_e):_i,o:rr.o?ir(St,rr.o,0,.01,_e):_i,p:rr.p?ir(St,rr.p,1,0,_e):_i,sw:rr.sw?ir(St,rr.sw,0,0,_e):_i,sc:rr.sc?ir(St,rr.sc,1,0,_e):_i,fc:rr.fc?ir(St,rr.fc,1,0,_e):_i,fh:rr.fh?ir(St,rr.fh,0,0,_e):_i,fs:rr.fs?ir(St,rr.fs,0,.01,_e):_i,fb:rr.fb?ir(St,rr.fb,0,.01,_e):_i,t:rr.t?ir(St,rr.t,0,0,_e):_i},this.s=TextSelectorProp.getTextSelectorProp(St,e.s,_e),this.s.t=e.s.t}function TextAnimatorProperty(St,e,_e){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=St,this._renderType=e,this._elem=_e,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(_e)}TextAnimatorProperty.prototype.searchProperties=function(){var St,e=this._textData.a.length,_e,_i=PropertyFactory.getProp;for(St=0;St<e;St+=1)_e=this._textData.a[St],this._animatorsData[St]=new TextAnimatorDataProperty(this._elem,_e,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:_i(this._elem,this._textData.p.a,0,0,this),f:_i(this._elem,this._textData.p.f,0,0,this),l:_i(this._elem,this._textData.p.l,0,0,this),r:_i(this._elem,this._textData.p.r,0,0,this),p:_i(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=_i(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(St,e){if(this.lettersChangedFlag=e,!(!this._mdf&&!this._isFirstFrame&&!e&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var _e=this._moreOptions.alignment.v,_i=this._animatorsData,ir=this._textData,rr=this.mHelper,gr=this._renderType,cr=this.renderedLetters.length,tr,hr,ur,or,nr=St.l,er,ar,dr,lr,sr,pr,mr,vr,yr,br,_r,xr,Nr,zr,Tr;if(this._hasMaskedPath){if(Tr=this._pathData.m,!this._pathData.n||this._pathData._mdf){var Br=Tr.v;this._pathData.r.v&&(Br=Br.reverse()),er={tLength:0,segments:[]},or=Br._length-1;var Jr;for(xr=0,ur=0;ur<or;ur+=1)Jr=bez.buildBezierData(Br.v[ur],Br.v[ur+1],[Br.o[ur][0]-Br.v[ur][0],Br.o[ur][1]-Br.v[ur][1]],[Br.i[ur+1][0]-Br.v[ur+1][0],Br.i[ur+1][1]-Br.v[ur+1][1]]),er.tLength+=Jr.segmentLength,er.segments.push(Jr),xr+=Jr.segmentLength;ur=or,Tr.v.c&&(Jr=bez.buildBezierData(Br.v[ur],Br.v[0],[Br.o[ur][0]-Br.v[ur][0],Br.o[ur][1]-Br.v[ur][1]],[Br.i[0][0]-Br.v[0][0],Br.i[0][1]-Br.v[0][1]]),er.tLength+=Jr.segmentLength,er.segments.push(Jr),xr+=Jr.segmentLength),this._pathData.pi=er}if(er=this._pathData.pi,ar=this._pathData.f.v,mr=0,pr=1,lr=0,sr=!0,br=er.segments,ar<0&&Tr.v.c)for(er.tLength<Math.abs(ar)&&(ar=-Math.abs(ar)%er.tLength),mr=br.length-1,yr=br[mr].points,pr=yr.length-1;ar<0;)ar+=yr[pr].partialLength,pr-=1,pr<0&&(mr-=1,yr=br[mr].points,pr=yr.length-1);yr=br[mr].points,vr=yr[pr-1],dr=yr[pr],_r=dr.partialLength}or=nr.length,tr=0,hr=0;var Yr=St.finalSize*1.2*.714,Xr=!0,Vr,$r,Lr,Er,Hr;Er=_i.length;var Gr,Cr=-1,kr,Sr,Pr,jr=ar,Wr=mr,Kr=pr,Qr=-1,on,pn,fn,en,Ir,Ur,Mr,Zr,tn="",an=this.defaultPropsArray,vn;if(St.j===2||St.j===1){var _n=0,dn=0,Pn=St.j===2?-.5:-1,gn=0,In=!0;for(ur=0;ur<or;ur+=1)if(nr[ur].n){for(_n&&(_n+=dn);gn<ur;)nr[gn].animatorJustifyOffset=_n,gn+=1;_n=0,In=!0}else{for(Lr=0;Lr<Er;Lr+=1)Vr=_i[Lr].a,Vr.t.propType&&(In&&St.j===2&&(dn+=Vr.t.v*Pn),$r=_i[Lr].s,Gr=$r.getMult(nr[ur].anIndexes[Lr],ir.a[Lr].s.totalChars),Gr.length?_n+=Vr.t.v*Gr[0]*Pn:_n+=Vr.t.v*Gr*Pn);In=!1}for(_n&&(_n+=dn);gn<ur;)nr[gn].animatorJustifyOffset=_n,gn+=1}for(ur=0;ur<or;ur+=1){if(rr.reset(),on=1,nr[ur].n)tr=0,hr+=St.yOffset,hr+=Xr?1:0,ar=jr,Xr=!1,this._hasMaskedPath&&(mr=Wr,pr=Kr,yr=br[mr].points,vr=yr[pr-1],dr=yr[pr],_r=dr.partialLength,lr=0),tn="",Zr="",Ur="",vn="",an=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Qr!==nr[ur].line){switch(St.j){case 1:ar+=xr-St.lineWidths[nr[ur].line];break;case 2:ar+=(xr-St.lineWidths[nr[ur].line])/2;break}Qr=nr[ur].line}Cr!==nr[ur].ind&&(nr[Cr]&&(ar+=nr[Cr].extra),ar+=nr[ur].an/2,Cr=nr[ur].ind),ar+=_e[0]*nr[ur].an*.005;var Rn=0;for(Lr=0;Lr<Er;Lr+=1)Vr=_i[Lr].a,Vr.p.propType&&($r=_i[Lr].s,Gr=$r.getMult(nr[ur].anIndexes[Lr],ir.a[Lr].s.totalChars),Gr.length?Rn+=Vr.p.v[0]*Gr[0]:Rn+=Vr.p.v[0]*Gr),Vr.a.propType&&($r=_i[Lr].s,Gr=$r.getMult(nr[ur].anIndexes[Lr],ir.a[Lr].s.totalChars),Gr.length?Rn+=Vr.a.v[0]*Gr[0]:Rn+=Vr.a.v[0]*Gr);for(sr=!0,this._pathData.a.v&&(ar=nr[0].an*.5+(xr-this._pathData.f.v-nr[0].an*.5-nr[nr.length-1].an*.5)*Cr/(or-1),ar+=this._pathData.f.v);sr;)lr+_r>=ar+Rn||!yr?(Nr=(ar+Rn-lr)/dr.partialLength,Sr=vr.point[0]+(dr.point[0]-vr.point[0])*Nr,Pr=vr.point[1]+(dr.point[1]-vr.point[1])*Nr,rr.translate(-_e[0]*nr[ur].an*.005,-(_e[1]*Yr)*.01),sr=!1):yr&&(lr+=dr.partialLength,pr+=1,pr>=yr.length&&(pr=0,mr+=1,br[mr]?yr=br[mr].points:Tr.v.c?(pr=0,mr=0,yr=br[mr].points):(lr-=dr.partialLength,yr=null)),yr&&(vr=dr,dr=yr[pr],_r=dr.partialLength));kr=nr[ur].an/2-nr[ur].add,rr.translate(-kr,0,0)}else kr=nr[ur].an/2-nr[ur].add,rr.translate(-kr,0,0),rr.translate(-_e[0]*nr[ur].an*.005,-_e[1]*Yr*.01,0);for(Lr=0;Lr<Er;Lr+=1)Vr=_i[Lr].a,Vr.t.propType&&($r=_i[Lr].s,Gr=$r.getMult(nr[ur].anIndexes[Lr],ir.a[Lr].s.totalChars),(tr!==0||St.j!==0)&&(this._hasMaskedPath?Gr.length?ar+=Vr.t.v*Gr[0]:ar+=Vr.t.v*Gr:Gr.length?tr+=Vr.t.v*Gr[0]:tr+=Vr.t.v*Gr));for(St.strokeWidthAnim&&(fn=St.sw||0),St.strokeColorAnim&&(St.sc?pn=[St.sc[0],St.sc[1],St.sc[2]]:pn=[0,0,0]),St.fillColorAnim&&St.fc&&(en=[St.fc[0],St.fc[1],St.fc[2]]),Lr=0;Lr<Er;Lr+=1)Vr=_i[Lr].a,Vr.a.propType&&($r=_i[Lr].s,Gr=$r.getMult(nr[ur].anIndexes[Lr],ir.a[Lr].s.totalChars),Gr.length?rr.translate(-Vr.a.v[0]*Gr[0],-Vr.a.v[1]*Gr[1],Vr.a.v[2]*Gr[2]):rr.translate(-Vr.a.v[0]*Gr,-Vr.a.v[1]*Gr,Vr.a.v[2]*Gr));for(Lr=0;Lr<Er;Lr+=1)Vr=_i[Lr].a,Vr.s.propType&&($r=_i[Lr].s,Gr=$r.getMult(nr[ur].anIndexes[Lr],ir.a[Lr].s.totalChars),Gr.length?rr.scale(1+(Vr.s.v[0]-1)*Gr[0],1+(Vr.s.v[1]-1)*Gr[1],1):rr.scale(1+(Vr.s.v[0]-1)*Gr,1+(Vr.s.v[1]-1)*Gr,1));for(Lr=0;Lr<Er;Lr+=1){if(Vr=_i[Lr].a,$r=_i[Lr].s,Gr=$r.getMult(nr[ur].anIndexes[Lr],ir.a[Lr].s.totalChars),Vr.sk.propType&&(Gr.length?rr.skewFromAxis(-Vr.sk.v*Gr[0],Vr.sa.v*Gr[1]):rr.skewFromAxis(-Vr.sk.v*Gr,Vr.sa.v*Gr)),Vr.r.propType&&(Gr.length?rr.rotateZ(-Vr.r.v*Gr[2]):rr.rotateZ(-Vr.r.v*Gr)),Vr.ry.propType&&(Gr.length?rr.rotateY(Vr.ry.v*Gr[1]):rr.rotateY(Vr.ry.v*Gr)),Vr.rx.propType&&(Gr.length?rr.rotateX(Vr.rx.v*Gr[0]):rr.rotateX(Vr.rx.v*Gr)),Vr.o.propType&&(Gr.length?on+=(Vr.o.v*Gr[0]-on)*Gr[0]:on+=(Vr.o.v*Gr-on)*Gr),St.strokeWidthAnim&&Vr.sw.propType&&(Gr.length?fn+=Vr.sw.v*Gr[0]:fn+=Vr.sw.v*Gr),St.strokeColorAnim&&Vr.sc.propType)for(Ir=0;Ir<3;Ir+=1)Gr.length?pn[Ir]+=(Vr.sc.v[Ir]-pn[Ir])*Gr[0]:pn[Ir]+=(Vr.sc.v[Ir]-pn[Ir])*Gr;if(St.fillColorAnim&&St.fc){if(Vr.fc.propType)for(Ir=0;Ir<3;Ir+=1)Gr.length?en[Ir]+=(Vr.fc.v[Ir]-en[Ir])*Gr[0]:en[Ir]+=(Vr.fc.v[Ir]-en[Ir])*Gr;Vr.fh.propType&&(Gr.length?en=addHueToRGB(en,Vr.fh.v*Gr[0]):en=addHueToRGB(en,Vr.fh.v*Gr)),Vr.fs.propType&&(Gr.length?en=addSaturationToRGB(en,Vr.fs.v*Gr[0]):en=addSaturationToRGB(en,Vr.fs.v*Gr)),Vr.fb.propType&&(Gr.length?en=addBrightnessToRGB(en,Vr.fb.v*Gr[0]):en=addBrightnessToRGB(en,Vr.fb.v*Gr))}}for(Lr=0;Lr<Er;Lr+=1)Vr=_i[Lr].a,Vr.p.propType&&($r=_i[Lr].s,Gr=$r.getMult(nr[ur].anIndexes[Lr],ir.a[Lr].s.totalChars),this._hasMaskedPath?Gr.length?rr.translate(0,Vr.p.v[1]*Gr[0],-Vr.p.v[2]*Gr[1]):rr.translate(0,Vr.p.v[1]*Gr,-Vr.p.v[2]*Gr):Gr.length?rr.translate(Vr.p.v[0]*Gr[0],Vr.p.v[1]*Gr[1],-Vr.p.v[2]*Gr[2]):rr.translate(Vr.p.v[0]*Gr,Vr.p.v[1]*Gr,-Vr.p.v[2]*Gr));if(St.strokeWidthAnim&&(Ur=fn<0?0:fn),St.strokeColorAnim&&(Mr="rgb("+Math.round(pn[0]*255)+","+Math.round(pn[1]*255)+","+Math.round(pn[2]*255)+")"),St.fillColorAnim&&St.fc&&(Zr="rgb("+Math.round(en[0]*255)+","+Math.round(en[1]*255)+","+Math.round(en[2]*255)+")"),this._hasMaskedPath){if(rr.translate(0,-St.ls),rr.translate(0,_e[1]*Yr*.01+hr,0),this._pathData.p.v){zr=(dr.point[1]-vr.point[1])/(dr.point[0]-vr.point[0]);var zn=Math.atan(zr)*180/Math.PI;dr.point[0]<vr.point[0]&&(zn+=180),rr.rotate(-zn*Math.PI/180)}rr.translate(Sr,Pr,0),ar-=_e[0]*nr[ur].an*.005,nr[ur+1]&&Cr!==nr[ur+1].ind&&(ar+=nr[ur].an/2,ar+=St.tr*.001*St.finalSize)}else{switch(rr.translate(tr,hr,0),St.ps&&rr.translate(St.ps[0],St.ps[1]+St.ascent,0),St.j){case 1:rr.translate(nr[ur].animatorJustifyOffset+St.justifyOffset+(St.boxWidth-St.lineWidths[nr[ur].line]),0,0);break;case 2:rr.translate(nr[ur].animatorJustifyOffset+St.justifyOffset+(St.boxWidth-St.lineWidths[nr[ur].line])/2,0,0);break}rr.translate(0,-St.ls),rr.translate(kr,0,0),rr.translate(_e[0]*nr[ur].an*.005,_e[1]*Yr*.01,0),tr+=nr[ur].l+St.tr*.001*St.finalSize}gr==="html"?tn=rr.toCSS():gr==="svg"?tn=rr.to2dCSS():an=[rr.props[0],rr.props[1],rr.props[2],rr.props[3],rr.props[4],rr.props[5],rr.props[6],rr.props[7],rr.props[8],rr.props[9],rr.props[10],rr.props[11],rr.props[12],rr.props[13],rr.props[14],rr.props[15]],vn=on}cr<=ur?(Hr=new LetterProps(vn,Ur,Mr,Zr,tn,an),this.renderedLetters.push(Hr),cr+=1,this.lettersChangedFlag=!0):(Hr=this.renderedLetters[ur],this.lettersChangedFlag=Hr.update(vn,Ur,Mr,Zr,tn,an)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(St,e,_e){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(St,e,_e),this.textProperty=new TextProperty(this,St.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(St.t,this.renderType,this),this.initTransform(St,e,_e),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(St){this._mdf=!1,this.prepareRenderableFrame(St),this.prepareProperties(St,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(St,e){var _e,_i=e.length,ir,rr="";for(_e=0;_e<_i;_e+=1)e[_e].ty==="sh"&&(ir=e[_e].ks.k,rr+=buildShapeString(ir,ir.i.length,!0,St));return rr},ITextElement.prototype.updateDocumentData=function(St,e){this.textProperty.updateDocumentData(St,e)},ITextElement.prototype.canResizeFont=function(St){this.textProperty.canResizeFont(St)},ITextElement.prototype.setMinimumFontSize=function(St){this.textProperty.setMinimumFontSize(St)},ITextElement.prototype.applyTextPropertiesToMatrix=function(St,e,_e,_i,ir){switch(St.ps&&e.translate(St.ps[0],St.ps[1]+St.ascent,0),e.translate(0,-St.ls,0),St.j){case 1:e.translate(St.justifyOffset+(St.boxWidth-St.lineWidths[_e]),0,0);break;case 2:e.translate(St.justifyOffset+(St.boxWidth-St.lineWidths[_e])/2,0,0);break}e.translate(_i,ir,0)},ITextElement.prototype.buildColor=function(St){return"rgb("+Math.round(St[0]*255)+","+Math.round(St[1]*255)+","+Math.round(St[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){};var emptyShapeData={shapes:[]};function SVGTextLottieElement(St,e,_e){this.textSpans=[],this.renderType="svg",this.initElement(St,e,_e)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(St){for(var e=0,_e=St.length,_i=[],ir="";e<_e;)St[e]===String.fromCharCode(13)||St[e]===String.fromCharCode(3)?(_i.push(ir),ir=""):ir+=St[e],e+=1;return _i.push(ir),_i},SVGTextLottieElement.prototype.buildShapeData=function(St,e){if(St.shapes&&St.shapes.length){var _e=St.shapes[0];if(_e.it){var _i=_e.it[_e.it.length-1];_i.s&&(_i.s.k[0]=e,_i.s.k[1]=e)}}return St},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var St,e,_e=this.textProperty.currentData;this.renderedLetters=createSizedArray(_e?_e.l.length:0),_e.fc?this.layerElement.setAttribute("fill",this.buildColor(_e.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),_e.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(_e.sc)),this.layerElement.setAttribute("stroke-width",_e.sw)),this.layerElement.setAttribute("font-size",_e.finalSize);var _i=this.globalData.fontManager.getFontByName(_e.f);if(_i.fClass)this.layerElement.setAttribute("class",_i.fClass);else{this.layerElement.setAttribute("font-family",_i.fFamily);var ir=_e.fWeight,rr=_e.fStyle;this.layerElement.setAttribute("font-style",rr),this.layerElement.setAttribute("font-weight",ir)}this.layerElement.setAttribute("aria-label",_e.t);var gr=_e.l||[],cr=!!this.globalData.fontManager.chars;e=gr.length;var tr,hr=this.mHelper,ur="",or=this.data.singleShape,nr=0,er=0,ar=!0,dr=_e.tr*.001*_e.finalSize;if(or&&!cr&&!_e.sz){var lr=this.textContainer,sr="start";switch(_e.j){case 1:sr="end";break;case 2:sr="middle";break;default:sr="start";break}lr.setAttribute("text-anchor",sr),lr.setAttribute("letter-spacing",dr);var pr=this.buildTextContents(_e.finalText);for(e=pr.length,er=_e.ps?_e.ps[1]+_e.ascent:0,St=0;St<e;St+=1)tr=this.textSpans[St].span||createNS("tspan"),tr.textContent=pr[St],tr.setAttribute("x",0),tr.setAttribute("y",er),tr.style.display="inherit",lr.appendChild(tr),this.textSpans[St]||(this.textSpans[St]={span:null,glyph:null}),this.textSpans[St].span=tr,er+=_e.finalLineHeight;this.layerElement.appendChild(lr)}else{var mr=this.textSpans.length,vr;for(St=0;St<e;St+=1){if(this.textSpans[St]||(this.textSpans[St]={span:null,childSpan:null,glyph:null}),!cr||!or||St===0){if(tr=mr>St?this.textSpans[St].span:createNS(cr?"g":"text"),mr<=St){if(tr.setAttribute("stroke-linecap","butt"),tr.setAttribute("stroke-linejoin","round"),tr.setAttribute("stroke-miterlimit","4"),this.textSpans[St].span=tr,cr){var yr=createNS("g");tr.appendChild(yr),this.textSpans[St].childSpan=yr}this.textSpans[St].span=tr,this.layerElement.appendChild(tr)}tr.style.display="inherit"}if(hr.reset(),or&&(gr[St].n&&(nr=-dr,er+=_e.yOffset,er+=ar?1:0,ar=!1),this.applyTextPropertiesToMatrix(_e,hr,gr[St].line,nr,er),nr+=gr[St].l||0,nr+=dr),cr){vr=this.globalData.fontManager.getCharData(_e.finalText[St],_i.fStyle,this.globalData.fontManager.getFontByName(_e.f).fFamily);var br;if(vr.t===1)br=new SVGCompElement(vr.data,this.globalData,this);else{var _r=emptyShapeData;vr.data&&vr.data.shapes&&(_r=this.buildShapeData(vr.data,_e.finalSize)),br=new SVGShapeElement(_r,this.globalData,this)}if(this.textSpans[St].glyph){var xr=this.textSpans[St].glyph;this.textSpans[St].childSpan.removeChild(xr.layerElement),xr.destroy()}this.textSpans[St].glyph=br,br._debug=!0,br.prepareFrame(0),br.renderFrame(),this.textSpans[St].childSpan.appendChild(br.layerElement),vr.t===1&&this.textSpans[St].childSpan.setAttribute("transform","scale("+_e.finalSize/100+","+_e.finalSize/100+")")}else or&&tr.setAttribute("transform","translate("+hr.props[12]+","+hr.props[13]+")"),tr.textContent=gr[St].val,tr.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}or&&tr&&tr.setAttribute("d",ur)}for(;St<this.textSpans.length;)this.textSpans[St].span.style.display="none",St+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var St=this.layerElement.getBBox();this.bbox={top:St.y,left:St.x,width:St.width,height:St.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var St,e=this.textSpans.length,_e;for(this.renderedFrame=this.comp.renderedFrame,St=0;St<e;St+=1)_e=this.textSpans[St].glyph,_e&&(_e.prepareFrame(this.comp.renderedFrame-this.data.st),_e._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if((!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var St,e,_e=this.textAnimator.renderedLetters,_i=this.textProperty.currentData.l;e=_i.length;var ir,rr,gr;for(St=0;St<e;St+=1)_i[St].n||(ir=_e[St],rr=this.textSpans[St].span,gr=this.textSpans[St].glyph,gr&&gr.renderFrame(),ir._mdf.m&&rr.setAttribute("transform",ir.m),ir._mdf.o&&rr.setAttribute("opacity",ir.o),ir._mdf.sw&&rr.setAttribute("stroke-width",ir.sw),ir._mdf.sc&&rr.setAttribute("stroke",ir.sc),ir._mdf.fc&&rr.setAttribute("fill",ir.fc))}};function ISolidElement(St,e,_e){this.initElement(St,e,_e)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var St=createNS("rect");St.setAttribute("width",this.data.sw),St.setAttribute("height",this.data.sh),St.setAttribute("fill",this.data.sc),this.layerElement.appendChild(St)};function NullElement(St,e,_e){this.initFrame(),this.initBaseData(St,e,_e),this.initFrame(),this.initTransform(St,e,_e),this.initHierarchy()}NullElement.prototype.prepareFrame=function(St){this.prepareProperties(St,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(St){return new NullElement(St,this.globalData,this)},SVGRendererBase.prototype.createShape=function(St){return new SVGShapeElement(St,this.globalData,this)},SVGRendererBase.prototype.createText=function(St){return new SVGTextLottieElement(St,this.globalData,this)},SVGRendererBase.prototype.createImage=function(St){return new IImageElement(St,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(St){return new ISolidElement(St,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(St){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+St.w+" "+St.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",St.w),this.svgElement.setAttribute("height",St.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var e=this.globalData.defs;this.setupGlobalData(St,e),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=St;var _e=createNS("clipPath"),_i=createNS("rect");_i.setAttribute("width",St.w),_i.setAttribute("height",St.h),_i.setAttribute("x",0),_i.setAttribute("y",0);var ir=createElementID();_e.setAttribute("id",ir),_e.appendChild(_i),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+ir+")"),e.appendChild(_e),this.layers=St.layers,this.elements=createSizedArray(St.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var St,e=this.layers?this.layers.length:0;for(St=0;St<e;St+=1)this.elements[St]&&this.elements[St].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.buildItem=function(St){var e=this.elements;if(!(e[St]||this.layers[St].ty===99)){e[St]=!0;var _e=this.createItem(this.layers[St]);e[St]=_e,getExpressionsPlugin()&&(this.layers[St].ty===0&&this.globalData.projectInterface.registerComposition(_e),_e.initExpressions()),this.appendElementInPos(_e,St),this.layers[St].tt&&(!this.elements[St-1]||this.elements[St-1]===!0?(this.buildItem(St-1),this.addPendingElement(_e)):_e.setMatte(e[St-1].layerId))}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var St=this.pendingElements.pop();if(St.checkParenting(),St.data.tt)for(var e=0,_e=this.elements.length;e<_e;){if(this.elements[e]===St){St.setMatte(this.elements[e-1].layerId);break}e+=1}}},SVGRendererBase.prototype.renderFrame=function(St){if(!(this.renderedFrame===St||this.destroyed)){St===null?St=this.renderedFrame:this.renderedFrame=St,this.globalData.frameNum=St,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=St,this.globalData._mdf=!1;var e,_e=this.layers.length;for(this.completeLayers||this.checkLayers(St),e=_e-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(St-this.layers[e].st);if(this.globalData._mdf)for(e=0;e<_e;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(St,e){var _e=St.getBaseElement();if(!!_e){for(var _i=0,ir;_i<e;)this.elements[_i]&&this.elements[_i]!==!0&&this.elements[_i].getBaseElement()&&(ir=this.elements[_i].getBaseElement()),_i+=1;ir?this.layerElement.insertBefore(_e,ir):this.layerElement.appendChild(_e)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(St,e,_e){this.initFrame(),this.initBaseData(St,e,_e),this.initTransform(St,e,_e),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!e.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(St){if(this._mdf=!1,this.prepareRenderableFrame(St),this.prepareProperties(St,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=St/this.data.sr;else{var e=this.tm.v;e===this.data.op&&(e=this.data.op-1),this.renderedFrame=e}var _e,_i=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),_e=_i-1;_e>=0;_e-=1)(this.completeLayers||this.elements[_e])&&(this.elements[_e].prepareFrame(this.renderedFrame-this.layers[_e].st),this.elements[_e]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var St,e=this.layers.length;for(St=0;St<e;St+=1)(this.completeLayers||this.elements[St])&&this.elements[St].renderFrame()},ICompElement.prototype.setElements=function(St){this.elements=St},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var St,e=this.layers.length;for(St=0;St<e;St+=1)this.elements[St]&&this.elements[St].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(St,e,_e){this.layers=St.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(St,e,_e),this.tm=St.tm?PropertyFactory.getProp(this,St.tm,0,e.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(St){return new SVGCompElement(St,this.globalData,this)};function SVGRenderer(St,e){this.animationItem=St,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var _e="";if(e&&e.title){var _i=createNS("title"),ir=createElementID();_i.setAttribute("id",ir),_i.textContent=e.title,this.svgElement.appendChild(_i),_e+=ir}if(e&&e.description){var rr=createNS("desc"),gr=createElementID();rr.setAttribute("id",gr),rr.textContent=e.description,this.svgElement.appendChild(rr),_e+=" "+gr}_e&&this.svgElement.setAttribute("aria-labelledby",_e);var cr=createNS("defs");this.svgElement.appendChild(cr);var tr=createNS("g");this.svgElement.appendChild(tr),this.layerElement=tr,this.renderConfig={preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",progressiveLoad:e&&e.progressiveLoad||!1,hideOnTransparent:!(e&&e.hideOnTransparent===!1),viewBoxOnly:e&&e.viewBoxOnly||!1,viewBoxSize:e&&e.viewBoxSize||!1,className:e&&e.className||"",id:e&&e.id||"",focusable:e&&e.focusable,filterSize:{width:e&&e.filterSize&&e.filterSize.width||"100%",height:e&&e.filterSize&&e.filterSize.height||"100%",x:e&&e.filterSize&&e.filterSize.x||"0%",y:e&&e.filterSize&&e.filterSize.y||"0%"},width:e&&e.width,height:e&&e.height},this.globalData={_mdf:!1,frameNum:-1,defs:cr,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(St){return new SVGCompElement(St,this.globalData,this)};function CVContextData(){this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1;var St,e=15;for(this.savedOp=createTypedArray("float32",e),St=0;St<e;St+=1)this.saved[St]=createTypedArray("float32",16);this._length=e}CVContextData.prototype.duplicate=function(){var St=this._length*2,e=this.savedOp;this.savedOp=createTypedArray("float32",St),this.savedOp.set(e);var _e=0;for(_e=this._length;_e<St;_e+=1)this.saved[_e]=createTypedArray("float32",16);this._length=St},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(e){var _e,_i=e.length,ir="_";for(_e=0;_e<_i;_e+=1)ir+=e[_e].transform.key+"_";var rr=this.sequences[ir];return rr||(rr={transforms:[].concat(e),finalTransform:new Matrix,_mdf:!1},this.sequences[ir]=rr,this.sequenceList.push(rr)),rr},processSequence:function(e,_e){for(var _i=0,ir=e.transforms.length,rr=_e;_i<ir&&!_e;){if(e.transforms[_i].transform.mProps._mdf){rr=!0;break}_i+=1}if(rr){var gr;for(e.finalTransform.reset(),_i=ir-1;_i>=0;_i-=1)gr=e.transforms[_i].transform.mProps.v.props,e.finalTransform.transform(gr[0],gr[1],gr[2],gr[3],gr[4],gr[5],gr[6],gr[7],gr[8],gr[9],gr[10],gr[11],gr[12],gr[13],gr[14],gr[15])}e._mdf=rr},processSequences:function(e){var _e,_i=this.sequenceList.length;for(_e=0;_e<_i;_e+=1)this.processSequence(this.sequenceList[_e],e)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};function CVEffects(){}CVEffects.prototype.renderFrame=function(){};function CVMaskElement(St,e){this.data=St,this.element=e,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var _e,_i=this.masksProperties.length,ir=!1;for(_e=0;_e<_i;_e+=1)this.masksProperties[_e].mode!=="n"&&(ir=!0),this.viewData[_e]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[_e],3);this.hasMasks=ir,ir&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(!!this.hasMasks){var St=this.element.finalTransform.mat,e=this.element.canvasContext,_e,_i=this.masksProperties.length,ir,rr,gr;for(e.beginPath(),_e=0;_e<_i;_e+=1)if(this.masksProperties[_e].mode!=="n"){this.masksProperties[_e].inv&&(e.moveTo(0,0),e.lineTo(this.element.globalData.compSize.w,0),e.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),e.lineTo(0,this.element.globalData.compSize.h),e.lineTo(0,0)),gr=this.viewData[_e].v,ir=St.applyToPointArray(gr.v[0][0],gr.v[0][1],0),e.moveTo(ir[0],ir[1]);var cr,tr=gr._length;for(cr=1;cr<tr;cr+=1)rr=St.applyToTriplePoints(gr.o[cr-1],gr.i[cr],gr.v[cr]),e.bezierCurveTo(rr[0],rr[1],rr[2],rr[3],rr[4],rr[5]);rr=St.applyToTriplePoints(gr.o[cr-1],gr.i[0],gr.v[0]),e.bezierCurveTo(rr[0],rr[1],rr[2],rr[3],rr[4],rr[5])}this.element.globalData.renderer.save(!0),e.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){this.canvasContext=this.globalData.canvasContext,this.renderableEffectsManager=new CVEffects},createContent:function(){},setBlendMode:function(){var e=this.globalData;if(e.blendMode!==this.data.bm){e.blendMode=this.data.bm;var _e=getBlendMode(this.data.bm);e.canvasContext.globalCompositeOperation=_e}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},renderFrame:function(){if(!(this.hidden||this.data.hd)){this.renderTransform(),this.renderRenderable(),this.setBlendMode();var e=this.data.ty===0;this.globalData.renderer.save(e),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(e),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(St,e,_e,_i){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var ir=4;e.ty==="rc"?ir=5:e.ty==="el"?ir=6:e.ty==="sr"&&(ir=7),this.sh=ShapePropertyFactory.getShapeProp(St,e,ir,St);var rr,gr=_e.length,cr;for(rr=0;rr<gr;rr+=1)_e[rr].closed||(cr={transforms:_i.addTransformSequence(_e[rr].transforms),trNodes:[]},this.styledShapes.push(cr),_e[rr].elements.push(cr))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(St,e,_e){this.shapes=[],this.shapesData=St.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(St,e,_e)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(St,e){var _e={data:St,type:St.ty,preTransforms:this.transformsManager.addTransformSequence(e),transforms:[],elements:[],closed:St.hd===!0},_i={};if(St.ty==="fl"||St.ty==="st"?(_i.c=PropertyFactory.getProp(this,St.c,1,255,this),_i.c.k||(_e.co="rgb("+bmFloor(_i.c.v[0])+","+bmFloor(_i.c.v[1])+","+bmFloor(_i.c.v[2])+")")):(St.ty==="gf"||St.ty==="gs")&&(_i.s=PropertyFactory.getProp(this,St.s,1,null,this),_i.e=PropertyFactory.getProp(this,St.e,1,null,this),_i.h=PropertyFactory.getProp(this,St.h||{k:0},0,.01,this),_i.a=PropertyFactory.getProp(this,St.a||{k:0},0,degToRads,this),_i.g=new GradientProperty(this,St.g,this)),_i.o=PropertyFactory.getProp(this,St.o,0,.01,this),St.ty==="st"||St.ty==="gs"){if(_e.lc=lineCapEnum[St.lc||2],_e.lj=lineJoinEnum[St.lj||2],St.lj==1&&(_e.ml=St.ml),_i.w=PropertyFactory.getProp(this,St.w,0,null,this),_i.w.k||(_e.wi=_i.w.v),St.d){var ir=new DashProperty(this,St.d,"canvas",this);_i.d=ir,_i.d.k||(_e.da=_i.d.dashArray,_e.do=_i.d.dashoffset[0])}}else _e.r=St.r===2?"evenodd":"nonzero";return this.stylesList.push(_e),_i.style=_e,_i},CVShapeElement.prototype.createGroupElement=function(){var St={it:[],prevViewData:[]};return St},CVShapeElement.prototype.createTransformElement=function(St){var e={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,St.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,St,this)}};return e},CVShapeElement.prototype.createShapeElement=function(St){var e=new CVShapeData(this,St,this.stylesList,this.transformsManager);return this.shapes.push(e),this.addShapeToModifiers(e),e},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var St,e=this.itemsData.length;for(St=0;St<e;St+=1)this.prevViewData[St]=this.itemsData[St];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),e=this.dynamicProperties.length,St=0;St<e;St+=1)this.dynamicProperties[St].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(St){var e,_e=this.stylesList.length;for(e=0;e<_e;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.push(St)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var St,e=this.stylesList.length;for(St=0;St<e;St+=1)this.stylesList[St].closed||this.stylesList[St].transforms.pop()},CVShapeElement.prototype.closeStyles=function(St){var e,_e=St.length;for(e=0;e<_e;e+=1)St[e].closed=!0},CVShapeElement.prototype.searchShapes=function(St,e,_e,_i,ir){var rr,gr=St.length-1,cr,tr,hr=[],ur=[],or,nr,er,ar=[].concat(ir);for(rr=gr;rr>=0;rr-=1){if(or=this.searchProcessedElement(St[rr]),or?e[rr]=_e[or-1]:St[rr]._shouldRender=_i,St[rr].ty==="fl"||St[rr].ty==="st"||St[rr].ty==="gf"||St[rr].ty==="gs")or?e[rr].style.closed=!1:e[rr]=this.createStyleElement(St[rr],ar),hr.push(e[rr].style);else if(St[rr].ty==="gr"){if(!or)e[rr]=this.createGroupElement(St[rr]);else for(tr=e[rr].it.length,cr=0;cr<tr;cr+=1)e[rr].prevViewData[cr]=e[rr].it[cr];this.searchShapes(St[rr].it,e[rr].it,e[rr].prevViewData,_i,ar)}else St[rr].ty==="tr"?(or||(er=this.createTransformElement(St[rr]),e[rr]=er),ar.push(e[rr]),this.addTransformToStyleList(e[rr])):St[rr].ty==="sh"||St[rr].ty==="rc"||St[rr].ty==="el"||St[rr].ty==="sr"?or||(e[rr]=this.createShapeElement(St[rr])):St[rr].ty==="tm"||St[rr].ty==="rd"||St[rr].ty==="pb"?(or?(nr=e[rr],nr.closed=!1):(nr=ShapeModifiers.getModifier(St[rr].ty),nr.init(this,St[rr]),e[rr]=nr,this.shapeModifiers.push(nr)),ur.push(nr)):St[rr].ty==="rp"&&(or?(nr=e[rr],nr.closed=!0):(nr=ShapeModifiers.getModifier(St[rr].ty),e[rr]=nr,nr.init(this,St,rr,e),this.shapeModifiers.push(nr),_i=!1),ur.push(nr));this.addProcessedElement(St[rr],rr+1)}for(this.removeTransformFromStyleList(),this.closeStyles(hr),gr=ur.length,rr=0;rr<gr;rr+=1)ur[rr].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(St,e){(St._opMdf||e.op._mdf||this._isFirstFrame)&&(e.opacity=St.opacity,e.opacity*=e.op.v,e._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var St,e=this.stylesList.length,_e,_i,ir,rr,gr,cr,tr=this.globalData.renderer,hr=this.globalData.canvasContext,ur,or;for(St=0;St<e;St+=1)if(or=this.stylesList[St],ur=or.type,!((ur==="st"||ur==="gs")&&or.wi===0||!or.data._shouldRender||or.coOp===0||this.globalData.currentGlobalAlpha===0)){for(tr.save(),gr=or.elements,ur==="st"||ur==="gs"?(hr.strokeStyle=ur==="st"?or.co:or.grd,hr.lineWidth=or.wi,hr.lineCap=or.lc,hr.lineJoin=or.lj,hr.miterLimit=or.ml||0):hr.fillStyle=ur==="fl"?or.co:or.grd,tr.ctxOpacity(or.coOp),ur!=="st"&&ur!=="gs"&&hr.beginPath(),tr.ctxTransform(or.preTransforms.finalTransform.props),_i=gr.length,_e=0;_e<_i;_e+=1){for((ur==="st"||ur==="gs")&&(hr.beginPath(),or.da&&(hr.setLineDash(or.da),hr.lineDashOffset=or.do)),cr=gr[_e].trNodes,rr=cr.length,ir=0;ir<rr;ir+=1)cr[ir].t==="m"?hr.moveTo(cr[ir].p[0],cr[ir].p[1]):cr[ir].t==="c"?hr.bezierCurveTo(cr[ir].pts[0],cr[ir].pts[1],cr[ir].pts[2],cr[ir].pts[3],cr[ir].pts[4],cr[ir].pts[5]):hr.closePath();(ur==="st"||ur==="gs")&&(hr.stroke(),or.da&&hr.setLineDash(this.dashResetter))}ur!=="st"&&ur!=="gs"&&hr.fill(or.r),tr.restore()}},CVShapeElement.prototype.renderShape=function(St,e,_e,_i){var ir,rr=e.length-1,gr;for(gr=St,ir=rr;ir>=0;ir-=1)e[ir].ty==="tr"?(gr=_e[ir].transform,this.renderShapeTransform(St,gr)):e[ir].ty==="sh"||e[ir].ty==="el"||e[ir].ty==="rc"||e[ir].ty==="sr"?this.renderPath(e[ir],_e[ir]):e[ir].ty==="fl"?this.renderFill(e[ir],_e[ir],gr):e[ir].ty==="st"?this.renderStroke(e[ir],_e[ir],gr):e[ir].ty==="gf"||e[ir].ty==="gs"?this.renderGradientFill(e[ir],_e[ir],gr):e[ir].ty==="gr"?this.renderShape(gr,e[ir].it,_e[ir].it):e[ir].ty;_i&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(St,e){if(this._isFirstFrame||e._mdf||St.transforms._mdf){var _e=St.trNodes,_i=e.paths,ir,rr,gr,cr=_i._length;_e.length=0;var tr=St.transforms.finalTransform;for(gr=0;gr<cr;gr+=1){var hr=_i.shapes[gr];if(hr&&hr.v){for(rr=hr._length,ir=1;ir<rr;ir+=1)ir===1&&_e.push({t:"m",p:tr.applyToPointArray(hr.v[0][0],hr.v[0][1],0)}),_e.push({t:"c",pts:tr.applyToTriplePoints(hr.o[ir-1],hr.i[ir],hr.v[ir])});rr===1&&_e.push({t:"m",p:tr.applyToPointArray(hr.v[0][0],hr.v[0][1],0)}),hr.c&&rr&&(_e.push({t:"c",pts:tr.applyToTriplePoints(hr.o[ir-1],hr.i[0],hr.v[0])}),_e.push({t:"z"}))}}St.trNodes=_e}},CVShapeElement.prototype.renderPath=function(St,e){if(St.hd!==!0&&St._shouldRender){var _e,_i=e.styledShapes.length;for(_e=0;_e<_i;_e+=1)this.renderStyledShape(e.styledShapes[_e],e.sh)}},CVShapeElement.prototype.renderFill=function(St,e,_e){var _i=e.style;(e.c._mdf||this._isFirstFrame)&&(_i.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||_e._opMdf||this._isFirstFrame)&&(_i.coOp=e.o.v*_e.opacity)},CVShapeElement.prototype.renderGradientFill=function(St,e,_e){var _i=e.style,ir;if(!_i.grd||e.g._mdf||e.s._mdf||e.e._mdf||St.t!==1&&(e.h._mdf||e.a._mdf)){var rr=this.globalData.canvasContext,gr=e.s.v,cr=e.e.v;if(St.t===1)ir=rr.createLinearGradient(gr[0],gr[1],cr[0],cr[1]);else{var tr=Math.sqrt(Math.pow(gr[0]-cr[0],2)+Math.pow(gr[1]-cr[1],2)),hr=Math.atan2(cr[1]-gr[1],cr[0]-gr[0]),ur=e.h.v;ur>=1?ur=.99:ur<=-1&&(ur=-.99);var or=tr*ur,nr=Math.cos(hr+e.a.v)*or+gr[0],er=Math.sin(hr+e.a.v)*or+gr[1];ir=rr.createRadialGradient(nr,er,0,gr[0],gr[1],tr)}var ar,dr=St.g.p,lr=e.g.c,sr=1;for(ar=0;ar<dr;ar+=1)e.g._hasOpacity&&e.g._collapsable&&(sr=e.g.o[ar*2+1]),ir.addColorStop(lr[ar*4]/100,"rgba("+lr[ar*4+1]+","+lr[ar*4+2]+","+lr[ar*4+3]+","+sr+")");_i.grd=ir}_i.coOp=e.o.v*_e.opacity},CVShapeElement.prototype.renderStroke=function(St,e,_e){var _i=e.style,ir=e.d;ir&&(ir._mdf||this._isFirstFrame)&&(_i.da=ir.dashArray,_i.do=ir.dashoffset[0]),(e.c._mdf||this._isFirstFrame)&&(_i.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||_e._opMdf||this._isFirstFrame)&&(_i.coOp=e.o.v*_e.opacity),(e.w._mdf||this._isFirstFrame)&&(_i.wi=e.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(St,e,_e){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(St,e,_e)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var St=this.textProperty.currentData;this.renderedLetters=createSizedArray(St.l?St.l.length:0);var e=!1;St.fc?(e=!0,this.values.fill=this.buildColor(St.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=e;var _e=!1;St.sc&&(_e=!0,this.values.stroke=this.buildColor(St.sc),this.values.sWidth=St.sw);var _i=this.globalData.fontManager.getFontByName(St.f),ir,rr,gr=St.l,cr=this.mHelper;this.stroke=_e,this.values.fValue=St.finalSize+"px "+this.globalData.fontManager.getFontByName(St.f).fFamily,rr=St.finalText.length;var tr,hr,ur,or,nr,er,ar,dr,lr,sr,pr=this.data.singleShape,mr=St.tr*.001*St.finalSize,vr=0,yr=0,br=!0,_r=0;for(ir=0;ir<rr;ir+=1){tr=this.globalData.fontManager.getCharData(St.finalText[ir],_i.fStyle,this.globalData.fontManager.getFontByName(St.f).fFamily),hr=tr&&tr.data||{},cr.reset(),pr&&gr[ir].n&&(vr=-mr,yr+=St.yOffset,yr+=br?1:0,br=!1),nr=hr.shapes?hr.shapes[0].it:[],ar=nr.length,cr.scale(St.finalSize/100,St.finalSize/100),pr&&this.applyTextPropertiesToMatrix(St,cr,gr[ir].line,vr,yr),lr=createSizedArray(ar-1);var xr=0;for(er=0;er<ar;er+=1)if(nr[er].ty==="sh"){for(or=nr[er].ks.k.i.length,dr=nr[er].ks.k,sr=[],ur=1;ur<or;ur+=1)ur===1&&sr.push(cr.applyToX(dr.v[0][0],dr.v[0][1],0),cr.applyToY(dr.v[0][0],dr.v[0][1],0)),sr.push(cr.applyToX(dr.o[ur-1][0],dr.o[ur-1][1],0),cr.applyToY(dr.o[ur-1][0],dr.o[ur-1][1],0),cr.applyToX(dr.i[ur][0],dr.i[ur][1],0),cr.applyToY(dr.i[ur][0],dr.i[ur][1],0),cr.applyToX(dr.v[ur][0],dr.v[ur][1],0),cr.applyToY(dr.v[ur][0],dr.v[ur][1],0));sr.push(cr.applyToX(dr.o[ur-1][0],dr.o[ur-1][1],0),cr.applyToY(dr.o[ur-1][0],dr.o[ur-1][1],0),cr.applyToX(dr.i[0][0],dr.i[0][1],0),cr.applyToY(dr.i[0][0],dr.i[0][1],0),cr.applyToX(dr.v[0][0],dr.v[0][1],0),cr.applyToY(dr.v[0][0],dr.v[0][1],0)),lr[xr]=sr,xr+=1}pr&&(vr+=gr[ir].l,vr+=mr),this.textSpans[_r]?this.textSpans[_r].elem=lr:this.textSpans[_r]={elem:lr},_r+=1}},CVTextElement.prototype.renderInnerContent=function(){var St=this.canvasContext;St.font=this.values.fValue,St.lineCap="butt",St.lineJoin="miter",St.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var e,_e,_i,ir,rr,gr,cr=this.textAnimator.renderedLetters,tr=this.textProperty.currentData.l;_e=tr.length;var hr,ur=null,or=null,nr=null,er,ar;for(e=0;e<_e;e+=1)if(!tr[e].n){if(hr=cr[e],hr&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(hr.p),this.globalData.renderer.ctxOpacity(hr.o)),this.fill){for(hr&&hr.fc?ur!==hr.fc&&(ur=hr.fc,St.fillStyle=hr.fc):ur!==this.values.fill&&(ur=this.values.fill,St.fillStyle=this.values.fill),er=this.textSpans[e].elem,ir=er.length,this.globalData.canvasContext.beginPath(),_i=0;_i<ir;_i+=1)for(ar=er[_i],gr=ar.length,this.globalData.canvasContext.moveTo(ar[0],ar[1]),rr=2;rr<gr;rr+=6)this.globalData.canvasContext.bezierCurveTo(ar[rr],ar[rr+1],ar[rr+2],ar[rr+3],ar[rr+4],ar[rr+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(hr&&hr.sw?nr!==hr.sw&&(nr=hr.sw,St.lineWidth=hr.sw):nr!==this.values.sWidth&&(nr=this.values.sWidth,St.lineWidth=this.values.sWidth),hr&&hr.sc?or!==hr.sc&&(or=hr.sc,St.strokeStyle=hr.sc):or!==this.values.stroke&&(or=this.values.stroke,St.strokeStyle=this.values.stroke),er=this.textSpans[e].elem,ir=er.length,this.globalData.canvasContext.beginPath(),_i=0;_i<ir;_i+=1)for(ar=er[_i],gr=ar.length,this.globalData.canvasContext.moveTo(ar[0],ar[1]),rr=2;rr<gr;rr+=6)this.globalData.canvasContext.bezierCurveTo(ar[rr],ar[rr+1],ar[rr+2],ar[rr+3],ar[rr+4],ar[rr+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}hr&&this.globalData.renderer.restore()}};function CVImageElement(St,e,_e){this.assetData=e.getAssetData(St.refId),this.img=e.imageLoader.getAsset(this.assetData),this.initElement(St,e,_e)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var St=createTag("canvas");St.width=this.assetData.w,St.height=this.assetData.h;var e=St.getContext("2d"),_e=this.img.width,_i=this.img.height,ir=_e/_i,rr=this.assetData.w/this.assetData.h,gr,cr,tr=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;ir>rr&&tr==="xMidYMid slice"||ir<rr&&tr!=="xMidYMid slice"?(cr=_i,gr=cr*rr):(gr=_e,cr=gr/rr),e.drawImage(this.img,(_e-gr)/2,(_i-cr)/2,gr,cr,0,0,this.assetData.w,this.assetData.h),this.img=St}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(St,e,_e){this.initElement(St,e,_e)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var St=this.canvasContext;St.fillStyle=this.data.sc,St.fillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(St,e){this.animationItem=St,this.renderConfig={clearCanvas:e&&e.clearCanvas!==void 0?e.clearCanvas:!0,context:e&&e.context||null,progressiveLoad:e&&e.progressiveLoad||!1,preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",className:e&&e.className||"",id:e&&e.id||""},this.renderConfig.dpr=e&&e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=e&&e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(St){return new CVShapeElement(St,this.globalData,this)},CanvasRendererBase.prototype.createText=function(St){return new CVTextElement(St,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(St){return new CVImageElement(St,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(St){return new CVSolidElement(St,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(St){if(!(St[0]===1&&St[1]===0&&St[4]===0&&St[5]===1&&St[12]===0&&St[13]===0)){if(!this.renderConfig.clearCanvas){this.canvasContext.transform(St[0],St[1],St[4],St[5],St[12],St[13]);return}this.transformMat.cloneFromProps(St);var e=this.contextData.cTr.props;this.transformMat.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props);var _e=this.contextData.cTr.props;this.canvasContext.setTransform(_e[0],_e[1],_e[4],_e[5],_e[12],_e[13])}},CanvasRendererBase.prototype.ctxOpacity=function(St){if(!this.renderConfig.clearCanvas){this.canvasContext.globalAlpha*=St<0?0:St,this.globalData.currentGlobalAlpha=this.contextData.cO;return}this.contextData.cO*=St<0?0:St,this.globalData.currentGlobalAlpha!==this.contextData.cO&&(this.canvasContext.globalAlpha=this.contextData.cO,this.globalData.currentGlobalAlpha=this.contextData.cO)},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(St){if(!this.renderConfig.clearCanvas){this.canvasContext.save();return}St&&this.canvasContext.save();var e=this.contextData.cTr.props;this.contextData._length<=this.contextData.cArrPos&&this.contextData.duplicate();var _e,_i=this.contextData.saved[this.contextData.cArrPos];for(_e=0;_e<16;_e+=1)_i[_e]=e[_e];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1},CanvasRendererBase.prototype.restore=function(St){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}St&&(this.canvasContext.restore(),this.globalData.blendMode="source-over"),this.contextData.cArrPos-=1;var e=this.contextData.saved[this.contextData.cArrPos],_e,_i=this.contextData.cTr.props;for(_e=0;_e<16;_e+=1)_i[_e]=e[_e];this.canvasContext.setTransform(e[0],e[1],e[4],e[5],e[12],e[13]),e=this.contextData.savedOp[this.contextData.cArrPos],this.contextData.cO=e,this.globalData.currentGlobalAlpha!==e&&(this.canvasContext.globalAlpha=e,this.globalData.currentGlobalAlpha=e)},CanvasRendererBase.prototype.configAnimation=function(St){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var e=this.animationItem.container.style;e.width="100%",e.height="100%";var _e="0px 0px 0px";e.transformOrigin=_e,e.mozTransformOrigin=_e,e.webkitTransformOrigin=_e,e["-webkit-transform"]=_e,e.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.data=St,this.layers=St.layers,this.transformCanvas={w:St.w,h:St.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(St,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(St.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(){this.reset();var St,e;this.animationItem.wrapper&&this.animationItem.container?(St=this.animationItem.wrapper.offsetWidth,e=this.animationItem.wrapper.offsetHeight,this.animationItem.container.setAttribute("width",St*this.renderConfig.dpr),this.animationItem.container.setAttribute("height",e*this.renderConfig.dpr)):(St=this.canvasContext.canvas.width*this.renderConfig.dpr,e=this.canvasContext.canvas.height*this.renderConfig.dpr);var _e,_i;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var ir=this.renderConfig.preserveAspectRatio.split(" "),rr=ir[1]||"meet",gr=ir[0]||"xMidYMid",cr=gr.substr(0,4),tr=gr.substr(4);_e=St/e,_i=this.transformCanvas.w/this.transformCanvas.h,_i>_e&&rr==="meet"||_i<_e&&rr==="slice"?(this.transformCanvas.sx=St/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=St/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=e/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.h/this.renderConfig.dpr)),cr==="xMid"&&(_i<_e&&rr==="meet"||_i>_e&&rr==="slice")?this.transformCanvas.tx=(St-this.transformCanvas.w*(e/this.transformCanvas.h))/2*this.renderConfig.dpr:cr==="xMax"&&(_i<_e&&rr==="meet"||_i>_e&&rr==="slice")?this.transformCanvas.tx=(St-this.transformCanvas.w*(e/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,tr==="YMid"&&(_i>_e&&rr==="meet"||_i<_e&&rr==="slice")?this.transformCanvas.ty=(e-this.transformCanvas.h*(St/this.transformCanvas.w))/2*this.renderConfig.dpr:tr==="YMax"&&(_i>_e&&rr==="meet"||_i<_e&&rr==="slice")?this.transformCanvas.ty=(e-this.transformCanvas.h*(St/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=St/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var St,e=this.layers?this.layers.length:0;for(St=e-1;St>=0;St-=1)this.elements[St]&&this.elements[St].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(St,e){if(!(this.renderedFrame===St&&this.renderConfig.clearCanvas===!0&&!e||this.destroyed||St===-1)){this.renderedFrame=St,this.globalData.frameNum=St-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||e,this.globalData.projectInterface.currentFrame=St;var _e,_i=this.layers.length;for(this.completeLayers||this.checkLayers(St),_e=0;_e<_i;_e+=1)(this.completeLayers||this.elements[_e])&&this.elements[_e].prepareFrame(St-this.layers[_e].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),_e=_i-1;_e>=0;_e-=1)(this.completeLayers||this.elements[_e])&&this.elements[_e].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(St){var e=this.elements;if(!(e[St]||this.layers[St].ty===99)){var _e=this.createItem(this.layers[St],this,this.globalData);e[St]=_e,_e.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var St=this.pendingElements.pop();St.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CVCompElement(St,e,_e){this.completeLayers=!1,this.layers=St.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(St,e,_e),this.tm=St.tm?PropertyFactory.getProp(this,St.tm,0,e.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var St=this.canvasContext;St.beginPath(),St.moveTo(0,0),St.lineTo(this.data.w,0),St.lineTo(this.data.w,this.data.h),St.lineTo(0,this.data.h),St.lineTo(0,0),St.clip();var e,_e=this.layers.length;for(e=_e-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},CVCompElement.prototype.destroy=function(){var St,e=this.layers.length;for(St=e-1;St>=0;St-=1)this.elements[St]&&this.elements[St].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(St){return new CVCompElement(St,this.globalData,this)};function CanvasRenderer(St,e){this.animationItem=St,this.renderConfig={clearCanvas:e&&e.clearCanvas!==void 0?e.clearCanvas:!0,context:e&&e.context||null,progressiveLoad:e&&e.progressiveLoad||!1,preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",className:e&&e.className||"",id:e&&e.id||""},this.renderConfig.dpr=e&&e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=e&&e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(St){return new CVCompElement(St,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects,this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var e=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var _e=this.finalTransform.mat.toCSS();e.transform=_e,e.webkitTransform=_e}this.finalTransform._opMdf&&(e.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(St,e,_e){this.initElement(St,e,_e)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var St;this.data.hasMask?(St=createNS("rect"),St.setAttribute("width",this.data.sw),St.setAttribute("height",this.data.sh),St.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(St=createTag("div"),St.style.width=this.data.sw+"px",St.style.height=this.data.sh+"px",St.style.backgroundColor=this.data.sc),this.layerElement.appendChild(St)};function HShapeElement(St,e,_e){this.shapes=[],this.shapesData=St.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(St,e,_e),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var St;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),St=this.svgElement;else{St=createNS("svg");var e=this.comp.data?this.comp.data:this.globalData.compSize;St.setAttribute("width",e.w),St.setAttribute("height",e.h),St.appendChild(this.shapesContainer),this.layerElement.appendChild(St)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=St},HShapeElement.prototype.getTransformedPoint=function(St,e){var _e,_i=St.length;for(_e=0;_e<_i;_e+=1)e=St[_e].mProps.v.applyToPointArray(e[0],e[1],0);return e},HShapeElement.prototype.calculateShapeBoundingBox=function(St,e){var _e=St.sh.v,_i=St.transformers,ir,rr=_e._length,gr,cr,tr,hr;if(!(rr<=1)){for(ir=0;ir<rr-1;ir+=1)gr=this.getTransformedPoint(_i,_e.v[ir]),cr=this.getTransformedPoint(_i,_e.o[ir]),tr=this.getTransformedPoint(_i,_e.i[ir+1]),hr=this.getTransformedPoint(_i,_e.v[ir+1]),this.checkBounds(gr,cr,tr,hr,e);_e.c&&(gr=this.getTransformedPoint(_i,_e.v[ir]),cr=this.getTransformedPoint(_i,_e.o[ir]),tr=this.getTransformedPoint(_i,_e.i[0]),hr=this.getTransformedPoint(_i,_e.v[0]),this.checkBounds(gr,cr,tr,hr,e))}},HShapeElement.prototype.checkBounds=function(St,e,_e,_i,ir){this.getBoundsOfCurve(St,e,_e,_i);var rr=this.shapeBoundingBox;ir.x=bmMin(rr.left,ir.x),ir.xMax=bmMax(rr.right,ir.xMax),ir.y=bmMin(rr.top,ir.y),ir.yMax=bmMax(rr.bottom,ir.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(St,e,_e,_i){for(var ir=[[St[0],_i[0]],[St[1],_i[1]]],rr,gr,cr,tr,hr,ur,or,nr=0;nr<2;++nr)gr=6*St[nr]-12*e[nr]+6*_e[nr],rr=-3*St[nr]+9*e[nr]-9*_e[nr]+3*_i[nr],cr=3*e[nr]-3*St[nr],gr|=0,rr|=0,cr|=0,rr===0&&gr===0||(rr===0?(tr=-cr/gr,tr>0&&tr<1&&ir[nr].push(this.calculateF(tr,St,e,_e,_i,nr))):(hr=gr*gr-4*cr*rr,hr>=0&&(ur=(-gr+bmSqrt(hr))/(2*rr),ur>0&&ur<1&&ir[nr].push(this.calculateF(ur,St,e,_e,_i,nr)),or=(-gr-bmSqrt(hr))/(2*rr),or>0&&or<1&&ir[nr].push(this.calculateF(or,St,e,_e,_i,nr)))));this.shapeBoundingBox.left=bmMin.apply(null,ir[0]),this.shapeBoundingBox.top=bmMin.apply(null,ir[1]),this.shapeBoundingBox.right=bmMax.apply(null,ir[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,ir[1])},HShapeElement.prototype.calculateF=function(St,e,_e,_i,ir,rr){return bmPow(1-St,3)*e[rr]+3*bmPow(1-St,2)*St*_e[rr]+3*(1-St)*bmPow(St,2)*_i[rr]+bmPow(St,3)*ir[rr]},HShapeElement.prototype.calculateBoundingBox=function(St,e){var _e,_i=St.length;for(_e=0;_e<_i;_e+=1)St[_e]&&St[_e].sh?this.calculateShapeBoundingBox(St[_e],e):St[_e]&&St[_e].it?this.calculateBoundingBox(St[_e].it,e):St[_e]&&St[_e].style&&St[_e].w&&this.expandStrokeBoundingBox(St[_e].w,e)},HShapeElement.prototype.expandStrokeBoundingBox=function(St,e){var _e=0;if(St.keyframes){for(var _i=0;_i<St.keyframes.length;_i+=1){var ir=St.keyframes[_i].s;ir>_e&&(_e=ir)}_e*=St.mult}else _e=St.v*St.mult;e.x-=_e,e.xMax+=_e,e.y-=_e,e.yMax+=_e},HShapeElement.prototype.currentBoxContains=function(St){return this.currentBBox.x<=St.x&&this.currentBBox.y<=St.y&&this.currentBBox.width+this.currentBBox.x>=St.x+St.width&&this.currentBBox.height+this.currentBBox.y>=St.y+St.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var St=this.tempBoundingBox,e=999999;if(St.x=e,St.xMax=-e,St.y=e,St.yMax=-e,this.calculateBoundingBox(this.itemsData,St),St.width=St.xMax<St.x?0:St.xMax-St.x,St.height=St.yMax<St.y?0:St.yMax-St.y,this.currentBoxContains(St))return;var _e=!1;if(this.currentBBox.w!==St.width&&(this.currentBBox.w=St.width,this.shapeCont.setAttribute("width",St.width),_e=!0),this.currentBBox.h!==St.height&&(this.currentBBox.h=St.height,this.shapeCont.setAttribute("height",St.height),_e=!0),_e||this.currentBBox.x!==St.x||this.currentBBox.y!==St.y){this.currentBBox.w=St.width,this.currentBBox.h=St.height,this.currentBBox.x=St.x,this.currentBBox.y=St.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var _i=this.shapeCont.style,ir="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";_i.transform=ir,_i.webkitTransform=ir}}};function HTextElement(St,e,_e){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(St,e,_e)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var St=createNS("g");this.maskedElement.appendChild(St),this.innerElem=St}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var St=this.textProperty.currentData;this.renderedLetters=createSizedArray(St.l?St.l.length:0);var e=this.innerElem.style,_e=St.fc?this.buildColor(St.fc):"rgba(0,0,0,0)";e.fill=_e,e.color=_e,St.sc&&(e.stroke=this.buildColor(St.sc),e.strokeWidth=St.sw+"px");var _i=this.globalData.fontManager.getFontByName(St.f);if(!this.globalData.fontManager.chars)if(e.fontSize=St.finalSize+"px",e.lineHeight=St.finalSize+"px",_i.fClass)this.innerElem.className=_i.fClass;else{e.fontFamily=_i.fFamily;var ir=St.fWeight,rr=St.fStyle;e.fontStyle=rr,e.fontWeight=ir}var gr,cr,tr=St.l;cr=tr.length;var hr,ur,or,nr=this.mHelper,er,ar="",dr=0;for(gr=0;gr<cr;gr+=1){if(this.globalData.fontManager.chars?(this.textPaths[dr]?hr=this.textPaths[dr]:(hr=createNS("path"),hr.setAttribute("stroke-linecap",lineCapEnum[1]),hr.setAttribute("stroke-linejoin",lineJoinEnum[2]),hr.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[dr]?(ur=this.textSpans[dr],or=ur.children[0]):(ur=createTag("div"),ur.style.lineHeight=0,or=createNS("svg"),or.appendChild(hr),styleDiv(ur)))):this.isMasked?hr=this.textPaths[dr]?this.textPaths[dr]:createNS("text"):this.textSpans[dr]?(ur=this.textSpans[dr],hr=this.textPaths[dr]):(ur=createTag("span"),styleDiv(ur),hr=createTag("span"),styleDiv(hr),ur.appendChild(hr)),this.globalData.fontManager.chars){var lr=this.globalData.fontManager.getCharData(St.finalText[gr],_i.fStyle,this.globalData.fontManager.getFontByName(St.f).fFamily),sr;if(lr?sr=lr.data:sr=null,nr.reset(),sr&&sr.shapes&&sr.shapes.length&&(er=sr.shapes[0].it,nr.scale(St.finalSize/100,St.finalSize/100),ar=this.createPathShape(nr,er),hr.setAttribute("d",ar)),this.isMasked)this.innerElem.appendChild(hr);else{if(this.innerElem.appendChild(ur),sr&&sr.shapes){document.body.appendChild(or);var pr=or.getBBox();or.setAttribute("width",pr.width+2),or.setAttribute("height",pr.height+2),or.setAttribute("viewBox",pr.x-1+" "+(pr.y-1)+" "+(pr.width+2)+" "+(pr.height+2));var mr=or.style,vr="translate("+(pr.x-1)+"px,"+(pr.y-1)+"px)";mr.transform=vr,mr.webkitTransform=vr,tr[gr].yOffset=pr.y-1}else or.setAttribute("width",1),or.setAttribute("height",1);ur.appendChild(or)}}else if(hr.textContent=tr[gr].val,hr.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(hr);else{this.innerElem.appendChild(ur);var yr=hr.style,br="translate3d(0,"+-St.finalSize/1.2+"px,0)";yr.transform=br,yr.webkitTransform=br}this.isMasked?this.textSpans[dr]=hr:this.textSpans[dr]=ur,this.textSpans[dr].style.display="block",this.textPaths[dr]=hr,dr+=1}for(;dr<this.textSpans.length;)this.textSpans[dr].style.display="none",dr+=1},HTextElement.prototype.renderInnerContent=function(){var St;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),St=this.svgElement.style;var e="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";St.transform=e,St.webkitTransform=e}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var _e,_i,ir=0,rr=this.textAnimator.renderedLetters,gr=this.textProperty.currentData.l;_i=gr.length;var cr,tr,hr;for(_e=0;_e<_i;_e+=1)gr[_e].n?ir+=1:(tr=this.textSpans[_e],hr=this.textPaths[_e],cr=rr[ir],ir+=1,cr._mdf.m&&(this.isMasked?tr.setAttribute("transform",cr.m):(tr.style.webkitTransform=cr.m,tr.style.transform=cr.m)),tr.style.opacity=cr.o,cr.sw&&cr._mdf.sw&&hr.setAttribute("stroke-width",cr.sw),cr.sc&&cr._mdf.sc&&hr.setAttribute("stroke",cr.sc),cr.fc&&cr._mdf.fc&&(hr.setAttribute("fill",cr.fc),hr.style.color=cr.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var ur=this.innerElem.getBBox();this.currentBBox.w!==ur.width&&(this.currentBBox.w=ur.width,this.svgElement.setAttribute("width",ur.width)),this.currentBBox.h!==ur.height&&(this.currentBBox.h=ur.height,this.svgElement.setAttribute("height",ur.height));var or=1;if(this.currentBBox.w!==ur.width+or*2||this.currentBBox.h!==ur.height+or*2||this.currentBBox.x!==ur.x-or||this.currentBBox.y!==ur.y-or){this.currentBBox.w=ur.width+or*2,this.currentBBox.h=ur.height+or*2,this.currentBBox.x=ur.x-or,this.currentBBox.y=ur.y-or,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),St=this.svgElement.style;var nr="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";St.transform=nr,St.webkitTransform=nr}}}};function HCameraElement(St,e,_e){this.initFrame(),this.initBaseData(St,e,_e),this.initHierarchy();var _i=PropertyFactory.getProp;if(this.pe=_i(this,St.pe,0,0,this),St.ks.p.s?(this.px=_i(this,St.ks.p.x,1,0,this),this.py=_i(this,St.ks.p.y,1,0,this),this.pz=_i(this,St.ks.p.z,1,0,this)):this.p=_i(this,St.ks.p,1,0,this),St.ks.a&&(this.a=_i(this,St.ks.a,1,0,this)),St.ks.or.k.length&&St.ks.or.k[0].to){var ir,rr=St.ks.or.k.length;for(ir=0;ir<rr;ir+=1)St.ks.or.k[ir].to=null,St.ks.or.k[ir].ti=null}this.or=_i(this,St.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=_i(this,St.ks.rx,0,degToRads,this),this.ry=_i(this,St.ks.ry,0,degToRads,this),this.rz=_i(this,St.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var St,e=this.comp.threeDElements.length,_e,_i,ir;for(St=0;St<e;St+=1)if(_e=this.comp.threeDElements[St],_e.type==="3d"){_i=_e.perspectiveElem.style,ir=_e.container.style;var rr=this.pe.v+"px",gr="0px 0px 0px",cr="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";_i.perspective=rr,_i.webkitPerspective=rr,ir.transformOrigin=gr,ir.mozTransformOrigin=gr,ir.webkitTransformOrigin=gr,_i.transform=cr,_i.webkitTransform=cr}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var St=this._isFirstFrame,e,_e;if(this.hierarchy)for(_e=this.hierarchy.length,e=0;e<_e;e+=1)St=this.hierarchy[e].finalTransform.mProp._mdf||St;if(St||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(_e=this.hierarchy.length-1,e=_e;e>=0;e-=1){var _i=this.hierarchy[e].finalTransform.mProp;this.mat.translate(-_i.p.v[0],-_i.p.v[1],_i.p.v[2]),this.mat.rotateX(-_i.or.v[0]).rotateY(-_i.or.v[1]).rotateZ(_i.or.v[2]),this.mat.rotateX(-_i.rx.v).rotateY(-_i.ry.v).rotateZ(_i.rz.v),this.mat.scale(1/_i.s.v[0],1/_i.s.v[1],1/_i.s.v[2]),this.mat.translate(_i.a.v[0],_i.a.v[1],_i.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var ir;this.p?ir=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:ir=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var rr=Math.sqrt(Math.pow(ir[0],2)+Math.pow(ir[1],2)+Math.pow(ir[2],2)),gr=[ir[0]/rr,ir[1]/rr,ir[2]/rr],cr=Math.sqrt(gr[2]*gr[2]+gr[0]*gr[0]),tr=Math.atan2(gr[1],cr),hr=Math.atan2(gr[0],-gr[2]);this.mat.rotateY(hr).rotateX(-tr)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var ur=!this._prevMat.equals(this.mat);if((ur||this.pe._mdf)&&this.comp.threeDElements){_e=this.comp.threeDElements.length;var or,nr,er;for(e=0;e<_e;e+=1)if(or=this.comp.threeDElements[e],or.type==="3d"){if(ur){var ar=this.mat.toCSS();er=or.container.style,er.transform=ar,er.webkitTransform=ar}this.pe._mdf&&(nr=or.perspectiveElem.style,nr.perspective=this.pe.v+"px",nr.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(St){this.prepareProperties(St,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(St,e,_e){this.assetData=e.getAssetData(St.refId),this.initElement(St,e,_e)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var St=this.globalData.getAssetsPath(this.assetData),e=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",St),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(e),e.crossOrigin="anonymous",e.src=St,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(St,e){this.animationItem=St,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&e.hideOnTransparent===!1),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var St=this.pendingElements.pop();St.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(St,e){var _e=St.getBaseElement();if(!!_e){var _i=this.layers[e];if(!_i.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(_e,e);else{for(var ir=0,rr,gr,cr;ir<e;)this.elements[ir]&&this.elements[ir]!==!0&&this.elements[ir].getBaseElement&&(gr=this.elements[ir],cr=this.layers[ir].ddd?this.getThreeDContainerByPos(ir):gr.getBaseElement(),rr=cr||rr),ir+=1;rr?(!_i.ddd||!this.supports3d)&&this.layerElement.insertBefore(_e,rr):(!_i.ddd||!this.supports3d)&&this.layerElement.appendChild(_e)}else this.addTo3dContainer(_e,e)}},HybridRendererBase.prototype.createShape=function(St){return this.supports3d?new HShapeElement(St,this.globalData,this):new SVGShapeElement(St,this.globalData,this)},HybridRendererBase.prototype.createText=function(St){return this.supports3d?new HTextElement(St,this.globalData,this):new SVGTextLottieElement(St,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(St){return this.camera=new HCameraElement(St,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(St){return this.supports3d?new HImageElement(St,this.globalData,this):new IImageElement(St,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(St){return this.supports3d?new HSolidElement(St,this.globalData,this):new ISolidElement(St,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(St){for(var e=0,_e=this.threeDElements.length;e<_e;){if(this.threeDElements[e].startPos<=St&&this.threeDElements[e].endPos>=St)return this.threeDElements[e].perspectiveElem;e+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(St,e){var _e=createTag("div"),_i,ir;styleDiv(_e);var rr=createTag("div");if(styleDiv(rr),e==="3d"){_i=_e.style,_i.width=this.globalData.compSize.w+"px",_i.height=this.globalData.compSize.h+"px";var gr="50% 50%";_i.webkitTransformOrigin=gr,_i.mozTransformOrigin=gr,_i.transformOrigin=gr,ir=rr.style;var cr="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";ir.transform=cr,ir.webkitTransform=cr}_e.appendChild(rr);var tr={container:rr,perspectiveElem:_e,startPos:St,endPos:St,type:e};return this.threeDElements.push(tr),tr},HybridRendererBase.prototype.build3dContainers=function(){var St,e=this.layers.length,_e,_i="";for(St=0;St<e;St+=1)this.layers[St].ddd&&this.layers[St].ty!==3?(_i!=="3d"&&(_i="3d",_e=this.createThreeDContainer(St,"3d")),_e.endPos=Math.max(_e.endPos,St)):(_i!=="2d"&&(_i="2d",_e=this.createThreeDContainer(St,"2d")),_e.endPos=Math.max(_e.endPos,St));for(e=this.threeDElements.length,St=e-1;St>=0;St-=1)this.resizerElem.appendChild(this.threeDElements[St].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(St,e){for(var _e=0,_i=this.threeDElements.length;_e<_i;){if(e<=this.threeDElements[_e].endPos){for(var ir=this.threeDElements[_e].startPos,rr;ir<e;)this.elements[ir]&&this.elements[ir].getBaseElement&&(rr=this.elements[ir].getBaseElement()),ir+=1;rr?this.threeDElements[_e].container.insertBefore(St,rr):this.threeDElements[_e].container.appendChild(St);break}_e+=1}},HybridRendererBase.prototype.configAnimation=function(St){var e=createTag("div"),_e=this.animationItem.wrapper,_i=e.style;_i.width=St.w+"px",_i.height=St.h+"px",this.resizerElem=e,styleDiv(e),_i.transformStyle="flat",_i.mozTransformStyle="flat",_i.webkitTransformStyle="flat",this.renderConfig.className&&e.setAttribute("class",this.renderConfig.className),_e.appendChild(e),_i.overflow="hidden";var ir=createNS("svg");ir.setAttribute("width","1"),ir.setAttribute("height","1"),styleDiv(ir),this.resizerElem.appendChild(ir);var rr=createNS("defs");ir.appendChild(rr),this.data=St,this.setupGlobalData(St,ir),this.globalData.defs=rr,this.layers=St.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var St,e=this.layers?this.layers.length:0;for(St=0;St<e;St+=1)this.elements[St].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var St=this.animationItem.wrapper.offsetWidth,e=this.animationItem.wrapper.offsetHeight,_e=St/e,_i=this.globalData.compSize.w/this.globalData.compSize.h,ir,rr,gr,cr;_i>_e?(ir=St/this.globalData.compSize.w,rr=St/this.globalData.compSize.w,gr=0,cr=(e-this.globalData.compSize.h*(St/this.globalData.compSize.w))/2):(ir=e/this.globalData.compSize.h,rr=e/this.globalData.compSize.h,gr=(St-this.globalData.compSize.w*(e/this.globalData.compSize.h))/2,cr=0);var tr=this.resizerElem.style;tr.webkitTransform="matrix3d("+ir+",0,0,0,0,"+rr+",0,0,0,0,1,0,"+gr+","+cr+",0,1)",tr.transform=tr.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var St=this.globalData.compSize.w,e=this.globalData.compSize.h,_e,_i=this.threeDElements.length;for(_e=0;_e<_i;_e+=1){var ir=this.threeDElements[_e].perspectiveElem.style;ir.webkitPerspective=Math.sqrt(Math.pow(St,2)+Math.pow(e,2))+"px",ir.perspective=ir.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(St){var e,_e=St.length,_i=createTag("div");for(e=0;e<_e;e+=1)if(St[e].xt){var ir=this.createComp(St[e],_i,this.globalData.comp,null);ir.initExpressions(),this.globalData.projectInterface.registerComposition(ir)}};function HCompElement(St,e,_e){this.layers=St.layers,this.supports3d=!St.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(St,e,_e),this.tm=St.tm?PropertyFactory.getProp(this,St.tm,0,e.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(St,e){for(var _e=0,_i;_e<e;)this.elements[_e]&&this.elements[_e].getBaseElement&&(_i=this.elements[_e].getBaseElement()),_e+=1;_i?this.layerElement.insertBefore(St,_i):this.layerElement.appendChild(St)},HCompElement.prototype.createComp=function(St){return this.supports3d?new HCompElement(St,this.globalData,this):new SVGCompElement(St,this.globalData,this)};function HybridRenderer(St,e){this.animationItem=St,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&e.hideOnTransparent===!1),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(St){return this.supports3d?new HCompElement(St,this.globalData,this):new SVGCompElement(St,this.globalData,this)};var Expressions=function(){var St={};St.initExpressions=e;function e(_e){var _i=0,ir=[];function rr(){_i+=1}function gr(){_i-=1,_i===0&&tr()}function cr(hr){ir.indexOf(hr)===-1&&ir.push(hr)}function tr(){var hr,ur=ir.length;for(hr=0;hr<ur;hr+=1)ir[hr].release();ir.length=0}_e.renderer.compInterface=CompExpressionInterface(_e.renderer),_e.renderer.globalData.projectInterface.registerComposition(_e.renderer),_e.renderer.globalData.pushExpression=rr,_e.renderer.globalData.popExpression=gr,_e.renderer.globalData.registerExpressionProperty=cr}return St}();function _typeof$1(St){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(_e){return typeof _e}:_typeof$1=function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$1(St)}function seedRandom(St,e){var _e=this,_i=256,ir=6,rr=52,gr="random",cr=e.pow(_i,ir),tr=e.pow(2,rr),hr=tr*2,ur=_i-1,or;function nr(mr,vr,yr){var br=[];vr=vr===!0?{entropy:!0}:vr||{};var _r=lr(dr(vr.entropy?[mr,pr(St)]:mr===null?sr():mr,3),br),xr=new er(br),Nr=function(){for(var Tr=xr.g(ir),Br=cr,Jr=0;Tr<tr;)Tr=(Tr+Jr)*_i,Br*=_i,Jr=xr.g(1);for(;Tr>=hr;)Tr/=2,Br/=2,Jr>>>=1;return(Tr+Jr)/Br};return Nr.int32=function(){return xr.g(4)|0},Nr.quick=function(){return xr.g(4)/4294967296},Nr.double=Nr,lr(pr(xr.S),St),(vr.pass||yr||function(zr,Tr,Br,Jr){return Jr&&(Jr.S&&ar(Jr,xr),zr.state=function(){return ar(xr,{})}),Br?(e[gr]=zr,Tr):zr})(Nr,_r,"global"in vr?vr.global:this==e,vr.state)}e["seed"+gr]=nr;function er(mr){var vr,yr=mr.length,br=this,_r=0,xr=br.i=br.j=0,Nr=br.S=[];for(yr||(mr=[yr++]);_r<_i;)Nr[_r]=_r++;for(_r=0;_r<_i;_r++)Nr[_r]=Nr[xr=ur&xr+mr[_r%yr]+(vr=Nr[_r])],Nr[xr]=vr;br.g=function(zr){for(var Tr,Br=0,Jr=br.i,Yr=br.j,Xr=br.S;zr--;)Tr=Xr[Jr=ur&Jr+1],Br=Br*_i+Xr[ur&(Xr[Jr]=Xr[Yr=ur&Yr+Tr])+(Xr[Yr]=Tr)];return br.i=Jr,br.j=Yr,Br}}function ar(mr,vr){return vr.i=mr.i,vr.j=mr.j,vr.S=mr.S.slice(),vr}function dr(mr,vr){var yr=[],br=_typeof$1(mr),_r;if(vr&&br=="object")for(_r in mr)try{yr.push(dr(mr[_r],vr-1))}catch{}return yr.length?yr:br=="string"?mr:mr+"\0"}function lr(mr,vr){for(var yr=mr+"",br,_r=0;_r<yr.length;)vr[ur&_r]=ur&(br^=vr[ur&_r]*19)+yr.charCodeAt(_r++);return pr(vr)}function sr(){try{var mr=new Uint8Array(_i);return(_e.crypto||_e.msCrypto).getRandomValues(mr),pr(mr)}catch{var vr=_e.navigator,yr=vr&&vr.plugins;return[+new Date,_e,yr,_e.screen,pr(St)]}}function pr(mr){return String.fromCharCode.apply(0,mr)}lr(e.random(),St)}function initialize$2(St){seedRandom([],St)}var propTypes={SHAPE:"shape"};function _typeof(St){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(_e){return typeof _e}:_typeof=function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof(St)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null;initialize$2(BMMath);function $bm_isInstanceOfArray(St){return St.constructor===Array||St.constructor===Float32Array}function isNumerable(St,e){return St==="number"||St==="boolean"||St==="string"||e instanceof Number}function $bm_neg(St){var e=_typeof(St);if(e==="number"||e==="boolean"||St instanceof Number)return-St;if($bm_isInstanceOfArray(St)){var _e,_i=St.length,ir=[];for(_e=0;_e<_i;_e+=1)ir[_e]=-St[_e];return ir}return St.propType?St.v:-St}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(St,e){var _e=_typeof(St),_i=_typeof(e);if(_e==="string"||_i==="string"||isNumerable(_e,St)&&isNumerable(_i,e))return St+e;if($bm_isInstanceOfArray(St)&&isNumerable(_i,e))return St=St.slice(0),St[0]+=e,St;if(isNumerable(_e,St)&&$bm_isInstanceOfArray(e))return e=e.slice(0),e[0]=St+e[0],e;if($bm_isInstanceOfArray(St)&&$bm_isInstanceOfArray(e)){for(var ir=0,rr=St.length,gr=e.length,cr=[];ir<rr||ir<gr;)(typeof St[ir]=="number"||St[ir]instanceof Number)&&(typeof e[ir]=="number"||e[ir]instanceof Number)?cr[ir]=St[ir]+e[ir]:cr[ir]=e[ir]===void 0?St[ir]:St[ir]||e[ir],ir+=1;return cr}return 0}var add=sum;function sub(St,e){var _e=_typeof(St),_i=_typeof(e);if(isNumerable(_e,St)&&isNumerable(_i,e))return _e==="string"&&(St=parseInt(St,10)),_i==="string"&&(e=parseInt(e,10)),St-e;if($bm_isInstanceOfArray(St)&&isNumerable(_i,e))return St=St.slice(0),St[0]-=e,St;if(isNumerable(_e,St)&&$bm_isInstanceOfArray(e))return e=e.slice(0),e[0]=St-e[0],e;if($bm_isInstanceOfArray(St)&&$bm_isInstanceOfArray(e)){for(var ir=0,rr=St.length,gr=e.length,cr=[];ir<rr||ir<gr;)(typeof St[ir]=="number"||St[ir]instanceof Number)&&(typeof e[ir]=="number"||e[ir]instanceof Number)?cr[ir]=St[ir]-e[ir]:cr[ir]=e[ir]===void 0?St[ir]:St[ir]||e[ir],ir+=1;return cr}return 0}function mul(St,e){var _e=_typeof(St),_i=_typeof(e),ir;if(isNumerable(_e,St)&&isNumerable(_i,e))return St*e;var rr,gr;if($bm_isInstanceOfArray(St)&&isNumerable(_i,e)){for(gr=St.length,ir=createTypedArray("float32",gr),rr=0;rr<gr;rr+=1)ir[rr]=St[rr]*e;return ir}if(isNumerable(_e,St)&&$bm_isInstanceOfArray(e)){for(gr=e.length,ir=createTypedArray("float32",gr),rr=0;rr<gr;rr+=1)ir[rr]=St*e[rr];return ir}return 0}function div(St,e){var _e=_typeof(St),_i=_typeof(e),ir;if(isNumerable(_e,St)&&isNumerable(_i,e))return St/e;var rr,gr;if($bm_isInstanceOfArray(St)&&isNumerable(_i,e)){for(gr=St.length,ir=createTypedArray("float32",gr),rr=0;rr<gr;rr+=1)ir[rr]=St[rr]/e;return ir}if(isNumerable(_e,St)&&$bm_isInstanceOfArray(e)){for(gr=e.length,ir=createTypedArray("float32",gr),rr=0;rr<gr;rr+=1)ir[rr]=St/e[rr];return ir}return 0}function mod(St,e){return typeof St=="string"&&(St=parseInt(St,10)),typeof e=="string"&&(e=parseInt(e,10)),St%e}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(St,e,_e){if(e>_e){var _i=_e;_e=e,e=_i}return Math.min(Math.max(St,e),_e)}function radiansToDegrees(St){return St/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(St){return St*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(St,e){if(typeof St=="number"||St instanceof Number)return e=e||0,Math.abs(St-e);e||(e=helperLengthArray);var _e,_i=Math.min(St.length,e.length),ir=0;for(_e=0;_e<_i;_e+=1)ir+=Math.pow(e[_e]-St[_e],2);return Math.sqrt(ir)}function normalize(St){return div(St,length(St))}function rgbToHsl(St){var e=St[0],_e=St[1],_i=St[2],ir=Math.max(e,_e,_i),rr=Math.min(e,_e,_i),gr,cr,tr=(ir+rr)/2;if(ir===rr)gr=0,cr=0;else{var hr=ir-rr;switch(cr=tr>.5?hr/(2-ir-rr):hr/(ir+rr),ir){case e:gr=(_e-_i)/hr+(_e<_i?6:0);break;case _e:gr=(_i-e)/hr+2;break;case _i:gr=(e-_e)/hr+4;break}gr/=6}return[gr,cr,tr,St[3]]}function hue2rgb(St,e,_e){return _e<0&&(_e+=1),_e>1&&(_e-=1),_e<1/6?St+(e-St)*6*_e:_e<1/2?e:_e<2/3?St+(e-St)*(2/3-_e)*6:St}function hslToRgb(St){var e=St[0],_e=St[1],_i=St[2],ir,rr,gr;if(_e===0)ir=_i,gr=_i,rr=_i;else{var cr=_i<.5?_i*(1+_e):_i+_e-_i*_e,tr=2*_i-cr;ir=hue2rgb(tr,cr,e+1/3),rr=hue2rgb(tr,cr,e),gr=hue2rgb(tr,cr,e-1/3)}return[ir,rr,gr,St[3]]}function linear(St,e,_e,_i,ir){if((_i===void 0||ir===void 0)&&(_i=e,ir=_e,e=0,_e=1),_e<e){var rr=_e;_e=e,e=rr}if(St<=e)return _i;if(St>=_e)return ir;var gr=_e===e?0:(St-e)/(_e-e);if(!_i.length)return _i+(ir-_i)*gr;var cr,tr=_i.length,hr=createTypedArray("float32",tr);for(cr=0;cr<tr;cr+=1)hr[cr]=_i[cr]+(ir[cr]-_i[cr])*gr;return hr}function random(St,e){if(e===void 0&&(St===void 0?(St=0,e=1):(e=St,St=void 0)),e.length){var _e,_i=e.length;St||(St=createTypedArray("float32",_i));var ir=createTypedArray("float32",_i),rr=BMMath.random();for(_e=0;_e<_i;_e+=1)ir[_e]=St[_e]+rr*(e[_e]-St[_e]);return ir}St===void 0&&(St=0);var gr=BMMath.random();return St+gr*(e-St)}function createPath(St,e,_e,_i){var ir,rr=St.length,gr=shapePool.newElement();gr.setPathData(!!_i,rr);var cr=[0,0],tr,hr;for(ir=0;ir<rr;ir+=1)tr=e&&e[ir]?e[ir]:cr,hr=_e&&_e[ir]?_e[ir]:cr,gr.setTripleAt(St[ir][0],St[ir][1],hr[0]+St[ir][0],hr[1]+St[ir][1],tr[0]+St[ir][0],tr[1]+St[ir][1],ir,!0);return gr}function initiateExpression(elem,data,property){var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=function St(e,_e){var _i,ir,rr=this.pv.length?this.pv.length:1,gr=createTypedArray("float32",rr);e=5;var cr=Math.floor(time*e);for(_i=0,ir=0;_i<cr;){for(ir=0;ir<rr;ir+=1)gr[ir]+=-_e+_e*2*BMMath.random();_i+=1}var tr=time*e,hr=tr-Math.floor(tr),ur=createTypedArray("float32",rr);if(rr>1){for(ir=0;ir<rr;ir+=1)ur[ir]=this.pv[ir]+gr[ir]+(-_e+_e*2*BMMath.random())*hr;return ur}return this.pv+gr[0]+(-_e+_e*2*BMMath.random())*hr}.bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(St,e){return loopIn(St,e,!0)}function loopOutDuration(St,e){return loopOut(St,e,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(St,e){var _e=[e[0]-St[0],e[1]-St[1],e[2]-St[2]],_i=Math.atan2(_e[0],Math.sqrt(_e[1]*_e[1]+_e[2]*_e[2]))/degToRads,ir=-Math.atan2(_e[1],_e[2])/degToRads;return[ir,_i,0]}function easeOut(St,e,_e,_i,ir){return applyEase(easeOutBez,St,e,_e,_i,ir)}function easeIn(St,e,_e,_i,ir){return applyEase(easeInBez,St,e,_e,_i,ir)}function ease(St,e,_e,_i,ir){return applyEase(easeInOutBez,St,e,_e,_i,ir)}function applyEase(St,e,_e,_i,ir,rr){ir===void 0?(ir=_e,rr=_i):e=(e-_e)/(_i-_e),e>1?e=1:e<0&&(e=0);var gr=St(e);if($bm_isInstanceOfArray(ir)){var cr,tr=ir.length,hr=createTypedArray("float32",tr);for(cr=0;cr<tr;cr+=1)hr[cr]=(rr[cr]-ir[cr])*gr+ir[cr];return hr}return(rr-ir)*gr+ir}function nearestKey(St){var e,_e=data.k.length,_i,ir;if(!data.k.length||typeof data.k[0]=="number")_i=0,ir=0;else if(_i=-1,St*=elem.comp.globalData.frameRate,St<data.k[0].t)_i=1,ir=data.k[0].t;else{for(e=0;e<_e-1;e+=1)if(St===data.k[e].t){_i=e+1,ir=data.k[e].t;break}else if(St>data.k[e].t&&St<data.k[e+1].t){St-data.k[e].t>data.k[e+1].t-St?(_i=e+2,ir=data.k[e+1].t):(_i=e+1,ir=data.k[e].t);break}_i===-1&&(_i=e+1,ir=data.k[e].t)}var rr={};return rr.index=_i,rr.time=ir/elem.comp.globalData.frameRate,rr}function key(St){var e,_e,_i;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+St);St-=1,e={time:data.k[St].t/elem.comp.globalData.frameRate,value:[]};var ir=Object.prototype.hasOwnProperty.call(data.k[St],"s")?data.k[St].s:data.k[St-1].e;for(_i=ir.length,_e=0;_e<_i;_e+=1)e[_e]=ir[_e],e.value[_e]=ir[_e];return e}function framesToTime(St,e){return e||(e=elem.comp.globalData.frameRate),St/e}function timeToFrames(St,e){return!St&&St!==0&&(St=time),e||(e=elem.comp.globalData.frameRate),St*e}function seedRandom(St){BMMath.seedrandom(randSeed+St)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(St,e){return typeof value=="string"?e===void 0?value.substring(St):value.substring(St,e):""}function substr(St,e){return typeof value=="string"?e===void 0?value.substr(St):value.substr(St,e):""}function posterizeTime(St){time=St===0?0:Math.floor(time*St)/St,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(St){return value=St,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath],ob}(),expressionHelpers=function(){function St(gr,cr,tr){cr.x&&(tr.k=!0,tr.x=!0,tr.initiateExpression=ExpressionManager.initiateExpression,tr.effectsSequence.push(tr.initiateExpression(gr,cr,tr).bind(tr)))}function e(gr){return gr*=this.elem.globalData.frameRate,gr-=this.offsetTime,gr!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<gr?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(gr,this._cachingAtTime),this._cachingAtTime.lastFrame=gr),this._cachingAtTime.value}function _e(gr){var cr=-.01,tr=this.getValueAtTime(gr),hr=this.getValueAtTime(gr+cr),ur=0;if(tr.length){var or;for(or=0;or<tr.length;or+=1)ur+=Math.pow(hr[or]-tr[or],2);ur=Math.sqrt(ur)*100}else ur=0;return ur}function _i(gr){if(this.vel!==void 0)return this.vel;var cr=-.001,tr=this.getValueAtTime(gr),hr=this.getValueAtTime(gr+cr),ur;if(tr.length){ur=createTypedArray("float32",tr.length);var or;for(or=0;or<tr.length;or+=1)ur[or]=(hr[or]-tr[or])/cr}else ur=(hr-tr)/cr;return ur}function ir(){return this.pv}function rr(gr){this.propertyGroup=gr}return{searchExpressions:St,getSpeedAtTime:_e,getVelocityAtTime:_i,getValueAtTime:e,getStaticValueAtTime:ir,setGroupProperty:rr}}();function addPropertyDecorator(){function St(nr,er,ar){if(!this.k||!this.keyframes)return this.pv;nr=nr?nr.toLowerCase():"";var dr=this.comp.renderedFrame,lr=this.keyframes,sr=lr[lr.length-1].t;if(dr<=sr)return this.pv;var pr,mr;ar?(er?pr=Math.abs(sr-this.elem.comp.globalData.frameRate*er):pr=Math.max(0,sr-this.elem.data.ip),mr=sr-pr):((!er||er>lr.length-1)&&(er=lr.length-1),mr=lr[lr.length-1-er].t,pr=sr-mr);var vr,yr,br;if(nr==="pingpong"){var _r=Math.floor((dr-mr)/pr);if(_r%2!==0)return this.getValueAtTime((pr-(dr-mr)%pr+mr)/this.comp.globalData.frameRate,0)}else if(nr==="offset"){var xr=this.getValueAtTime(mr/this.comp.globalData.frameRate,0),Nr=this.getValueAtTime(sr/this.comp.globalData.frameRate,0),zr=this.getValueAtTime(((dr-mr)%pr+mr)/this.comp.globalData.frameRate,0),Tr=Math.floor((dr-mr)/pr);if(this.pv.length){for(br=new Array(xr.length),yr=br.length,vr=0;vr<yr;vr+=1)br[vr]=(Nr[vr]-xr[vr])*Tr+zr[vr];return br}return(Nr-xr)*Tr+zr}else if(nr==="continue"){var Br=this.getValueAtTime(sr/this.comp.globalData.frameRate,0),Jr=this.getValueAtTime((sr-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(br=new Array(Br.length),yr=br.length,vr=0;vr<yr;vr+=1)br[vr]=Br[vr]+(Br[vr]-Jr[vr])*((dr-sr)/this.comp.globalData.frameRate)/5e-4;return br}return Br+(Br-Jr)*((dr-sr)/.001)}return this.getValueAtTime(((dr-mr)%pr+mr)/this.comp.globalData.frameRate,0)}function e(nr,er,ar){if(!this.k)return this.pv;nr=nr?nr.toLowerCase():"";var dr=this.comp.renderedFrame,lr=this.keyframes,sr=lr[0].t;if(dr>=sr)return this.pv;var pr,mr;ar?(er?pr=Math.abs(this.elem.comp.globalData.frameRate*er):pr=Math.max(0,this.elem.data.op-sr),mr=sr+pr):((!er||er>lr.length-1)&&(er=lr.length-1),mr=lr[er].t,pr=mr-sr);var vr,yr,br;if(nr==="pingpong"){var _r=Math.floor((sr-dr)/pr);if(_r%2===0)return this.getValueAtTime(((sr-dr)%pr+sr)/this.comp.globalData.frameRate,0)}else if(nr==="offset"){var xr=this.getValueAtTime(sr/this.comp.globalData.frameRate,0),Nr=this.getValueAtTime(mr/this.comp.globalData.frameRate,0),zr=this.getValueAtTime((pr-(sr-dr)%pr+sr)/this.comp.globalData.frameRate,0),Tr=Math.floor((sr-dr)/pr)+1;if(this.pv.length){for(br=new Array(xr.length),yr=br.length,vr=0;vr<yr;vr+=1)br[vr]=zr[vr]-(Nr[vr]-xr[vr])*Tr;return br}return zr-(Nr-xr)*Tr}else if(nr==="continue"){var Br=this.getValueAtTime(sr/this.comp.globalData.frameRate,0),Jr=this.getValueAtTime((sr+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(br=new Array(Br.length),yr=br.length,vr=0;vr<yr;vr+=1)br[vr]=Br[vr]+(Br[vr]-Jr[vr])*(sr-dr)/.001;return br}return Br+(Br-Jr)*(sr-dr)/.001}return this.getValueAtTime((pr-((sr-dr)%pr+sr))/this.comp.globalData.frameRate,0)}function _e(nr,er){if(!this.k)return this.pv;if(nr=(nr||.4)*.5,er=Math.floor(er||5),er<=1)return this.pv;var ar=this.comp.renderedFrame/this.comp.globalData.frameRate,dr=ar-nr,lr=ar+nr,sr=er>1?(lr-dr)/(er-1):1,pr=0,mr=0,vr;this.pv.length?vr=createTypedArray("float32",this.pv.length):vr=0;for(var yr;pr<er;){if(yr=this.getValueAtTime(dr+pr*sr),this.pv.length)for(mr=0;mr<this.pv.length;mr+=1)vr[mr]+=yr[mr];else vr+=yr;pr+=1}if(this.pv.length)for(mr=0;mr<this.pv.length;mr+=1)vr[mr]/=er;else vr/=er;return vr}function _i(nr){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var er=this._transformCachingAtTime.v;if(er.cloneFromProps(this.pre.props),this.appliedTransformations<1){var ar=this.a.getValueAtTime(nr);er.translate(-ar[0]*this.a.mult,-ar[1]*this.a.mult,ar[2]*this.a.mult)}if(this.appliedTransformations<2){var dr=this.s.getValueAtTime(nr);er.scale(dr[0]*this.s.mult,dr[1]*this.s.mult,dr[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var lr=this.sk.getValueAtTime(nr),sr=this.sa.getValueAtTime(nr);er.skewFromAxis(-lr*this.sk.mult,sr*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var pr=this.r.getValueAtTime(nr);er.rotate(-pr*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var mr=this.rz.getValueAtTime(nr),vr=this.ry.getValueAtTime(nr),yr=this.rx.getValueAtTime(nr),br=this.or.getValueAtTime(nr);er.rotateZ(-mr*this.rz.mult).rotateY(vr*this.ry.mult).rotateX(yr*this.rx.mult).rotateZ(-br[2]*this.or.mult).rotateY(br[1]*this.or.mult).rotateX(br[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var _r=this.px.getValueAtTime(nr),xr=this.py.getValueAtTime(nr);if(this.data.p.z){var Nr=this.pz.getValueAtTime(nr);er.translate(_r*this.px.mult,xr*this.py.mult,-Nr*this.pz.mult)}else er.translate(_r*this.px.mult,xr*this.py.mult,0)}else{var zr=this.p.getValueAtTime(nr);er.translate(zr[0]*this.p.mult,zr[1]*this.p.mult,-zr[2]*this.p.mult)}return er}function ir(){return this.v.clone(new Matrix)}var rr=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(nr,er,ar){var dr=rr(nr,er,ar);return dr.dynamicProperties.length?dr.getValueAtTime=_i.bind(dr):dr.getValueAtTime=ir.bind(dr),dr.setGroupProperty=expressionHelpers.setGroupProperty,dr};var gr=PropertyFactory.getProp;PropertyFactory.getProp=function(nr,er,ar,dr,lr){var sr=gr(nr,er,ar,dr,lr);sr.kf?sr.getValueAtTime=expressionHelpers.getValueAtTime.bind(sr):sr.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(sr),sr.setGroupProperty=expressionHelpers.setGroupProperty,sr.loopOut=St,sr.loopIn=e,sr.smooth=_e,sr.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(sr),sr.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(sr),sr.numKeys=er.a===1?er.k.length:0,sr.propertyIndex=er.ix;var pr=0;return ar!==0&&(pr=createTypedArray("float32",er.a===1?er.k[0].s.length:er.k.length)),sr._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:pr},expressionHelpers.searchExpressions(nr,er,sr),sr.k&&lr.addDynamicProperty(sr),sr};function cr(nr){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),nr*=this.elem.globalData.frameRate,nr-=this.offsetTime,nr!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<nr?this._caching.lastIndex:0,this._cachingAtTime.lastTime=nr,this.interpolateShape(nr,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var tr=ShapePropertyFactory.getConstructorFunction(),hr=ShapePropertyFactory.getKeyframedConstructorFunction();function ur(){}ur.prototype={vertices:function(er,ar){this.k&&this.getValue();var dr=this.v;ar!==void 0&&(dr=this.getValueAtTime(ar,0));var lr,sr=dr._length,pr=dr[er],mr=dr.v,vr=createSizedArray(sr);for(lr=0;lr<sr;lr+=1)er==="i"||er==="o"?vr[lr]=[pr[lr][0]-mr[lr][0],pr[lr][1]-mr[lr][1]]:vr[lr]=[pr[lr][0],pr[lr][1]];return vr},points:function(er){return this.vertices("v",er)},inTangents:function(er){return this.vertices("i",er)},outTangents:function(er){return this.vertices("o",er)},isClosed:function(){return this.v.c},pointOnPath:function(er,ar){var dr=this.v;ar!==void 0&&(dr=this.getValueAtTime(ar,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(dr));for(var lr=this._segmentsLength,sr=lr.lengths,pr=lr.totalLength*er,mr=0,vr=sr.length,yr=0,br;mr<vr;){if(yr+sr[mr].addedLength>pr){var _r=mr,xr=dr.c&&mr===vr-1?0:mr+1,Nr=(pr-yr)/sr[mr].addedLength;br=bez.getPointInSegment(dr.v[_r],dr.v[xr],dr.o[_r],dr.i[xr],Nr,sr[mr]);break}else yr+=sr[mr].addedLength;mr+=1}return br||(br=dr.c?[dr.v[0][0],dr.v[0][1]]:[dr.v[dr._length-1][0],dr.v[dr._length-1][1]]),br},vectorOnPath:function(er,ar,dr){er==1?er=this.v.c:er==0&&(er=.999);var lr=this.pointOnPath(er,ar),sr=this.pointOnPath(er+.001,ar),pr=sr[0]-lr[0],mr=sr[1]-lr[1],vr=Math.sqrt(Math.pow(pr,2)+Math.pow(mr,2));if(vr===0)return[0,0];var yr=dr==="tangent"?[pr/vr,mr/vr]:[-mr/vr,pr/vr];return yr},tangentOnPath:function(er,ar){return this.vectorOnPath(er,ar,"tangent")},normalOnPath:function(er,ar){return this.vectorOnPath(er,ar,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([ur],tr),extendPrototype([ur],hr),hr.prototype.getValueAtTime=cr,hr.prototype.initiateExpression=ExpressionManager.initiateExpression;var or=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(nr,er,ar,dr,lr){var sr=or(nr,er,ar,dr,lr);return sr.propertyIndex=er.ix,sr.lock=!1,ar===3?expressionHelpers.searchExpressions(nr,er.pt,sr):ar===4&&expressionHelpers.searchExpressions(nr,er.ks,sr),sr.k&&nr.addDynamicProperty(sr),sr}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function St(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(e,_e){var _i=this.calculateExpression(_e);if(e.t!==_i){var ir={};return this.copyData(ir,e),ir.t=_i.toString(),ir.__complete=!1,ir}return e},TextProperty.prototype.searchProperty=function(){var e=this.searchKeyframes(),_e=this.searchExpressions();return this.kf=e||_e,this.kf},TextProperty.prototype.searchExpressions=St}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function St(e,_e){var _i=createNS("feMerge");_i.setAttribute("result",e);var ir,rr;for(rr=0;rr<_e.length;rr+=1)ir=createNS("feMergeNode"),ir.setAttribute("in",_e[rr]),_i.appendChild(ir),_i.appendChild(ir);return _i}};function SVGTintFilter(St,e,_e,_i,ir){this.filterManager=e;var rr=createNS("feColorMatrix");rr.setAttribute("type","matrix"),rr.setAttribute("color-interpolation-filters","linearRGB"),rr.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),rr.setAttribute("result",_i+"_tint_1"),St.appendChild(rr),rr=createNS("feColorMatrix"),rr.setAttribute("type","matrix"),rr.setAttribute("color-interpolation-filters","sRGB"),rr.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),rr.setAttribute("result",_i+"_tint_2"),St.appendChild(rr),this.matrixFilter=rr;var gr=this.createMergeNode(_i,[ir,_i+"_tint_1",_i+"_tint_2"]);St.appendChild(gr)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(St){if(St||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,_e=this.filterManager.effectElements[1].p.v,_i=this.filterManager.effectElements[2].p.v/100;this.matrixFilter.setAttribute("values",_e[0]-e[0]+" 0 0 0 "+e[0]+" "+(_e[1]-e[1])+" 0 0 0 "+e[1]+" "+(_e[2]-e[2])+" 0 0 0 "+e[2]+" 0 0 0 "+_i+" 0")}};function SVGFillFilter(St,e,_e,_i){this.filterManager=e;var ir=createNS("feColorMatrix");ir.setAttribute("type","matrix"),ir.setAttribute("color-interpolation-filters","sRGB"),ir.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),ir.setAttribute("result",_i),St.appendChild(ir),this.matrixFilter=ir}SVGFillFilter.prototype.renderFrame=function(St){if(St||this.filterManager._mdf){var e=this.filterManager.effectElements[2].p.v,_e=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+e[0]+" 0 0 0 0 "+e[1]+" 0 0 0 0 "+e[2]+" 0 0 0 "+_e+" 0")}};function SVGStrokeEffect(St,e,_e){this.initialized=!1,this.filterManager=e,this.elem=_e,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var St=this.elem.layerElement.children||this.elem.layerElement.childNodes,e,_e,_i,ir;for(this.filterManager.effectElements[1].p.v===1?(ir=this.elem.maskManager.masksProperties.length,_i=0):(_i=this.filterManager.effectElements[0].p.v-1,ir=_i+1),_e=createNS("g"),_e.setAttribute("fill","none"),_e.setAttribute("stroke-linecap","round"),_e.setAttribute("stroke-dashoffset",1),_i;_i<ir;_i+=1)e=createNS("path"),_e.appendChild(e),this.paths.push({p:e,m:_i});if(this.filterManager.effectElements[10].p.v===3){var rr=createNS("mask"),gr=createElementID();rr.setAttribute("id",gr),rr.setAttribute("mask-type","alpha"),rr.appendChild(_e),this.elem.globalData.defs.appendChild(rr);var cr=createNS("g");for(cr.setAttribute("mask","url("+getLocationHref()+"#"+gr+")");St[0];)cr.appendChild(St[0]);this.elem.layerElement.appendChild(cr),this.masker=rr,_e.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(St=this.elem.layerElement.children||this.elem.layerElement.childNodes;St.length;)this.elem.layerElement.removeChild(St[0]);this.elem.layerElement.appendChild(_e),this.elem.layerElement.removeAttribute("mask"),_e.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=_e},SVGStrokeEffect.prototype.renderFrame=function(St){this.initialized||this.initialize();var e,_e=this.paths.length,_i,ir;for(e=0;e<_e;e+=1)if(this.paths[e].m!==-1&&(_i=this.elem.maskManager.viewData[this.paths[e].m],ir=this.paths[e].p,(St||this.filterManager._mdf||_i.prop._mdf)&&ir.setAttribute("d",_i.lastPath),St||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||_i.prop._mdf)){var rr;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var gr=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,cr=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,tr=ir.getTotalLength();rr="0 0 0 "+tr*gr+" ";var hr=tr*(cr-gr),ur=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,or=Math.floor(hr/ur),nr;for(nr=0;nr<or;nr+=1)rr+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";rr+="0 "+tr*10+" 0 0"}else rr="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;ir.setAttribute("stroke-dasharray",rr)}if((St||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(St||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(St||this.filterManager.effectElements[3].p._mdf)){var er=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(er[0]*255)+","+bmFloor(er[1]*255)+","+bmFloor(er[2]*255)+")")}};function SVGTritoneFilter(St,e,_e,_i){this.filterManager=e;var ir=createNS("feColorMatrix");ir.setAttribute("type","matrix"),ir.setAttribute("color-interpolation-filters","linearRGB"),ir.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),St.appendChild(ir);var rr=createNS("feComponentTransfer");rr.setAttribute("color-interpolation-filters","sRGB"),rr.setAttribute("result",_i),this.matrixFilter=rr;var gr=createNS("feFuncR");gr.setAttribute("type","table"),rr.appendChild(gr),this.feFuncR=gr;var cr=createNS("feFuncG");cr.setAttribute("type","table"),rr.appendChild(cr),this.feFuncG=cr;var tr=createNS("feFuncB");tr.setAttribute("type","table"),rr.appendChild(tr),this.feFuncB=tr,St.appendChild(rr)}SVGTritoneFilter.prototype.renderFrame=function(St){if(St||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,_e=this.filterManager.effectElements[1].p.v,_i=this.filterManager.effectElements[2].p.v,ir=_i[0]+" "+_e[0]+" "+e[0],rr=_i[1]+" "+_e[1]+" "+e[1],gr=_i[2]+" "+_e[2]+" "+e[2];this.feFuncR.setAttribute("tableValues",ir),this.feFuncG.setAttribute("tableValues",rr),this.feFuncB.setAttribute("tableValues",gr)}};function SVGProLevelsFilter(St,e,_e,_i){this.filterManager=e;var ir=this.filterManager.effectElements,rr=createNS("feComponentTransfer");(ir[10].p.k||ir[10].p.v!==0||ir[11].p.k||ir[11].p.v!==1||ir[12].p.k||ir[12].p.v!==1||ir[13].p.k||ir[13].p.v!==0||ir[14].p.k||ir[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",rr)),(ir[17].p.k||ir[17].p.v!==0||ir[18].p.k||ir[18].p.v!==1||ir[19].p.k||ir[19].p.v!==1||ir[20].p.k||ir[20].p.v!==0||ir[21].p.k||ir[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",rr)),(ir[24].p.k||ir[24].p.v!==0||ir[25].p.k||ir[25].p.v!==1||ir[26].p.k||ir[26].p.v!==1||ir[27].p.k||ir[27].p.v!==0||ir[28].p.k||ir[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",rr)),(ir[31].p.k||ir[31].p.v!==0||ir[32].p.k||ir[32].p.v!==1||ir[33].p.k||ir[33].p.v!==1||ir[34].p.k||ir[34].p.v!==0||ir[35].p.k||ir[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",rr)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(rr.setAttribute("color-interpolation-filters","sRGB"),St.appendChild(rr)),(ir[3].p.k||ir[3].p.v!==0||ir[4].p.k||ir[4].p.v!==1||ir[5].p.k||ir[5].p.v!==1||ir[6].p.k||ir[6].p.v!==0||ir[7].p.k||ir[7].p.v!==1)&&(rr=createNS("feComponentTransfer"),rr.setAttribute("color-interpolation-filters","sRGB"),rr.setAttribute("result",_i),St.appendChild(rr),this.feFuncRComposed=this.createFeFunc("feFuncR",rr),this.feFuncGComposed=this.createFeFunc("feFuncG",rr),this.feFuncBComposed=this.createFeFunc("feFuncB",rr))}SVGProLevelsFilter.prototype.createFeFunc=function(St,e){var _e=createNS(St);return _e.setAttribute("type","table"),e.appendChild(_e),_e},SVGProLevelsFilter.prototype.getTableValue=function(St,e,_e,_i,ir){for(var rr=0,gr=256,cr,tr=Math.min(St,e),hr=Math.max(St,e),ur=Array.call(null,{length:gr}),or,nr=0,er=ir-_i,ar=e-St;rr<=256;)cr=rr/256,cr<=tr?or=ar<0?ir:_i:cr>=hr?or=ar<0?_i:ir:or=_i+er*Math.pow((cr-St)/ar,1/_e),ur[nr]=or,nr+=1,rr+=256/(gr-1);return ur.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(St){if(St||this.filterManager._mdf){var e,_e=this.filterManager.effectElements;this.feFuncRComposed&&(St||_e[3].p._mdf||_e[4].p._mdf||_e[5].p._mdf||_e[6].p._mdf||_e[7].p._mdf)&&(e=this.getTableValue(_e[3].p.v,_e[4].p.v,_e[5].p.v,_e[6].p.v,_e[7].p.v),this.feFuncRComposed.setAttribute("tableValues",e),this.feFuncGComposed.setAttribute("tableValues",e),this.feFuncBComposed.setAttribute("tableValues",e)),this.feFuncR&&(St||_e[10].p._mdf||_e[11].p._mdf||_e[12].p._mdf||_e[13].p._mdf||_e[14].p._mdf)&&(e=this.getTableValue(_e[10].p.v,_e[11].p.v,_e[12].p.v,_e[13].p.v,_e[14].p.v),this.feFuncR.setAttribute("tableValues",e)),this.feFuncG&&(St||_e[17].p._mdf||_e[18].p._mdf||_e[19].p._mdf||_e[20].p._mdf||_e[21].p._mdf)&&(e=this.getTableValue(_e[17].p.v,_e[18].p.v,_e[19].p.v,_e[20].p.v,_e[21].p.v),this.feFuncG.setAttribute("tableValues",e)),this.feFuncB&&(St||_e[24].p._mdf||_e[25].p._mdf||_e[26].p._mdf||_e[27].p._mdf||_e[28].p._mdf)&&(e=this.getTableValue(_e[24].p.v,_e[25].p.v,_e[26].p.v,_e[27].p.v,_e[28].p.v),this.feFuncB.setAttribute("tableValues",e)),this.feFuncA&&(St||_e[31].p._mdf||_e[32].p._mdf||_e[33].p._mdf||_e[34].p._mdf||_e[35].p._mdf)&&(e=this.getTableValue(_e[31].p.v,_e[32].p.v,_e[33].p.v,_e[34].p.v,_e[35].p.v),this.feFuncA.setAttribute("tableValues",e))}};function SVGDropShadowEffect(St,e,_e,_i,ir){var rr=e.container.globalData.renderConfig.filterSize,gr=e.data.fs||rr;St.setAttribute("x",gr.x||rr.x),St.setAttribute("y",gr.y||rr.y),St.setAttribute("width",gr.width||rr.width),St.setAttribute("height",gr.height||rr.height),this.filterManager=e;var cr=createNS("feGaussianBlur");cr.setAttribute("in","SourceAlpha"),cr.setAttribute("result",_i+"_drop_shadow_1"),cr.setAttribute("stdDeviation","0"),this.feGaussianBlur=cr,St.appendChild(cr);var tr=createNS("feOffset");tr.setAttribute("dx","25"),tr.setAttribute("dy","0"),tr.setAttribute("in",_i+"_drop_shadow_1"),tr.setAttribute("result",_i+"_drop_shadow_2"),this.feOffset=tr,St.appendChild(tr);var hr=createNS("feFlood");hr.setAttribute("flood-color","#00ff00"),hr.setAttribute("flood-opacity","1"),hr.setAttribute("result",_i+"_drop_shadow_3"),this.feFlood=hr,St.appendChild(hr);var ur=createNS("feComposite");ur.setAttribute("in",_i+"_drop_shadow_3"),ur.setAttribute("in2",_i+"_drop_shadow_2"),ur.setAttribute("operator","in"),ur.setAttribute("result",_i+"_drop_shadow_4"),St.appendChild(ur);var or=this.createMergeNode(_i,[_i+"_drop_shadow_4",ir]);St.appendChild(or)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(St){if(St||this.filterManager._mdf){if((St||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),St||this.filterManager.effectElements[0].p._mdf){var e=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(e[0]*255),Math.round(e[1]*255),Math.round(e[2]*255)))}if((St||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),St||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var _e=this.filterManager.effectElements[3].p.v,_i=(this.filterManager.effectElements[2].p.v-90)*degToRads,ir=_e*Math.cos(_i),rr=_e*Math.sin(_i);this.feOffset.setAttribute("dx",ir),this.feOffset.setAttribute("dy",rr)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(St,e,_e){this.initialized=!1,this.filterManager=e,this.filterElem=St,this.elem=_e,_e.matteElement=createNS("g"),_e.matteElement.appendChild(_e.layerElement),_e.matteElement.appendChild(_e.transformedElement),_e.baseElement=_e.matteElement}SVGMatte3Effect.prototype.findSymbol=function(St){for(var e=0,_e=_svgMatteSymbols.length;e<_e;){if(_svgMatteSymbols[e]===St)return _svgMatteSymbols[e];e+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(St,e){var _e=St.layerElement.parentNode;if(!!_e){for(var _i=_e.children,ir=0,rr=_i.length;ir<rr&&_i[ir]!==St.layerElement;)ir+=1;var gr;ir<=rr-2&&(gr=_i[ir+1]);var cr=createNS("use");cr.setAttribute("href","#"+e),gr?_e.insertBefore(cr,gr):_e.appendChild(cr)}},SVGMatte3Effect.prototype.setElementAsMask=function(St,e){if(!this.findSymbol(e)){var _e=createElementID(),_i=createNS("mask");_i.setAttribute("id",e.layerId),_i.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(e);var ir=St.globalData.defs;ir.appendChild(_i);var rr=createNS("symbol");rr.setAttribute("id",_e),this.replaceInParent(e,_e),rr.appendChild(e.layerElement),ir.appendChild(rr);var gr=createNS("use");gr.setAttribute("href","#"+_e),_i.appendChild(gr),e.data.hd=!1,e.show()}St.setMatte(e.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var St=this.filterManager.effectElements[0].p.v,e=this.elem.comp.elements,_e=0,_i=e.length;_e<_i;)e[_e]&&e[_e].data.ind===St&&this.setElementAsMask(this.elem,e[_e]),_e+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(St,e,_e,_i){St.setAttribute("x","-100%"),St.setAttribute("y","-100%"),St.setAttribute("width","300%"),St.setAttribute("height","300%"),this.filterManager=e;var ir=createNS("feGaussianBlur");ir.setAttribute("result",_i),St.appendChild(ir),this.feGaussianBlur=ir}return SVGGaussianBlurEffect.prototype.renderFrame=function(St){if(St||this.filterManager._mdf){var e=.3,_e=this.filterManager.effectElements[0].p.v*e,_i=this.filterManager.effectElements[1].p.v,ir=_i==3?0:_e,rr=_i==2?0:_e;this.feGaussianBlur.setAttribute("stdDeviation",ir+" "+rr);var gr=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",gr)}},registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),setExpressionsPlugin(Expressions),initialize$1(),initialize(),registerEffect(20,SVGTintFilter,!0),registerEffect(21,SVGFillFilter,!0),registerEffect(22,SVGStrokeEffect,!1),registerEffect(23,SVGTritoneFilter,!0),registerEffect(24,SVGProLevelsFilter,!0),registerEffect(25,SVGDropShadowEffect,!0),registerEffect(28,SVGMatte3Effect,!1),registerEffect(29,SVGGaussianBlurEffect,!0),lottie})})(lottie$1,lottie$1.exports);const lottie=lottie$1.exports,Loading=()=>(react.exports.useEffect(()=>{const St=lottie.loadAnimation({container:document.querySelector(".ani"),animationData:ani,renderer:"svg",loop:3,autoplay:!0});return()=>St.destroy()},[]),jsxs("div",{className:"loading-wrapper",children:[jsx("div",{className:"ani"}),jsx("span",{className:"text-white",children:"\u6587\u4EF6\u4E0A\u50B3\u4E2D\u8ACB\u7A0D\u5F8C..."})]})),doc=new E;pdf.exports.GlobalWorkerOptions.workerSrc=pdfWorker;function App$1(){const[St,e]=react.exports.useState(!1),[_e,_i]=react.exports.useState(!1),[ir,rr]=react.exports.useState("1"),[gr,cr]=react.exports.useState("0"),[tr,hr]=react.exports.useState(null),[ur,or]=react.exports.useState(null),[nr,er]=react.exports.useState("\u4E0A\u50B3\u7C3D\u7F72\u6A94\u6848\u540D\u7A31.pdf"),[ar,dr]=react.exports.useState(!1),[lr,sr]=react.exports.useState(null),[pr,mr]=react.exports.useState(null),[vr,yr]=react.exports.useState(null),[br,_r]=react.exports.useState(null),[xr,Nr]=react.exports.useState(!0);react.exports.useEffect(()=>{e(!1)},[ir]);const zr=()=>{cr("2"),Lr()},Tr=()=>{_i(!1),cr("1"),or(null),dr(!1)},Br=()=>{gr==="2"?AlertTwoButton("\u8FD4\u56DE\u4E0A\u4E00\u6B65","\u78BA\u5B9A\u8981\u8FD4\u56DE\u4E0A\u4E00\u6B65\u9A5F?","\u8ACB\u6CE8\u610F\u82E5\u78BA\u8A8D\u8FD4\u56DE\u4E0A\u4E00\u6B65\u9A5F\uFF0C\u6B63\u5728\u7C3D\u7F72\u4E2D\u7684\u6587\u4EF6\u5C07\u4E0D\u6703\u88AB\u4FDD\u7559\u3002",Tr):gr==="3"&&AlertTwoButton("\u8FD4\u56DE\u4E0A\u4E00\u6B65","\u78BA\u5B9A\u8981\u8FD4\u56DE\u4E0A\u4E00\u6B65\u9A5F?","\u8ACB\u6CE8\u610F\u82E5\u78BA\u8A8D\u8FD4\u56DE\u4E0A\u4E00\u6B65\u9A5F\uFF0C\u5DF2\u5B8C\u6210\u7C3D\u7F72\u7684\u7C3D\u540D\u53CA\u6587\u5B57\u5C07\u88AB\u6E05\u9664\uFF0C\u9084\u539F\u81F3\u539F\u6A94\u3002",zr)},Jr=()=>{Swal.fire({imageUrl:alertImg01,imageWidth:312,imageHeight:185,imageAlt:"A sign success image",title:"\u606D\u559C\u60A8\u5B8C\u6210\u7C3D\u5C6C!",buttonsStyling:!1,allowOutsideClick:!1,showCancelButton:!0,allowEscapeKey:!1,text:"\u8ACB\u76E1\u5FEB\u4E0B\u8F09\u5DF2\u5B8C\u6210\u7C3D\u7F72\u7684\u6A94\u6848\u3002\u82E5\u958B\u59CB\u65B0\u6A94\u6848\u7C3D\u7F72\uFF0C\u6B64\u6A94\u6848\u5C07\u4E0D\u88AB\u4FDD\u7559\u3002",confirmButtonText:"\u700F\u89BD\u7C3D\u7F72\u5167\u5BB9",cancelButtonText:"\u7ACB\u5373\u4E0B\u8F09PDF\u6A94",customClass:{confirmButton:"confirm-custom-col",cancelButton:"cancel-custom-col"}}).then(Gr=>{Gr.isDismissed&&Hr()})},Yr=()=>{Swal.fire({imageUrl:alertImg02,imageWidth:312,imageHeight:185,imageAlt:"A download success image",title:"\u4E0B\u8F09\u6A94\u6848\u6210\u529F!",text:"\u5DF2\u4E0B\u8F09\u5B8C\u6210\u60A8\u7684\u7C3D\u7F72\u6A94\u6848\u3002\u8ACB\u9EDE\u9078\u65B0\u6A94\u6848\uFF0C\u958B\u59CB\u7C3D\u7F72\u4E0B\u4E00\u4EFD\u6587\u4EF6\u3002",allowOutsideClick:!1,showCancelButton:!0,buttonsStyling:!1,allowEscapeKey:!1,confirmButtonText:"\u660E\u767D\u4E86!",cancelButtonText:"\u7ACB\u5373\u7C3D\u7F72\u65B0\u6587\u4EF6",customClass:{confirmButton:"confirm-custom-col",cancelButton:"cancel-custom-col"}}).then(Gr=>{Gr.isDismissed?AlertTwoButton("\u7C3D\u5C6C\u65B0\u6A94\u6848","\u7C3D\u7F72\u65B0\u7684\u6A94\u6848?","\u8ACB\u78BA\u8A8D\u6B64\u7C3D\u7F72\u6A94\u6848\u662F\u5426\u5DF2\u4E0B\u8F09\u6216\u5132\u5B58\uFF0C\u82E5\u958B\u59CB\u7C3D\u5C6C\u65B0\u6587\u4EF6\uFF0C\u6B64\u6A94\u6848\u5C07\u4E0D\u88AB\u4FDD\u7559\u3002",Tr):cr("3")})},Xr=()=>{AlertTwoButton("\u5B8C\u6210\u7C3D\u5C6C","\u5B8C\u6210\u7C3D\u5C6C\u6587\u4EF6?","\u8ACB\u78BA\u8A8D\u662F\u5426\u5B8C\u6210\u6587\u4EF6\u7C3D\u5C6C\uFF0C\u82E5\u9032\u5165\u5B8C\u6210\u7C3D\u5C6C\u5C07\u7121\u6CD5\u8FD4\u56DE\u7DE8\u8F2F\u6587\u4EF6\u3002",Jr)},Vr=Gr=>{const Cr=Gr.target.files[0];er(Cr.name),or(Cr),_i(!0),setTimeout(()=>{Nr(!1)},3e3)},$r=Gr=>{const Cr=localStorage.getItem(Gr);lr&&fabric.Image.fromURL(Cr,function(kr){kr.top=400,kr.scaleX=.5,kr.scaleY=.5,lr.add(kr).renderAll()}),dr(!0)},Lr=()=>{for(;lr._objects[0];)lr.remove(lr._objects[0]);dr(!1)},Er=()=>{AlertTwoButton("\u78BA\u5B9A\u6E05\u7A7A","\u91CD\u65B0\u7C3D\u7F72\u6587\u4EF6?","\u8ACB\u78BA\u8A8D\u662F\u5426\u8981\u6E05\u7A7A\u6240\u6709\u5DF2\u7DE8\u8F2F\u8CC7\u6599\u3002",Lr)},Hr=()=>{const Gr=lr.toDataURL("image/png"),Cr=doc.internal.pageSize.width,kr=doc.internal.pageSize.height;doc.addImage(Gr,"png",0,0,Cr,kr),doc.save("download.pdf"),Yr()};return jsx("div",{className:"App",children:jsxs("div",{className:"h-screen bg-gray",children:[gr==="0"&&jsx(Login,{setStep:cr,setFocus:rr}),gr!=="0"&&jsxs("div",{className:"relative flex",children:[jsx("div",{className:cx("absolute z-10 flex h-screen",!St&&"hidden"),children:jsx(SideBar,{focus:ir,setFocus:rr,setShowHamburger:e})}),jsxs("div",{className:"flex h-screen w-full flex-col",children:[jsxs("div",{children:[jsx(Header,{isUpload:_e,setStep:cr,step:gr,setShowHamburger:e,showHamburger:St,onPrevStep:Br,onFinish:Xr,backToStep1:Tr,fileName:nr}),jsx(Stepper,{step:gr})]}),!_e&&ir==="1"&&jsx(EmptyFile,{onUploadFile:Vr}),_e&&xr&&jsx(Loading,{}),gr==="1"&&!xr&&jsx(Step1,{fileName:nr,uploadPdf:ur,isUpload:_e,focus:ir,step:gr,setIsUpload:_i,setFa:sr}),_e&&!xr&&jsx(ShowUploadPdf,{step:gr,fileName:nr,uploadPdf:ur,isUpload:_e,onPasteSign:$r,setFa:sr,fa:lr,focus:ir}),gr==="2"&&jsx("div",{className:"absolute bottom-0 z-50 w-full",children:jsx(Footer,{fa:lr,mode:tr,setMode:hr,signed:ar,clear:Er,focus:ir})}),tr==="sign"?jsx(SignModal,{onPasteSign:$r,setMode:hr,show:tr==="sign"}):null,jsx(TextModal,{fa:lr,setMode:hr,show:tr==="text"}),jsx(PersonalModal,{fa:lr,setMode:hr,show:tr==="personal",userMail:pr,userTel:vr,userAdr:br,setSigned:dr,onPasteSign:$r}),gr==="3"&&jsx(DownloadBtn,{onDownloadFile:Hr}),jsx(SettingSignModal,{setMode:hr,setSigned:dr,onPasteSign:$r,setUserMail:mr,setUserAdr:_r,setUserTel:yr,focus:ir})]})]})]})})}const App="";client.createRoot(document.getElementById("root")).render(jsx(React.StrictMode,{children:jsx(App$1,{})}));export{commonjsGlobal as c};
